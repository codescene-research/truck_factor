--f7e77d2c	2015-08-13T22:54:48+02:00	Mauricio Muñoz Lucero	real.mml@gmail.com	Updated Spanish translation

f7e77d2c
1	0	NEWS
45	44	translations/tiled_es.ts

--0d4af88a	2015-08-13T21:45:07+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated Qt dependency mentioned in README

Tiled requires at least Qt 5.1 now.

0d4af88a
3	3	README.md

--215c6968	2015-08-13T21:54:04+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added Bulgarian translation

Translation by Lyubomir Vasilev (lyubomirv@Transifex).

215c6968
1	0	AUTHORS
3	0	NEWS
4289	0	translations/tiled_bg.ts
18	1	translations/translations.pro

--2eb46f31	2015-08-10T13:02:05+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	AppVeyor: Updated to Qt 5.5 and MinGW 4.9.2

2eb46f31
2	2	appveyor.yml
6	6	dist/win/tiled.nsi

--2a92e8f7	2015-08-10T12:20:00+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated NEWS file

2a92e8f7
9	1	NEWS

--c2dbba6f	2015-08-10T12:17:11+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Pulled Italian translation from Transifex

Updates by Marco Fras.

c2dbba6f
40	40	translations/tiled_it.ts

--a927db89	2015-08-10T11:47:40+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Avoid scaling with Inf or NaN factors

I decided to fix this in a slightly different way to avoid placing an
arbitrary limit on the minimum size of objects that can be scaled.

Closes #981
Closes #1016

a927db89
10	6	src/tiled/objectselectiontool.cpp

--15c6b6fc	2015-08-10T11:34:05+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #1018 from Carisius/master

Avoid Inf values in scaling factors
15c6b6fc
--a2371f5c	2015-08-10T10:38:06+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed stamp brush issue when dealing with partially filled stamps

Recent changes in how the stamp brush operates exposed an old issue in
TileLayer::merge, which did the wrong thing when a layer was merged at a
negative offset.

a2371f5c
2	2	src/libtiled/tilelayer.cpp
2	2	src/tiled/randompicker.h
3	3	src/tiled/stampbrush.cpp

--a26fa416	2015-08-08T22:26:20+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Qbs: Disable the Python plugin in unsupported configurations

On Windows, the Python plugin does not build in debug mode, nor does it
build with Visual Studio. And of course it won't work if Python is not
installed at all. Now the plugin is automatically disabled in these cases.

In addition the plugin unfortunately does not compile when Python 2.7.10
is installed rather than 2.7.9. I'm not sure about a good way to check
for this, so for now a comment about this will have to suffice.

a26fa416
19	1	src/plugins/python/python.qbs

--e09873f4	2015-08-02T12:26:30+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Preserve default file type when doing Save As

There was a bug where the writer plugin file name was used as filter,
which doesn't work. Now, a best effort is made to turn the plugin file
name into a fitting name filter.

The solution will not always work when a single plugin exposes multiple
name filters. This is an issue that will be addressed soon by a larger
patch.

Closes #1049

e09873f4
9	2	src/tiled/mainwindow.cpp

--9f6d77b1	2015-07-28T21:40:25+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #1046 from encukou/cs

Update Czech translations
9f6d77b1
--3a05dc07	2015-07-28T21:28:02+02:00	Petr Viktorin	encukou@gmail.com	Update Czech translations

3a05dc07
44	43	translations/tiled_cs.ts

--7a83cde1	2015-07-28T12:49:39+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated list of contributors in AUTHORS file

7a83cde1
13	5	AUTHORS

--8677da18	2015-07-28T12:12:48+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	docs: Documented objectgroup.draworder and tile animations

Closes #985
Closes #1033

8677da18
19	1	docs/reference/tmx-changelog.md
17	5	docs/reference/tmx-map-format.md

--93716812	2015-07-23T22:22:34+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Mark the starting point for polygons as well

Same way as for polylines.

Closes #601

93716812
9	1	src/libtiled/isometricrenderer.cpp
6	6	src/libtiled/mapwriter.cpp
9	1	src/libtiled/orthogonalrenderer.cpp
2	2	src/tiled/mainwindow.cpp

--c1f19166	2015-07-23T09:41:41+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #1034 from Ablu/de

Updated German translation
c1f19166
--ff59f9f3	2015-07-19T15:57:14+02:00	Erik Schilling	ablu.erikschilling@gmail.com	Updated German translation

Done together with @wayfu.

ff59f9f3
44	43	translations/tiled_de.ts

--10b4cf56	2015-07-20T23:31:45+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	OS X: Use macdeployqt from Qt 5.5

10b4cf56
1	1	dist/make-dist-mac.rb

--2365880a	2015-07-20T17:13:47+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made Backspace the primary deletion shortcut on OS X

Closes #1023

2365880a
9	8	src/tiled/mainwindow.cpp

--3d45e333	2015-07-20T16:09:46+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Marked the starting point for polylines

Closes #601

3d45e333
21	7	src/libtiled/isometricrenderer.cpp
14	1	src/libtiled/orthogonalrenderer.cpp

--2b0313bc	2015-07-20T15:47:43+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Select new objects after they have been created

2b0313bc
2	0	src/tiled/createobjecttool.cpp
2	1	src/tiled/createpolygonobjecttool.cpp
2	2	src/tiled/createpolygonobjecttool.h
2	1	src/tiled/createpolylineobjecttool.cpp
2	2	src/tiled/createpolylineobjecttool.h

--cb4f8fe1	2015-07-20T15:36:14+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed crash when using the Add New Terrain button

"tile" is allowed to be null for this method.

Closes #1036

cb4f8fe1
2	3	src/tiled/editterraindialog.cpp

--1b82beda	2015-07-20T15:19:50+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Improved object selection outlines and movement cursor

* Object selection outlines are now rendered on top of all objects.
  Previously they were rendered along with the object as part of the
  same item, which caused them to get rendered below overlapping
  objects.

* The movement cursor was previously controlled by the map object item.
  This caused the movement cursor to not work for unselected items and
  to display wrongly on selected objects when other tools were selected.

1b82beda
11	1	src/tiled/abstracttool.cpp
69	10	src/tiled/abstracttool.h
39	11	src/tiled/documentmanager.cpp
3	1	src/tiled/documentmanager.h
15	4	src/tiled/editpolygontool.cpp
7	48	src/tiled/mapobjectitem.cpp
4	15	src/tiled/mapobjectitem.h
14	14	src/tiled/mapscene.cpp
2	0	src/tiled/mapscene.h
218	0	src/tiled/objectselectionitem.cpp
20	27	src/tiled/{tileselectionitem.h => objectselectionitem.h}
68	13	src/tiled/objectselectiontool.cpp
4	1	src/tiled/objectselectiontool.h
2	0	src/tiled/tiled.pro
2	0	src/tiled/tiled.qbs
2	8	src/tiled/tileselectionitem.h

--e4170a51	2015-07-20T09:43:24+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Renamed same-tile selection tool icon to its original name

Makes its origin more obvious.

e4170a51
-	-	src/tiled/images/22x22/{stock-tool-select-same-tiles.png => stock-tool-by-color-select.png}
1	1	src/tiled/selectsametiletool.cpp
1	1	src/tiled/tiled.qrc
1	1	src/tiled/tilestamp.cpp

--29333585	2015-07-20T09:26:12+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Work around wrong icon text on undo action

For some reason the "iconText" property of the QAction is being changed
since Qt 5.5. This causes the icons on the tool bar to shift around to
make room for the changing text next to the "undo" action...

29333585
3	0	src/tiled/mainwindow.cpp

--133f368e	2015-07-19T21:04:18+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #1035 from semtiko/patch-1

Updated Russian translation
133f368e
--46141373	2015-07-19T17:45:57+03:00	Alex Vega (semtiko)	semtiko@gmail.com	Updated russian translation
46141373
44	43	translations/tiled_ru.ts

--77027a73	2015-07-19T11:21:30+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated translation files

    Found 747 source text(s) (43 new and 704 already existing)
    Removed 9 obsolete entries
    Same-text heuristic provided 4 translation(s)

77027a73
495	290	translations/tiled_ar_DZ.ts
405	200	translations/tiled_cs.ts
403	198	translations/tiled_de.ts
398	193	translations/tiled_en.ts
404	199	translations/tiled_es.ts
405	200	translations/tiled_fr.ts
402	197	translations/tiled_he.ts
512	254	translations/tiled_it.ts
405	200	translations/tiled_ja.ts
400	195	translations/tiled_lv.ts
406	201	translations/tiled_nl.ts
407	202	translations/tiled_pt.ts
403	198	translations/tiled_pt_BR.ts
404	199	translations/tiled_ru.ts
400	195	translations/tiled_zh.ts
401	196	translations/tiled_zh_TW.ts

--43df0b4b	2015-07-19T11:20:12+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added Q_DECLARE_TR_FUNCTIONS to CommandLineHandler

This is necessary because otherwise the translations of the strings
used in CommandLineHandler are searched for in the wrong context.

43df0b4b
1	1	src/tiled/commandlineparser.h
2	0	src/tiled/main.cpp

--410c36b4	2015-07-18T23:28:16+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added Documentation entry in the Help menu

Taking the user to http://doc.mapeditor.org/, where more documentation
will be available eventually.

410c36b4
8	0	src/tiled/mainwindow.cpp
1	0	src/tiled/mainwindow.h
17	1	src/tiled/mainwindow.ui

--ee8c2d14	2015-07-18T23:18:55+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Bumped version to 0.13.0 and updated NEWS file

ee8c2d14
18	0	NEWS
3	3	src/tiled/Info.plist
1	1	src/tiled/main.cpp

--8b348c57	2015-07-18T22:56:33+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Revert "Fix build errors due to "override" tokens."

This reverts commit 1c62cc9f438de1d6154943f0873e462fb9f83b8d.

C++11 is enabled now.

8b348c57
4	4	src/plugins/csv/csvplugin.h

--c531621b	2015-07-18T22:47:17+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	docs: Added the configuration file for building the Documentation

This file is used by MkDocs to turn the "docs" folder into the site
served at http://doc.mapeditor.org/ (by default it will be placed in a
subdirectory called "site").

c531621b
14	0	mkdocs.yml

--28d5f686	2015-07-16T23:17:24+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed the display of the map size in Properties

Broke in 497682e26584fd3a4555fb7b41dc043e55df1f0c

28d5f686
2	2	src/tiled/propertybrowser.cpp

--eb70f092	2015-07-16T22:58:44+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #1025 from zOadT/master

Improved Windows icon
eb70f092
--aadd218b	2015-07-16T12:54:57+02:00	Oliver Zell	zOadT@users.noreply.github.com	Improved Windows icon

Added 16x16, 24x24, 32x32 and 48x48 resolution to Windows icon for
better scaling quality

aadd218b
-	-	src/tiled/images/tiled-icon.ico

--497682e2	2015-07-15T23:00:59+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Ungroup position and size properties

The main reason for this change is that changing the position or size
would set the respective property for all selected objects. Now, only
the individual x, y, width or height properties get changed.

It also simplifies the Properties view and makes it take up less space.

Any color properties are now also collapsed by default, since I
generally expect people to use the color picker anyway.

Closes #892

497682e2
67	36	src/tiled/propertybrowser.cpp
8	6	src/tiled/propertybrowser.h

--26a46759	2015-07-13T17:23:02+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Add encoding and compression to Lua and JSON formats

This brings the same advantages of using compression in the TMX format
(smaller file size, faster saving/loading) to the Lua and JSON formats.

One caveat is that now by default, the Lua and JSON formats will be
using base64 + zlib compression rather than their native arrays. To
alleviate this I might consider changing the default layer format to
CSV.

Closes #343

26a46759
99	0	src/libtiled/gidmapper.cpp
52	33	src/libtiled/gidmapper.h
37	54	src/libtiled/mapreader.cpp
25	2	src/libtiled/maptovariantconverter.cpp
2	1	src/libtiled/maptovariantconverter.h
104	119	src/libtiled/mapwriter.cpp
62	6	src/libtiled/varianttomapconverter.cpp
25	3	src/plugins/lua/luaplugin.cpp
3	1	src/plugins/lua/luaplugin.h

--5977e9c0	2015-07-13T15:04:14+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Use tile probability in random mode

Previously it was only used by the terrain brush.

A convenient RandomPicker class was introduced to share the code of
picking random cells, tiles and stamp variations between the stamp
brush, terrain brush, bucket fill tool and tile stamp.

Closes #190

5977e9c0
1	1	src/libtiled/mapreader.cpp
2	2	src/libtiled/maptovariantconverter.cpp
1	1	src/libtiled/mapwriter.cpp
2	2	src/libtiled/tile.cpp
9	9	src/libtiled/tile.h
2	2	src/libtiled/varianttomapconverter.cpp
3	3	src/plugins/lua/luaplugin.cpp
11	8	src/tiled/bucketfilltool.cpp
2	7	src/tiled/bucketfilltool.h
2	2	src/tiled/changetileprobability.cpp
1	1	src/tiled/commanddatamodel.cpp
2	3	src/tiled/propertybrowser.cpp
78	0	src/tiled/randompicker.h
11	8	src/tiled/stampbrush.cpp
2	1	src/tiled/stampbrush.h
10	29	src/tiled/terrainbrush.cpp
1	1	src/tiled/terrainbrush.h
1	0	src/tiled/tiled.pro
1	0	src/tiled/tiled.qbs
5	16	src/tiled/tilestamp.cpp

--63de2e57	2015-07-13T13:33:06+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Tweaked default tile stamp dock position and size

63de2e57
2	1	src/tiled/mainwindow.cpp
1	1	src/tiled/tilestampsdock.cpp

--5fe9cfce	2015-07-13T13:27:14+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed compile against Qt < 5.4

Affects mainly Ubuntu 14.04 (Qt 5.2) and 14.10 (Qt 5.3).

5fe9cfce
4	0	src/tiled/preferences.cpp
1	1	src/tiled/tilestamp.cpp

--85a400d3	2015-07-13T12:24:53+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Improved stamp rename handling

* Ensure the renamed stamp is visible in the view (its position might
  have changed due to the sorting).

* When searching for an available file name, consider the currently
  used file name for the stamp an option as well (even though that file
  exists). This avoids needlessly adding a number to the file name when
  a rename is done that does not affect the saved file name (like when
  adding characters that get filtered out of the file name).

85a400d3
10	12	src/tiled/tilestampmanager.cpp
1	1	src/tiled/tilestampmanager.h
1	0	src/tiled/tilestampmodel.cpp
1	0	src/tiled/tilestampmodel.h
10	0	src/tiled/tilestampsdock.cpp
2	0	src/tiled/tilestampsdock.h

--5eab6be5	2015-07-13T12:20:29+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed crash when selecting a tile stamp without a map open

5eab6be5
3	0	src/tiled/stampbrush.cpp

--0a862ce9	2015-07-13T11:59:57+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added a name filter for finding tile stamps when there are many

Issue #969

0a862ce9
12	0	src/tiled/tilestampsdock.cpp
1	0	src/tiled/tilestampsdock.h

--79ac402c	2015-07-13T11:47:12+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Trigger editing of tile stamp name when stamp is created

Saves some clicking and is consistent with behavior when adding new
layers.

Issue #969

79ac402c
4	3	src/tiled/tilestampmanager.cpp
1	1	src/tiled/tilestampmanager.h
8	0	src/tiled/tilestampmodel.h
15	1	src/tiled/tilestampsdock.cpp
1	0	src/tiled/tilestampsdock.h

--60a75aa8	2015-07-13T13:31:23+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Display tile stamps sorted by name

They are kept sorted when they are renamed.

Issue #969

60a75aa8
0	1	src/tiled/terraindock.cpp
2	0	src/tiled/tilestampmodel.cpp
26	11	src/tiled/tilestampsdock.cpp
3	0	src/tiled/tilestampsdock.h

--6e19c1d2	2015-07-13T11:32:03+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed two small problems when deleting variations

* Avoid repainting issue in QTreeView
* Make sure saving is triggered

Issue #969

6e19c1d2
8	3	src/tiled/tilestampmodel.cpp

--2e77edb9	2015-07-13T10:58:42+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added button for duplicating stamps

This can be useful to trying out different probabilities or
adding/removing variations without losing the previous stamp definition.

Issue #969

2e77edb9
11	0	src/tiled/tilestamp.cpp
2	0	src/tiled/tilestamp.h
19	0	src/tiled/tilestampsdock.cpp
2	0	src/tiled/tilestampsdock.h

--c61055bf	2015-07-13T10:39:19+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Display the sum of stamp variation probabilities

Can be useful when you wonder what the effective probability of a stamp
really is.

Issue #969

c61055bf
24	7	src/tiled/tilestampmodel.cpp

--10771548	2015-07-13T10:18:18+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed parent window on X11 when using OpenGL acceleration

Apparently, when a native widget is used (which happens when OpenGL
acceleration is enabled) we need to explicitly call window() to get the
proper parent for child windows.

10771548
4	1	src/tiled/fileedit.cpp
2	1	src/tiled/mapsdock.cpp
0	1	src/tiled/objectsdock.cpp
0	1	src/tiled/terrainview.cpp
1	1	src/tiled/tilesetdock.cpp
0	1	src/tiled/tilesetview.cpp
1	1	src/tiled/tilestampsdock.cpp

--b8fabc3d	2015-07-13T10:16:09+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made tile stamps persistent

The default persistent stamps location is some location appropriate for
persistent application data, depending on the operating system. The user
can set an alternative location, for example a directory inside his
project.

Issue #969

b8fabc3d
21	0	src/tiled/preferences.cpp
5	0	src/tiled/preferences.h
72	7	src/tiled/tilestamp.cpp
11	1	src/tiled/tilestamp.h
182	7	src/tiled/tilestampmanager.cpp
16	1	src/tiled/tilestampmanager.h
17	1	src/tiled/tilestampmodel.cpp
11	1	src/tiled/tilestampmodel.h
28	6	src/tiled/tilestampsdock.cpp
2	0	src/tiled/tilestampsdock.h

--5a192ad3	2015-07-09T18:16:57+02:00	Carisius	carisius@github	Avoid Inf values in scaling factors

5a192ad3
6	2	src/tiled/objectselectiontool.cpp

--de440994	2015-07-08T22:32:42+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Qbs: Use minimal symbol visibility

This helps avoid forgetting to include the export macro that is required
on Windows to make sure a DLL exports symbols. This was already enabled
in the QMake projects.

de440994
1	0	qbs/imports/TiledPlugin.qbs
1	1	src/libtiled/libtiled.qbs

--692b5826	2015-07-07T22:23:55+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed linker error on Windows

Forgot to add the TILEDSHARED_EXPORT macro for the classes moved into
libtiled.

692b5826
1	1	src/libtiled/maptovariantconverter.h
1	1	src/libtiled/varianttomapconverter.h

--a7d8f6ec	2015-07-06T22:20:18+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Moved Tiled::Map <-> QVariant converter into libtiled

I'd like to use these classes also when saving stamps, so I moved them
from the JSON plugin to libtiled.

a7d8f6ec
7	3	src/libtiled/libtiled.pro
4	0	src/libtiled/libtiled.qbs
78	79	src/{plugins/json => libtiled}/maptovariantconverter.cpp
12	12	src/{plugins/json => libtiled}/maptovariantconverter.h
88	89	src/{plugins/json => libtiled}/varianttomapconverter.cpp
12	15	src/{plugins/json => libtiled}/varianttomapconverter.h
2	6	src/plugins/json/json.pro
0	4	src/plugins/json/json.qbs
2	2	src/plugins/json/jsonplugin.cpp

--d6ad4d12	2015-07-06T15:29:20+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Renamed saveQuickStamp to createQuickStamp to avoid confusion

Saving of quickstamps still to be added.

d6ad4d12
7	7	src/tiled/mainwindow.cpp
4	4	src/tiled/tilestampmanager.cpp
2	2	src/tiled/tilestampmanager.h

--0b0f1e74	2015-07-06T15:28:01+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed some lines related to static builds, which are not supported

0b0f1e74
0	6	src/tiled/main.cpp

--faaa9e26	2015-07-06T15:22:47+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Use a lowercase application name, except on Windows and OS X

This is just for consistency on Linux, where applications usually store
their preferences in lowercase paths. Unfortunately, this will cause old
settings to be ignored on Linux.

Also, we now rely on the QPA to set the application display name in the
title bar.

faaa9e26
7	1	src/tiled/main.cpp
2	2	src/tiled/mainwindow.cpp
0	3	src/tiled/mainwindow.ui

--1d3b158e	2015-07-06T15:08:58+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Raised minimum Qt version to 5.1

Raising the version mainly in order to use functionality in recent Qt
versions more comfortably. Also, maintaining compatibility would be
mostly a waste of time since the provided binaries for all systems are
already based on Qt 5 and no serious issues are known.

This also changes some remaining plugins to use QSaveFile instead of
QFile, which avoids writing a truncated file in case of error or running
out of space.

1d3b158e
0	2	src/automappingconverter/automappingconverter.pro
0	5	src/automappingconverter/converterwindow.cpp
1	1	src/libtiled/compression.cpp
0	3	src/libtiled/libtiled.pro
2	15	src/libtiled/mapwriter.cpp
1	17	src/plugins/csv/csvplugin.cpp
0	2	src/plugins/csv/csvplugin.h
2	4	src/plugins/droidcraft/droidcraft.pro
7	6	src/plugins/droidcraft/droidcraftplugin.cpp
0	2	src/plugins/droidcraft/droidcraftplugin.h
1	5	src/plugins/flare/flare.pro
9	7	src/plugins/flare/flareplugin.cpp
0	2	src/plugins/flare/flareplugin.h
2	18	src/plugins/json/jsonplugin.cpp
0	2	src/plugins/json/jsonplugin.h
1	17	src/plugins/lua/luaplugin.cpp
0	2	src/plugins/lua/luaplugin.h
0	2	src/plugins/python/python.pro
0	12	src/plugins/python/pythonplugin.cpp
0	2	src/plugins/python/pythonplugin.h
7	15	src/plugins/replicaisland/replicaislandplugin.cpp
0	2	src/plugins/replicaisland/replicaislandplugin.h
7	8	src/plugins/tengine/tengineplugin.cpp
0	2	src/plugins/tengine/tengineplugin.h
7	6	src/plugins/tmw/tmwplugin.cpp
0	2	src/plugins/tmw/tmwplugin.h
0	7	src/tiled/commanddialog.cpp
0	4	src/tiled/editterraindialog.cpp
0	7	src/tiled/flipmapobjects.cpp
0	11	src/tiled/main.cpp
1	1	src/tiled/mainwindow.cpp
0	4	src/tiled/mapsdock.cpp
0	9	src/tiled/preferences.cpp
0	4	src/tiled/preferencesdialog.cpp
1	2	src/tiled/tiled.pro
0	5	src/tiled/tilesetview.cpp
0	5	src/tiled/tilestampsdock.cpp
0	9	src/tmxrasterizer/main.cpp
0	5	src/tmxviewer/main.cpp
0	2	src/tmxviewer/tmxviewer.pro
0	428	src/zlib/zconf.h
0	1613	src/zlib/zlib.h
25	7	tiled.pri
6	3	tiled.pro

--09ff123a	2015-07-06T11:53:32+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated copyright year in default license header

09ff123a
1	1	.LICENSE-HEADER

--503270de	2015-07-06T10:27:11+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.12'

503270de
--ec15b437	2015-07-06T10:23:01+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed Ctrl+T causing a crash when no maps are open

Ctrl+T reloads the tilesets used by the current map, but the check
whether there is a current map was wrong.

ec15b437
2	2	src/tiled/mainwindow.cpp

--a5c5c393	2015-07-04T20:31:03+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #1014 from jakepetroules/nsis-package-manager

AppVeyor: Install NSIS using the Chocolatey package manager
a5c5c393
--f3ea779b	2015-07-04T10:19:06-07:00	Jake Petroules	jake.petroules@petroules.com	AppVeyor: install NSIS using the Chocolatey package manager.

f3ea779b
1	2	appveyor.yml

--0328ec33	2015-07-02T22:42:54+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added shortcut for toggling Tile Collision Editor

A request by patron Zwick.

I decided to put it on Ctrl+Shift+O, which may not be the most
convenient shortcut but 'Ctrl+Shift+C' is reserved for a possibly later
addition "Copy All Layers" and 'C' is taken by the Insert Ellipse tool.

0328ec33
2	0	src/tiled/mainwindow.cpp

--534f5771	2015-07-02T09:41:06+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #1013 from Ablu/travis_gcc_4.8

Let travis build with g++ 4.8
534f5771
--116ddba7	2015-07-01T09:00:04+02:00	Erik Schilling	ablu.erikschilling@gmail.com	Let travis build with g++ 4.8

Thanks to @bjorn for the update-alternatives trick.

116ddba7
4	0	.travis.yml

--7bfe5a7d	2015-07-01T22:41:29+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed compile with Qt 4 and qmake

The support for "CONFIG += c++11" was only added in Qt 5, so set the
-std=c++0x compiler flag manually when using Qt 4.

7bfe5a7d
7	1	tiled.pri

--81a298f2	2015-06-30T23:58:27+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Last attempt at fixing compilation with MinGW 4.9.1

Should have used a branch again. :-/

81a298f2
5	0	src/plugins/python/pythonbind.cpp
2	0	src/plugins/python/pythonplugin.h
6	0	src/plugins/python/tiledbinding.py

--89b72d27	2015-06-30T23:33:22+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Another attempt at fixing compilation with MinGW 4.9.1

According to [1] this is due to pyconfig.h redefining hypot as _hypot,
which causes trouble in cmath when compiling in C++11 mode. Solution is
to include cmath first.

[1] http://stackoverflow.com/questions/28683358/error-hypot-has-not-been-declared-in-cmath-while-trying-to-embed-python

89b72d27
0	1	src/plugins/python/pythonplugin.cpp
2	0	src/plugins/python/pythonplugin.h

--c891145d	2015-06-30T23:22:16+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated password for deployment to files.mapeditor.org

c891145d
1	1	appveyor.yml

--fceb93a9	2015-06-30T23:15:31+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #996 from IMMZ/save_all_feature

Added 'File => Save All' functionality.
fceb93a9
--d5d7c34e	2015-06-23T22:51:33+03:00	Mamed Ibrahimov	ibramlab@gmail.com	Added 'File => Save All' functionality.

d5d7c34e
25	0	src/tiled/mainwindow.cpp
1	0	src/tiled/mainwindow.h
8	11	src/tiled/mainwindow.ui

--64af08d6	2015-06-30T22:37:59+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Attempt to work around MinGW 4.9.1 issues

* warning: 'unsigned int Tiled::Tile::terrain() const' redeclared
  without dllimport attribute after being referenced with dll linkage

* i686-w64-mingw32/include/c++/cmath:1094:11: error: '::hypot' has not
  been declared

64af08d6
1	1	src/libtiled/tile.h
0	1	src/plugins/python/pythonplugin.h

--d9113d83	2015-06-29T23:35:53+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed compile against Qt 4

d9113d83
1	1	src/libtiled/map.cpp
1	1	src/libtiled/mapreader.cpp
7	1	src/tiled/tilesetdock.cpp
1	1	src/tiled/tilestampmodel.cpp

--4ac21310	2015-06-29T22:55:54+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch 'wip/tilestamps'

4ac21310
--853f893d	2015-06-29T22:20:44+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Take into account tile stamp variation probability

853f893d
19	1	src/tiled/tilestamp.cpp

--276a4692	2015-06-29T21:56:09+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #1009 from IMMZ/tileset_feature

Added new read-only properties for tilesets.

Closes #997
276a4692
--6ddf6b91	2015-06-29T18:19:07+03:00	Mamed Ibrahimov	ibramlab@gmail.com	Added new read-only properties for tilesets.
6ddf6b91
21	0	src/tiled/propertybrowser.cpp
3	0	src/tiled/propertybrowser.h

--d63e7d95	2015-06-29T21:51:02+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #1011 from IMMZ/fixme_solve

Refactored disabling of dragging directories in the maps dock.
d63e7d95
--8acbd3ce	2015-06-29T18:15:23+03:00	Mamed Ibrahimov	ibramlab@gmail.com	Refactored disabling of dragging directories in the maps dock.

8acbd3ce
21	7	src/tiled/mapsdock.cpp

--5e7c1977	2015-06-29T16:17:50+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made sure missing tilesets get added to the map

This functionality got disabled somewhere when introducing the use of
TileStamp to the stamp and fill tools. Hopefully I dealt with all the
cases.

5e7c1977
8	4	src/tiled/addremovetileset.cpp
4	2	src/tiled/addremovetileset.h
18	3	src/tiled/bucketfilltool.cpp
1	0	src/tiled/bucketfilltool.h
8	2	src/tiled/filltiles.cpp
2	1	src/tiled/filltiles.h
38	0	src/tiled/mapdocument.cpp
1	11	src/tiled/mapdocument.h
4	0	src/tiled/painttilelayer.cpp
21	6	src/tiled/stampbrush.cpp
1	0	src/tiled/stampbrush.h

--76ff87ef	2015-06-29T15:20:38+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Python plugin: Fixed compile after introduction of SharedTileset

Hopefully it also still works... untested!

76ff87ef
1	3	src/plugins/python/python.qbs
205	104	src/plugins/python/pythonbind.cpp
17	14	src/plugins/python/tiledbinding.py

--03defeb7	2015-06-29T14:40:34+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added UI actions for adding and removing stamps and variations

03defeb7
9	19	src/tiled/mainwindow.cpp
2	4	src/tiled/mainwindow.h
2	2	src/tiled/tiled.pro
2	2	src/tiled/tiled.qbs
10	0	src/tiled/tilestamp.h
37	26	src/tiled/{quickstampmanager.cpp => tilestampmanager.cpp}
43	29	src/tiled/{quickstampmanager.h => tilestampmanager.h}
40	7	src/tiled/tilestampmodel.cpp
17	9	src/tiled/tilestampmodel.h
133	39	src/tiled/tilestampsdock.cpp
16	8	src/tiled/tilestampsdock.h
12	0	src/tiled/toolmanager.cpp
10	18	src/tiled/toolmanager.h

--14a68b6a	2015-06-29T10:16:43+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added an internal weak pointer to Tileset class

This is basically a manual implementation of QEnableSharedFromThis,
which is much more convenient than using weak pointers to refer back to
the tileset from the Tile and Terrain instances.

14a68b6a
0	1	src/libtiled/imagelayer.h
6	7	src/libtiled/mapreader.cpp
72	30	src/libtiled/terrain.h
23	6	src/libtiled/tile.cpp
115	67	src/libtiled/tile.h
101	105	src/libtiled/tileset.cpp
38	24	src/libtiled/tileset.h
2	2	src/plugins/droidcraft/droidcraftplugin.cpp
2	2	src/plugins/flare/flareplugin.cpp
5	6	src/plugins/json/varianttomapconverter.cpp
2	2	src/plugins/replicaisland/replicaislandplugin.cpp
1	1	src/tiled/editterraindialog.cpp
1	2	src/tiled/mapdocument.cpp
1	1	src/tiled/mapdocument.h
4	4	src/tiled/newtilesetdialog.cpp
1	1	src/tiled/terrainmodel.cpp
21	21	src/tiled/tilesetdock.cpp
2	2	src/tiled/tilesetdock.h
2	2	src/tiled/tilesetmanager.cpp

--abd99bec	2015-06-29T08:34:55+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #1007 from jakepetroules/qbs-build-nsis

AppVeyor: Build NSIS installer using Qbs
abd99bec
--b17a9e7b	2015-06-28T16:30:03-07:00	Jake Petroules	jake.petroules@petroules.com	Appveyor: build NSIS installer using Qbs.

b17a9e7b
4	7	appveyor.yml

--70b60870	2015-06-28T23:08:07+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #1006 from IMMZ/bugfix_1005

Fixed enabled state of 'move layer up' action
70b60870
--53369a20	2015-06-28T13:58:55+03:00	Mamed Ibrahimov	ibramlab@gmail.com	Fixed enabled state of 'move layer up' action.

After deleting the top-most layer, the 'move layer up' action was not 
set to disabled like it should.

Fixes #1005.
53369a20
2	0	src/tiled/mapdocumentactionhandler.cpp

--a9292b5f	2015-06-27T21:15:04+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed availability of 'Execute in Terminal' command on Linux with Qt 5

Due to using the old Q_WS_X11 define, these blocks of code were not
included when compiling with Qt 5. Now Q_OS_LINUX is used instead.

Also made it clear that two other uses of Q_WS_X11 are only for Qt 4.

a9292b5f
1	1	src/tiled/command.cpp
2	2	src/tiled/commanddatamodel.cpp
1	1	src/tiled/main.cpp
1	1	src/tmxviewer/main.cpp

--2aee3558	2015-06-26T22:14:16+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #1002 from IMMZ/new_tool

Added select same tile tool
2aee3558
--88e97132	2015-06-26T09:42:28+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #1003 from IMMZ/master

Fixed comment on magic wand tool.
88e97132
--0f4071c7	2015-06-26T00:54:42+03:00	Mamed Ibrahimov	ibramlab@gmail.com	Fixed comment on magic wand tool.

0f4071c7
1	2	src/tiled/magicwandtool.h

--53deb780	2015-06-25T22:05:35+03:00	Mamed Ibrahimov	ibramlab@gmail.com	Added select same tile tool.

53deb780
-	-	src/tiled/images/22x22/stock-tool-select-same-tiles.png
2	0	src/tiled/mainwindow.cpp
109	0	src/tiled/selectsametiletool.cpp
61	0	src/tiled/selectsametiletool.h
2	0	src/tiled/tiled.pro
2	0	src/tiled/tiled.qbs
1	0	src/tiled/tiled.qrc

--87e720c1	2015-06-25T22:50:00+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Deleted outdated TODO comment

There is no planned option to have the layer data format in a map file
not being respected.

Thanks to @IMMZ for bringing this up.

87e720c1
3	6	src/libtiled/mapreader.cpp

--51b06cc8	2015-06-24T23:09:41+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	AppVeyor: Avoid setting invalid version string as product.version

51b06cc8
2	3	dist/win/dist.qbs
1	1	tiled.qbs

--4b575bd9	2015-06-24T22:41:51+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	AppVeyor: Final try at updating the NSIS download link

4b575bd9
1	1	appveyor.yml

--be949893	2015-06-24T22:28:18+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #998 from jakepetroules/build-fixes

Added Qbs product for NSIS installer
be949893
--3dae79d1	2015-06-24T22:24:59+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	AppVeyor: Another attempt at updating the NSIS download link

3dae79d1
1	1	appveyor.yml

--5b8fccf1	2015-06-24T22:01:47+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	AppVeyor: Switch to 'default' image

This should have Qt installed now as well according to AppVeyor.

Also tried updating the NSIS download link since the sunet one broke.

5b8fccf1
1	2	appveyor.yml

--57f2f701	2015-06-23T22:39:41-07:00	Jake Petroules	jake.petroules@petroules.com	Use toolchain independent properties.

57f2f701
2	2	src/plugins/python/python.qbs

--d4a47883	2015-06-23T22:39:08-07:00	Jake Petroules	jake.petroules@petroules.com	Add support for building Tiled's NSIS installer directly from qbs.

d4a47883
36	0	dist/win/dist.qbs
18	0	dist/win/tiled.nsi
3	0	tiled.qbs

--a3e77a39	2015-06-22T23:37:38+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Use shared pointers for managing Tileset instance lifetime

This was a rather tricky change to do, and I tried to do it both with a
QSharedPointer as well as QExplicitlySharedDataPointer like I used for
the TileStamp class. I even tried to use a std::shared_ptr for some
time, because I thought it could avoid depending on
QEnableSharedFromThis from Qt 5.4. I hope the current approach is the
right one in the end.

The idea is to simplify tileset lifetime management. Previously this was
done through the TilesetManager and MapDocument classes, but that made
working with plain Tiled::Map instances (like the tile stamp variations)
cumbersome. When you deleted a Tiled::Map, you could never really be
sure wether its tilesets should be deleted or not.

The TilesetManager is still around, since it also implements watching
the tileset images for changes.

Now that tilesets can be properly shared between maps, this should
eventually simplify the work required to add missing tilesets to the map
when you paint on it with some tiles from elsewhere.

The Python plugin is unfortunately disabled until it has been somehow
adapted to use these shared pointers.

a3e77a39
2	5	src/automappingconverter/convertercontrol.cpp
3	3	src/libtiled/gidmapper.cpp
1	1	src/libtiled/gidmapper.h
6	8	src/libtiled/imagelayer.h
2	2	src/libtiled/isometricrenderer.cpp
2	2	src/libtiled/layer.h
14	7	src/libtiled/map.cpp
15	9	src/libtiled/map.h
26	39	src/libtiled/mapreader.cpp
4	4	src/libtiled/mapreader.h
1	1	src/libtiled/maprenderer.cpp
8	8	src/libtiled/mapwriter.cpp
2	2	src/libtiled/mapwriter.h
3	4	src/libtiled/objectgroup.cpp
1	1	src/libtiled/objectgroup.h
2	2	src/libtiled/orthogonalrenderer.cpp
13	4	src/libtiled/terrain.h
15	6	src/libtiled/tile.cpp
21	5	src/libtiled/tile.h
5	6	src/libtiled/tilelayer.cpp
1	2	src/libtiled/tilelayer.h
106	77	src/libtiled/tileset.cpp
36	37	src/libtiled/tileset.h
2	2	src/plugins/droidcraft/droidcraftplugin.cpp
12	16	src/plugins/flare/flareplugin.cpp
3	3	src/plugins/json/maptovariantconverter.cpp
14	19	src/plugins/json/varianttomapconverter.cpp
1	1	src/plugins/json/varianttomapconverter.h
3	3	src/plugins/lua/luaplugin.cpp
3	1	src/plugins/python/python.qbs
23	23	src/plugins/replicaisland/replicaislandplugin.cpp
5	7	src/plugins/replicaisland/replicaislandplugin.h
13	3	src/tiled/addremovetileset.cpp
9	12	src/tiled/addremovetileset.h
8	9	src/tiled/automapper.cpp
4	5	src/tiled/automapper.h
1	1	src/tiled/clipboardmanager.cpp
41	0	src/tiled/containerhelpers.h
3	1	src/tiled/editterraindialog.cpp
0	1	src/tiled/main.cpp
9	14	src/tiled/mainwindow.cpp
10	9	src/tiled/mapdocument.cpp
3	3	src/tiled/mapdocument.h
2	1	src/tiled/mapscene.cpp
6	8	src/tiled/newtilesetdialog.cpp
4	5	src/tiled/newtilesetdialog.h
1	1	src/tiled/quickstampmanager.cpp
1	1	src/tiled/stampbrush.cpp
8	8	src/tiled/terrainbrush.cpp
4	3	src/tiled/terrainmodel.cpp
1	1	src/tiled/tileanimationeditor.cpp
1	5	src/tiled/tilecollisioneditor.cpp
1	0	src/tiled/tiled.pro
1	0	src/tiled/tiled.qbs
29	25	src/tiled/tilesetdock.cpp
8	3	src/tiled/tilesetdock.h
21	24	src/tiled/tilesetmanager.cpp
15	16	src/tiled/tilesetmanager.h
4	5	src/tiled/tmxmapreader.cpp
2	1	src/tiled/tmxmapreader.h
1	1	src/tiled/tmxmapwriter.cpp
1	1	src/tiled/tmxmapwriter.h
0	1	src/tmxrasterizer/tmxrasterizer.cpp
0	3	src/tmxviewer/tmxviewer.cpp

--432f05fa	2015-06-23T20:24:43+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #995 from IMMZ/cosmetic

Some code cosmetic changes
432f05fa
--81a9bf49	2015-06-23T18:27:47+03:00	Mamed Ibrahimov	ibramlab@gmail.com	Some code cosmetic changes.
81a9bf49
1	1	dist/win/README.txt
2	2	src/tiled/automapper.cpp
6	6	src/tiled/automapper.h
1	1	src/tiled/automapperwrapper.cpp
3	3	src/tiled/automappingmanager.h
1	1	src/tiled/changeimagelayerposition.h
1	1	src/tiled/command.cpp
2	2	src/tiled/commanddatamodel.cpp
1	1	src/tiled/createobjecttool.cpp
2	2	src/tiled/geometry.cpp
1	1	src/tiled/mainwindow.cpp
5	5	src/tiled/mainwindow.h
1	1	src/tiled/stampbrush.h
1	1	src/tiled/utils.h

--fe23b948	2015-06-22T09:55:15+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated Qbs property infoPlistFile

cpp.infoPlistFile was moved to bundle.infoPlistFile in Qbs 1.4

fe23b948
1	1	src/tiled/tiled.qbs

--36718423	2015-06-22T09:41:10+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Increased language version to C++11

Needed only two small fixes:

* Avoid using deprecated std::auto_ptr
* Move up a metatype declaration to make sure it happens before a
  static_assert in Qt

36718423
2	0	qbs/imports/TiledPlugin.qbs
1	0	src/automappingconverter/automappingconverter.qbs
2	0	src/libtiled/libtiled.qbs
1	0	src/qtpropertybrowser/qtpropertybrowser.qbs
4	5	src/tiled/newtilesetdialog.cpp
1	0	src/tiled/tiled.qbs
12	4	src/tiled/variantpropertymanager.cpp
1	0	src/tmxrasterizer/tmxrasterizer.qbs
1	0	src/tmxviewer/tmxviewer.qbs
1	1	tiled.pri

--337af509	2015-06-22T08:28:50+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Toggle between circle/line without resetting the reference point

There seems to be no reason to drop any already set reference point when
toggling between drawing a line or a circle. Maintaining it could be
useful in some situations or avoid annoyance.

337af509
11	2	src/tiled/stampbrush.cpp

--78a33f96	2015-06-22T08:04:38+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #993 from IMMZ/bugfix_992

Property browser improved to be translated immediately

Fixes #992
78a33f96
--2d84b86d	2015-06-21T23:12:31+03:00	Mamed Ibrahimov	ibramlab@gmail.com	Property browser improved to be translated immediately.

2d84b86d
53	37	src/tiled/propertybrowser.cpp
12	0	src/tiled/propertybrowser.h

--426f50e1	2015-06-21T22:13:27+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Small stamp preview improvement and worked around repaint issues

While holding the mouse and painting, the stamp preview would not
represent any state that actually got drawn onto the map. This was due
to an optimization to avoid unnecessary work when the mouse is moving
fast.

Now the code may be a bit slower than before, but it's still faster than
previous Tiled versions (very much so when using live automapping) and
it makes sure the preview always shows the right thing.

As a side effect, the repainting issues triggered by the previous
implementation do not seem to happen anymore.

426f50e1
33	18	src/tiled/stampbrush.cpp
4	3	src/tiled/stampbrush.h

--38a7dbf1	2015-06-21T19:03:39+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed iCCP profile warning on startup

Thanks to @Ablu for helping to find the culprit.

38a7dbf1
-	-	src/tiled/images/24x24/terrain-edit.png

--93b79f81	2015-06-19T20:45:06+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #989 from IMMZ/todo_solve

Opening last files is now is optional.
93b79f81
--34ac3aeb	2015-06-19T20:36:27+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #991 from IMMZ/properties_feature

Select next property after deleting one.
34ac3aeb
--db0f372d	2015-06-19T20:30:20+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed removeProperty getting called multiple times on Delete

We should not call removeProperty when handling the ShortcutOverride
event. Accepting this event is just telling Qt that indeed we want to
override the shortcut, and the actual handling of the local shortcut
should happen on the KeyPress event.

This did not actually have any effect, because after the first call
there is no longer a selected property. However, that will change with
pull request #991.

db0f372d
1	0	src/tiled/propertiesdock.cpp

--1a3c2819	2015-06-18T19:15:15+03:00	Mamed Ibrahimov	ibramlab@gmail.com	Select next property after deleting one.

1a3c2819
9	2	src/tiled/propertiesdock.cpp

--ef0c080d	2015-06-17T23:42:36+03:00	Mamed Ibrahimov	ibramlab@gmail.com	Made opening last files to be optional.

ef0c080d
1	1	src/tiled/main.cpp
0	1	src/tiled/mainwindow.h
14	0	src/tiled/preferences.cpp
9	0	src/tiled/preferences.h
8	0	src/tiled/preferencesdialog.cpp
1	0	src/tiled/preferencesdialog.h
14	4	src/tiled/preferencesdialog.ui

--d6b8e46e	2015-06-18T20:52:50+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #988 from IMMZ/contrib

Avoid possible memory leaks in the future
d6b8e46e
--36c0ceea	2015-06-17T23:31:30+03:00	Mamed Ibrahimov	ibramlab@gmail.com	Fixed possible memory leaks due to non virtual destructors of base
classes.

36c0ceea
2	0	src/libtiled/logginginterface.h
1	1	src/libtiled/mapreader.h

--e5ee94e2	2015-06-15T23:34:58+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed compile with Qt 4

e5ee94e2
6	0	src/tiled/tilestamp.cpp
5	0	src/tiled/tilestampsdock.cpp

--f44c37d3	2015-06-15T23:34:08+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Simplified some code in AutomappingManager

Avoid emitting needless regionChanged signals as well as explicit heap
allocation of the region.

f44c37d3
7	8	src/tiled/automappingmanager.cpp

--bd527ec7	2015-06-15T16:58:18+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed the regionEdited signal when moving the mouse fast

This bug was fixed in c7b9519d1a4006d81553514b47c7071acc5d83cf, but
resurfaced due to changes in 8932ed92b57f6b44b29829421de03eac653cb.

bd527ec7
6	8	src/tiled/stampbrush.cpp
1	1	src/tiled/stampbrush.h

--ac796d3b	2015-06-15T16:40:30+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Allow extending existing quick stamps with variations

By pressing Ctrl + Shift + <1-9>, the quick stamp is extended instead
of replaced. When such a quick stamp is selected, the stamp brush will
choose random variations while painting.

Issue #969

ac796d3b
17	5	src/tiled/mainwindow.cpp
1	0	src/tiled/mainwindow.h
53	34	src/tiled/quickstampmanager.cpp
2	2	src/tiled/quickstampmanager.h

--8932ed92	2015-06-15T15:39:49+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made the stamp tool work with tile stamp variations

Also fixed and improved several other things:

* A QSharedPointer<TileLayer> is now used by the brush preview and the
  FillTiles command to avoid needless copying of tile data and simplify
  memory management.

* When moving the mouse fast, only one regionEdited signal is emitted
  for the entire movement. This especially speeds up the applying of
  automapping rules.

* Line drawing was improved a bit by always keeping the initially placed
  location stable, by reversing the points if necessary.

* You can now click multiple times with the stamp brush in order to
  trigger the picking of a random variation.

* Fixed a memory leak in the terrain brush.

Issue #969

8932ed92
3	0	src/libtiled/tilelayer.h
7	15	src/tiled/brushitem.cpp
15	9	src/tiled/brushitem.h
20	34	src/tiled/bucketfilltool.cpp
3	4	src/tiled/bucketfilltool.h
3	4	src/tiled/filltiles.cpp
3	2	src/tiled/filltiles.h
7	2	src/tiled/geometry.cpp
3	0	src/tiled/geometry.h
180	171	src/tiled/stampbrush.cpp
11	35	src/tiled/stampbrush.h
12	11	src/tiled/terrainbrush.cpp

--af510407	2015-06-13T21:13:09+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.12'

af510407
--4c2c4a1b	2015-06-13T17:38:08+03:00	Mamed Ibrahimov	ibramlab@gmail.com	Fixed crash when changing flipping flag for multiple objects

The crash happened when a flipping flag was changed on multiple tile
objects at the same time, which did not all share the same state.

Closes #975

4c2c4a1b
2	1	src/tiled/propertybrowser.cpp

--c651d2b3	2015-06-08T23:14:46+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Small adjustments to stamps list header

c651d2b3
4	0	src/tiled/tilestampsdock.cpp

--76f01ddb	2015-06-08T21:47:59+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Implemented deleting of tile stamps with the Delete key

* Also works for deleting stamp variations
* Backspace can also be used, mainly for OS X users

76f01ddb
1	1	src/tiled/thumbnailrenderer.cpp
1	1	src/tiled/thumbnailrenderer.h
8	1	src/tiled/tilestamp.cpp
1	0	src/tiled/tilestamp.h
42	4	src/tiled/tilestampmodel.cpp
2	0	src/tiled/tilestampmodel.h
38	4	src/tiled/tilestampsdock.cpp
20	0	src/tiled/tilestampsdock.h

--92ec505c	2015-06-08T16:01:37+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made stamp brush and fill tool use the new TileStamp class

TileStamp was changed to be explicitly shared to ease memory management,
since there is no well defined owner for tile stamps. This also avoids
needless copying of the stamp data, as was previously done.

The actual behavior of picking random variations while painting or
filling is not implemented yet.

92ec505c
24	15	src/tiled/bucketfilltool.cpp
6	7	src/tiled/bucketfilltool.h
26	25	src/tiled/mainwindow.cpp
2	1	src/tiled/mainwindow.h
26	34	src/tiled/quickstampmanager.cpp
2	2	src/tiled/quickstampmanager.h
58	30	src/tiled/stampbrush.cpp
8	17	src/tiled/stampbrush.h
0	8	src/tiled/terrainbrush.h
1	0	src/tiled/thumbnailrenderer.cpp
13	2	src/tiled/tilesetdock.cpp
2	1	src/tiled/tilesetdock.h
164	9	src/tiled/tilestamp.cpp
16	39	src/tiled/tilestamp.h
81	32	src/tiled/tilestampmodel.cpp
8	7	src/tiled/tilestampmodel.h
8	8	src/tiled/tilestampsdock.cpp
2	1	src/tiled/tilestampsdock.h

--39c8a6aa	2015-06-04T22:53:08+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	CSV plugin: Some tweaks and core style fixes

The main behavioral change is to keep the old behavior of not changing
the exported file name in the case of maps with a single tile layer,
rather than putting the name of this layer in the file like is still
done when there are multiple tile layers.

Other than that it's mostly some code format changes and tweaks to the
translatable texts.

39c8a6aa
2	1	src/libtiled/mapwriterinterface.h
10	6	src/plugins/csv/csvplugin.cpp
4	4	src/plugins/csv/csvplugin.h
14	12	src/tiled/mainwindow.cpp

--1916a7ff	2015-06-02T21:32:55+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge remote-tracking branch 'SoyYuma/master'

1916a7ff
--4b64473f	2015-06-01T22:39:41+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.12'

4b64473f
--8cc0ac2e	2015-06-01T16:06:24+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added thumbnails to the list of tile stamps

The thumbnails are cached so that even very large stamps will not slow
down the rendering of the list.

8cc0ac2e
10	6	src/libtiled/maprenderer.h
3	4	src/tiled/exportasimagedialog.cpp
2	4	src/tiled/minimap.cpp
1	1	src/tiled/quickstampmanager.cpp
153	0	src/tiled/thumbnailrenderer.cpp
79	0	src/tiled/thumbnailrenderer.h
2	0	src/tiled/tiled.pro
2	0	src/tiled/tiled.qbs
14	2	src/tiled/tilestampmodel.cpp
5	0	src/tiled/tilestampmodel.h
1	0	src/tiled/tilestampsdock.cpp
1	1	src/tmxrasterizer/tmxrasterizer.cpp

--44decbb1	2015-06-01T13:40:12+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Initial work on persistent tile stamps with variations

* Added TileStamp class, which represents a certain stamp with a name
  and one or more variations with a probability each.

* Added TileStampModel class, which provides the model that a view needs
  to display the list of available stamps and their variations.

* Added TileStampsDock class, which is the extra view in the user
  interface for showing and managing the stamps.

* Changed QuickStampManager to store its stamps in the TileStampModel,
  which allows quick stamps to be selected in the Tile Stamps view.

Issue #969

44decbb1
8	1	src/tiled/mainwindow.cpp
30	16	src/tiled/quickstampmanager.cpp
9	4	src/tiled/quickstampmanager.h
6	0	src/tiled/tiled.pro
6	0	src/tiled/tiled.qbs
63	0	src/tiled/tilestamp.cpp
109	0	src/tiled/tilestamp.h
162	0	src/tiled/tilestampmodel.cpp
75	0	src/tiled/tilestampmodel.h
90	0	src/tiled/tilestampsdock.cpp
60	0	src/tiled/tilestampsdock.h

--a62cf7e0	2015-06-01T08:45:46+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Final NEWS file update for Tiled 0.12.3

a62cf7e0
2	1	NEWS

--25bf5d17	2015-05-31T21:59:40+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made Backspace work for deleting collision objects and animation frames

Apple keyboards only have one "backspace/delete" key, which is received by Qt
applications as "backspace" unless combined with the "Fn" key.

So for easy deletion of animation frames and collision objects, this action is
now bound to both "backspace" and "delete".

25bf5d17
2	0	src/tiled/tileanimationeditor.cpp
2	0	src/tiled/tilecollisioneditor.cpp

--4b86058a	2015-05-30T16:52:08+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added tilecount property to TMX, JSON and Lua map formats

This can be useful when implementing a map reader, since you will know
in advance how much space to allocate.

If the tileset image changed size since the map file was written, it may
of course contain a different amount of tiles. Care should be taken to
handle that case correctly.

Closes #806

4b86058a
3	0	src/libtiled/mapwriter.cpp
1	0	src/plugins/json/maptovariantconverter.cpp
1	0	src/plugins/lua/luaplugin.cpp

--4578e6b6	2015-05-30T16:34:52+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #962 from Ablu/master

Fixed install of manpages
4578e6b6
--5fb527a8	2015-05-30T16:33:49+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.12'

5fb527a8
--1d19e63c	2015-05-30T16:30:06+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Bumped version to 0.12.3

1d19e63c
1	0	NEWS
3	3	src/tiled/Info.plist
1	1	src/tiled/main.cpp

--c7b9519d	2015-05-30T16:24:30+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed live automapping updates when moving the mouse fast

The option "Use Automapping, when drawing into layers" was not working
correctly when the stamp brush was used and the mouse was moved fast
while painting.

This was due to wrong edit regions being emitted when fast mouse
movement caused the stamp brush to place the stamp multiple times on a
line.

The automapping could be made a lot faster in this case by only emitting
the edited region once for the whole line, but I'll leave that for
another time.

Fixes #958

c7b9519d
3	0	NEWS
8	1	src/tiled/stampbrush.cpp

--f1bbf004	2015-05-28T23:01:41+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed some more updating issues when editing objects

* When changing polygons using the split, join or delete nodes actions,
  the map view and node handles were not getting updated.

* When rotating objects using the Z shortcut, neither the map view nor
  the Properties view was getting updated.

Fixes #966

f1bbf004
12	0	src/tiled/changepolygon.cpp
5	0	src/tiled/changepolygon.h
3	3	src/tiled/editpolygontool.cpp
2	2	src/tiled/mapdocument.cpp

--2ebddae2	2015-05-27T21:37:03+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Revert "Fixed install of manpages"

This reverts commit 1cddb07aeb6d6c47b79756bd6712a128a81939ed.

I applied it to the wrong branch. :-(

2ebddae2
0	1	NEWS
1	1	src/automappingconverter/automappingconverter.pro
1	1	src/tmxrasterizer/tmxrasterizer.pro
1	1	src/tmxviewer/tmxviewer.pro

--523e4638	2015-05-25T16:41:06+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed a crash when reading an invalid TMX file

When a TMX file contains no tileset with a firstgid of 1 but references
tiles that effectively fall before the first tileset, the reader would
crash due to using an invalid iterator.

Fixes #960

523e4638
3	0	NEWS
5	4	src/libtiled/gidmapper.cpp

--14f8a9a7	2015-05-25T11:35:45+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	docs: Small updates to Libraries and Frameworks page

* Moved Pike and Vala to list of programming languages
* Fixed link to cocos2d-objc documentation
* Replaced outdated tiled2cocos reference with a note that cocos2d (Python)
  natively supports loading TMX files.

14f8a9a7
8	8	docs/reference/support-for-tmx-maps.md

--2f391e99	2015-05-24T21:38:24+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.12'

2f391e99
--1cddb07a	2015-05-24T17:09:36+02:00	Erik Schilling	ablu.erikschilling@gmail.com	Fixed install of manpages

1cddb07a
1	1	src/automappingconverter/automappingconverter.pro
1	1	src/tmxrasterizer/tmxrasterizer.pro
1	1	src/tmxviewer/tmxviewer.pro

--6a3c7c1f	2015-05-24T17:09:36+02:00	Erik Schilling	ablu.erikschilling@gmail.com	Fixed install of manpages

6a3c7c1f
1	1	src/automappingconverter/automappingconverter.pro
1	1	src/tmxrasterizer/tmxrasterizer.pro
1	1	src/tmxviewer/tmxviewer.pro

--b0f702e1	2015-05-22T17:23:53+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.12'

b0f702e1
--508f5280	2015-05-22T17:21:03+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated NEWS and bumped version to 0.12.2

508f5280
4	0	NEWS
3	3	src/tiled/Info.plist
1	1	src/tiled/main.cpp

--17353849	2015-05-22T13:02:51+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed updating of map view when moving objects with arrow keys

Fixes #961

17353849
2	2	src/tiled/mapdocument.cpp
2	2	src/tiled/objectselectiontool.cpp

--c1f84a63	2015-05-21T23:28:15+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Raised minimum Qt version to 4.8.0

Removed scroll bar crash workaround for issue that was fixed in Qt 4.8.

c1f84a63
1	7	src/libtiled/mapreader.cpp
0	1	src/tiled/undodock.cpp
2	2	tiled.pro

--3db9b856	2015-05-21T22:14:53+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.12'

3db9b856
--778c2c16	2015-05-21T22:08:58+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	JSON plugin: Default tile objects to the size of their tile

This is necessary to display maps saved with Tiled <= 0.11 correctly. It
does effectively make 0-sized tile objects impossible, but that is
currently also the case in the TMX format and would be something to fix
later.

Fixes #959

778c2c16
1	1	src/libtiled/mapreader.cpp
8	0	src/plugins/json/varianttomapconverter.cpp

--c448cd4a	2015-05-21T22:06:04+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	docs: Added CNAME and improved TMX Map Format page a little

Mainly linking to child elements rather than just mentioning them.

c448cd4a
1	0	docs/CNAME
23	21	docs/reference/tmx-map-format.md

--1b2e85f5	2015-05-21T17:22:15+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added initial Tiled Documentation pages

Pages ported over from the wiki:

* Using Commands
* Using the Terrain Tool
* TMX Map Format
* Support for TMX Maps

1b2e85f5
3	0	.gitignore
10	0	docs/css/extra.css
27	0	docs/index.md
-	-	docs/manual/images/terraintool/01-newmap.png
-	-	docs/manual/images/terraintool/02-newtileset.png
-	-	docs/manual/images/terraintool/03-editterrainbutton.png
-	-	docs/manual/images/terraintool/04-editterraindialog-add.png
-	-	docs/manual/images/terraintool/05-editterraindialog-edit.png
-	-	docs/manual/images/terraintool/06-editterraindialog-done.png
-	-	docs/manual/images/terraintool/07-drawing-cobblestone.png
-	-	docs/manual/images/terraintool/08-drawing-dirt.png
11	0	docs/manual/index.md
40	0	docs/manual/using-commands.md
67	0	docs/manual/using-the-terrain-tool.md
-	-	docs/reference/CC-BY-SA.png
188	0	docs/reference/support-for-tmx-maps.md
94	0	docs/reference/tmx-changelog.md
256	0	docs/reference/tmx-map-format.md

--2848108f	2015-05-20T20:49:10+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated .gitignore

2848108f
2	2	.gitignore

--fb8b152a	2015-05-20T17:08:43+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Free up 'docs' directory for actual documentation

* Moved man pages to 'man' directory
* Moved mime info to 'mime' directory
* Moved tiled.desktop, tiled.appdata.xml and Doxyfile to root

The 'docs' directory is now planned to contain the Tiled Manual.

The outdated map.dtd and map.xsd files are still there. I think they may
be useful to have in the manual, if they are updated of course.

fb8b152a
1	1	docs/Doxyfile => Doxyfile
0	0	{docs => man}/automappingconverter.1
0	0	{docs => man}/automappingconverter.1.ronn
0	0	{docs => man}/tiled.1
0	0	{docs => man}/tiled.1.ronn
0	0	{docs => man}/tmxrasterizer.1
0	0	{docs => man}/tmxrasterizer.1.ronn
0	0	{docs => man}/tmxviewer.1
0	0	{docs => man}/tmxviewer.1.ronn
0	0	{docs/mime => mime}/tiled.xml
3	3	src/tiled/tiled.pro
0	0	docs/tiled.appdata.xml => tiled.appdata.xml
0	0	docs/tiled.desktop => tiled.desktop

--bb9b6094	2015-05-19T20:53:44+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.12'

Closes #956

bb9b6094
--f3b89657	2015-05-19T16:19:18+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed compile against Qt < 5.2

f3b89657
1	1	src/tiled/objectselectiontool.cpp

--11352705	2015-05-19T16:16:59+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Adjusted the tile probabilities in the desert example

The decoration tiles were much too common now that the probability is
relative with a default value of 1, rather than being a percentage.

11352705
7	7	examples/desert.tsx

--f2978849	2015-05-19T16:02:58+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Increased tile probability precision to three decimals

With the default value being 1, even a probability of 0.01 can be a bit
too common.

f2978849
2	2	src/tiled/propertybrowser.cpp

--1146c3a0	2015-05-19T15:26:50+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.12'

1146c3a0
--6bb2460f	2015-05-19T15:26:12+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated NEWS and bumped version to 0.12.1

6bb2460f
5	0	NEWS
3	3	src/tiled/Info.plist
1	1	src/tiled/main.cpp

--51e4dd16	2015-05-19T15:03:40+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed a crash when deleting an object while moving it

When pressing either Delete, undoing object creation or redoing object
deletion while moving, resizing or rotating one or more objects, Tiled
could crash. This was a regression introduced in the previous commit.

51e4dd16
3	0	src/tiled/mapobjectmodel.cpp
9	3	src/tiled/objectselectiontool.cpp

--060ea6ce	2015-05-19T14:47:49+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed updating of Properties view while objects are moved/resized

The events that the updating was relying on where broken in change
3d2513f5a5dd710094d702b9d3acb. Since that change was alright in
principle, the ObjectSelectionTool was changed to emit the changed
signals manually after changing the objects.

Now the updating is even better than before, with the numbers changing
in real time as opposed to only when the mouse is released, as was the
case with Tiled 0.11.

060ea6ce
0	5	src/tiled/mapobjectitem.cpp
0	5	src/tiled/mapobjectitem.h
40	25	src/tiled/objectselectiontool.cpp
5	1	src/tiled/objectselectiontool.h

--95e311dd	2015-05-18T16:49:00+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed updating of map view when changing objects from properties view

The updating of the map view was broken when changing the position, size
or rotation of the object using the properties view.

There's still another problem causing the properties view not to update
correctly after objects are dragged or resized in the map view. Both
problems were caused by the fix in commit 3d2513f5a5dd710094d702b9d3acb.

95e311dd
12	0	src/tiled/movemapobject.cpp
5	0	src/tiled/movemapobject.h
6	6	src/tiled/propertybrowser.cpp
12	0	src/tiled/resizemapobject.cpp
5	0	src/tiled/resizemapobject.h
12	0	src/tiled/rotatemapobject.cpp
5	0	src/tiled/rotatemapobject.h

--a716efe2	2015-05-15T23:00:49+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.12'

a716efe2
--e71d7936	2015-05-15T22:57:38+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	JSON plugin: Fixed terrain information getting lost on read

Due to a range check on the terrainId numbers associated with tiles
being done before the list of terrains was read, all tile terrain
information was getting lost when opening a map saved as JSON.

Fixes #948

e71d7936
13	13	src/plugins/json/varianttomapconverter.cpp

--61bc34be	2015-05-14T21:13:03+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added a missing attribution

61bc34be
1	1	NEWS

--a4922b6d	2015-05-14T20:57:04+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.12'

a4922b6d
--9bf53333	2015-05-14T20:43:26+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed Mac release script for Qt 5

This fixes a reference to the QtGui library from the shipped tmxrasterizer.

9bf53333
1	1	dist/make-dist-mac.rb

--44c52ed5	2015-05-14T19:14:36+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.12'

44c52ed5
--d22fa6e0	2015-05-14T19:11:41+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Final NEWS file update for Tiled 0.12

d22fa6e0
2	2	NEWS

--df57939b	2015-05-14T17:41:01+02:00	Hiroki Utsunomiya	teraapi@gmail.com	Updated Japanese translation

df57939b
44	36	translations/tiled_ja.ts

--4e0df854	2015-05-12T22:44:11+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.12'

4e0df854
--35319a24	2015-05-12T22:43:28+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated NEWS file for the release

35319a24
7	2	NEWS

--3d2513f5	2015-05-12T22:09:07+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed cursor position resetting when editing object type

This was due to an object change signal being emitted while the object
still had its old type, which temporarily changed the edited string back
to its old value, which caused the cursor position to reset.

Fixed by avoiding the emission of needless object change signals.

Closes #908

3d2513f5
21	0	src/tiled/mapobjectmodel.cpp

--1efc50a1	2015-05-12T16:16:58+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Silence Coverity warning

After the raiseError call, the loop will not continue, but Coverity
doesn't know this and determines that an explicitly set null tileset
reference may be dereferenced. Make the ending of the loop more explicit
by inserting a break.

Coverity-issue: 1271853 (Explicit null dereferenced)

1efc50a1
1	0	src/libtiled/mapreader.cpp

--88b4881f	2015-05-12T16:08:35+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed dereference after null check

This action is not available when no map is selected so it should not be
possible to trigger it, but technically the code was prone to crash.

Coverity-issue: 1297570 (Dereference after null check)

88b4881f
2	1	src/tiled/command.cpp

--cb156eda	2015-05-11T21:09:04+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added Damene Abdelkader to the list of translators

And restored its alphabetic order.

cb156eda
5	4	AUTHORS

--c5fca792	2015-05-11T14:34:37+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.12'

c5fca792
--1a1f1bb3	2015-05-11T14:26:52+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added Arabic (Algeria) translation

Done by @loursbourg

1a1f1bb3
4142	0	translations/tiled_ar_DZ.ts
1	1	translations/translations.pro

--b06f22a1	2015-05-10T15:53:36+02:00	Ludolph Neethling	vcs@ludo.co.za	Added current selected object type as a passed on argument

b06f22a1
6	1	src/tiled/command.cpp

--63f0970a	2015-05-08T15:08:36+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Tweaked a Dutch translation

63f0970a
1	1	translations/tiled_nl.ts

--c7f824d6	2015-05-08T15:02:32+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated Italian translation from Transifex

Updates by Marco Fras.

c7f824d6
180	224	translations/tiled_it.ts

--686225d1	2015-05-07T22:49:39+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Corrected translated string status in Dutch translation

686225d1
1	1	translations/tiled_nl.ts

--de3aeaf7	2015-05-07T16:43:30+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Show a Close button instead of an OK button in the Patreon dialog

de3aeaf7
1	1	src/tiled/patreondialog.ui

--58d8e7a6	2015-05-06T23:55:49+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated Dutch translation

58d8e7a6
44	36	translations/tiled_nl.ts

--755e105b	2015-05-06T23:33:55+02:00	Petr Viktorin	encukou@gmail.com	Update Czech translation

(cherry picked from commit 3bb754878d161bd4dd5b7e4b6cc958adcc7b61ab)

755e105b
47	38	translations/tiled_cs.ts

--188afff3	2015-05-06T23:54:17+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #934 from encukou/cs

Update Czech translation
188afff3
--3bb75487	2015-05-06T23:33:55+02:00	Petr Viktorin	encukou@gmail.com	Update Czech translation

3bb75487
47	38	translations/tiled_cs.ts

--54d40bda	2015-05-05T17:27:58+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.12'

54d40bda
--81e4232f	2015-05-05T17:17:31+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added an --export-formats command line option

It prints the list of supported formats for the --export-map option.

Closes #903

81e4232f
6	2	docs/tiled.1
3	1	docs/tiled.1.ronn
21	0	src/tiled/main.cpp

--ce811c60	2015-05-05T16:35:21+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Tweaked initial startup configuration

* Have a wider main window (1200 rather than 1000 pixels).

* Put the Properties dock on the left by default, which gives the layer
  list and tileset view the space they need.

* Open debug console at the bottom by default, since it has very little
  space in the sidebar.

ce811c60
3	3	src/tiled/mainwindow.cpp

--6837304b	2015-05-05T16:30:38+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Objects dock: Made name column resizable

At 200 pixels it also starts out a little wider than before. In
addition, the size is restored between sessions.

Closes #788

6837304b
24	15	src/tiled/objectsdock.cpp
3	2	src/tiled/objectsdock.h

--cbf83815	2015-05-04T20:24:34+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #930 from IMMZ/master

Implemented 'TODO'. Made cmd line parser translatable.
cbf83815
--08554e99	2015-05-04T20:18:12+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #932 from Bertram25/master

Finished the French translation update.
08554e99
--3962b884	2015-05-04T20:16:49+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #926 from semtiko/patch-1

Update tiled_ru.ts
3962b884
--88be2122	2015-05-04T20:16:10+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #931 from Ablu/de

Updated german translation
88be2122
--ae84e0b1	2015-05-02T23:18:23+03:00	Mamed Ibrahimov	ibramlab@gmail.com	Made cmd line parser translatable

ae84e0b1
7	12	src/tiled/commandlineparser.cpp
2	0	src/tiled/commandlineparser.h
3	3	src/tiled/main.cpp

--56f5cc04	2015-05-04T14:13:17+02:00	Yohann Ferreira	yohann.ferreira@orange.fr	Finished the French translation update.

56f5cc04
92	28	translations/tiled_fr.ts

--b2581fd4	2015-05-03T19:40:50+02:00	Erik Schilling	ablu.erikschilling@gmail.com	Updated german translation

b2581fd4
45	36	translations/tiled_de.ts

--cacb6862	2015-05-03T14:37:53+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Use a more consistent badge style

cacb6862
1	1	README.md

--03941d91	2015-05-03T14:19:44+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated link to Homebrew

03941d91
1	1	README.md

--d729d3d8	2015-05-03T14:09:02+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed a crash in the terrain brush

If the terrain brush would be used without a terrain selected (can
happen when trying to capture terrain with right mouse button), and it
encounters an empty spot with neighbors for which it chose a certain
terrain tile, it could crash in an attempt to find a new fitting tile
for this spot due to using a null tileset pointer.

Thanks to Thomas Feichtmeir for providing his map for reproducing this
issue!

Probably fixes #222
Probably fixes #372

d729d3d8
8	2	src/tiled/terrainbrush.cpp

--25f64f37	2015-05-02T17:03:55+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #929 from grandpaul/fix-desktop

Fix desktop Exec field.
25f64f37
--475adcb3	2015-05-02T22:58:14+08:00	Ying-Chun Liu (PaulLiu)	paulliu@debian.org	Fix desktop Exec field.

The desktop entry has support for a mime type, that means the application can
handle files of the listed mime types as a parameter. So we should add %f to
Exec key in the desktop file.

Signed-off-by: Ying-Chun Liu (PaulLiu) <paulliu@debian.org>

475adcb3
1	1	docs/tiled.desktop

--371a7bbd	2015-05-02T16:07:19+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed some markup typos in the translation

I should probably avoid using HTML markup in translatable strings.

371a7bbd
2	2	translations/tiled_pt.ts

--12eff3ba	2015-05-02T16:02:42+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #928 from porfirioribeiro/patch-1

Update tiled_pt.ts
12eff3ba
--3758e7b1	2015-05-02T14:57:13+01:00	Porfirio	porfirioribeiro@gmail.com	Update tiled_pt.ts

Updated the portuguese translation
3758e7b1
52	44	translations/tiled_pt.ts

--4eb86563	2015-05-02T12:01:55+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Pulled French translation update from Transifex

Updated by Yohann FERREIRA.

Further updates pending since Transifex wasn't accepting some
of the translations.

4eb86563
241	299	translations/tiled_fr.ts

--1b80bca2	2015-05-01T22:56:32+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed a typo

At least, it seems to be judging by other appearances of this word.

1b80bca2
1	1	translations/tiled_es.ts

--e88278d3	2015-05-01T22:32:59+02:00	Mauricio Muñoz Lucero	real.mml@gmail.com	Updated Spanish translation

e88278d3
44	36	translations/tiled_es.ts

--3a9854c2	2015-04-30T08:33:10+03:00	Alex Vega (semtiko)	semtiko@gmail.com	Update tiled_ru.ts

Thank you for your work!
3a9854c2
45	37	translations/tiled_ru.ts

--53cb839b	2015-04-28T14:13:33+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed two unused member functions

53cb839b
0	13	src/libtiled/hexagonalrenderer.h

--f0824952	2015-04-27T23:06:49+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated translation files

For most languages the report looked like this:

    Found 713 source text(s) (34 new and 679 already existing)
    Removed 16 obsolete entries
    Same-text heuristic provided 10 translation(s)

So there may be only about 24 new strings to translate for this version.

f0824952
266	156	translations/tiled_cs.ts
261	152	translations/tiled_de.ts
257	148	translations/tiled_en.ts
265	156	translations/tiled_es.ts
265	156	translations/tiled_fr.ts
262	153	translations/tiled_he.ts
262	153	translations/tiled_it.ts
264	156	translations/tiled_ja.ts
267	157	translations/tiled_lv.ts
268	159	translations/tiled_nl.ts
262	153	translations/tiled_pt.ts
268	159	translations/tiled_pt_BR.ts
264	154	translations/tiled_ru.ts
264	156	translations/tiled_zh.ts
264	156	translations/tiled_zh_TW.ts

--226cde1e	2015-04-27T21:31:44+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Raised version to 0.12.0 and updated NEWS file

This commit also marks the string freeze for Tiled 0.12.

226cde1e
10	0	NEWS
1	1	dist/win/README.txt
4	4	src/tiled/Info.plist
1	1	src/tiled/aboutdialog.cpp
1	1	src/tiled/main.cpp
2	2	translations/tiled_cs.ts
2	2	translations/tiled_de.ts
1	1	translations/tiled_en.ts
2	2	translations/tiled_es.ts
2	2	translations/tiled_fr.ts
2	2	translations/tiled_he.ts
2	2	translations/tiled_it.ts
2	2	translations/tiled_ja.ts
1	1	translations/tiled_lv.ts
2	2	translations/tiled_nl.ts
2	2	translations/tiled_pt.ts
2	2	translations/tiled_pt_BR.ts
2	2	translations/tiled_ru.ts
2	2	translations/tiled_zh.ts
2	2	translations/tiled_zh_TW.ts

--7d2e36f3	2015-04-20T22:12:11+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed TMX files to be written in native line endings

Previously Tiled was always saving .tmx files with UNIX line endings.

7d2e36f3
1	1	src/libtiled/mapwriter.cpp
1	1	src/tiled/automappingmanager.cpp

--fa5e0875	2015-04-19T20:53:55+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed terrain probability check in TMX writer

This caused a <tile> element to be written for each tile in a tileset,
since the default value for the probability was changed.

fa5e0875
1	1	src/libtiled/mapwriter.cpp

--5740286f	2015-04-19T20:53:10+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed duplicate "TEMPLATE = app" lines

5740286f
0	1	src/tmxrasterizer/tmxrasterizer.pro
0	1	src/tmxviewer/tmxviewer.pro

--0ae2b91d	2015-04-10T18:44:13+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed compile when not using precompiled headers

This is really quite annoying.

0ae2b91d
1	0	src/tiled/propertybrowser.h

--d35c622b	2015-04-10T15:02:53+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Allow the tile probability to be changed in the Properties view

So far this property could only be set manually in the TMX file, now it
can be edited in the Properties view. It determines the relative chance
a tile will be picked when it is one of multiple options for the terrain
tool.

d35c622b
52	0	src/tiled/changetileprobability.cpp
55	0	src/tiled/changetileprobability.h
13	19	src/tiled/mapdocument.h
32	1	src/tiled/propertybrowser.cpp
3	0	src/tiled/propertybrowser.h
2	0	src/tiled/tiled.pro
2	0	src/tiled/tiled.qbs

--6d9d3596	2015-04-10T12:34:07+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added toggling between resize and rotation mode

This makes for an overal cleaner appearance and better usability due to
making it less likely to trigger unwanted actions and it avoids hitting
a handle when trying to move objects around.

6d9d3596
48	35	src/tiled/objectselectiontool.cpp
8	1	src/tiled/objectselectiontool.h

--05750941	2015-04-10T11:41:56+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Don't deselect objects when Shift modifier is held

Shift can be used to add or remove items from the selection. When no
item is clicked while Shift is held, nothing should happen rather than
deselecting everything.

05750941
5	4	src/tiled/objectselectiontool.cpp

--69f76116	2015-04-10T11:31:48+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Small code cleanup

69f76116
13	14	src/tiled/objectselectiontool.cpp

--a3fec371	2015-04-10T11:23:55+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Always start moving the current selection when Alt is pressed

Regardless of whether an item that was already part of the selection was
clicked. I've noticed this behavior in Inkscape and it's quite useful
when moving small items or items that are below other items.

a3fec371
11	6	src/tiled/objectselectiontool.cpp
1	1	src/tiled/objectselectiontool.h

--f73a9933	2015-04-10T10:16:09+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Renamed some things in ObjectSelectionTool

* Renamed Mode to Action, which is a little more appropriate and makes
  the name available for an actual Mode enum.

* Renamed CornerHandle to RotateHandle, since it is only used for
  rotation.

f73a9933
45	43	src/tiled/objectselectiontool.cpp
6	6	src/tiled/objectselectiontool.h

--c283acfd	2015-04-10T09:31:56+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Restored the use of drawPixmapFragments for scaled tile objects

This condition was made more specific in commit a60083e6dfc424eac, but
there is no reason for this as far as I am aware.

c283acfd
1	1	src/libtiled/maprenderer.cpp

--cff3f383	2015-04-09T22:41:58+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed another instance of polygons growing nodes during resize

Commit 98f8c8331eae59e4e44904f9418ea39dfef967d4 had only fixed it for
resizing of single items, but it was still broken when resizing multiple
polygons at the same time.

Thanks to @obeea for noticing this!

cff3f383
1	1	src/tiled/objectselectiontool.cpp

--b31169f5	2015-04-09T14:49:54+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Qbs: Don't link to zlib on Windows

Should not be necessary since Tiled relies on the zlib symbols exported
by Qt on Windows.

b31169f5
5	1	src/libtiled/libtiled.qbs

--b717a1b7	2015-04-09T15:05:06+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Allow dragging the origin indicator around before rotate/resize

The position of the origin indicator is now used while rotating as
well as when resizing with Shift modifier.

Currently the position of the origin indicator resets after the
operation. This behavior could still be improved a little. For example
Inkscape seems to remember the relative origin position on a per-object
basis.

b717a1b7
41	37	src/tiled/objectselectiontool.cpp
0	1	src/tiled/objectselectiontool.h

--66db6016	2015-04-09T14:15:48+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added Control modifier for preserving aspect ratio while resizing

Toggling grid snapping still possible, but with Alt key now.

66db6016
25	13	src/tiled/objectselectiontool.cpp
2	1	src/tiled/objectselectiontool.h
6	2	src/tiled/snaphelper.cpp
2	0	src/tiled/snaphelper.h

--129ef0f8	2015-04-09T13:41:52+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Don't try to link against python27_d in debug mode

In standard Python installations this file does not exist and I'm not
sure when it does. Anyway it should be fine just to link against the
regular library.

129ef0f8
0	4	src/plugins/python/find_python.pri

--cde2eeb9	2015-04-09T11:36:50+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch 'wip/mapobjectresizev3'

cde2eeb9
--42b564da	2015-04-09T11:32:54+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Rewrote the resize handling for single items

* Now works somewhat sanely for isometric objects, by performing the
  resize in the virtual "pixel" coordinate space.

* Now allows rectangles, ellipses and tile objects to be scaled up again
  even if their width or height was 0.

* For multi-selection and polygons, the scaling factor is limited to 1%
  to avoid information loss when it reaches 0.

* Shared grid snapping code between resizing of multiple or single
  items.

42b564da
194	67	src/tiled/objectselectiontool.cpp
2	2	src/tiled/objectselectiontool.h

--1d5cfaf1	2015-04-09T11:26:48+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Small handle tweaks

* Avoid setting hover state in the wrong situation

* Make sure the corner handles are above the side handles when the items
  are small, with the bottom-right resize handle always on top

1d5cfaf1
10	8	src/tiled/objectselectiontool.cpp

--31d9d7b3	2015-04-08T15:06:18+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed the grid snapping while resizing

The mAlignPosition was not set when starting the resize, but the
snapping code was relying on it. I decided it did not make that much
sense to even use an alignment position while resizing, and I rather
just snap the handle position to the grid. This seems more
understandable and possibly also more usable than the previous behavior
of snapping the size of the object to the grid.

31d9d7b3
13	7	src/tiled/objectselectiontool.cpp

--8f6defc9	2015-04-08T14:23:01+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Shift modifier puts resize origin in the middle

The origin indicator is now kept visible during resizing, reflecting the
current state.

8f6defc9
40	23	src/tiled/objectselectiontool.cpp
3	3	src/tiled/objectselectiontool.h

--333df0eb	2015-04-08T12:43:49+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Changed the look of the resize handles

Now they are arrows, which removed the need for using the different
mouse cursors and adapts correctly to rotated items. The positioning and
look of rotation handles has been tweaked to match.

Also, a change of selection is now avoided when one of the handles was
clicked and the rotation origin indicator is hidden while resizing.

333df0eb
1	1	src/tiled/abstractobjecttool.cpp
0	5	src/tiled/createobjecttool.cpp
1	0	src/tiled/createtileobjecttool.cpp
128	66	src/tiled/objectselectiontool.cpp

--2d560f3b	2015-04-07T22:44:01+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Switching map orientation should update the handles

2d560f3b
4	0	src/tiled/objectselectiontool.cpp

--5fa8d7ef	2015-04-07T22:05:44+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Changed the way tile probability is applied

Previously, choosing the wrong probabilities could cause the terrain
brush to either fail to find any matches even though there were some or
to never use certain possible matches.

Now, each tile has a default probability of 1 and the probability is
always relative to the other tiles. So a tile with probability 10 is
chosen 10 times as often as a tile with default probability 1, while a
tile with probability of 0.1 is chosen 10 times less.

A probability of 0 can still be used to make sure a certain match is
never chosen.

5fa8d7ef
1	1	src/libtiled/mapwriter.cpp
2	2	src/libtiled/tile.cpp
1	1	src/plugins/json/maptovariantconverter.cpp
2	2	src/plugins/lua/luaplugin.cpp
14	18	src/tiled/terrainbrush.cpp

--ff671fb4	2015-04-07T18:49:47+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made positioning of the resize handles more exact

This fixes some of the strangeness while resizing which was due to
small margins being added for taking into account the visual
representation.

Resizing is still broken on isometric maps.

ff671fb4
30	6	src/libtiled/mapobject.cpp
6	4	src/libtiled/mapobject.h
12	0	src/libtiled/tiled.h
142	57	src/tiled/objectselectiontool.cpp

--1e1e4af4	2015-04-07T16:57:35+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made preview tile object slightly transparent

1e1e4af4
8	0	src/tiled/createtileobjecttool.cpp
1	0	src/tiled/createtileobjecttool.h

--0d981340	2015-04-07T11:47:43+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Simplified keeping track of old object state

This should be somewhat less error-prone.

0d981340
97	144	src/tiled/objectselectiontool.cpp
16	7	src/tiled/objectselectiontool.h

--f49af055	2015-04-07T09:33:04+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Renamed some anchors

f49af055
29	25	src/tiled/objectselectiontool.cpp

--66e7f2b4	2015-04-07T09:17:10+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed object name rendering from the MapRenderer implementations

This was never a really nice place and it does not work well together
with the resizing and rotation. An alternative will be provided as
separate non-scaling non-rotating graphics item.

66e7f2b4
3	68	src/libtiled/isometricrenderer.cpp
1	1	src/libtiled/maprenderer.cpp
1	20	src/libtiled/orthogonalrenderer.cpp

--65027c96	2015-04-06T21:37:59+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Renamed getter to correct naming convention

65027c96
7	7	src/tiled/objectselectiontool.cpp

--4c0512a6	2015-04-06T22:38:49+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Handle two possible ways in which Export as Image could fail

The most common way in which it failed on 32-bit systems was by running
out of memory and crashing. Now Tiled should show a message telling the
user to either reduce the zoom level or use a 64-bit version of Tiled.
Unfortunately I could not test the fix yet.

The other way it could fail, which is more likely on 64-bit systems, is
that the resulting image would be too big for QImage to handle. In this
case it would generally silently fail, but now it shows an informative
message when this happens.

Closes #907

4c0512a6
28	3	src/tiled/exportasimagedialog.cpp

--f7c5aecf	2015-04-06T22:00:34+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Renamed Save as Image action to Export as Image

This is a better name for what it does.

f7c5aecf
16	13	src/tiled/{saveasimagedialog.cpp => exportasimagedialog.cpp}
9	9	src/tiled/{saveasimagedialog.h => exportasimagedialog.h}
5	5	src/tiled/{saveasimagedialog.ui => exportasimagedialog.ui}
17	17	src/tiled/mainwindow.cpp
2	2	src/tiled/mainwindow.h
3	3	src/tiled/mainwindow.ui
3	3	src/tiled/tiled.pro
3	3	src/tiled/tiled.qbs

--a7862f6c	2015-03-29T21:52:02+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch 'master' into mapobjectresizev3

a7862f6c
--244d82db	2015-03-29T16:52:29+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #906 from mogemimi/fix-translation-error

Fix Japanese translation
244d82db
--521a40a5	2015-02-22T13:25:16-06:00	Seanba	sean@seanba.com	Fixed Automapping of Tile Objects

Map Objects are removed from automapping when "DeleteTiles" is used.
Code was already there for this but was comparing tile space with map
space.
Tile Objects can be added to Object Layers through automapping.

Tile Objects having a bottom-left origin and zero width and height was
problematic for automapping.
I've added a convenience function MapObject::boundsUseTile() that will
use the tile, if present, to build the boundary for a given Tile Object.
(Perhaps that function could be better named?)
Note: it's possible that the added functionaliy of
MapObject::boundsUseTile() could just be rolled into
MapObject::bounds(), but I didn't want to (potentially) break legacy
code that may have relied on Tile Objects having an empty bounds. For
instance, do we want Tile Objects to be written out to TMX with non-zero
width and height now?

521a40a5
18	0	src/libtiled/mapobject.cpp
5	0	src/libtiled/mapobject.h
18	2	src/tiled/automappingutils.cpp

--e833a2e8	2015-03-20T03:19:02+09:00	mogemimi	mogemimi@enginetrouble.net	Fix Japanese translation

e833a2e8
2	2	translations/tiled_ja.ts

--17503003	2015-03-15T22:10:00+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #904 from Ablu/master

Added --export-map option to manpage
17503003
--6d6c754f	2015-03-15T20:29:05+01:00	Erik Schilling	ablu.erikschilling@gmail.com	Added --export-map option to manpage

6d6c754f
5	1	docs/tiled.1
2	0	docs/tiled.1.ronn

--5d3bf4e0	2015-03-14T15:17:12+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Replaced the outdated list of contributors in the AUTHORS file

Long due update... it has become unmanageable to list individual
contributions for some years already. It can be determined from
the git history anyway.

The order is by the number of commits.

5d3bf4e0
106	15	AUTHORS

--72805075	2015-03-14T15:02:24+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updating the NEWS file with changes since Tiled 0.11.0

72805075
11	0	NEWS

--3ab6b483	2015-02-25T20:05:53+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #893 from semtiko/patch-1

Update Russian translation
3ab6b483
--83cee646	2015-02-25T16:47:29+03:00	Alex Vega (semtiko)	semtiko@gmail.com	Update tiled_ru.ts

Couple things.
83cee646
4	4	translations/tiled_ru.ts

--f6c06d99	2015-02-25T15:47:32+03:00	Alex Vega (semtiko)	semtiko@gmail.com	Update tiled_ru.ts

Sorry for very long delay. I hope it's done.
f6c06d99
50	50	translations/tiled_ru.ts

--1c62cc9f	2015-02-24T23:21:16+00:00	Alejandro Cámara	a.camara.iglesias@gmail.com	Fix build errors due to "override" tokens.

1c62cc9f
4	4	src/plugins/csv/csvplugin.h

--36070e80	2015-02-24T23:00:41+00:00	Alejandro Cámara	a.camara.iglesias@gmail.com	Fix build errors when using Qt 4.8

36070e80
7	14	src/tiled/mainwindow.cpp

--7d39e337	2015-02-24T22:39:46+00:00	Alejandro Cámara	a.camara.iglesias@gmail.com	Improve overwrite checking on MapWriters
- Only check if files will be overwritten once.
- Name the files that will be overwritten in the confirmation dialog.

7d39e337
1	1	src/libtiled/mapwriterinterface.h
9	6	src/tiled/mainwindow.cpp

--b03e2108	2015-02-24T22:23:08+00:00	Alejandro Cámara	a.camara.iglesias@gmail.com	Improve MapWriters and CSV export plugin:
- Warn users if export operation is overwriting files (if multiple files).
- Apply code review comments from Bjorn.

b03e2108
6	0	src/libtiled/mapwriterinterface.h
37	15	src/plugins/csv/csvplugin.cpp
6	3	src/plugins/csv/csvplugin.h
37	0	src/tiled/mainwindow.cpp

--81f4bda6	2015-02-24T21:57:35+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Don't set a window icon on Mac OS X

Actually the application already has a nice icon as specified using
the qmake ICON variable. Setting a window icon just looks ugly and
out of place on OS X.

81f4bda6
2	0	src/tiled/mainwindow.cpp

--bb8a731f	2015-02-24T21:26:30+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed encoding issues in the Patreon dialog

May have only shown up with Qt 4.

bb8a731f
2	2	src/tiled/patreondialog.cpp

--fd52c607	2015-02-24T00:09:15+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added "Become a Patron" dialog to the Help menu

fd52c607
8	1	src/tiled/mainwindow.cpp
1	0	src/tiled/mainwindow.h
6	1	src/tiled/mainwindow.ui
94	0	src/tiled/patreondialog.cpp
53	0	src/tiled/patreondialog.h
115	0	src/tiled/patreondialog.ui
23	0	src/tiled/preferences.cpp
30	1	src/tiled/preferences.h
3	0	src/tiled/tiled.pro
3	0	src/tiled/tiled.qbs

--2b2cfbfb	2015-02-22T22:01:17+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added a Donate button to the About dialog

2b2cfbfb
8	0	src/tiled/aboutdialog.cpp
3	0	src/tiled/aboutdialog.h
11	14	src/tiled/aboutdialog.ui

--38932930	2015-01-11T20:07:26+00:00	HenryJia	henryjia18@yahoo.com	Remember the directory used for external tilesets

Closes #453

38932930
6	1	src/tiled/mainwindow.cpp
3	0	src/tiled/preferences.cpp
2	1	src/tiled/preferences.h
8	1	src/tiled/tilesetdock.cpp

--4a6322f1	2015-02-21T23:06:16+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed Magic Wand to not take active selection into account

4a6322f1
1	1	src/tiled/bucketfilltool.cpp
41	23	src/tiled/tilepainter.cpp
8	1	src/tiled/tilepainter.h

--57c27c1c	2015-01-04T14:51:24+00:00	HenryJia	henryjia18@yahoo.com	Implemented a Magic Wand tool

Closes #128

57c27c1c
-	-	src/tiled/images/22x22/stock-tool-fuzzy-select-22.png
94	0	src/tiled/magicwandtool.cpp
64	0	src/tiled/magicwandtool.h
2	0	src/tiled/mainwindow.cpp
4	2	src/tiled/tiled.pro
2	0	src/tiled/tiled.qbs
1	0	src/tiled/tiled.qrc

--cef41290	2015-02-08T15:53:06+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Unduplicated the grid snapping code

The snapping behavior was meanwhile present in a huge amount of places,
and especially due to the handling of Control modifier and fine grid
snapping this had gotten quite ugly.

This commit is not expected to change any behavior.

cef41290
4	12	src/tiled/clipboardmanager.cpp
2	4	src/tiled/createellipseobjecttool.cpp
8	19	src/tiled/createmultipointobjecttool.cpp
4	4	src/tiled/createmultipointobjecttool.h
9	40	src/tiled/createobjecttool.cpp
3	4	src/tiled/createobjecttool.h
3	4	src/tiled/createpolygonobjecttool.cpp
3	4	src/tiled/createpolylineobjecttool.cpp
2	4	src/tiled/createrectangleobjecttool.cpp
7	17	src/tiled/createscalableobjecttool.cpp
3	3	src/tiled/createscalableobjecttool.h
7	19	src/tiled/createtileobjecttool.cpp
6	5	src/tiled/createtileobjecttool.h
9	17	src/tiled/editpolygontool.cpp
6	25	src/tiled/imagemovementtool.cpp
2	18	src/tiled/mapobjectitem.cpp
9	16	src/tiled/objectselectiontool.cpp
58	0	src/tiled/snaphelper.cpp
16	15	src/tiled/{createscalableobjecttool.h => snaphelper.h}
2	0	src/tiled/tiled.pro
2	0	src/tiled/tiled.qbs

--4aad4d3d	2015-02-08T14:12:01+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed several cases in which grid snapping was always applied

The Isometric (Staggered) and Hexagonal (Staggered) map renderers do not
have any way of converting between screen and tile coordinates without
rounding to the nearest tile. This caused object positions, polygon node
positions and object sizes to incorrectly snap to tile positions even
when no snapping is enabled.

The actual snapping is still a little broken for staggered maps, but at
least now it no longer happens when you don't want it to.

4aad4d3d
8	3	src/tiled/createmultipointobjecttool.cpp
10	8	src/tiled/createobjecttool.cpp
11	9	src/tiled/createscalableobjecttool.cpp
8	4	src/tiled/createtileobjecttool.cpp
17	20	src/tiled/mapobjectitem.cpp

--ac906d57	2015-01-20T20:55:33+00:00	Alejandro Cámara	a.camara.iglesias@gmail.com	Extend CSV plugin to export all tile layers.
- Layers get exported in different files.
- Filenames are constructed as
    #base_#layer.csv
  where #base is the name chosen in the
  save-file dialog (without extension), and
  #layer is the name for the layer.

ac906d57
22	18	src/plugins/csv/csvplugin.cpp

--57945003	2015-01-20T20:57:18+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed file icon associated with TMX files on Windows

Thanks to @NanoWar for noticing this issue and finding out how to fix
it.

Closes #868

57945003
1	1	dist/win/tiled.nsi

--a739f89e	2015-01-15T23:11:48+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed check on tileset tile width and tile height

It would raise an error but still try to cut the tileset image, leading
to an assertion in debug mode and eating up all memory due to an
infinite loop in release mode.

Now it will properly display an error message instead.

Fixes #862

a739f89e
5	1	src/libtiled/mapreader.cpp

--e40d9c91	2015-01-14T21:32:21+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #864 from Ablu/master

Added Qt.gui to Export{} of libtiled.qbs
e40d9c91
--f55ed812	2015-01-14T21:24:37+01:00	Erik Schilling	ablu.erikschilling@gmail.com	Added Qt.gui to Export{} of libtiled.qbs

libtiled uses QPixmap in its headers, which requires that any project
that uses libtiled also depends on Qt Gui.

This makes the qbs file more reusable for 3rd party programs/libraries.

f55ed812
5	0	src/libtiled/libtiled.qbs

--d8796362	2015-01-12T21:36:21+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Run the right version of macdeployqt

d8796362
1	1	dist/make-dist-mac.rb

--d3cd6e13	2015-01-12T21:28:05+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed linking to Python library on OS X

To get all the necessary linker flags it seems to be necessary
to use --ldflags rather than --libs.

d3cd6e13
1	1	src/plugins/python/find_python.pri

--71f39368	2015-01-11T23:09:06+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.10'

71f39368
--b6434324	2015-01-11T22:53:50+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed precompiled header to work with Qt 4 as well

b6434324
36	37	src/tiled/pch.h

--fbb05d9f	2015-01-11T22:16:39+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	New icon for OS X

Looks much better, especially on Yosemite.

Thanks to @jBot-42 for this version of the icon.

Closes #753

fbb05d9f
-	-	src/tiled/images/tiled-icon-mac.icns

--0e3ad7c1	2015-01-11T20:24:34+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Disable OpenGL rendering on Mac OS X

Workaround to resolve #817

0e3ad7c1
2	0	src/tiled/mapview.cpp
1	0	src/tiled/preferencesdialog.cpp
2	1	src/tiled/tiled.pro

--f9f03a69	2015-01-11T19:38:24+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #860 from Juniperbrew/master

libtiled-java: Added a Tile reference for MapObjects
f9f03a69
--36acc07d	2015-01-11T18:34:24+02:00	juniperbrew	ti.rasanen@gmail.com	MapObjects now store a reference to a Tile instead of the raw gid number.
We get an exception if there is a gid with a non integer value.

36acc07d
5	5	util/java/libtiled-java/src/tiled/core/MapObject.java
5	2	util/java/libtiled-java/src/tiled/io/TMXMapReader.java

--e57254a1	2015-01-11T16:45:24+02:00	juniperbrew	ti.rasanen@gmail.com	Added gid as attribute to MapObject class. Represents a tile whose texture is to be used for this object. Default value is -1.
TMXMapReader now reads the gid attribute and assigns it to the MapObject. If gid attribute doesn't exist the value is set to -1.

e57254a1
9	0	util/java/libtiled-java/src/tiled/core/MapObject.java
2	0	util/java/libtiled-java/src/tiled/io/TMXMapReader.java

--0e20dfb5	2015-01-11T12:58:31+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated list of updated translations and set 0.11 release to today

0e20dfb5
2	2	NEWS

--2de09c5a	2015-01-10T10:55:52-08:00	Todd Carnes	toddcarnes@gmail.com	Updated Japanese translation file.

2de09c5a
5	5	translations/tiled_ja.ts

--0e49cc06	2015-01-10T22:19:57+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #850 from Ablu/translation_de

Updated the German translation
0e49cc06
--e4173c86	2015-01-10T22:05:09+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #858 from Bertram25/master

French translation updated
e4173c86
--b3a717a7	2014-12-30T19:05:09+01:00	Erik Schilling	ablu.erikschilling@gmail.com	Updated the German translation

Reviewed and supported by @wayfu.

b3a717a7
50	50	translations/tiled_de.ts

--9c034d12	2015-01-10T09:55:11+01:00	Yohann Ferreira	yohann.ferreira@orange.fr	French translation update for the next Tiled version! :D

Hexagonal maps FTW!

9c034d12
47	47	translations/tiled_fr.ts

--b73a518d	2015-01-04T20:35:23+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Make object type completions case-insensitive

b73a518d
5	2	src/tiled/varianteditorfactory.cpp

--7f40529a	2015-01-02T22:04:28+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #852 from encukou/cs

Update Czech translation
7f40529a
--99cfbb2d	2015-01-02T17:00:57+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Qbs: Clean up install rules and application bundle names

* Make sure we install the application bundle on OS X and not just the
  executable.
* Use appropriate names for the application bundles.
* Fixed installation of Tiled translations and plugins on OS X.

99cfbb2d
2	9	qbs/imports/TiledPlugin.qbs
8	3	src/automappingconverter/automappingconverter.qbs
0	7	src/libtiled/libtiled.qbs
4	3	src/tiled/tiled.qbs
2	3	src/tmxrasterizer/tmxrasterizer.qbs
2	3	src/tmxviewer/tmxviewer.qbs
2	0	translations/translations.qbs

--119b168b	2015-01-02T15:11:40+01:00	Petr Viktorin	encukou@gmail.com	Update Czech translation

119b168b
47	47	translations/tiled_cs.ts

--3cbdba5f	2015-01-01T21:20:57+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Qbs: Explicitly set non-console products to be non-console

This appears to be necessary to make sure no console window will popup
when running the applications on Windows (tested on Windows XP).

3cbdba5f
2	0	src/automappingconverter/automappingconverter.qbs
2	0	src/tiled/tiled.qbs
2	0	src/tmxviewer/tmxviewer.qbs

--c15aa817	2015-01-01T19:56:25+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	AppVeyor: Build with Qbs, Qt 5.4 and MinGW 4.9.1

c15aa817
8	6	appveyor.yml
6	6	dist/win/tiled.nsi
7	0	src/tiled/tiled.qbs

--20fac73e	2015-01-01T19:42:03+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Qbs: Made OS X specific properties and files conditional

Fixes compilation on Linux and Windows.

20fac73e
14	4	src/tiled/tiled.qbs

--3c8e96aa	2015-01-01T09:28:32+01:00	Hiroki Utsunomiya	teraapi@gmail.com	Updated Japanese translation

3c8e96aa
271	267	translations/tiled_ja.ts

--29850c24	2014-12-31T22:32:22+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Qbs: Fixed ability to run Tiled on OS X

It’s still doing strange things regarding file installation and all
tools are being compiled as .app folders, but it’s working.

The resulting Tiled.app also has a lowercase name and no icon.

Finally, I’ve disabled the Python plugin for now until I figure out how
to make it detect Python correctly.

29850c24
4	0	src/plugins/python/python.qbs
4	0	src/tiled/tiled.qbs

--714d94e3	2014-12-31T13:16:30+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Qbs: Mark tmxrasterizer as a console application

714d94e3
2	0	src/tmxrasterizer/tmxrasterizer.qbs

--64bd467a	2014-12-30T16:22:57+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch 'master' into mapobjectresizev3

Conflicts:
	src/libtiled/hexagonalrenderer.cpp

64bd467a
--dd2f69f3	2014-12-30T16:14:29+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated Dutch translation

dd2f69f3
60	60	translations/tiled_nl.ts

--518f9e79	2014-12-30T16:02:32+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed unused virtual function implementation

518f9e79
0	1	src/tiled/createobjecttool.h
0	5	src/tiled/createscalableobjecttool.cpp
0	2	src/tiled/createscalableobjecttool.h

--480e323a	2014-12-30T15:49:58+01:00	Mauricio Muñoz Lucero	real.mml@gmail.com	Updated Spanish translation

480e323a
1	1	NEWS
47	47	translations/tiled_es.ts

--25163092	2014-12-30T13:25:40+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Another small NEWS file update

25163092
4	1	NEWS

--e37d0012	2014-12-30T10:25:20+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Have AppVeyor publish releases and upload daily builds

Uploading of daily builds is untested, let's hope it works.

e37d0012
34	7	appveyor.yml

--e4c2d6b0	2014-12-29T23:21:43+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Qbs: Simplified Project references

Thanks @Ablu for telling me about this.

e4c2d6b0
9	9	src/plugins/plugins.qbs
8	8	tiled.qbs

--3ebfed30	2014-12-29T22:43:26+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Qbs: Specify tiled.rc file to fix missing icon for Windows executable

3ebfed30
1	0	src/tiled/tiled.qbs

--6b7f1ff3	2014-12-29T22:33:58+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Qbs: Fixed install directories for Windows

6b7f1ff3
6	1	qbs/imports/TiledPlugin.qbs
6	1	src/automappingconverter/automappingconverter.qbs
6	1	src/libtiled/libtiled.qbs
6	1	src/tiled/tiled.qbs
6	1	src/tmxrasterizer/tmxrasterizer.qbs
6	1	src/tmxviewer/tmxviewer.qbs
6	1	translations/translations.qbs

--3a8519f3	2014-12-29T20:54:38+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Qbs: Use precompiled header

Reduces complete rebuild on Linux from ~40 to ~30 seconds for me.

3a8519f3
2	0	src/tiled/tiled.qbs

--2ab0610b	2014-12-29T20:40:14+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Qbs: Specify install locations

Also fixes locating of translations.

Not expected to work on OS X or Windows for now.

2ab0610b
6	0	qbs/imports/TiledPlugin.qbs
6	0	src/automappingconverter/automappingconverter.qbs
6	0	src/libtiled/libtiled.qbs
6	0	src/tiled/tiled.qbs
6	0	src/tmxrasterizer/tmxrasterizer.qbs
6	0	src/tmxviewer/tmxviewer.qbs
1	1	translations/translations.qbs

--256d5bab	2014-12-29T20:17:00+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Qbs: Build the tmxviewer, tmxrasterizer and automappingconverter tools

256d5bab
23	0	src/automappingconverter/automappingconverter.qbs
17	0	src/tmxrasterizer/tmxrasterizer.qbs
18	0	src/tmxviewer/tmxviewer.qbs
3	0	tiled.qbs

--744cf148	2014-12-29T19:21:47+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Lua plugin: Include Tiled version in Lua export

This may help dealing with unintentional differences or doing
workarounds for possible bugs.

Closes #809

744cf148
2	0	src/plugins/lua/luaplugin.cpp

--8b283895	2014-12-29T17:27:38+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Qbs: Initial support for building translations

Unfortunately the translations are ending up in some product-specific
directory so currently when running a Tiled compiled with qbs the
compiled translation files aren't found.

8b283895
2	1	src/tiled/tiled.qbs
1	0	tiled.qbs
15	0	translations/translations.qbs

--8f843189	2014-12-17T22:28:59+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Make Windows installer on AppVeyor

Based on MinGW. Maybe I'll try adding Visual Studio later.

Also, Tiled is currently failing to compile with Qt 5.4 MinGW so I'm still
using Qt 5.3.

8f843189
27	4	appveyor.yml
6	4	dist/win/tiled.nsi

--047348cc	2014-12-19T23:38:39+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Qbs: Fixed Python plugin compilation on Linux

Apparently the probe can't be inside of the Properties.

047348cc
3	3	src/plugins/python/python.qbs

--ff07973b	2014-12-19T23:16:40+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Qbs: Fixed building of Python plugin on Windows

While hopefully not breaking it on Linux.

ff07973b
12	4	src/plugins/python/python.qbs

--3e43e1d0	2014-12-19T23:08:36+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Qbs: Enabled Python plugin with PkgConfigProbe

Unfortunately, this won't work on Windows and likely not on OS X either.

3e43e1d0
1	1	src/plugins/plugins.qbs
17	0	src/plugins/python/python.qbs

--0daa8b41	2014-12-19T21:59:51+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added Qbs files for Tiled plugins

All plugins except the Python plugin for now, which will need a probe.

0daa8b41
16	0	qbs/imports/TiledPlugin.qbs
11	0	src/plugins/csv/csv.qbs
12	0	src/plugins/droidcraft/droidcraft.qbs
11	0	src/plugins/flare/flare.qbs
17	0	src/plugins/json/json.qbs
13	0	src/plugins/lua/lua.qbs
15	0	src/plugins/plugins.qbs
9	0	src/plugins/python/python.qbs
12	0	src/plugins/replicaisland/replicaisland.qbs
11	0	src/plugins/tengine/tengine.qbs
11	0	src/plugins/tmw/tmw.qbs
3	0	tiled.qbs

--49c87edc	2014-12-19T13:46:09+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated libtiled Qbs project

49c87edc
2	0	src/libtiled/libtiled.qbs

--581e7a80	2014-12-18T14:22:53+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Silence MinGW warning

libtiled/tilelayer.h:320:20: warning:
'const Tiled::Cell& Tiled::TileLayer::cellAt(int, int) const'
redeclared without dllimport attribute after being referenced with
dll linkage

581e7a80
6	2	src/libtiled/tilelayer.h

--d4a3415e	2014-12-17T23:28:12+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #779 from parkm/propertyVisuals

Visual feedback for multiple object properties
d4a3415e
--42f3dc18	2014-12-17T14:23:06-07:00	Parker Miller	despondentdonkey@gmail.com	Update property colors when properties change.

Add properties to browser if current object does not have them.

42f3dc18
56	6	src/tiled/propertybrowser.cpp
4	0	src/tiled/propertybrowser.h

--15af7e55	2014-12-17T14:19:05-07:00	Parker Miller	despondentdonkey@gmail.com	Added updatePropertyColor in PropertyBrowser.

If selected object does not have property gray out name and value.
If selected object has different value then gray out value.

15af7e55
33	0	src/tiled/propertybrowser.cpp
2	0	src/tiled/propertybrowser.h

--729bf53d	2014-12-17T14:15:10-07:00	Parker Miller	despondentdonkey@gmail.com	selectedTilesChanged signal added to MapDocument.

updateCustomProperties when selected tiles and map objects change.

729bf53d
6	0	src/tiled/mapdocument.cpp
6	2	src/tiled/mapdocument.h
14	0	src/tiled/propertybrowser.cpp
2	0	src/tiled/propertybrowser.h

--0fa14694	2014-12-17T14:11:29-07:00	Parker Miller	despondentdonkey@gmail.com	Added color properties to QtPropertyBrowser framework.

0fa14694
54	0	src/qtpropertybrowser/src/qtpropertybrowser.cpp
4	0	src/qtpropertybrowser/src/qtpropertybrowser.h
6	0	src/qtpropertybrowser/src/qttreepropertybrowser.cpp

--fa585692	2014-12-17T14:40:36+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Lua plugin: Added staggered and hexagonal map related properties

fa585692
10	0	src/plugins/lua/luaplugin.cpp

--1c1a2613	2014-12-17T11:47:53+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Save the stagger axis also for staggered isometric maps

Fixes #839

1c1a2613
4	4	src/libtiled/mapwriter.cpp
3	2	src/plugins/json/maptovariantconverter.cpp

--d893af87	2014-12-09T21:23:26+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated translation files

Running 'make ts' in the 'translations' directory.

36 new strings, 695 strings total.

d893af87
299	97	translations/tiled_cs.ts
300	98	translations/tiled_de.ts
284	82	translations/tiled_en.ts
299	97	translations/tiled_es.ts
299	97	translations/tiled_fr.ts
300	98	translations/tiled_he.ts
434	182	translations/tiled_it.ts
299	97	translations/tiled_ja.ts
292	90	translations/tiled_lv.ts
305	103	translations/tiled_nl.ts
64	12	translations/tiled_pt.ts
305	103	translations/tiled_pt_BR.ts
295	93	translations/tiled_ru.ts
299	97	translations/tiled_zh.ts
299	97	translations/tiled_zh_TW.ts

--e2497aaa	2014-12-07T20:10:15+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Raised version to 0.11.0 and updated NEWS file

e2497aaa
15	0	NEWS
1	1	dist/win/README.txt
3	3	src/tiled/Info.plist
1	1	src/tiled/main.cpp

--0bb2d46d	2014-12-09T21:20:20+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed some issues with the --export-map command line

* Actually work when the format is not explicitly specified, instead
  of spitting out an error message
* Avoid quotes in the output
* Put the translated strings in an appropriate context
* Indicate the optional "format" argument in the help text
* Remember to delete the tilesets

0bb2d46d
15	8	src/tiled/main.cpp

--426c32b4	2014-12-06T15:19:04+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updating Italian translation from Transifex

Updates by Marco Fras.

426c32b4
587	620	translations/tiled_it.ts

--65e5c112	2014-12-04T00:30:09+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed some problems with the new CSV export plugin

65e5c112
5	0	src/plugins/csv/csvplugin.cpp
5	1	src/plugins/csv/csvplugin.h
1	1	src/plugins/tmw/tmwplugin.h

--a0cdac2c	2014-12-02T23:13:54+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added appveyor.yml

Hopefully it gets automated builds on AppVeyor working. For now, just to
test whether Tiled compiles on Windows with MinGW.

a0cdac2c
7	0	appveyor.yml

--091dcaa1	2014-12-02T13:38:32+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #318 from cbdillon/master

Command line export for Tiled
091dcaa1
--661844e3	2014-12-01T23:36:34+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #832 from Ohcanep/windows-build

Eliminate some building issues on Windows
661844e3
--86bb8dbd	2014-12-01T15:46:14+02:00	Harri Berglund	harri.berglund@gmail.com	Eliminate some building issues on Windows

- Use --large-address-aware instead of /LARGEADDRESSAWARE with MinGW
- Adjust an #include in libtiled/objectgroup.cpp

86bb8dbd
1	1	src/libtiled/objectgroup.cpp
3	1	tiled.pri

--35b1396c	2014-11-30T22:35:00+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added a CSV export plugin

This plugin only exports the first tile layer. Tiles are written out by
their index in the tileset, or by their "name" if this custom property
is set on them. Empty cells are written out as -1.

Closes #277

35b1396c
7	0	src/plugins/csv/csv.pro
32	0	src/plugins/csv/csv_global.h
112	0	src/plugins/csv/csvplugin.cpp
49	0	src/plugins/csv/csvplugin.h
1	0	src/plugins/csv/plugin.json
4	3	src/plugins/plugins.pro

--5bc462e0	2014-11-30T20:48:05+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed some unused defines

5bc462e0
0	2	src/plugins/droidcraft/droidcraft_global.h
0	2	src/plugins/replicaisland/replicaisland_global.h

--57313576	2014-11-30T12:29:23+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added an example hexagonal map

Based on public domain tiles by pixel32, found at:

http://opengameart.org/content/pixel-hex-tilesets-enhanced

57313576
1	0	AUTHORS
12	0	examples/hexagonal-mini.tmx
-	-	examples/hexmini.png

--16145681	2014-11-23T22:53:34+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Some object unique ID changes

I think it's enough to just call it the object ID, and document that
these IDs are unique for each object on the map.

Since the first valid object ID is 1, the property is initialized with 0
now instead of -1.

Removed unnecessary ID assignments from MapWriter and
VariantToMapConverter. Any objects that don't have an ID assigned yet
will get one assigned once the ObjectGroup is added to the Map.

16145681
4	4	src/libtiled/map.cpp
10	11	src/libtiled/map.h
4	4	src/libtiled/mapobject.cpp
6	5	src/libtiled/mapobject.h
6	12	src/libtiled/mapreader.cpp
3	6	src/libtiled/mapwriter.cpp
4	4	src/libtiled/objectgroup.cpp
2	2	src/plugins/json/maptovariantconverter.cpp
5	12	src/plugins/json/varianttomapconverter.cpp
2	2	src/plugins/lua/luaplugin.cpp
2	2	src/tiled/propertybrowser.cpp

--129ff560	2014-11-23T22:16:09+01:00	Mark van Rij	markvr@runawayplay.com	Added uniqueIDs to MapObjects

129ff560
12	2	src/libtiled/map.cpp
21	0	src/libtiled/map.h
4	2	src/libtiled/mapobject.cpp
11	0	src/libtiled/mapobject.h
14	0	src/libtiled/mapreader.cpp
7	0	src/libtiled/mapwriter.cpp
5	0	src/libtiled/objectgroup.cpp
2	0	src/plugins/json/maptovariantconverter.cpp
13	0	src/plugins/json/varianttomapconverter.cpp
2	0	src/plugins/lua/luaplugin.cpp
2	0	src/tiled/propertybrowser.cpp

--04cea21e	2014-11-21T22:37:59+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #827 from porfirioribeiro/master

Update tiled_pt.ts
04cea21e
--f4f24245	2014-11-18T20:59:27+00:00	Porfirio	porfirioribeiro@gmail.com	Update tiled_pt.ts
f4f24245
457	305	translations/tiled_pt.ts

--34160a07	2014-11-17T22:38:44+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Flare plugin: Fixed ability to open maps with absolute paths

Saving maps with absolute paths is a bad idea and is avoided whenever
possible, but it is the only way to reference files on a different
drive on Windows.

Closes #826

34160a07
5	1	src/plugins/flare/flareplugin.cpp

--22e5689c	2014-11-15T20:12:09+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Lua plugin: Write out tile terrain information

Turns out I need this for a my current project so it must be useful.

22e5689c
1	1	src/libtiled/mapwriter.cpp
32	0	src/plugins/lua/luaplugin.cpp

--915fd321	2014-11-06T22:54:22+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added support for flat-top hexagonal (staggering the X axis)

This also adds support for staggering the X axis at either odd or
even indexes for staggered isometric maps.

915fd321
271	89	src/libtiled/hexagonalrenderer.cpp
26	6	src/libtiled/hexagonalrenderer.h
13	13	src/libtiled/map.cpp
18	18	src/libtiled/map.h
5	5	src/libtiled/mapreader.cpp
2	2	src/libtiled/mapwriter.cpp
25	15	src/libtiled/staggeredrenderer.cpp
7	2	src/libtiled/tilelayer.h
1	1	src/plugins/json/maptovariantconverter.cpp
3	3	src/plugins/json/varianttomapconverter.cpp
23	7	src/tiled/changemapproperty.cpp
10	0	src/tiled/changemapproperty.h
32	14	src/tiled/propertybrowser.cpp
3	1	src/tiled/propertybrowser.h

--98f8c833	2014-11-02T22:12:09-08:00	mauve	mauve@sandwich.net	Updated to new master, fixed polygon vertex dupe bug.

98f8c833
1	1	src/libtiled/hexagonalrenderer.cpp
1	1	src/tiled/objectselectiontool.cpp

--deb72320	2014-02-01T08:27:52-08:00	mauve	mauve@sandwich.net	Corrected snapToGrid behavior in objectselectiontool.

deb72320
7	7	src/tiled/objectselectiontool.cpp

--264eecd9	2014-01-19T11:52:04-08:00	mauve	mauve@sandwich.net	Corrected scaling of polygons on multiple selections.

264eecd9
12	4	src/tiled/objectselectiontool.cpp

--d94ac3bd	2014-01-19T11:44:17-08:00	mauve	mauve@sandwich.net	Can now resize single polygons.

d94ac3bd
33	4	src/tiled/objectselectiontool.cpp
1	0	src/tiled/objectselectiontool.h

--51fdebb5	2014-01-19T11:17:24-08:00	mauve	mauve@sandwich.net	Supported resizing in IsometricRenderer.

51fdebb5
7	4	src/libtiled/isometricrenderer.cpp

--a60083e6	2014-01-19T11:12:37-08:00	mauve	mauve@sandwich.net	Converted old map object resizing code over.

a60083e6
2	2	src/libtiled/isometricrenderer.cpp
10	1	src/libtiled/mapreader.cpp
16	7	src/libtiled/maprenderer.cpp
1	1	src/libtiled/maprenderer.h
9	5	src/libtiled/orthogonalrenderer.cpp
5	0	src/tiled/createobjecttool.cpp
1	149	src/tiled/mapobjectitem.cpp
0	4	src/tiled/mapobjectitem.h
321	33	src/tiled/objectselectiontool.cpp
19	1	src/tiled/objectselectiontool.h

--44effc21	2014-11-01T11:20:14+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Don't deselect tiles on right-click

This is no longer necessary now that properties of multiple tiles
can be edited at the same time.

44effc21
3	3	src/tiled/tilesetview.cpp

--da2c2e08	2014-10-29T22:02:59+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.10'

da2c2e08
--2ee0e3e6	2014-10-29T21:52:53+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Avoid the standard QMainWindow context menu in the collision editor

The standard context menu allows hiding the tool bar, after which it is
impossible to get it back without restarting Tiled. Now, a somewhat
useful context menu is shown instead which has the names and shortcuts
of all actions.

Closes #812

2ee0e3e6
1	0	src/tiled/tilecollisioneditor.cpp

--ee41a534	2014-10-26T15:53:41+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed up Rename Property action a bit

Now it works properly for multiple objects, only changing the name of the
property and never the value. Before, the action would cause the value to
become the same for all objects.

Also, it now only creates a single entry on the undo stack.

ee41a534
11	3	src/tiled/changeproperties.cpp
3	3	src/tiled/changeproperties.h
8	18	src/tiled/propertiesdock.cpp

--84e7adbd	2014-10-26T15:32:22+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #803 from Arnaud-Trouche/rename-cust-prop

Ability to rename custom properties

84e7adbd
--bc951076	2014-10-23T22:21:29+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.10'

bc951076
--b59850f8	2014-10-23T22:19:55+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Final update to the NEWS file for 0.10.2

b59850f8
1	1	NEWS

--5abd3951	2014-10-23T21:41:31+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed Windows installer again

This reverts back to the old behavior, which is also broken but it's
less broken than without this change.

The problem is that _?= is setting the installation directory and
thereby breaking the uninstall if it is supposed to happen from a
different directory than where Tiled is being installed. However,
omitting it breaks ExecWait, which causes the uninstall to run parallel
to the install process, deleting files that have just been installed and
leaving a broken installation.

So until there is a proper fix, I'm reverting back to the previous
behavior.

5abd3951
1	1	dist/win/tiled.nsi

--11dd38ab	2014-10-22T23:53:25+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.10'

11dd38ab
--0f2ba243	2014-10-22T23:53:06+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed compile

It's definitely getting too late...

0f2ba243
2	2	src/plugins/lua/luaplugin.cpp

--46a67e16	2014-10-22T23:51:22+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.10'

46a67e16
--fc671bef	2014-10-22T23:50:43+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Raised version to 0.10.2 and updated NEWS file

fc671bef
12	0	NEWS
1	1	dist/win/README.txt
3	3	src/tiled/Info.plist
1	1	src/tiled/main.cpp

--4b723791	2014-10-22T23:41:55+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Lua plugin: Write out Image layer position

This is the position of the image in pixels, and it was missing from the
Lua export format.

Closes #761

4b723791
2	0	src/plugins/lua/luaplugin.cpp

--2c6b0498	2014-10-21T23:38:02+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed hit area for polygon nodes when editing polygons

The nodes are ignoring view transformations, but this wasn't being taken
into account when determining which nodes were hit by a mouse click.
This broke polygon node editing when zoomed out far as well as editing
nodes that were very close together.

Closes #769 and #805

2c6b0498
36	11	src/tiled/editpolygontool.cpp
1	2	src/tiled/editpolygontool.h
3	0	src/tiled/mapobjectitem.h
0	1	src/tiled/minimapdock.h

--bae112b2	2014-10-21T23:07:27+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	QuickStampManager needs to be deleted before the TilesetManager

This resolves an assertion in debug mode, which is meant to check
whether all tileset references have been properly cleared. But when the
QuickStampManager is not deleted early enough, it won't have cleared its
tileset references yet.

bae112b2
2	0	src/tiled/mainwindow.cpp

--58256033	2014-10-19T23:00:20+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #798 from zigal/master

set maximum size for the about dialog
58256033
--32905556	2014-10-19T15:38:44+02:00	Omnomnobot	marco.fras@hotmail.it	Update tiled_it.ts

Added some translations in Italian.

32905556
38	38	translations/tiled_it.ts

--5de1bf0d	2014-10-18T13:29:29+02:00	arntro-4	arntro-4@student.ltu.se	Ability to rename custom properties

5de1bf0d
-	-	src/tiled/images/16x16/rename.png
54	0	src/tiled/propertiesdock.cpp
3	0	src/tiled/propertiesdock.h
1	0	src/tiled/tiled.qrc

--74d9edcf	2014-10-14T10:15:49+02:00	zigal	janiiik@hotmail.com	use setMaximumSize

74d9edcf
1	2	src/tiled/aboutdialog.cpp

--e3b019bc	2014-10-14T10:06:03+02:00	zigal	janiiik@hotmail.com	set maximum size for the about dialog

e3b019bc
3	0	src/tiled/aboutdialog.cpp

--e51361b5	2014-10-12T15:27:45-07:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated drive in daily build script

e51361b5
4	4	dist/win/build-daily.bat

--084c5c75	2014-10-13T00:11:01+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Store the stagger direction, even though only 'rows' is supported now

This is mainly because I think 'columns' should be the default (it's
what Tiled Java did and as such may be supported by 3rd party libraries
this way). Hexagonal maps created by this version of Tiled are now saved
with 'staggerdirection' set to 'rows' explicitly.

084c5c75
22	1	src/libtiled/map.cpp
5	2	src/libtiled/map.h
6	0	src/libtiled/mapreader.cpp
2	0	src/libtiled/mapwriter.cpp
3	1	src/plugins/json/maptovariantconverter.cpp
4	0	src/plugins/json/varianttomapconverter.cpp

--fc1e7aaa	2014-10-12T23:57:12+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed saving of stagger index

Also, only save the hex side length for hexagonal maps, since it makes
no sense to appear for other map types.

fc1e7aaa
21	0	src/libtiled/map.cpp
3	0	src/libtiled/map.h
6	0	src/libtiled/mapreader.cpp
6	1	src/libtiled/mapwriter.cpp
4	1	src/plugins/json/maptovariantconverter.cpp
4	0	src/plugins/json/varianttomapconverter.cpp

--f544ed72	2014-10-12T23:31:41+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Derive the StaggeredRenderer from the HexagonalRenderer

This fixes the grid rendering of the staggered renderer and adds support
for staggering the even rows instead of the odd rows.

Of course it will do a little bit more work than strictly necessary, but
this should be entirely irrelevant.

Closes #765

f544ed72
2	18	src/libtiled/hexagonalrenderer.cpp
18	2	src/libtiled/hexagonalrenderer.h
10	262	src/libtiled/staggeredrenderer.cpp
4	36	src/libtiled/staggeredrenderer.h

--f2d45844	2014-10-12T22:52:49+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed the hexagonal renderer to be pointy topped

This makes more sense with the current tile coordinates. Changing the
renderer in this way seemed easier than to implement the kind of
staggering required for flat topped hexes. I'll get to that later.

f2d45844
66	68	src/libtiled/hexagonalrenderer.cpp

--cb4bc7b1	2014-10-12T21:41:13+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added support for changing the stagger indexes

This adds the option of having the even rows shift to the right instead
of shifting the odd rows to the right.

cb4bc7b1
42	35	src/libtiled/hexagonalrenderer.cpp
1	1	src/libtiled/map.cpp
2	3	src/libtiled/map.h
16	0	src/tiled/changemapproperty.cpp
10	0	src/tiled/changemapproperty.h
1	1	src/tiled/newmapdialog.cpp
18	1	src/tiled/propertybrowser.cpp
2	0	src/tiled/propertybrowser.h

--cf04bb9e	2014-10-12T14:47:17+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Allow configuring the length of the hex side

This is the length of the straight sides of the hexagonal tile. It can't
be derived from the grid size because it varies depending on the exact
shape of the tile (which is rarely a mathematically sound hexagon).

cf04bb9e
1	1	src/libtiled/hexagonalrenderer.cpp
3	0	src/libtiled/mapreader.cpp
5	0	src/libtiled/mapwriter.cpp
3	0	src/plugins/json/maptovariantconverter.cpp
1	0	src/plugins/json/varianttomapconverter.cpp
10	0	src/tiled/changemapproperty.cpp
1	0	src/tiled/changemapproperty.h
7	0	src/tiled/propertybrowser.cpp
1	0	src/tiled/propertybrowser.h

--ac1665d3	2014-10-10T00:23:36+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added hexagonal renderer

Only supports one variation of staggered hexagonal for now.

The length of the sides can't be configured yet and is currently
hardcoded to 30.

ac1665d3
404	0	src/libtiled/hexagonalrenderer.cpp
88	0	src/libtiled/hexagonalrenderer.h
4	2	src/libtiled/libtiled.pro
11	0	src/libtiled/map.cpp
66	4	src/libtiled/map.h
19	15	src/libtiled/staggeredrenderer.cpp
4	0	src/tiled/mapdocument.cpp
5	0	src/tiled/newmapdialog.cpp
1	0	src/tiled/propertybrowser.cpp
4	0	src/tmxrasterizer/tmxrasterizer.cpp
4	0	src/tmxviewer/tmxviewer.cpp

--1965df71	2014-10-12T15:14:05+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Allow dynamically changing map tile width and height

1965df71
33	0	src/tiled/changemapproperty.cpp
13	0	src/tiled/changemapproperty.h
15	1	src/tiled/propertybrowser.cpp

--0afabbb2	2014-10-12T12:20:37+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed compile

The addition of Map::tileSize got lost in another change.

0afabbb2
5	0	src/libtiled/map.h

--d1adca96	2014-10-11T23:37:41+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added read-only properties for map size and map tile size

d1adca96
5	0	src/tiled/propertybrowser.cpp
1	0	src/tiled/propertybrowser.h

--1bdf9efa	2014-10-11T23:37:05+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.10'

1bdf9efa
--63d40e11	2014-10-10T23:29:39+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed repainting issues when using tiles smaller than the grid size

The small tiles could cause the bounding rect of the brush preview to
become too small for painting its region as tile selection.

63d40e11
6	4	src/tiled/brushitem.cpp

--4b9448bc	2014-10-10T00:29:32+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.10'

4b9448bc
--8d20992e	2014-10-10T00:27:14+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed a crash introduced by the repainting fix

tileLayerDrawMarginsChanged should not be emitted for layers that aren't
part of the map for now, since the code handling this signal assumes it
is about a layer of the map.

8d20992e
1	0	src/tiled/tilepainter.cpp

--19036940	2014-10-09T00:26:21+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed another possible crash in the orthogonal renderer

This basically reverts the incomplete 5f6b5cadbd436183a5c530b868d and
fixes the problem a little more reliably.

Starting point only needs to be bound to the first tile of the layer and
ending point only needs to be bound to the last tile. As long as we do
nothing when the starting point ends up beyond the ending point.

19036940
8	4	src/libtiled/orthogonalrenderer.cpp

--47fef6bb	2014-10-08T00:29:07+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed merge error

Should have done a compile-test... fortunately there's TravisCI.

47fef6bb
1	1	src/tiled/tilelayeritem.cpp

--7a3193ec	2014-10-08T00:18:01+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.10'

Conflicts:
	src/tiled/tilelayeritem.cpp

7a3193ec
--904eb27e	2014-10-08T00:05:21+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Take draw margins into account for tile layer bounding rect

Without taking the draw margins into account, tiles sticking outside of
the layer's area fail to repaint correctly when changing layer
visibility or opacity.

Some additional checking was required to make sure the bounding rect
updates as necessary when a tile layer's draw margins change.

904eb27e
8	0	src/tiled/mapdocument.h
9	0	src/tiled/mapscene.cpp
2	0	src/tiled/mapscene.h
12	1	src/tiled/tilelayeritem.cpp
33	0	src/tiled/tilepainter.cpp

--0a2daa61	2014-10-07T23:30:53+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added missing qbs file

Missed this one in change 403e1707259bd7846c4cd0596332a217fe7e73e9

0a2daa61
34	0	src/qtpropertybrowser/qtpropertybrowser.qbs

--f522deb0	2014-10-05T23:14:34+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Allow dynamically changing the map orientation

f522deb0
1	1	examples/isometric_grass_and_water.tmx
0	71	src/tiled/changemapproperties.cpp
0	66	src/tiled/changemapproperties.h
115	0	src/tiled/changemapproperty.cpp
95	0	src/tiled/changemapproperty.h
6	4	src/tiled/imagelayeritem.cpp
5	4	src/tiled/imagelayeritem.h
20	11	src/tiled/mapdocument.cpp
6	0	src/tiled/mapdocument.h
7	3	src/tiled/mapscene.cpp
22	16	src/tiled/propertybrowser.cpp
2	0	src/tiled/propertybrowser.h
2	2	src/tiled/tiled.pro
2	2	src/tiled/tiled.qbs
7	4	src/tiled/tilelayeritem.cpp
5	4	src/tiled/tilelayeritem.h

--73f7ae77	2014-10-05T18:31:15+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.10'

73f7ae77
--e8c83987	2014-10-05T18:30:48+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed map pixel size preview for staggered maps

e8c83987
12	4	src/tiled/newmapdialog.cpp

--74e79db6	2014-10-01T00:02:24+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Display errors non-modal when applying automatic automapping rules

Popping up a message box while painting repeatedly is tremendously
annoying (and seems to break the delivery of the mouse release event).
Show any warnings or errors that happen when automatically applying
automapping rules in the status bar instead.

74e79db6
5	3	src/tiled/automappingmanager.cpp
2	2	src/tiled/automappingmanager.h
18	10	src/tiled/mainwindow.cpp
2	2	src/tiled/mainwindow.h

--6dc2e58d	2014-09-30T23:51:02+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed silly error that should never happen

When there is no "map document", the automap action is disabled.

It's not the user's problem when this function is called without
a document, so no point in having an error message.

6dc2e58d
1	4	src/tiled/automappingmanager.cpp
9	14	translations/tiled_cs.ts
9	14	translations/tiled_de.ts
10	15	translations/tiled_en.ts
9	14	translations/tiled_es.ts
9	14	translations/tiled_fr.ts
10	15	translations/tiled_he.ts
9	14	translations/tiled_it.ts
9	14	translations/tiled_ja.ts
9	14	translations/tiled_lv.ts
9	14	translations/tiled_nl.ts
10	15	translations/tiled_pt.ts
9	14	translations/tiled_pt_BR.ts
10	15	translations/tiled_ru.ts
9	14	translations/tiled_zh.ts
9	14	translations/tiled_zh_TW.ts

--31094bd1	2014-09-28T23:44:54+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Regenerated Python bindings with PyBindGen 0.17.0

This undoes the changes in ba6394fef5c409b041ee79c997d7d5fd958f30ad,
which were apparently applied manually. Possibly something should be
added to tiledbinding.py to allow setting the rendering order.

31094bd1
312	265	src/plugins/python/pythonbind.cpp

--956ac80f	2014-09-28T22:17:17+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated Qbs project file

956ac80f
22	2	src/tiled/tiled.qbs

--9539b164	2014-09-27T22:48:43+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Put a shortcut on the Reload action (Ctrl+R)

In some situations it doesn't work to rely on automatic reloading.

Closes #768

9539b164
3	0	src/tiled/mainwindow.ui

--70b74c7c	2014-09-27T22:37:36+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed enabled state of 'Export As' and 'Reload' actions

They were enabled even when no map was open.

70b74c7c
2	0	src/tiled/mainwindow.cpp

--cbdaa0fb	2014-09-27T22:28:57+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Show some feedback in the status bar on re-export

Without this you may not even be sure whether you hit the right key, so
this seems like the right thing to do.

cbdaa0fb
4	1	src/tiled/mainwindow.cpp

--7d3ed7b4	2014-09-27T22:16:07+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.10'

7d3ed7b4
--80e6cf79	2014-09-27T22:13:55+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Split up 'Export' action from 'Export As...'

Now, the default Export action will re-export with the same file and
format used last time, without confirming the overwrite. When used for
the first time it will behave exactly like 'Export As...'.

Closes #189

80e6cf79
49	4	src/tiled/mainwindow.cpp
1	0	src/tiled/mainwindow.h
12	3	src/tiled/mainwindow.ui
52	6	src/tiled/mapdocument.h

--293d5a12	2014-09-26T23:04:30+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed Select All action to work for object layers

Now when an object layer is selected, it selects all objects on that
layer. Also it no longer does a tile selection when an image layer is
selected.

Closes #214

293d5a12
12	2	src/tiled/mapdocumentactionhandler.cpp

--cae7cf22	2014-09-25T17:09:18-04:00	Justin Jacobs	jajdorkster@gmail.com	[Flare Plugin] Fix coordinate format for import and export

Flare expects object coordinates to be in tiles instead of pixels.
Conversions have been added for Orthogonal and Isometric maps (the
2 that Flare supports).

The export function now writes the orientation of the map. This isn't
used by the Flare engine itself, but it is used when importing Flare
maps into Tiled.

cae7cf22
41	7	src/plugins/flare/flareplugin.cpp

--dcc18d5e	2014-09-25T23:40:26+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #681 from leeonix/master

add precompiled header.
dcc18d5e
--c552f658	2014-09-25T23:28:05+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed some remaining 'const bool' function parameters

Due to the mismatch with the original virtual function, this was also
causing warnings when compiling with VS 2013.

c552f658
8	5	src/tiled/createscalableobjecttool.h

--abc32195	2014-09-24T22:05:05+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #751 from zilluss/polymorphic-mapobjects

Polymorphic mapobjects
abc32195
--8129e209	2014-09-21T14:24:17-07:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed Windows uninstall

* Automatic uninstall of previous version should let the uninstaller
  choose from where to uninstall instead of passing the installation
  directory as parameter.

* Updated versions of several DLLs in the uninstall process.

8129e209
6	6	dist/win/tiled.nsi

--d466e73c	2014-09-21T22:43:56+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Clarified NEWS entry

d466e73c
1	1	NEWS

--2f2183af	2014-09-21T22:32:42+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Raised version to 0.10.1 and updated NEWS file

2f2183af
5	0	NEWS
1	1	dist/win/README.txt
3	3	src/tiled/Info.plist
1	1	src/tiled/main.cpp

--94d613ce	2014-09-21T08:00:18-07:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Allow Windows executable to run on Windows XP

When compiling with VS 2013 without this link option, the resulting
executable will only run on Windows Vista or above.

94d613ce
3	0	dist/win/build-daily.bat

--f5308a5b	2014-09-21T07:48:31-07:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Compile Tiled with /LARGEADDRESSAWARE on Windows

f5308a5b
6	0	tiled.pri

--fc1f372b	2014-09-21T13:20:30+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Lua plugin: Include map background color in Lua export

Closes #758

fc1f372b
14	0	src/plugins/lua/luaplugin.cpp

--a125a2ab	2014-09-19T21:20:29+02:00	Martin Ziel	martin.ziel@gmail.com	Fixed indentation and removed const qualifier from boolean parameters

a125a2ab
2	2	src/tiled/createmultipointobjecttool.cpp

--876f1213	2014-09-18T23:18:42+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Use Qt 4-compatible qmath.h header

The QtMath alias was apparently added with Qt 5.

876f1213
1	1	src/libtiled/orthogonalrenderer.cpp

--5f6b5cad	2014-09-18T23:04:34+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed a possible crash in the orthogonal map renderer

The function drawing tile layers was not always keeping the tiles it
would try to draw within bounds of the tile layer. This effected the
Terrain tool preview and possibly other tools as well.

Closes #756

5f6b5cad
5	5	src/libtiled/orthogonalrenderer.cpp

--e08f55d7	2014-09-14T17:43:52+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Drop the -qt part from .dmg file name

See previous commit.

e08f55d7
1	1	dist/make-dist-mac.rb

--0772c136	2014-09-14T17:07:45+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed the -qt part from the source tarball

Tiled Java is old enough not to be confused with the Qt version.

0772c136
1	1	dist/make-dist.sh

--e7c5bf02	2014-09-14T16:48:39+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Hopefully final NEWS file update for 0.10.0

Also, Qt 4.7 is the minimum required Qt version.

e7c5bf02
2	1	NEWS
1	1	README.md

--e64ddcd9	2014-09-14T16:45:06+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Improved icon of image movement tool

e64ddcd9
8	6	src/tiled/imagemovementtool.cpp
-	-	src/tiled/images/24x24/move-image-layer.png
1	0	src/tiled/tiled.qrc

--77a2b30e	2014-09-14T06:41:31-07:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #754 from Bertram25/master

Fixed the singular form as discussed with @bjorn
77a2b30e
--fc591c56	2014-09-14T17:27:50+02:00	Yohann Ferreira	yohann.ferreira@orange.fr	Fixed the singular form as discussed with @bjorn.

fc591c56
16	16	translations/tiled_fr.ts

--432c8e4e	2014-09-14T13:48:47+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Some fixes to OS X deployment script

* Copy the tmxrasterizer executable rather than moving it,
  which makes it possible to run the deployment script
  several times without needing to redo the make step.

* Run the right version of macdeployqt. For me it was
  running the Qt 4 version which somehow resulted in a
  lot more shipped plugins and libraries than necessary.

432c8e4e
2	2	dist/make-dist-mac.rb

--f55083c3	2014-09-13T12:23:26-07:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated Windows daily build script

* Updated Qt 5.2.1 to Qt 5.3.1
* Updated VS 2010 to VS 2013
* Try OpenGL version of Qt instead of ANGLE version
* Now building on a 64-bit VM so soon there could be 64-bit
  daily builds and installers

f55083c3
7	6	dist/win/build-daily.bat
5	7	dist/win/tiled.nsi

--8b32bac6	2014-09-12T17:48:36+02:00	Martin Ziel	martin.ziel@gmail.com	Fixed the code to adhere to coding style

8b32bac6
1	1	src/tiled/createellipseobjecttool.cpp
2	2	src/tiled/createmultipointobjecttool.h
4	6	src/tiled/createobjecttool.cpp
3	3	src/tiled/createobjecttool.h
3	5	src/tiled/createpolygonobjecttool.cpp
3	5	src/tiled/createpolylineobjecttool.cpp
1	1	src/tiled/createrectangleobjecttool.cpp
4	7	src/tiled/createscalableobjecttool.cpp
3	3	src/tiled/createscalableobjecttool.h
6	9	src/tiled/createtileobjecttool.cpp
3	3	src/tiled/createtileobjecttool.h
16	16	src/tiled/tiled.pro

--75f3b623	2014-09-11T23:20:26+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Make the scale used by tmxrasterizer default to 1

Seems like a better idea than having it be a hidden required argument.

Closes #750

75f3b623
2	2	src/tmxrasterizer/main.cpp

--c766713a	2014-09-11T22:50:53+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added daily build script for Windows

c766713a
57	0	dist/win/build-daily.bat

--c6f4e226	2014-09-11T13:26:35+02:00	Martin Ziel	martin.ziel@gmail.com	fixed case sensitive includes

c6f4e226
1	1	src/tiled/createellipseobjecttool.cpp
1	1	src/tiled/createmultipointobjecttool.cpp
1	1	src/tiled/createpolygonobjecttool.cpp
1	1	src/tiled/createpolylineobjecttool.cpp
1	1	src/tiled/createrectangleobjecttool.cpp
1	1	src/tiled/createscalableobjecttool.cpp
1	1	src/tiled/createtileobjecttool.cpp

--a2803bb9	2014-09-11T12:56:13+02:00	Martin Ziel	martin.ziel@gmail.com	Added license header

a2803bb9
20	0	src/tiled/createellipseobjecttool.cpp
20	0	src/tiled/createellipseobjecttool.h
20	0	src/tiled/createmultipointobjecttool.cpp
20	0	src/tiled/createmultipointobjecttool.h
20	0	src/tiled/createpolygonobjecttool.cpp
20	0	src/tiled/createpolygonobjecttool.h
20	0	src/tiled/createpolylineobjecttool.cpp
20	0	src/tiled/createpolylineobjecttool.h
21	1	src/tiled/createrectangleobjecttool.cpp
20	0	src/tiled/createrectangleobjecttool.h
20	0	src/tiled/createscalableobjecttool.cpp
20	0	src/tiled/createscalableobjecttool.h
20	0	src/tiled/createtileobjecttool.cpp
20	0	src/tiled/createtileobjecttool.h

--0ae83d93	2014-09-11T12:45:35+02:00	Martin Ziel	martin.ziel@gmail.com	Created virtual template methods for the mouse callbacks which are only called while an object is in creation

0ae83d93
5	22	src/tiled/createmultipointobjecttool.cpp
5	2	src/tiled/createmultipointobjecttool.h
49	16	src/tiled/createobjecttool.cpp
8	1	src/tiled/createobjecttool.h
7	23	src/tiled/createscalableobjecttool.cpp
6	3	src/tiled/createscalableobjecttool.h
9	16	src/tiled/createtileobjecttool.cpp
5	4	src/tiled/createtileobjecttool.h

--e139f4d6	2014-09-11T12:44:24+02:00	Martin Ziel	martin.ziel@gmail.com	Made createNewMapObject pure virtual and removed unnecessary position parameter

e139f4d6
1	1	src/tiled/createellipseobjecttool.cpp
1	1	src/tiled/createellipseobjecttool.h
1	1	src/tiled/createobjecttool.h
1	1	src/tiled/createpolygonobjecttool.cpp
1	1	src/tiled/createpolygonobjecttool.h
1	1	src/tiled/createpolylineobjecttool.cpp
1	1	src/tiled/createpolylineobjecttool.h
1	1	src/tiled/createrectangleobjecttool.cpp
1	1	src/tiled/createrectangleobjecttool.h

--82aff04e	2014-09-11T11:39:49+02:00	Martin Ziel	martin.ziel@gmail.com	Virtual methods should not be called in the constructor

82aff04e
1	0	src/tiled/createellipseobjecttool.cpp
0	1	src/tiled/createobjecttool.cpp
1	0	src/tiled/createrectangleobjecttool.cpp
1	0	src/tiled/createtileobjecttool.cpp

--d35eb8b2	2014-09-11T11:39:26+02:00	Martin Ziel	martin.ziel@gmail.com	Implemented CreatePolygon and CreatePolylineobjettool

d35eb8b2
104	0	src/tiled/createmultipointobjecttool.cpp
24	0	src/tiled/createmultipointobjecttool.h
5	131	src/tiled/createobjecttool.cpp
6	10	src/tiled/createobjecttool.h
38	0	src/tiled/createpolygonobjecttool.cpp
24	0	src/tiled/createpolygonobjecttool.h
38	0	src/tiled/createpolylineobjecttool.cpp
24	0	src/tiled/createpolylineobjecttool.h
1	1	src/tiled/createscalableobjecttool.cpp
4	4	src/tiled/mainwindow.cpp
4	4	src/tiled/tilecollisioneditor.cpp
8	2	src/tiled/tiled.pro

--9da6e223	2014-09-11T10:30:41+02:00	Martin Ziel	martin.ziel@gmail.com	implemented CreateTileObjectTool

9da6e223
6	43	src/tiled/createobjecttool.cpp
80	0	src/tiled/createtileobjecttool.cpp
27	0	src/tiled/createtileobjecttool.h
2	2	src/tiled/mainwindow.cpp
4	2	src/tiled/tiled.pro

--332c7068	2014-09-11T08:57:40+02:00	Martin Ziel	martin.ziel@gmail.com	Implemented CreateEllipseObjectTool

332c7068
29	0	src/tiled/createellipseobjecttool.cpp
23	0	src/tiled/createellipseobjecttool.h
1	38	src/tiled/createobjecttool.cpp
1	2	src/tiled/createobjecttool.h
2	2	src/tiled/mainwindow.cpp
2	2	src/tiled/tilecollisioneditor.cpp
4	2	src/tiled/tiled.pro

--586aa2c7	2014-09-11T08:39:09+02:00	Martin Ziel	martin.ziel@gmail.com	Created a new base class for scalable objects like rectangle and ellipse

586aa2c7
9	2	src/tiled/createobjecttool.cpp
1	0	src/tiled/createobjecttool.h
9	64	src/tiled/createrectangleobjecttool.cpp
4	5	src/tiled/createrectangleobjecttool.h
6	8	src/tiled/{createrectangleobjecttool.cpp => createscalableobjecttool.cpp}
5	5	src/tiled/{createrectangleobjecttool.h => createscalableobjecttool.h}
2	0	src/tiled/tiled.pro

--d5116656	2014-09-10T16:20:00+02:00	Martin Ziel	martin.ziel@gmail.com	Moved the create rectangle functionality from the CreateObjectTool to the new CreateRectangleObject class

d5116656
1	11	src/tiled/createobjecttool.cpp
3	3	src/tiled/createobjecttool.h
84	0	src/tiled/createrectangleobjecttool.cpp
24	0	src/tiled/createrectangleobjecttool.h
2	2	src/tiled/mainwindow.cpp
2	2	src/tiled/tilecollisioneditor.cpp
4	2	src/tiled/tiled.pro

--3c2f6de1	2014-09-10T22:44:51+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	tmxrasterizer does not need QtWidgets

It does need to use QGuiApplication rather than QCoreApplication because
of QPixmap usage in libtiled.

3c2f6de1
10	1	src/tmxrasterizer/main.cpp
0	4	src/tmxrasterizer/tmxrasterizer.pro

--1e0f9774	2014-09-10T22:35:54+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Support object rotation and top-down draw order in tmxviewer

1e0f9774
21	4	src/tmxviewer/tmxviewer.cpp

--e46c4d4f	2014-09-10T22:35:02+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Build tmxrasterizer as a console application

This is necessary for it to show console output on Windows.

Closes #750

e46c4d4f
1	0	src/tmxrasterizer/tmxrasterizer.pro

--5e1ecb9c	2014-09-09T23:33:32+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Bumped version to 0.10.0 and NEWS file update

5e1ecb9c
5	2	NEWS
2	2	dist/win/README.txt
4	4	src/tiled/Info.plist
1	1	src/tiled/main.cpp

--b341788a	2014-09-09T23:27:41+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated copyright year in the About dialog to 2014

Including the translations...

b341788a
1	1	src/tiled/aboutdialog.cpp
23	23	translations/tiled_cs.ts
31	44	translations/tiled_de.ts
20	20	translations/tiled_en.ts
22	22	translations/tiled_es.ts
23	23	translations/tiled_fr.ts
23	22	translations/tiled_he.ts
24	24	translations/tiled_it.ts
25	24	translations/tiled_ja.ts
22	22	translations/tiled_lv.ts
24	23	translations/tiled_nl.ts
23	23	translations/tiled_pt.ts
23	23	translations/tiled_pt_BR.ts
20	20	translations/tiled_ru.ts
23	23	translations/tiled_zh.ts
23	23	translations/tiled_zh_TW.ts

--3709739a	2014-09-09T23:09:52+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Include tile collision shape information in the Lua format

3709739a
10	1	src/plugins/lua/luaplugin.cpp
2	1	src/plugins/lua/luaplugin.h

--a8804a43	2014-09-09T21:58:11+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #745 from Bertram25/master

French translation update
a8804a43
--2474397c	2014-09-09T00:26:31+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed Delete shortcut on OS X

This works around an issue causing the Delete shortcut not to work on
OS X, which appears to be happening since Qt 5. Unfortunately the
shortcut will not show on the menu item this way.

Closes #669

2474397c
7	0	src/tiled/mainwindow.cpp

--dda198ea	2014-09-08T01:11:57+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed updating of enabled state when importing/exporting tileset

The Tile Animation Editor and the Tile Collision Editor were not
correctly getting enabled/disabled when the tileset of the selected tile
was exported or imported.

dda198ea
8	0	src/tiled/tileanimationeditor.cpp
2	0	src/tiled/tileanimationeditor.h
8	0	src/tiled/tilecollisioneditor.cpp
2	0	src/tiled/tilecollisioneditor.h

--335a6861	2014-09-07T22:30:26+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Don't allow editing tile animations in external tilesets

Saving such changes is not implemented yet, so they need to be avoided.

Closes #746

335a6861
12	3	src/tiled/tileanimationeditor.cpp

--d30eef89	2014-09-06T22:46:08+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added zoom combo box to Tile Animation Editor

Right now it only affects the tileset view though. Adding zoom support
to the list of frames and the preview will be a little more work.

Closes #738

d30eef89
6	0	src/tiled/tileanimationeditor.cpp
20	0	src/tiled/tileanimationeditor.ui

--5f2e787d	2014-09-06T22:43:10+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Update Tile Animation Editor window title on language change

5f2e787d
12	0	src/tiled/tileanimationeditor.cpp
1	0	src/tiled/tileanimationeditor.h

--9ffa76b7	2014-09-06T22:16:19+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Support object rotation in save-as-image and minimap

Closes #514

9ffa76b7
2	2	src/libtiled/mapobject.h
11	0	src/tiled/minimap.cpp
11	0	src/tiled/saveasimagedialog.cpp

--2a40cee4	2014-09-06T20:51:34+02:00	Yohann Ferreira	yohann.ferreira@orange.fr	French translation update

2a40cee4
215	213	translations/tiled_fr.ts

--b8902dab	2014-09-06T15:10:27+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #728 from Ablu/bugfix_596_appdata

Added appdata file
b8902dab
--7d281116	2014-09-06T14:36:50+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added Sebastian Grillmaier to AUTHORS file as German translator

7d281116
1	0	AUTHORS

--fffa4734	2014-08-26T19:04:17+02:00	Erik Schilling	ablu.erikschilling@googlemail.com	Added appdata file

The appdata currently fails validation since the fedora validator
does not yet support multiple licenses for the metadata.

Fixes #596.

fffa4734
28	0	docs/tiled.appdata.xml

--aef1ee76	2014-09-06T00:13:45+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #741 from wayfu/master

German translation update
aef1ee76
--5af021e8	2014-09-05T23:57:28+02:00	wayfu	wayfu@users.noreply.github.com	Edited in @bjorn's comments from #733 and removed translated keyboard shortcuts
5af021e8
19	19	translations/tiled_de.ts

--08187fd6	2014-09-03T12:01:23+02:00	wayfu	wayfu@users.noreply.github.com	German translation update
08187fd6
422	405	translations/tiled_de.ts

--0ce2f8a0	2014-09-02T10:39:31+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #739 from encukou/cs

Update Czech translation
0ce2f8a0
--61c30b03	2014-09-01T23:38:54+02:00	Petr Viktorin	encukou@gmail.com	Update Czech translation

61c30b03
223	219	translations/tiled_cs.ts

--ba283412	2014-09-01T10:31:30+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed a missing space in two translations

ba283412
1	1	translations/tiled_ru.ts

--54f9b4ac	2014-09-01T10:21:51+02:00	Mauricio Muñoz Lucero	real.mml@gmail.com	Updated Spanish translation

54f9b4ac
233	229	translations/tiled_es.ts

--1ae951f2	2014-08-31T18:19:30+02:00	Alex Vega (semtiko)	semtiko@gmail.com	Small fix to Russian translation

1ae951f2
1	1	translations/tiled_ru.ts

--3e1b5dff	2014-08-31T17:25:19+02:00	Alex Vega (semtiko)	semtiko@gmail.com	Updated Russian translation

3e1b5dff
220	216	translations/tiled_ru.ts

--aea47a41	2014-08-31T17:04:52+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #736 from yehnan/master

Tranditional Chinese translation
aea47a41
--ee9e3779	2014-08-31T22:46:35+08:00	Yehnan Chiang	yehnan174@gmail.com	tiled_zh_TW.ts, fixed line 1153, put Chinese characters inside XML tag,
mark translations as Done, remove "type="unfinished"

ee9e3779
222	222	translations/tiled_zh_TW.ts

--0209ceef	2014-08-31T21:08:35+08:00	Yehnan Chiang	yehnan174@gmail.com	tranditional Chinese translation

0209ceef
200	198	translations/tiled_zh_TW.ts

--3920a4ac	2014-08-30T23:35:24+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed MapWriter::setLayerDataFormat/layerDataFormat

Now it just uses the layer data format set on the map, which simplifies
things a little.

3920a4ac
0	1	src/automappingconverter/convertercontrol.cpp
1	10	src/libtiled/mapwriter.cpp
0	6	src/libtiled/mapwriter.h
0	1	src/tiled/tmxmapwriter.cpp

--1e30236b	2014-08-30T22:59:41+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated the Dutch translation and fixed a few source strings

The layer data format and rendering order options only apply to tile
layers, which is now more clear.

1e30236b
0	2	src/tiled/newmapdialog.cpp
4	4	src/tiled/newmapdialog.ui
2	2	src/tiled/propertybrowser.cpp
9	22	translations/tiled_cs.ts
8	21	translations/tiled_de.ts
7	20	translations/tiled_en.ts
8	21	translations/tiled_es.ts
8	21	translations/tiled_fr.ts
8	21	translations/tiled_he.ts
8	21	translations/tiled_it.ts
8	21	translations/tiled_ja.ts
8	21	translations/tiled_lv.ts
198	209	translations/tiled_nl.ts
8	21	translations/tiled_pt.ts
8	21	translations/tiled_pt_BR.ts
8	21	translations/tiled_ru.ts
9	22	translations/tiled_zh.ts
8	21	translations/tiled_zh_TW.ts

--e90735a4	2014-08-26T19:08:25+02:00	Erik Schilling	ablu.erikschilling@googlemail.com	Removed commented code

e90735a4
0	8	src/tiled/terrainbrush.cpp

--9b6ce53a	2014-08-26T19:05:10+02:00	Erik Schilling	ablu.erikschilling@googlemail.com	Fixed crash when capturing terrain outside of the map

Fixes #726.

9b6ce53a
6	1	src/tiled/terrainbrush.cpp

--fdc0c4f8	2014-08-24T23:05:22+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated translation files

This is the string freeze for Tiled 0.10. It is a rather big update:

"Found 664 source text(s) (205 new and 459 already existing)"

fdc0c4f8
1345	450	translations/tiled_cs.ts
1324	436	translations/tiled_de.ts
1330	442	translations/tiled_en.ts
1336	448	translations/tiled_es.ts
1337	453	translations/tiled_fr.ts
1334	446	translations/tiled_he.ts
1355	467	translations/tiled_it.ts
1326	445	translations/tiled_ja.ts
1365	470	translations/tiled_lv.ts
1340	452	translations/tiled_nl.ts
1336	448	translations/tiled_pt.ts
1340	452	translations/tiled_pt_BR.ts
1343	448	translations/tiled_ru.ts
1354	473	translations/tiled_zh.ts
1355	474	translations/tiled_zh_TW.ts

--48fdd68f	2014-08-24T22:28:07+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added a preview to the tile animation editor

Helpful when editing animations while you can't see them animated in the
map view.

48fdd68f
13	6	src/tiled/tileanimationdriver.cpp
4	0	src/tiled/tileanimationdriver.h
64	1	src/tiled/tileanimationeditor.cpp
11	0	src/tiled/tileanimationeditor.h
35	4	src/tiled/tileanimationeditor.ui

--405cf668	2014-08-02T20:29:26+02:00	Erik Schilling	ablu.erikschilling@googlemail.com	Allow to resize the animation timeline

This moves the frame list and tileset view into a splitter.

Fixes #716

405cf668
2	0	src/tiled/tileanimationeditor.cpp
32	8	src/tiled/tileanimationeditor.ui

--f3a30df9	2014-08-20T23:31:52+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed tile object outlines drawn at the wrong location

Closes #474

f3a30df9
12	6	src/libtiled/isometricrenderer.cpp
8	2	src/libtiled/orthogonalrenderer.cpp

--910e6e0a	2014-08-15T22:25:58+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed smooth rendering condition in Save As Image dialog

Now it matches with the logic used by Tiled in the map view, which is
what you would expect.

910e6e0a
10	2	src/tiled/saveasimagedialog.cpp

--38a40420	2014-08-03T12:52:03+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #717 from Ablu/bugfix_714

Remember last path when adding images as tiles
38a40420
--27181559	2014-08-02T20:00:20+02:00	Erik Schilling	ablu.erikschilling@googlemail.com	Remember last path when adding images as tiles

Fixes #714.

27181559
2	0	src/tiled/tilesetdock.cpp

--32d4e0ee	2014-08-02T12:47:33+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #712 from Ablu/bugfix_706

Allow to add new animation frames by double click
32d4e0ee
--51b6d5ea	2014-08-01T23:16:36+02:00	Erik Schilling	ablu.erikschilling@googlemail.com	Allow to add new animation frames by double click

Fixes #706.

51b6d5ea
30	1	src/tiled/tileanimationeditor.cpp
3	0	src/tiled/tileanimationeditor.h

--030aefd6	2014-08-02T12:34:17+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #711 from Ablu/add_tileset_button_in_dock

Provide a button to add tilesets in the Tilesets dock
030aefd6
--4d2fdda3	2014-08-02T11:52:13+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #713 from Ablu/bugfix_442

Use QSaveFile when available for more reliable file saving
4d2fdda3
--48fc3bac	2014-08-02T08:45:57+02:00	Erik Schilling	ablu.erikschilling@googlemail.com	Use QSaveFile if it is available

QSaveFile allows a safer way to write / overwrite files.

Tests with full file systems worked fine. Without QSaveFile it
horribly fails to save the current map leaving you with broken
files.

Fixes: #442.

48fc3bac
19	0	src/libtiled/mapwriter.cpp
19	0	src/plugins/json/jsonplugin.cpp
25	1	src/plugins/lua/luaplugin.cpp

--d846c40b	2014-08-02T08:01:59+02:00	Erik Schilling	ablu.erikschilling@googlemail.com	Use more generic interface

This allows to feed the method with other devices too.

d846c40b
2	2	src/libtiled/mapwriter.cpp

--174b1aeb	2014-08-01T22:45:06+02:00	Erik Schilling	ablu.erikschilling@googlemail.com	Provide a shortcut to add tilesets from the dock

This only works for non external tilesets.
External ones would require an icon. But it should also be
considered wether another button in the dock would not be too much.

Fixes: #695.

174b1aeb
1	0	NEWS
2	0	src/tiled/mainwindow.cpp
9	0	src/tiled/tilesetdock.cpp
3	0	src/tiled/tilesetdock.h

--2c1b2c37	2014-08-01T23:41:21+02:00	Erik Schilling	ablu.erikschilling@googlemail.com	Made variable name easier to understand

2c1b2c37
10	7	src/tiled/tilesetdock.cpp

--0aed6dd9	2014-08-01T00:13:13+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Watch maps for changes and support reloading

The reload happens automatically when there are no currently unsaved
changes. It can also be triggered manually from the File menu. When
there are unsaved changes, the user is notified about changes to the map
file by a non-modal popup.

The undo history is lost when reloading a map for now. It would be nice
to change it so that it is kept in the future, but this isn't trivial to
implement.

Closes #56

Sponsored-by: FlatRedBall.com

0aed6dd9
222	7	src/tiled/documentmanager.cpp
31	0	src/tiled/documentmanager.h
29	46	src/tiled/mainwindow.cpp
2	1	src/tiled/mainwindow.h
17	2	src/tiled/mainwindow.ui
52	2	src/tiled/mapdocument.cpp
24	3	src/tiled/mapdocument.h
7	1	src/tiled/movabletabwidget.cpp
3	1	src/tiled/movabletabwidget.h

--08dc78d3	2014-08-01T10:05:26+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #709 from mhussa/master

Update tmxrasterizer OSX install
08dc78d3
--98397661	2014-08-01T02:52:52+01:00	mhussa	mhussa@users.noreply.github.com	For OSX make tmxrasterizer a command line app which is also installed in
the dmg file and fix its shared lib paths.

98397661
2	1	dist/make-dist-mac.rb
1	0	src/tmxrasterizer/tmxrasterizer.pro

--8347cce6	2014-08-01T00:18:20+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed compile against Qt 4

filesystemwatcher.cpp:78:26: error: invalid use of incomplete type ‘struct QStringList’

8347cce6
1	0	src/tiled/filesystemwatcher.cpp

--2358419d	2014-07-31T23:52:22+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed the file system watcher in case a watched file is replaced

This approach seems to work for files saved with vim. Maybe it also
fixes the problem with watching tilesets saved by Photoshop.

2358419d
19	2	src/tiled/filesystemwatcher.cpp
4	0	src/tiled/filesystemwatcher.h

--daf26855	2014-07-31T23:20:30+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed some cleanup related to closing documents

The cleanup was happening on document close requests rather than when
documents are actually being closed, and depending on the connection
order it may even have happened after the close request was already
handled.

daf26855
4	2	src/tiled/documentmanager.cpp
5	0	src/tiled/documentmanager.h
4	6	src/tiled/objectsdock.cpp
1	1	src/tiled/objectsdock.h
4	5	src/tiled/tilesetdock.cpp
1	1	src/tiled/tilesetdock.h

--96ac21c4	2014-07-27T10:23:29+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Some include cleanups

96ac21c4
3	0	src/tiled/documentmanager.cpp
3	4	src/tiled/documentmanager.h
1	0	src/tiled/mainwindow.cpp
1	0	src/tiled/mapdocumentactionhandler.cpp
1	0	src/tiled/preferences.cpp
1	0	src/tiled/terraindock.cpp

--a57c353c	2014-07-21T23:09:00+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	NEWS file updates

And some small code style tweaks.

a57c353c
2	0	NEWS
1	2	src/tiled/abstractimagetool.h
3	5	src/tiled/imagemovementtool.cpp
6	6	src/tiled/tiled.pro

--185ec6f0	2014-07-21T17:20:30+02:00	Mattia Basaglia	mattia.basaglia@gmail.com	Allow dragging image layers

Creates a tool which allows the current image layer to be dragged with the mouse.

185ec6f0
80	0	src/tiled/abstractimagetool.cpp
70	0	src/tiled/abstractimagetool.h
122	0	src/tiled/imagemovementtool.cpp
58	0	src/tiled/imagemovementtool.h
3	0	src/tiled/mainwindow.cpp
6	2	src/tiled/tiled.pro

--ba6394fe	2014-06-27T13:46:14+02:00	Lennert Raesch	lennert@raesch.org	Added render-order option for map

Closes #455

ba6394fe
1	0	docs/map.dtd
10	0	docs/map.xsd
34	0	src/libtiled/map.cpp
25	0	src/libtiled/map.h
6	0	src/libtiled/mapreader.cpp
2	0	src/libtiled/mapwriter.cpp
32	6	src/libtiled/orthogonalrenderer.cpp
1	0	src/plugins/json/maptovariantconverter.cpp
4	0	src/plugins/json/varianttomapconverter.cpp
4	2	src/plugins/python/pythonbind.cpp
6	1	src/tiled/changemapproperties.cpp
4	1	src/tiled/changemapproperties.h
2	0	src/tiled/clipboardmanager.cpp
11	0	src/tiled/newmapdialog.cpp
13	0	src/tiled/newmapdialog.ui
19	0	src/tiled/preferences.cpp
4	0	src/tiled/preferences.h
28	2	src/tiled/propertybrowser.cpp
2	0	src/tiled/propertybrowser.h
1	0	src/tiled/quickstampmanager.cpp

--fae20359	2014-07-13T00:27:07+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated NEWS file in preparation of 0.10 release

No release date is planned yet, it will happen when it's ready.

fae20359
38	0	NEWS

--e61d0f01	2014-07-08T23:26:26+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Prettier Travis CI badge
e61d0f01
1	1	README.md

--225d38b4	2014-07-08T23:21:17+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added Travis CI badge
225d38b4
1	1	README.md

--420ca73d	2014-07-08T23:17:01+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #685 from bountysource-support/patch-1

Add Bountysource badge to README
420ca73d
--69be3694	2014-07-08T23:00:41+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #697 from Roflraging/objectautomappingfix

Fixed automapping object region check
69be3694
--f2fdc87e	2014-06-30T01:07:27-05:00	Harry Hsiao	harry@stellarjockeys.com	Fixed automapping object region check.

f2fdc87e
9	4	src/tiled/automapper.cpp
6	1	src/tiled/automappingutils.cpp

--3695834c	2014-06-16T15:24:42-07:00	bountysource-support	support@bountysource.com	Add Bountysource badge to README

Because you have some open bounties, we thought you might want to display this badge in your README!
3695834c
2	0	README.md

--5aeaf364	2014-06-10T18:30:00+08:00	leeonix	real-like@yeah.net	add precompiled header.
add QMAKE_PROJECT_NAME = libtiled

5aeaf364
1	0	src/libtiled/libtiled.pro
62	0	src/tiled/pch.h
1	0	src/tiled/tiled.pro

--58ce6acc	2014-06-04T23:14:31+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed unused function

58ce6acc
0	5	src/tiled/terrainbrush.cpp

--a9f6f618	2014-06-04T22:34:55+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed a superfluous snippet from libtiled.pro

This snippet was already included from tiled.pri.

a9f6f618
0	5	src/libtiled/libtiled.pro

--0802a7e4	2014-05-30T23:06:28+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Make sure the new Traditional Chinese translation is released

0802a7e4
0	0	translations/tiled_zh_TW.ts
1	1	translations/translations.pro

--de5d8f97	2014-05-30T23:03:54+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #677 from yehnan/master

add translations/tiled_zh_TW.ts
de5d8f97
--f4d906e5	2014-05-29T17:18:32+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	tmxviewer: Added error handling

* Print out the error message
* Don't crash when the map failed to load

f4d906e5
3	2	src/tmxviewer/main.cpp
10	3	src/tmxviewer/tmxviewer.cpp
1	1	src/tmxviewer/tmxviewer.h

--03fccaef	2014-05-29T17:04:55+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	tmxviewer: Support staggered maps

03fccaef
4	0	src/tmxviewer/tmxviewer.cpp

--0435bcdb	2014-05-27T20:20:19+08:00	Yehnan Chiang	yehnan174@gmail.com	add translations/tiled_zh_TW.ts, Tranditional Chinese language translation

0435bcdb
2884	0	translations/tiled_zh_TW.ts

--9b77a325	2014-05-23T23:47:39+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed terribly slow object movements with cursor keys

It had not been adapted yet to the switch to storing object positions in
pixels rather than tiles.

9b77a325
4	4	src/tiled/objectselectiontool.cpp

--1de01479	2014-05-23T22:03:51+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated the DTD file included in libtiled-java

This updates the file to the latest version. However, the latest version
of the DTD is still missing years of additions.

Closes #674

1de01479
12	7	util/java/libtiled-java/src/tiled/io/resources/map.dtd

--8ee55b1f	2014-05-23T22:02:14+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #676 from fzzrr/fix/dtd

fix DTD: add support orientation="staggered"
8ee55b1f
--ce071c1c	2014-05-23T20:45:05+04:00	Alex Koz	i@fizzer.ru	fix DTD: add support orientation="staggered"

ce071c1c
1	1	docs/map.dtd

--017b318b	2014-05-23T00:10:49+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #666 from despondentdonkey/refactor

Rename tile selection functions and undo command.
017b318b
--3e5690d7	2014-05-22T23:56:55+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed issue with zoom combo box jumping to 1%

Was broken by c6bc0a1e4061cf788342b120e8abcad43064c929. Thanks to
@obeea for finding this.

Fixes #665

3e5690d7
3	1	src/tiled/zoomable.cpp

--e2d6b200	2014-05-21T19:28:30-06:00	Parker Miller	despondentdonkey@gmail.com	Renamed changetileselection.h/cpp to changeselectedarea.h/cpp

e2d6b200
2	2	src/tiled/{changetileselection.cpp => changeselectedarea.cpp}
4	4	src/tiled/{changetileselection.h => changeselectedarea.h}
1	1	src/tiled/mapdocument.cpp
1	1	src/tiled/mapdocumentactionhandler.cpp
2	2	src/tiled/tiled.pro
2	2	src/tiled/tiled.qbs
1	1	src/tiled/tileselectiontool.cpp
1	1	translations/tiled_cs.ts
1	1	translations/tiled_de.ts
1	1	translations/tiled_en.ts
1	1	translations/tiled_es.ts
1	1	translations/tiled_fr.ts
1	1	translations/tiled_he.ts
1	1	translations/tiled_it.ts
1	1	translations/tiled_ja.ts
1	1	translations/tiled_lv.ts
1	1	translations/tiled_nl.ts
1	1	translations/tiled_pt.ts
1	1	translations/tiled_pt_BR.ts
1	1	translations/tiled_ru.ts
1	1	translations/tiled_zh.ts

--d18871c9	2014-05-21T19:10:28-06:00	Parker Miller	despondentdonkey@gmail.com	Renamed undo command ChangeTileSelection to ChangeSelectedArea.

d18871c9
4	4	src/tiled/changetileselection.cpp
2	2	src/tiled/changetileselection.h
1	1	src/tiled/mapdocument.cpp
2	2	src/tiled/mapdocumentactionhandler.cpp
1	1	src/tiled/tileselectiontool.cpp

--1f7185b3	2014-05-21T18:59:35-06:00	Parker Miller	despondentdonkey@gmail.com	Rename tile selection functions in map document.

setTileSelection is now setSelectedArea
tileSelection is now selectedArea
tileSelectionChanged is now selectedAreaChanged

1f7185b3
3	3	src/tiled/bucketfilltool.cpp
2	2	src/tiled/changetileselection.cpp
3	3	src/tiled/clipboardmanager.cpp
8	8	src/tiled/mainwindow.cpp
6	6	src/tiled/mapdocument.cpp
4	4	src/tiled/mapdocument.h
5	5	src/tiled/mapdocumentactionhandler.cpp
2	2	src/tiled/offsetmapdialog.cpp
1	1	src/tiled/quickstampmanager.cpp
3	3	src/tiled/tilepainter.cpp
3	3	src/tiled/tileselectionitem.cpp
2	2	src/tiled/tileselectiontool.cpp

--2d6d07cc	2014-05-21T20:27:43+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed linker error on Mac OS X when compiling with Qt 5

Based on Qt Creator commit a4e593c910cca.

2d6d07cc
1	1	translations/translations.pro

--b8af93cd	2014-05-15T22:33:45+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Ship Visual Studio 10 runtime DLLs with Tiled

They're not available on all Windows systems.

Closes #542

b8af93cd
5	0	dist/win/tiled.nsi

--638291ed	2014-05-12T22:32:57+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #644 from despondentdonkey/master

Set properties on multiple objects at the same time
638291ed
--7c0379a6	2014-05-12T21:57:28+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Tweaked iteration order for efficiency reasons

This is unlikely to be measurable, but it's a principle thing.

7c0379a6
2	2	src/tiled/tilepainter.cpp

--1dc3c99a	2014-04-27T16:47:42-06:00	Parker Miller	despondentdonkey@gmail.com	Tile properties can be changed simultaneously.

1dc3c99a
6	2	src/tiled/mapdocument.cpp
10	0	src/tiled/mapdocument.h
13	0	src/tiled/tilesetdock.cpp

--afd270b9	2014-04-23T16:12:41+00:00	Parker Miller	despondentdonkey@gmail.com	Added applyMapObjectValueTo to share non-custom MapObject properties.

afd270b9
23	3	src/tiled/propertybrowser.cpp
2	0	src/tiled/propertybrowser.h

--55998ea8	2014-04-23T00:46:50+00:00	Parker Miller	despondentdonkey@gmail.com	Undo commands SetProperty and RemoveProperty support multiple objects.

Passing current objects to instances of SetProperty and RemoveProperty.

55998ea8
30	17	src/tiled/changeproperties.cpp
11	7	src/tiled/changeproperties.h
2	2	src/tiled/propertiesdock.cpp
1	1	src/tiled/propertybrowser.cpp

--1f434e88	2014-04-23T00:41:19+00:00	Parker Miller	despondentdonkey@gmail.com	Added currentObjects function to MapDocument.

1f434e88
15	0	src/tiled/mapdocument.cpp
3	0	src/tiled/mapdocument.h

--6bd9695e	2014-05-12T11:29:21+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Set the clang makespec when compiling with clang

Until now Tiled was being compiled with g++ also when it is meant to
be compiled with clang++.

qmake ignores the CC/CXX environment variables. The compiler is set as
part of the makespec.

Also added reporting of Qt version to the log.

6bd9695e
7	3	.travis.yml

--02d6c2f8	2014-05-12T01:04:02+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Adapted Windows installer script to Qt 5

02d6c2f8
25	21	dist/win/tiled.nsi

--e3ddde8f	2014-05-12T00:00:59+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Refer to direct superclass in using statements

e3ddde8f
4	4	src/libtiled/staggeredrenderer.h

--4243ed0b	2014-05-11T23:52:33+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Unduplicated the object-related staggered renderer code

It is the same as the code for dealing with objects in the orthogonal
renderer, so we can share it by simply basing the StaggeredRenderer
on the OrthogonalRenderer.

4243ed0b
25	12	src/libtiled/maprenderer.h
1	264	src/libtiled/staggeredrenderer.cpp
4	17	src/libtiled/staggeredrenderer.h

--99d9ed51	2014-05-11T23:55:48+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #638 from Wodann/master

Isometric (staggered) objects
99d9ed51
--4ee1151c	2014-05-11T20:58:31+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Small correction to copyright lines

4ee1151c
2	2	src/tiled/movabletabwidget.cpp
2	2	src/tiled/movabletabwidget.h

--ed7eb014	2014-05-11T20:50:41+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #640 from sean-h/master

Allow changing order of open document tabs
ed7eb014
--2d3d5ac8	2014-05-11T19:13:03+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Some simplifications and fixes to showing local tile ID

* Removed separate updating function and data member
* Use TileLayer::contains instead of TileLayer::bounds().contains()
* Don't show 0 as "None" since for the local tile ID, 0 means the first
  tile in the tileset
* Tweaked notation a little
* Removed unnecessary isEmpty and isTileLayer checks
* Removed the isVisible check, since I think it is a little confusing to
  display "None" just because the layer isn't visible
* Made sure the text is translatable, and renamed "None" to "empty"

2d3d5ac8
12	22	src/tiled/abstracttiletool.cpp
0	2	src/tiled/abstracttiletool.h

--6ac5776f	2014-05-11T18:54:09+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #652 from Champi080/master

TileTool StatusInfo: Added Tile ID
6ac5776f
--c5dfae3b	2014-05-11T18:42:35+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed missing translation update

c5dfae3b
1	0	src/tiled/mainwindow.cpp

--f818ede2	2014-05-11T18:03:26+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed line that is causing a warning when read by Qt Creator

"Cannot read /home/bjorn/projects/tiled/src/qtpropertybrowser/config.pri:
No such file or directory"

Tiled is not going to use the QtPropertyBrowser as a library anyway.

f818ede2
0	1	src/qtpropertybrowser/common.pri

--9d7b5fc1	2014-05-11T01:54:56+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added parenthesis suggested by gcc

No difference in behavior, but good for clarity.

warning: suggest parentheses around comparison in operand of ‘^’
[-Wparentheses]

9d7b5fc1
1	1	src/libtiled/orthogonalrenderer.cpp

--c6bc0a1e	2014-05-11T01:53:08+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed unused variable warning when compiling in Release mode

c6bc0a1e
1	2	src/tiled/zoomable.cpp

--403e1707	2014-05-10T23:10:11+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Initial support for compiling Tiled with Qbs

Not compiling additional binaries or any plugins yet, and not taking
care of the translations. Install step not tested either.

403e1707
69	0	src/libtiled/libtiled.qbs
268	0	src/tiled/tiled.qbs
9	0	tiled.qbs

--f6d22ab0	2014-05-11T01:39:39+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed usage of deprecated qVariantValue

f6d22ab0
3	3	src/tiled/variantpropertymanager.cpp

--e71ec85a	2014-05-11T01:31:11+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed use of deprecated functions from qtpropertybrowser

e71ec85a
0	1	src/qtpropertybrowser/src/qtpropertybrowser.pri
9	0	src/qtpropertybrowser/src/qttreepropertybrowser.cpp
93	93	src/qtpropertybrowser/src/qtvariantproperty.cpp

--6f72117e	2014-04-30T13:40:32+02:00	Champi080	quakenet3@mixmail.com	Fix: "Tile ID" does not showing in status bar

6f72117e
2	2	src/tiled/abstracttiletool.cpp

--9148ac9b	2014-04-29T19:47:55-04:00	Sean Humeniuk	seanhumeniuk@gmail.com	Normalize MovableTabWidget signals and slots

9148ac9b
1	2	src/tiled/documentmanager.cpp

--3ef66652	2014-04-24T17:48:27+02:00	Champi080	quakenet3@mixmail.com	TileTool StatusInfo: Added Tile ID

Show tile id in the status bar

3ef66652
20	0	src/tiled/abstracttiletool.cpp
2	0	src/tiled/abstracttiletool.h

--6537f557	2014-04-23T23:55:47+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed staggeredrenderer test

Pixel coordinates were renamed to screen coordinates.

6537f557
14	14	tests/staggeredrenderer/test_staggeredrenderer.cpp

--ed90ef24	2014-04-23T23:40:17+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed mapreader test

Object position and size are now stored in pixel instead of tile units.

ed90ef24
4	4	tests/mapreader/test_mapreader.cpp

--a3488879	2014-04-23T23:17:58+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed a non-functional hack that was causing a crash

This code was meant to make sure positions and sizes of objects stored
as part of tile collision information were in coordinates relative to
the tile texture, ranging from 0-1. However, it is no longer functional
since the map's tile width and height are no longer used by the map
reader and writer now that the objects store their positions in pixels
rather than tiles.

Overall I think it's anyway a better idea when the positions and sizes
are kept in pixels here and not stored in "texture coordinates", since
this is consistent with the units used in regular object groups. In
addition it is trivial to divide the values by the size of the tile to
obtain the texture coordinates.

Fixes #646

a3488879
0	8	src/libtiled/mapreader.cpp
2	10	src/plugins/json/varianttomapconverter.cpp

--34fbab62	2014-04-18T18:46:31-04:00	Sean Humeniuk	seanhumeniuk@gmail.com	Change DocumentManager to use MovableTabWidget

34fbab62
7	13	src/tiled/documentmanager.cpp
3	7	src/tiled/documentmanager.h
0	1	src/tiled/mainwindow.cpp
34	0	src/tiled/movabletabwidget.cpp
55	0	src/tiled/movabletabwidget.h
2	0	src/tiled/tiled.pro

--f177865e	2014-04-18T12:26:13+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #643 from Ablu/manpage_update

Manpage update
f177865e
--e4510b4c	2014-04-18T10:05:05+02:00	Erik Schilling	ablu.erikschilling@googlemail.com	Fixed typo in help string of tmxrasterizer

e4510b4c
1	1	src/tmxrasterizer/main.cpp

--37cd320b	2014-04-18T10:04:13+02:00	Erik Schilling	ablu.erikschilling@googlemail.com	Added missing command line arguments to manpage

37cd320b
15	1	docs/tmxrasterizer.1
11	0	docs/tmxrasterizer.1.ronn

--9055ba4e	2014-04-17T09:11:32+02:00	Wodann	remco.kuijper@gmail.com	Changed coding style to match the original

9055ba4e
25	54	src/libtiled/staggeredrenderer.cpp

--e69e93c2	2014-04-16T23:03:08+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #639 from gauauu/includeCollisions

Option to include collision layer in tmxrasterizer
e69e93c2
--33401113	2014-04-16T14:55:01-05:00	Nathan Tolbert	gauauu@yahoo.com	make --hide-layer case-insensitive

33401113
1	1	src/tmxrasterizer/tmxrasterizer.cpp

--70560b03	2014-04-15T14:29:55-04:00	Sean Humeniuk	seanhumeniuk@gmail.com	Match open document order with document tab order

70560b03
13	0	src/tiled/documentmanager.cpp
5	0	src/tiled/documentmanager.h
1	0	src/tiled/mainwindow.cpp

--5da09c5c	2014-04-14T16:30:49-05:00	Nathan Tolbert	gauauu@yahoo.com	change command-line options to better control layer visibility

5da09c5c
19	7	src/tmxrasterizer/main.cpp
18	3	src/tmxrasterizer/tmxrasterizer.cpp
14	3	src/tmxrasterizer/tmxrasterizer.h

--0d831e78	2014-04-14T21:43:54-04:00	Sean Humeniuk	seanhumeniuk@gmail.com	Allow changing order of open document tabs

0d831e78
1	0	src/tiled/documentmanager.cpp

--b6b647c0	2014-04-14T18:12:19+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #637 from sean-h/master

Add option to include background image when saving as image
b6b647c0
--fc7367de	2014-04-13T21:34:37-05:00	tolbert	nathantolbert@gmail.com	fixed tabs vs spaces

fc7367de

--1481d619	2014-04-13T21:30:46-05:00	tolbert	nathantolbert@gmail.com	add option to tmxrasterizer to include the layer named "collision"

1481d619
8	1	src/tmxrasterizer/main.cpp
3	2	src/tmxrasterizer/tmxrasterizer.cpp
3	0	src/tmxrasterizer/tmxrasterizer.h

--a466e2fc	2014-04-13T12:30:52+02:00	Wodann	remco.kuijper@gmail.com	+ Added objects to the isometric (staggered) renderer
* Fixed bug that caused grey artifacts at the top left and right corners of a tall sprite when in isometric (staggered) renderer

a466e2fc
275	29	src/libtiled/staggeredrenderer.cpp

--6d83ed2c	2014-04-10T13:25:08-04:00	Sean Humeniuk	seanhumeniuk@gmail.com	Draw gray background when saving image if background is not valid

6d83ed2c
0	1	src/tiled/newmapdialog.cpp
5	1	src/tiled/saveasimagedialog.cpp

--0e175169	2014-04-09T14:15:51-04:00	Sean Humeniuk	seanhumeniuk@gmail.com	Add option to include background image when saving as image

0e175169
1	0	src/tiled/newmapdialog.cpp
11	0	src/tiled/saveasimagedialog.cpp
7	0	src/tiled/saveasimagedialog.ui

--fec7c078	2014-04-05T20:00:25+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #632 from stefanbeller/master

Fix typo in travis
fec7c078
--d4b6241d	2014-04-05T16:41:15+02:00	Stefan Beller	stefanbeller@googlemail.com	Fix typo in travis

d4b6241d
1	1	.travis.yml

--5331ea69	2014-04-05T14:53:05+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added a missing 'break' in CommandDataModel::setData

Though since there was an additional check on the column, the missing
break was not causing any issues.

At the same time I've made sure the EnabledColumn is no longer editable.
It should only be marked as checkable.

Coverity-issue: 1165677 (Missing break in switch)

5331ea69
7	3	src/tiled/commanddatamodel.cpp

--146b31e2	2014-04-05T14:47:14+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed confusing return value in PythonPlugin::write

Warning from clang++:

  warning: implicit conversion of NULL constant to 'bool'
  [-Wnull-conversion]

146b31e2
3	2	src/plugins/python/pythonplugin.cpp

--b5d2c2ed	2014-04-05T14:41:32+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Initialize BucketFillTool::mLastRandomStatus

Coverity-issue: 1165681 (Uninitialized scalar field)

b5d2c2ed
4	2	src/tiled/bucketfilltool.cpp

--f4bfbbdf	2014-04-05T14:38:03+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Initialize MiniMap::mRedrawMapImage

Not that it could cause any problems when it was true by default, but a
redraw is not needed right after startup.

Coverity-issue: 1165689 (Uninitialized scalar field)

f4bfbbdf
1	0	src/tiled/minimap.cpp

--1f067f78	2014-04-05T14:35:15+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Initialize PythonPlugin::pTiledCls

Coverity-issue: 1165692 (Uninitialized pointer field)

1f067f78
1	0	src/plugins/python/pythonplugin.cpp

--5dfe8f81	2014-04-05T14:33:02+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed two uninitialized variables

Though I don't see how either could cause any issue, it's better to
initialize them anyway.

Coverity-issue: 1165694 (Uninitialized pointer field)

5dfe8f81
2	0	src/tiled/propertybrowser.cpp

--525ebdea	2014-04-05T14:27:58+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed the default Change constructor

It was never getting used, but it was needed for compilation. Changed
some code around so that this default constructor does not need to be
declared.

Coverity-issue: 1165695 (Uninitialized scalar field)

525ebdea
3	2	src/tiled/changetileterrain.cpp
0	1	src/tiled/changetileterrain.h

--9266e9aa	2014-04-05T14:24:22+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added missing initialization

This pointed could never be referenced, but it's better to initialize
it anyway to avoid future issues.

Coverity-issue: 1165696 (Uninitialized pointer field)

9266e9aa
1	0	src/tiled/tileanimationeditor.cpp

--51fca1d3	2014-04-05T14:16:11+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Initialize TilesetView::mMarkAnimatedTiles as appropriate

The marking of animated tiles is expected to be enabled by default.  It
is disabled in the tileset view used to pick the animation frames in the
Tile Animation Editor.

Coverity-issue: 1165697 (Uninitialized scalar field)

51fca1d3
1	0	src/tiled/tilesetview.cpp

--c0fac49b	2014-04-05T10:11:46+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added Coverity scan to Travis CI configuration

c0fac49b
17	0	.travis.yml

--aa0417c5	2014-03-25T22:14:21+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Avoid hang on Mac OS X when drawing certain ellipse objects

Trying to draw an ellipse with 0-width is causing a hang in
CoreGraphics when drawing the path requested by the
QCoreGraphicsPaintEngine. Draw them as rectangle instead.

In the isometric renderer, a rectangle is drawn as well anyway,
so the drawing of a 0-width ellipse is simply avoided.

Fixes #613

aa0417c5
4	0	src/libtiled/isometricrenderer.cpp
10	1	src/libtiled/orthogonalrenderer.cpp

--87a8f63f	2014-01-18T19:45:14+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed unused rename icon

87a8f63f
-	-	src/tiled/images/16x16/edit-rename.png
0	1	src/tiled/tiled.qrc

--9b088a92	2014-03-16T12:17:46+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed unused include

Found by Ablu. ;)

9b088a92
0	1	src/libtiled/gidmapper.cpp

--4c23a576	2014-03-15T22:16:30+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #622 from Ablu/travis_tests

Make travis run the tests
4c23a576
--0ddb90d6	2014-03-15T21:33:01+01:00	Erik Schilling	ablu.erikschilling@googlemail.com	Make travis run the tests

0ddb90d6
11	1	.travis.yml

--57541353	2014-03-15T14:18:11+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #621 from Ablu/64bit_plugins

Added a USE_FHS_PLUGIN_PATH switch
57541353
--a4046069	2014-03-15T13:32:57+01:00	Erik Schilling	ablu.erikschilling@googlemail.com	Added a USE_FHS_PLUGIN_PATH switch

Setting this variable during the qmake run will make tiled
correctly picking up the install dir of plugins if the
lib path differs from "../lib" (generally the case for 64 bit releases).

a4046069
5	0	src/tiled/pluginmanager.cpp
5	0	tiled.pri

--19dbbe6b	2014-03-09T22:42:22+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed "Offset Map" action to offset objects properly

Objects were still getting offset in tile coordinates even though their
position and size are now in pixel coordinates.

19dbbe6b
0	4	src/libtiled/imagelayer.h
0	6	src/libtiled/layer.h
6	0	src/libtiled/maprenderer.h
13	20	src/libtiled/objectgroup.cpp
7	6	src/libtiled/objectgroup.h
4	4	src/libtiled/tilelayer.h
22	3	src/tiled/offsetlayer.cpp

--2b43decc	2014-03-09T17:31:30+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Renamed resizelayer.cpp/h to match new class name

2b43decc
1	1	src/tiled/mapdocument.cpp
2	2	src/tiled/{resizelayer.cpp => resizetilelayer.cpp}
1	1	src/tiled/{resizelayer.h => resizetilelayer.h}
2	2	src/tiled/tiled.pro

--f4c4ebc5	2014-03-09T17:17:47+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed position adjustment of objects when resizing map

The same issue still affects the "Offset Map" action, though.

f4c4ebc5
0	6	src/libtiled/layer.cpp
12	6	src/libtiled/layer.h
0	14	src/libtiled/objectgroup.cpp
0	8	src/libtiled/objectgroup.h
1	1	src/libtiled/tilelayer.cpp
1	3	src/libtiled/tilelayer.h
28	4	src/tiled/mapdocument.cpp
13	12	src/tiled/resizelayer.cpp
8	7	src/tiled/resizelayer.h

--501fc215	2014-03-09T14:59:50+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Avoid wrong removal of objects when resizing the map

Since object coordinates are now in pixel coordinates, the visibility
check of the resize operation was wrongly determining most objects were
outside of the map boundaries and removed those objects. Now it should
correctly take the pixel coordinates into account. At the same time,
handling of tile objects and object rotation was added.

While working on this I found another bug however, which is that the
object positions are not adjusted correctly. This is because the
correction is still applied in tile coordinates.

Closes #617

501fc215
2	0	src/libtiled/objectgroup.cpp
19	16	src/tiled/mapdocument.cpp

--10fc438e	2014-03-02T18:21:33+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added read-only tile ID property to Properties window

Displays the local tile ID of a tile, which can be useful in some cases.

Closes #15

10fc438e
6	1	src/tiled/propertybrowser.cpp
1	0	src/tiled/propertybrowser.h

--6d381830	2014-02-26T21:43:32+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #588 from Omnomnobot/patch-3

Italian translation updates
6d381830
--705aa72b	2014-02-26T17:08:13+01:00	Omnomnobot	marco.fras@hotmail.it	Update tiled_it.ts

Removed "unfinished" tag from translated strings, and translated some others.
705aa72b
71	71	translations/tiled_it.ts

--b3f4f94d	2014-02-10T22:02:34+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Lua plugin: Removed conversion from tile to pixel coordinates

This is no longer necessary since the units are already in pixel
coordinates.

Closes #611

b3f4f94d
10	46	src/plugins/lua/luaplugin.cpp

--7c4f6cb9	2014-02-02T23:13:28+01:00	Stefan Beller	stefanbeller@googlemail.com	Flare plugin: Removed unneeded null pointer check

Coverity-issue: 1165680 (Dereference before null check)

7c4f6cb9
1	1	src/plugins/flare/flareplugin.cpp

--348e24de	2014-02-09T13:52:00+01:00	Michael Aquilina	michaelaquilina@gmail.com	Added support for moving image layers in the Properties window

348e24de
55	0	src/tiled/changeimagelayerposition.cpp
62	0	src/tiled/changeimagelayerposition.h
11	0	src/tiled/propertybrowser.cpp
2	0	src/tiled/tiled.pro

--abdfd6d4	2014-02-01T16:49:20+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Cleaned up some strange MapObjectModel code

The MapDocument pointer of the model should not be changed. The model
is owned by the MapDocument after all. Also, there was no need for
the additional (and uninitialized) mMapObjectModel member.

Coverity-issue: 1165682 (Uninitialized pointer field)

abdfd6d4
6	6	src/tiled/objectsdock.cpp
2	2	src/tiled/objectsdock.h

--b0e29e81	2014-02-01T16:35:48+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed unused TilesetModel::mAllowDragging

In fact this property was not needed since the view already has an
option for this.

Coverity-issue: 1165683 (Uninitialized scalar field)

b0e29e81
0	1	src/tiled/tileanimationeditor.cpp
0	7	src/tiled/tilesetmodel.cpp
0	6	src/tiled/tilesetmodel.h

--a2b030a3	2014-02-01T15:16:44+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed snapping to grid when moving and pasting objects

When pasting objects it was dealing with pixel coordinates rather than
tile coordinates for aligning.

For the moving, the alignment position is now in pixel coordinates but
was still treated as being in tile coordinates.

a2b030a3
4	3	src/tiled/clipboardmanager.cpp
4	4	src/tiled/editpolygontool.cpp
4	4	src/tiled/objectselectiontool.cpp

--a74fce02	2014-02-01T06:13:30-08:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #592 from mauvecow/mapobjectunitsv2

Map Objects' internal representation converted to pixel units
a74fce02
--5493110d	2014-02-01T05:21:31-08:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #591 from mauvecow/screencoords

Renamed "pixel" to "screen" coordinates and introduced a new "pixel" coordinate type.
5493110d
--7a949656	2014-01-23T22:09:17+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	JSON plugin: Added support for tile animations

7a949656
12	1	src/plugins/json/maptovariantconverter.cpp
11	0	src/plugins/json/varianttomapconverter.cpp

--2e5ae6a6	2014-01-22T23:16:36+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Lua plugin: Support tile animations and image collection tilesets

2e5ae6a6
46	6	src/plugins/lua/luaplugin.cpp

--40a6c35d	2014-01-23T22:24:02+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made animated tiles recognizable in the tileset view

By rendering a film strip on top.

40a6c35d
1	0	src/tiled/tileanimationeditor.cpp
9	0	src/tiled/tilesetdock.cpp
1	0	src/tiled/tilesetdock.h
9	0	src/tiled/tilesetmodel.cpp
8	0	src/tiled/tilesetmodel.h
37	0	src/tiled/tilesetview.cpp
13	0	src/tiled/tilesetview.h

--0c28dfc9	2014-01-18T16:11:45+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made undo/redo shortcuts work in tile animation editor

Also update the frame list as appropriate and make sure only one undo
command is created when deleting multiple non-consecutive rows at once.

0c28dfc9
53	3	src/tiled/tileanimationeditor.cpp
4	0	src/tiled/tileanimationeditor.h

--4c0682a2	2014-01-18T15:30:41+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added option to disable playing of tile animations

4c0682a2
3	0	src/tiled/mainwindow.cpp
9	0	src/tiled/mainwindow.ui
17	0	src/tiled/preferences.cpp
4	0	src/tiled/preferences.h
14	3	src/tiled/tilesetmanager.cpp
9	2	src/tiled/tilesetmanager.h

--b9219caa	2014-01-15T22:39:51+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Implemented deleting of tile animation frames

b9219caa
26	0	src/tiled/tileanimationeditor.cpp
2	0	src/tiled/tileanimationeditor.h

--57b655d4	2014-01-23T22:38:07+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added tile animation editor

Allows editing tile animations by drag & drop.

57b655d4
3	0	src/libtiled/tiled.h
51	0	src/tiled/changetileanimation.cpp
54	0	src/tiled/changetileanimation.h
19	0	src/tiled/mainwindow.cpp
4	0	src/tiled/mainwindow.h
14	0	src/tiled/mapdocument.h
306	0	src/tiled/tileanimationeditor.cpp
74	0	src/tiled/tileanimationeditor.h
102	0	src/tiled/tileanimationeditor.ui
6	1	src/tiled/tiled.pro
49	0	src/tiled/tilesetmodel.cpp
13	0	src/tiled/tilesetmodel.h

--b4808581	2014-01-23T04:47:35-08:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #597 from mauvecow/maprendererscale

Adds painterScale to MapRenderer to fix shadow offset issues for rotated objects.
b4808581
--3c90b101	2014-01-23T04:45:45-08:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #594 from mauvecow/multipletsxload

Allows adding multiple external tilesets at once.
3c90b101
--2154dbe4	2014-01-22T12:00:10-08:00	mauve	mauve@sandwich.net	Pass PainterScale to MapRenderer, fixing bounding shadows.

2154dbe4
1	1	src/libtiled/isometricrenderer.cpp
5	0	src/libtiled/maprenderer.h
1	1	src/libtiled/orthogonalrenderer.cpp
5	1	src/tiled/mapobjectitem.cpp
1	0	src/tiled/minimap.cpp
3	1	src/tiled/saveasimagedialog.cpp

--4fc91e30	2014-01-20T09:58:50-08:00	mauve	mauve@sandwich.net	Added error handling when loading multiple tsx files.

4fc91e30
27	5	src/tiled/mainwindow.cpp

--dd2ea233	2014-01-19T17:45:49-08:00	mauve	mauve@sandwich.net	addExternalTileset can now load multiple files at once.

dd2ea233
5	3	src/tiled/mainwindow.cpp

--143f518a	2014-01-19T21:33:07+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Simplified use of zlib with Qt 5 on Windows

In fact Qt Core is still exporting the zlib symbols, but the symbols
are prefixed now. To use them QtZlib/zlib.h needs to be included.

No need to install zlib separately, yay!

143f518a
9	0	src/libtiled/compression.cpp
1	26	src/libtiled/libtiled.pro

--92ef27ea	2014-01-18T20:27:47-08:00	mauve	mauve@sandwich.net	Removed unnecessary conversions in IsometricRenderer.

92ef27ea
0	20	src/libtiled/isometricrenderer.cpp
0	2	src/libtiled/isometricrenderer.h

--4c0d8db3	2014-01-18T20:02:38-08:00	mauve	mauve@sandwich.net	Updated object tools to use pixel units as needed.

4c0d8db3
1	1	src/tiled/clipboardmanager.cpp
22	14	src/tiled/createobjecttool.cpp
1	1	src/tiled/documentmanager.cpp
4	4	src/tiled/editpolygontool.cpp
7	6	src/tiled/mapobjectitem.cpp
2	2	src/tiled/objectselectiontool.cpp

--5130254d	2014-01-18T19:26:47-08:00	mauve	mauve@sandwich.net	Merge branch 'screencoords' into mapobjectunitsv2

5130254d
--b5503290	2014-01-18T19:23:16-08:00	mauve	mauve@sandwich.net	Corrected IsometicRenderer's pixelToScreen/screenToPixel.

b5503290
13	6	src/libtiled/isometricrenderer.cpp

--55e77677	2014-01-18T19:22:01-08:00	mauve	mauve@sandwich.net	Map Objects are now in Pixel units internally.

55e77677
49	23	src/libtiled/isometricrenderer.cpp
2	0	src/libtiled/isometricrenderer.h
4	21	src/libtiled/mapreader.cpp
8	8	src/libtiled/maprenderer.h
4	42	src/libtiled/mapwriter.cpp
15	22	src/libtiled/orthogonalrenderer.cpp
6	46	src/plugins/json/maptovariantconverter.cpp
4	22	src/plugins/json/varianttomapconverter.cpp

--cdab08f5	2014-01-18T17:09:20-08:00	mauve	mauve@sandwich.net	Added Screen coordinates, taking the role of the old Pixel coordinates.

cdab08f5
70	38	src/libtiled/isometricrenderer.cpp
14	2	src/libtiled/isometricrenderer.h
34	2	src/libtiled/maprenderer.h
34	12	src/libtiled/orthogonalrenderer.cpp
13	0	src/libtiled/orthogonalrenderer.h
45	11	src/libtiled/staggeredrenderer.cpp
13	1	src/libtiled/staggeredrenderer.h
1	1	src/tiled/abstractobjecttool.cpp
1	1	src/tiled/abstracttiletool.cpp
1	1	src/tiled/clipboardmanager.cpp
5	5	src/tiled/createobjecttool.cpp
1	1	src/tiled/documentmanager.cpp
7	7	src/tiled/editpolygontool.cpp
1	1	src/tiled/mapdocumentactionhandler.cpp
5	5	src/tiled/mapobjectitem.cpp
5	5	src/tiled/objectselectiontool.cpp

--ba09e9b0	2014-01-09T16:06:38+01:00	Omnomnobot	bboy_atom@hotmail.it	Fixed some weird translations

"Tileset" is a word that doesn't have a proper translation in Italian. I
had to change the language from Italian to English to figure out how to
add a tileset... So I fixed that.

ba09e9b0
17	17	translations/tiled_it.ts

--ed4da69e	2014-01-10T12:17:10+01:00	Omnomnobot	bboy_atom@hotmail.it	Update tiled_it.ts
ed4da69e
17	17	translations/tiled_it.ts

--d803ceae	2014-01-06T20:46:54+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed a Chinese translation

Wrong translation reported by @finscn and correction provided by
@porkness. Thanks!

Closes #585

d803ceae
1	1	translations/tiled_zh.ts

--8b3c7378	2014-01-05T16:01:26+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added some code to support TMW-style animated tiles

This is a bit unclean but it's convenient for converting the tile
animations to the TMX format.

8b3c7378
21	0	src/libtiled/mapreader.cpp

--b059a13b	2014-01-05T13:43:18+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Show tile animations in the map view

Currently there's no way to turn them off and it's all a little
unoptimized, but it works for tile layers, object layers and the brush
preview.

b059a13b
4	3	src/libtiled/maprenderer.cpp
3	1	src/tiled/mapscene.cpp
51	0	src/tiled/tileanimationdriver.cpp
55	0	src/tiled/tileanimationdriver.h
2	0	src/tiled/tiled.pro
25	1	src/tiled/tilesetmanager.cpp
12	1	src/tiled/tilesetmanager.h

--6cddacb9	2014-01-05T11:50:49+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added reading/writing of tile animations

6cddacb9
28	1	src/libtiled/mapreader.cpp
14	2	src/libtiled/mapwriter.cpp
56	3	src/libtiled/tile.cpp
37	1	src/libtiled/tile.h
2	2	src/libtiled/tileset.h

--0f4496d6	2014-01-04T16:04:48+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Small optimization in image saving and minimap rendering

The Qt documentation mentions that rendering into an
ARGB32_Premultiplied image is significantly faster than rendering into
an ARGB32 image. It is indeed faster, but unfortunately only 10% by my
measurements.

0f4496d6
1	1	src/tiled/minimap.cpp
1	1	src/tiled/saveasimagedialog.cpp

--ad70b047	2014-01-04T12:50:45+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Allow for more compact display of image collection tilesets

It may still not be ideal, but instead of using the maximum tile size of
the entire collection for each tile it will now use the maximum width
and height of only those tiles in the same column and row respectively.

This solution is only used when compiling against Qt 5.2 or higher,
since older Qt versions only take into account visible cells so the
display breaks when larger tiles become visible by scrolling.

ad70b047
13	2	src/tiled/tilesetview.cpp

--abc129a3	2014-01-04T09:28:51+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed resize helper rendering with Qt 5

Due to the use of scaling it is necessary to make sure the pen is
cosmetic. In Qt 4 the pen used to be cosmetic by default.

abc129a3
12	2	src/tiled/resizehelper.cpp

--1ddeacdd	2014-01-03T15:27:56+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	JSON plugin: Save/load a tile's object group when set

1ddeacdd
16	7	src/plugins/json/maptovariantconverter.cpp
31	34	src/plugins/json/varianttomapconverter.cpp

--c88e4ca4	2014-01-03T11:26:33+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Manage the tool bar outside of the ToolManager

This simplifies the code and provides more flexibility. It's also safer
since ownership over the tool bar is more clearly defined this way.

c88e4ca4
15	15	src/tiled/mainwindow.cpp
11	0	src/tiled/mainwindow.ui
9	8	src/tiled/tilecollisioneditor.cpp
3	51	src/tiled/toolmanager.cpp
11	19	src/tiled/toolmanager.h

--7a047bee	2014-01-02T22:46:44+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Worked around an issue with static child widgets of child windows

Using static child widgets in child windows can cause a crash on exit
because there is a chance that they are still referenced after being
deleted.

In the last commit the Tile collision editor was changed to a child
window and the MapView has a static viewport widget by default. This is
flag is no longer used to avoid the above issue.

7a047bee
4	1	src/tiled/mapview.cpp
15	1	src/tiled/mapview.h
1	1	src/tiled/tilecollisioneditor.cpp

--ca22f187	2014-01-02T22:33:32+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Use a separate window for the Tile Collision Editor

Resolves shortcut conflicts for cut, copy, paste and delete.

ca22f187
19	8	src/tiled/mainwindow.cpp
3	1	src/tiled/mainwindow.h
44	23	src/tiled/tilecollisioneditor.cpp
10	2	src/tiled/tilecollisioneditor.h

--323e513e	2013-12-23T20:42:39+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added cut/copy/paste/delete actions to collision editor

Unfortunately the shortcuts don't work reliably due to conflicting with
the same shortcuts working on the current map.

323e513e
1	1	src/tiled/abstracttool.cpp
62	0	src/tiled/clipboardmanager.cpp
16	0	src/tiled/clipboardmanager.h
4	45	src/tiled/mainwindow.cpp
1	2	src/tiled/preferences.cpp
108	9	src/tiled/tilecollisioneditor.cpp
15	0	src/tiled/tilecollisioneditor.h

--6199942a	2013-12-18T22:23:26+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made the ClipboardManager into a singleton

This makes sense since there is never a need for two clipboard managers,
and I want to access it from multiple places.

6199942a
16	2	src/tiled/clipboardmanager.cpp
16	1	src/tiled/clipboardmanager.h
5	5	src/tiled/mainwindow.cpp
0	2	src/tiled/mainwindow.h

--62cb07b2	2013-12-18T22:07:58+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Allow drawing collision shapes on tiles

This change associates an ObjectGroup with each Tile on-demand and adds
a new "Collision Editor" dock that allows editing this object group for
the selected tile.

Closes #552

62cb07b2
21	11	src/libtiled/mapreader.cpp
27	9	src/libtiled/mapwriter.cpp
0	1	src/libtiled/objectgroup.cpp
58	0	src/libtiled/tile.cpp
19	18	src/libtiled/tile.h
35	0	src/tiled/changetileobjectgroup.cpp
42	0	src/tiled/changetileobjectgroup.h
16	3	src/tiled/mainwindow.cpp
4	0	src/tiled/mainwindow.h
15	0	src/tiled/mapdocument.h
7	1	src/tiled/mapscene.cpp
232	0	src/tiled/tilecollisioneditor.cpp
69	0	src/tiled/tilecollisioneditor.h
4	0	src/tiled/tiled.pro

--0a080cc1	2013-12-16T20:57:57+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Avoid relying on MapDocumentActionHandler in the tools

This is in order to allow additional instances of the tools to operate
on a different MapDocument than the currently selected one.

0a080cc1
22	7	src/tiled/abstractobjecttool.cpp
3	0	src/tiled/abstractobjecttool.h
4	9	src/tiled/abstracttool.cpp
3	3	src/tiled/abstracttool.h
2	2	src/tiled/documentmanager.cpp
12	11	src/tiled/mainwindow.cpp
16	0	src/tiled/toolmanager.cpp
7	0	src/tiled/toolmanager.h

--529e57f0	2013-12-15T21:10:47+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Changed ToolManager to no longer be a singleton

This is done because I'd like to have two of them.

529e57f0
0	6	src/tiled/documentmanager.cpp
2	1	src/tiled/documentmanager.h
32	26	src/tiled/mainwindow.cpp
3	0	src/tiled/mainwindow.h
1	3	src/tiled/quickstampmanager.cpp
2	1	src/tiled/quickstampmanager.h
3	17	src/tiled/toolmanager.cpp
2	16	src/tiled/toolmanager.h

--265d3ce0	2013-12-14T21:57:46+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made AutomappingManager and QuickStampManager no longer singleton

They don't need to be a singleton since they are only accessed from
the MainWindow anyway.

265d3ce0
1	2	src/tiled/automapperwrapper.cpp
6	20	src/tiled/automappingmanager.cpp
11	30	src/tiled/automappingmanager.h
21	22	src/tiled/mainwindow.cpp
5	10	src/tiled/mainwindow.h
4	18	src/tiled/quickstampmanager.cpp
2	16	src/tiled/quickstampmanager.h

--44e067ba	2014-01-03T13:21:35+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	JSON plugin: Correctly resolve and clean the image paths

Since the last change, only the path used to load the image was
resolved, while the path remembered was the unresolved one and was also
not cleaned of "../" sequences. This can lead to problems later on (for
example when saving the map at a different location).

44e067ba
5	0	src/libtiled/tileset.cpp
5	0	src/libtiled/tileset.h
1	1	src/plugins/flare/flareplugin.cpp
18	15	src/plugins/json/varianttomapconverter.cpp
0	2	src/plugins/json/varianttomapconverter.h
1	1	src/tiled/newtilesetdialog.cpp
2	2	src/tiled/tilesetmanager.cpp

--e2612064	2014-01-03T03:57:46-08:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #582 from encukou/json-external-images

JSON plugin: Support tilesets with external images
e2612064
--05651881	2013-12-29T21:25:06+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed leaking of terrain types

The Tileset should own its terrain types. I just hope there wasn't some
obscure reason why the terrain types were not being deleted.

05651881
1	0	src/libtiled/tileset.cpp

--642be98d	2014-01-02T14:52:32+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed leaking of QActions by the CommandButton

The actions created when opening the popup menu had the button as their
owner, causing them to never be cleaned up.

642be98d
2	4	src/tiled/commandbutton.cpp

--fe295581	2014-01-02T14:53:48+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed typo

fe295581
1	1	src/plugins/lua/luaplugin.cpp

--81782648	2013-12-19T22:05:27+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed start drag distance when moving objects

See also commit 0fa36a9da5840976622c8d118dd25ed6084e84fb.

81782648
3	1	src/tiled/objectselectiontool.cpp
1	0	src/tiled/objectselectiontool.h

--0fa36a9d	2013-12-17T11:16:08+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed start drag distance check when editing polygons

The start drag distance check was done in map pixels rather than screen
pixels, causing the minimum effective drag distance to be way too large
when zoomed in.

0fa36a9d
3	1	src/tiled/editpolygontool.cpp
1	0	src/tiled/editpolygontool.h

--543b4992	2013-12-30T21:13:02+01:00	Petr Viktorin	encukou@gmail.com	JSON plugin: Support tilesets with external images

543b4992
5	1	src/plugins/json/maptovariantconverter.cpp
24	2	src/plugins/json/varianttomapconverter.cpp

--e0aa5f5e	2013-12-30T21:04:55+01:00	Petr Viktorin	encukou@gmail.com	JSON reader: read properties and terrains after tile info

The tile info code will be used for adding tiles with individual
images.
Properties and terains should be loaded afterwards, when all tiles
are available.

e0aa5f5e
21	20	src/plugins/json/varianttomapconverter.cpp

--9ec01aa5	2013-12-30T21:03:50+01:00	Petr Viktorin	encukou@gmail.com	JSON reader: factor out a loadImage method

9ec01aa5
16	13	src/plugins/json/varianttomapconverter.cpp
2	0	src/plugins/json/varianttomapconverter.h

--85ec3994	2013-10-21T00:53:34+02:00	Hendrik Brummermann	nhnb@users.sourceforge.net	libtiled-java: Defined unknown ObjectGroup attributes draworder, height, width

85ec3994
37	0	util/java/libtiled-java/src/tiled/core/ObjectGroup.java

--ee774f07	2013-10-21T00:45:15+02:00	Hendrik Brummermann	nhnb@users.sourceforge.net	libtiled-java: Support objects in the shape of ellipse and polygons

ee774f07
9	0	util/java/libtiled-java/src/tiled/core/MapObject.java
5	1	util/java/libtiled-java/src/tiled/core/ObjectGroup.java
32	3	util/java/libtiled-java/src/tiled/io/TMXMapReader.java

--d95e6206	2013-11-26T00:23:48+01:00	Hendrik Brummermann	nhnb@users.sourceforge.net	libtiled-java: Explicitly define Java compiler version

d95e6206
2	2	util/java/libtiled-java/build.xml

--a12e5ab2	2013-11-23T20:46:07+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Use QPen::setCosmetic to avoid line width scaling

a12e5ab2
6	4	src/libtiled/isometricrenderer.cpp
10	6	src/libtiled/orthogonalrenderer.cpp
2	1	src/libtiled/staggeredrenderer.cpp
1	1	src/tiled/mapobjectitem.cpp
3	0	src/tiled/preferencesdialog.ui
1	0	src/tiled/selectionrectangle.cpp

--ccff8c7c	2013-11-23T17:07:22+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Don't smooth-scale at 550%

In fact, don't smooth anything at 200% or above because it looks ugly.
This seems to be also what the GIMP is doing.

ccff8c7c
3	2	src/tiled/zoomable.h

--f893ace2	2013-11-22T19:53:26+01:00	Hendrik Brummermann	nhnb@users.sourceforge.net	libtiled-java: Fixed warnings and added annotations

f893ace2
1	0	util/java/libtiled-java/src/tiled/core/Map.java
1	0	util/java/libtiled-java/src/tiled/core/MapLayer.java
2	0	util/java/libtiled-java/src/tiled/core/MapObject.java
12	0	util/java/libtiled-java/src/tiled/core/ObjectGroup.java
2	0	util/java/libtiled-java/src/tiled/core/Sprite.java
1	0	util/java/libtiled-java/src/tiled/core/Tile.java
12	3	util/java/libtiled-java/src/tiled/core/TileLayer.java
1	0	util/java/libtiled-java/src/tiled/core/TileSet.java
0	1	util/java/libtiled-java/src/tiled/io/TMXMapReader.java
6	0	util/java/libtiled-java/src/tiled/io/xml/XMLWriterException.java
1	0	util/java/libtiled-java/src/tiled/util/TransparentImageFilter.java

--ae888f95	2013-11-16T22:02:45+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	TMX: Save width/height of individual tile images

Useful in case somebody wants to process the file without loading the
images but still wants to know the size of the tiles. Tiled currently
does not use this information.

Closes #538

ae888f95
8	0	src/libtiled/mapwriter.cpp

--ad407502	2013-11-11T21:16:48+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Set the ownership of the MapsDock file system model instance

Poor orphan wasn't being deleted.

ad407502
1	1	src/tiled/mapsdock.cpp

--4843c842	2013-11-11T21:18:49+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Python plugin: Fixed several memory management issues

* Fixed a problem with using a function call as argument to Py_XDECREF,
  introduced in my recent cleanup. Due to this being a macro the function
  call was done twice, leading to a crash due to accessing null-pointer.

* Provided a proper copy constructor for Tiled::Map because the generated
  Python relied on it. The default copy constructor was not deep-copying
  map layers, leading to a double-free when the maps were being deleted.
  This avoided the need to keep around references to loaded maps as well
  as the need to clone a map before saving it.

* Don't manually delete references to plugin modules, classes and the
  reference to the Tiled Plugin class. Python doesn't like that so now
  references are decremented as appropriate before calling Py_Finalize.

Some problems seem to remain since valgrind wasn't entirely happy yet,
but I hope it will not crash as often now.

4843c842
19	13	src/libtiled/map.cpp
5	2	src/libtiled/map.h
5	0	src/libtiled/object.h
35	17	src/plugins/python/pythonplugin.cpp
0	1	src/plugins/python/pythonplugin.h

--c7fade89	2013-11-10T22:41:18+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed Map::clone to also clone background color and layer data format

c7fade89
2	0	src/libtiled/map.cpp

--7a43c78d	2013-11-10T22:40:46+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Python plugin cleanups

Mostly about coding style.

7a43c78d
52	54	src/plugins/python/pythonplugin.cpp
9	1	src/plugins/python/pythonplugin.h

--73a7fb20	2013-11-10T16:28:15-05:00	Kyle Delaney	dr.kylstein@gmail.com	Added Python bindings for type() and setType(str) on MapObject.

73a7fb20
29	0	src/plugins/python/pythonbind.cpp
2	0	src/plugins/python/tiledbinding.py

--0bd1dca6	2013-11-05T20:28:42-05:00	Sean Humeniuk	seanhumeniuk@gmail.com	Make highlighted grid cells outside map red

0bd1dca6
14	7	src/tiled/brushitem.cpp

--93e64c6b	2013-11-10T02:46:05-08:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #554 from ajuc/branch_to_pull_mappings

Wrapping more methods of MapObject and ObjectGroup in Python to make it possible to use them in Python plugins.
93e64c6b
--c0e3873e	2013-10-28T20:40:38+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added a semicolon to the tiled.desktop file

As reported by 'desktop-file-validate' on openSUSE Build Service:

error: value "application/x-tiled-tmx" for string list key "MimeType" in
group "Desktop Entry" does not have a semicolon (';') as trailing
character

c0e3873e
1	1	docs/tiled.desktop

--e4dccbe3	2013-10-04T10:42:12-04:00	Dennis Hostetler	dennis@mycroftsoftworks.com	JSON plugin: Added terrain properties to JSON export

e4dccbe3
3	0	src/plugins/json/maptovariantconverter.cpp

--3cbd137e	2013-09-22T20:16:57+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Brought back the "Terrain Properties..." context menu

This completes f7f904c70ed550390594b1a0a2c5650f8aff071e and reverts
most of 434d1aff8a4f5a015bc018d527947514bc949c48.

3cbd137e
1	0	src/tiled/editterraindialog.cpp
1	0	src/tiled/terraindock.cpp
45	0	src/tiled/terrainview.cpp
5	0	src/tiled/terrainview.h

--865ae061	2013-09-13T16:07:37+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	tmxviewer-java: Fixed instructions in README file

865ae061
3	3	util/java/tmxviewer-java/README

--92f6f933	2013-09-13T15:57:55+02:00	Alexei Bratuhin	alexei.bratuhin@googlemail.com	libtiled-java: Added support for CSV-encoded layers

92f6f933
51	16	util/java/libtiled-java/src/tiled/io/TMXMapReader.java
22	3	util/java/libtiled-java/test/tiled/io/MapReaderTest.java
110	0	util/java/libtiled-java/test/tiled/io/resources/csvmap.tmx
-	-	util/java/libtiled-java/test/tiled/io/resources/cvsmap_tileset.png

--f7f904c7	2013-09-08T11:42:51+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Brought back the actions that open the Properties window

Even though the Properties window is now a dockwidget that can be left
open, some people may prefer to keep it closed and only open it when
needed. The old menu items were re-introduced to make it easier to open
the Properties window in the right context.

This commit reverts parts of 480f1e245d392d52fd, 20eb8cc1de431c8f756 and
d178b4596e8504179b707617.

f7f904c7
16	0	src/tiled/abstractobjecttool.cpp
2	0	src/tiled/layerdock.cpp
2	0	src/tiled/mainwindow.cpp
2	1	src/tiled/mapdocument.h
17	0	src/tiled/mapdocumentactionhandler.cpp
3	0	src/tiled/mapdocumentactionhandler.h
28	0	src/tiled/objectsdock.cpp
3	0	src/tiled/objectsdock.h
20	3	src/tiled/tilesetview.cpp
1	0	src/tiled/tilesetview.h

--c51c0a3f	2013-09-07T22:00:46+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Adjust shadow offset to the line width and scale

When the object line width is set to 0 and lines of 1 physical pixel are
drawn, the shadow offset is now adjusted to the scale to avoid a gap
between the line and its shadow.

For line width between 0 and 1 pixels, the shadow offset is now also
smaller to avoid the gap.

Based on feedback at issue #502.

c51c0a3f
13	9	src/libtiled/isometricrenderer.cpp
10	6	src/libtiled/orthogonalrenderer.cpp

--b84be427	2013-09-07T10:05:13+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed removal of polygon/polyline objects when resizing a map

They were removed when their origin was falling outside of the map. Now
they are removed when their bounding rect falls outside of the map.

Object rotation is not handled yet, however.

b84be427
34	3	src/tiled/mapdocument.cpp

--5ff471a2	2013-09-06T22:38:16+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Handle object draw order in minimap and save-as-image

Objects are no longer always drawn top to bottom.

5ff471a2
1	1	src/tiled/minimap.cpp
1	1	src/tiled/saveasimagedialog.cpp

--6a2a0b93	2013-09-05T12:05:23+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added support for changing the object line width

This new setting in the preferences affects the line width used when
drawing rectangle, ellipse and polygon/polyline objects.

Setting the width to 0 will make the line 1 pixel wide regardless of the
zoom level.

Closes #502

6a2a0b93
10	3	src/libtiled/isometricrenderer.cpp
10	1	src/libtiled/maprenderer.h
19	8	src/libtiled/orthogonalrenderer.cpp
29	2	src/tiled/mapscene.cpp
2	4	src/tiled/mapscene.h
15	0	src/tiled/preferences.cpp
5	0	src/tiled/preferences.h
8	0	src/tiled/preferencesdialog.cpp
1	0	src/tiled/preferencesdialog.h
40	9	src/tiled/preferencesdialog.ui

--d65c08c9	2013-09-01T08:46:15+02:00	Sebastian Pidek	ajuc00@gmail.com	More methods getters and setters wrapped (name, isVisible, rotation)

d65c08c9
112	16	src/plugins/python/pythonbind.cpp
14	8	src/plugins/python/tiledbinding.py

--3fba5747	2013-08-30T08:17:05+02:00	Sebastian Pidek	ajuc00@gmail.com	Reordered generated code to make changes smaller

3fba5747
21	21	src/plugins/python/pythonbind.cpp

--91fcb1dc	2013-08-30T00:34:37+02:00	Sebastian Pidek	ajuc00@gmail.com	Added python wrappers for ObjectGroup::objectCount() and ObjectGroup::objectAt(int index) methods

91fcb1dc
58	19	src/plugins/python/pythonbind.cpp
5	0	src/plugins/python/tiledbinding.py

--97db1e0e	2013-08-24T22:12:53+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	tmxrasterizer: Some small fixes

* Fixed rendering of staggered isometric maps
* Fixed showing help when output file was not given
* Fixed some small coding style issues

97db1e0e
1	1	src/tmxrasterizer/main.cpp
6	3	src/tmxrasterizer/tmxrasterizer.cpp
1	1	src/tmxrasterizer/tmxrasterizer.h

--e309c32a	2013-08-23T23:01:58+01:00	Flyte	flyte@failcode.co.uk	tmxrasterizer: Return an error code when failing to load the map

Fixes #510

e309c32a
1	2	src/tmxrasterizer/main.cpp
4	2	src/tmxrasterizer/tmxrasterizer.cpp
1	1	src/tmxrasterizer/tmxrasterizer.h

--ad262e5c	2013-08-14T13:22:11+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added shortcuts for finishing and canceling object creation

Now the Return / Enter keys will finish object creation, and Escape will
cancel object creation.

Suggested by @noc7c9 in relation to #495 and matches Inkscape behavior
for creation of bezier curves / lines.

ad262e5c
37	7	src/tiled/createobjecttool.cpp
2	0	src/tiled/createobjecttool.h

--8d89a7ce	2013-08-13T20:49:49+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.9'

8d89a7ce
--987fe119	2013-08-13T20:47:15+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Lua plugin: Include tile offset in the Lua export

Closes #499

987fe119
6	0	src/plugins/lua/luaplugin.cpp

--3bb61163	2013-07-16T21:57:11+02:00	Oskar Wiksten	oskar.wiksten@gmail.com	libtiled-java: Add required components for unit-tests

* Run "ant test" to run all unit tests
* Unit-test source files are kept in "test/", separate from the regular "src/" source files.
* When building, unit test compilation output is also separated, since we want the unit test compilation to use "debug=true".

This commit only includes rudimentary unit-tests, to verify that the unit-test harness works. Will add more actual unit-tests later.

3bb61163
14	0	util/java/libtiled-java/README
42	6	util/java/libtiled-java/build.xml
-	-	util/java/libtiled-java/lib/junit4-4.11.jar
11	0	util/java/libtiled-java/libtiled-java.iml
51	0	util/java/libtiled-java/test/tiled/io/MapReaderTest.java
-	-	util/java/libtiled-java/test/tiled/io/resources/sewer_tileset.png
24	0	util/java/libtiled-java/test/tiled/io/resources/sewers.tmx

--b04aa42c	2013-08-06T21:46:21+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed tile flipping order for rotated tiles

Since the scaling happens after the rotation, the scaleX and scaleY
factors need to be swapped when flipping anti-diagonally.

This fixes a regression that appeared in commit f40431939986dcf71c.

Thanks to @mauvecow for finding this issue, and the initial patch.

b04aa42c
1	0	src/libtiled/maprenderer.cpp

--6f4b3846	2013-07-29T20:55:30-06:00	Jeff Bland	jksb@member.fsf.org	Enable support for high-dpi images with Qt::AA_UseHighDpiPixmaps

This completes more of #295, but we still need larger assets.

6f4b3846
5	0	src/tiled/main.cpp

--052a9451	2013-08-01T22:57:54+03:00	Samuli Tuomola	samuli.tuomola@gmail.com	Python plugin: Prevent direct manipulation of cell.tile attribute

052a9451
1	16	src/plugins/python/pythonbind.cpp
8	6	src/plugins/python/scripts/pk2.py
3	2	src/plugins/python/tiledbinding.py

--856f8715	2013-07-01T01:57:50+03:00	Samuli Tuomola	samuli.tuomola@gmail.com	Python plugin: Added Mappy writing support

856f8715
238	172	src/plugins/python/pythonbind.cpp
11	4	src/plugins/python/scripts/lib/cpystruct.py
1	1	src/plugins/python/scripts/lib/mappy_types.py
156	50	src/plugins/python/scripts/mappy.py
18	16	src/plugins/python/tiledbinding.py

--fe4f63b2	2013-07-28T22:15:18+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added a submenu showing all views and toolbars

It's actually the standard popup menu provided by the QMainWindow. It
will always include all dock widgets and toolbars added to the main
window, which is exactly what we want.

Closes #476

fe4f63b2
8	7	src/tiled/mainwindow.cpp

--b8040f9d	2013-07-27T23:52:32+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.9'

Conflicts:
	src/tiled/mappropertiesdialog.cpp
	src/tiled/newmapdialog.cpp

b8040f9d
--006b140f	2013-06-10T21:33:25-06:00	Joel Leclerc	mijyn@mail.com	Added extra zoom levels (both in and out)

Now it zooms from 1% to 25600% (going over than 400%, it uses GIMP's
pattern).

Closes #456

006b140f
15	1	src/tiled/zoomable.cpp

--bc529425	2013-07-27T22:34:04+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Moved the layer format setting to the 'New Map' dialog

This should avoid confusion about the setting in the preferences not
taking effect and make it clear that it is a map setting now.

This change is jumping through some hoops to avoid breaking string
freeze, hence the use of QCoreApplication::translate.

Closes #447

bc529425
1	1	src/libtiled/map.cpp
0	1	src/libtiled/map.h
9	10	src/tiled/mappropertiesdialog.cpp
16	1	src/tiled/newmapdialog.cpp
18	5	src/tiled/newmapdialog.ui
0	41	src/tiled/preferencesdialog.cpp
0	4	src/tiled/preferencesdialog.h
8	48	src/tiled/preferencesdialog.ui
1	5	src/tiled/tmxmapwriter.cpp
1	1	translations/tiled_nl.ts

--3db213d9	2013-07-27T20:50:26+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Small fixes to the automappingconverter man page

3db213d9
2	2	docs/automappingconverter.1
3	3	docs/automappingconverter.1.ronn

--53213bab	2013-07-27T18:20:30+02:00	Erik Schilling	ablu.erikschilling@googlemail.com	Added manpage for automappingconverter

53213bab
19	0	docs/automappingconverter.1
18	0	docs/automappingconverter.1.ronn
5	0	src/automappingconverter/automappingconverter.pro

--8995c35a	2013-07-27T16:47:41+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Final update to the NEWS file for 0.9.1 release

8995c35a
1	1	NEWS

--ca2ba48b	2013-07-27T15:08:49+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Avoid crash on quit while editing a property

Could end up referencing a null-pointer.

ca2ba48b
1	1	src/tiled/propertiesdock.cpp
10	0	src/tiled/propertybrowser.h

--6d1d5b23	2013-07-26T20:34:43+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.9'

6d1d5b23
--186ed1a8	2013-07-13T22:12:38+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	A few minor Windows installer updates

* Allow specifying a build directory separate from the repository root
* Take the compiled translations from the build directory
* Install LICENSE.APACHE.txt, which covers one of the plugins
* Don't try to delete no longer existing LICENSE.LGPL.txt
* Commented out MinGW dlls since I'm using VS 2010 Express now

186ed1a8
5	0	dist/win/build_installer.bat
7	6	dist/win/tiled.nsi

--acb7a6b5	2013-07-26T20:06:50+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Avoid relying on dynamic_cast in libtiled

It's not needed anymore since the layer type is stored now. This allows
libtiled to be used without RTTI.

acb7a6b5
1	1	src/libtiled/map.cpp
1	1	src/libtiled/objectgroup.cpp
1	1	src/libtiled/tilelayer.cpp

--236836a9	2013-07-26T17:07:11+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed possible crash when resizing the map

When the 'mapChanged' signal arrived, it was only checking whether it
came from our current map document. In practice, it should always come
from our current map document, but what we need to check is whether the
current object is the map itself.

Also avoid another potential crash when objects change without having a
current context object.

236836a9
2	2	src/tiled/propertybrowser.cpp

--8ce1e95f	2013-07-21T20:53:22+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated copyright year in Info.plist file

8ce1e95f
2	2	src/tiled/Info.plist

--cc851623	2013-07-05T22:16:44+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Exclude two hidden files from releases

The license header file and the Travis CI configuration file are not
relevant in source releases.

cc851623
2	0	.gitattributes

--8dfe6c98	2013-07-02T23:23:41+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Bumped version to 0.9.1 and updated NEWS file

8dfe6c98
22	0	NEWS
1	1	dist/win/README.txt
3	3	src/tiled/Info.plist
1	1	src/tiled/main.cpp

--6221c0c6	2013-07-21T16:37:10+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated the New Tileset dialog to reflect individual images option

The dialog now features a combo box where the user can choose between
creating a tileset based on a tileset image, or a tileset that is simply
a collection of images. The images still need to be added later using
the '+' button in the tileset toolbar.

The drawing offset is no longer configurable using this dialog. It can
be changed in the tileset properties instead.

6221c0c6
4	2	src/libtiled/tileset.h
50	16	src/tiled/newtilesetdialog.cpp
1	0	src/tiled/newtilesetdialog.h
148	188	src/tiled/newtilesetdialog.ui

--074abd8e	2013-07-06T16:50:37+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Allow creating empty tilesets and adding images later

Sponsored-by: Jamie Rocks

074abd8e
2	0	src/libtiled/tile.h
0	25	src/libtiled/tilelayer.cpp
17	4	src/libtiled/tilelayer.h
32	4	src/libtiled/tileset.cpp
3	0	src/libtiled/tileset.h
88	0	src/tiled/addremovetiles.cpp
99	0	src/tiled/addremovetiles.h
12	0	src/tiled/mapdocument.cpp
2	0	src/tiled/mapdocument.h
3	2	src/tiled/newtilesetdialog.cpp
2	0	src/tiled/tiled.pro
215	18	src/tiled/tilesetdock.cpp
5	0	src/tiled/tilesetdock.h

--ceeeb10a	2013-07-14T10:57:32+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed draw order for duplicated object layers

ceeeb10a
1	0	src/libtiled/objectgroup.cpp

--45101439	2013-07-19T23:00:31+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added an option to disable building of the Python plugin

Having some issues with it on Mac OS X currently, which I'll look into
another time.

45101439
2	0	src/plugins/python/find_python.pri

--93246408	2013-07-17T16:31:03+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.9'

93246408
--73de161f	2013-07-17T15:12:58+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Replaced Q_WS_MAC with Q_OS_MAC

Q_WS_MAC was removed in Qt 5, so some Mac-specific code was not getting
compiled in. This change fixes icons appearing in menus and the
handling of external commands on Mac OS X.

73de161f
2	2	src/tiled/command.cpp
2	2	src/tiled/command.h
2	2	src/tiled/commanddatamodel.cpp
1	1	src/tiled/main.cpp
2	2	src/tiled/mainwindow.cpp

--62928008	2013-07-13T21:16:54+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed typo in copyright headers

62928008
1	1	src/libtiled/tileset.cpp
1	1	src/libtiled/tileset.h

--720613f8	2013-07-13T21:12:45+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Allow changing the drawing offset of a tileset

Previously it was only possible to set this offset in the New Tileset
dialog, which is a little annoying for a setting that can really use
some visual feedback.

Also fixed updating of tileset name in the Properties dock on undo/redo.

720613f8
15	0	src/libtiled/map.cpp
2	0	src/libtiled/map.h
37	0	src/libtiled/tilelayer.cpp
1	0	src/libtiled/tilelayer.h
8	0	src/tiled/mapdocument.cpp
2	0	src/tiled/mapdocument.h
22	0	src/tiled/mapscene.cpp
2	0	src/tiled/mapscene.h
25	3	src/tiled/propertybrowser.cpp
2	0	src/tiled/propertybrowser.h
6	6	src/tiled/tiled.pro
34	2	src/tiled/{renametileset.cpp => tilesetchanges.cpp}
27	4	src/tiled/{renametileset.h => tilesetchanges.h}
2	1	src/tiled/undocommands.h

--a5f46ac6	2013-03-22T12:54:57+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Use a template to share the algorithm of TileLayer::region

This way, TileLayer::tilesetReferences can trivially use the same
optimized loop and it also becomes available for searching for other
conditions.

a5f46ac6
20	31	src/libtiled/tilelayer.cpp
38	0	src/libtiled/tilelayer.h

--d2954228	2013-07-06T16:51:14+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed handling of per-tile external image references

Previously Tiled would load maps with per-tile external image references,
but on saving the map all images would become embedded.

d2954228
23	8	src/libtiled/mapreader.cpp
11	4	src/libtiled/mapwriter.cpp
22	0	src/libtiled/tile.h
27	24	src/libtiled/tileset.cpp
6	10	src/libtiled/tileset.h
1	1	src/tiled/automapper.cpp
1	3	src/tiled/terrainbrush.cpp

--3550f0f2	2013-07-06T20:19:00+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed compile with MSVC 2010

MSVC 2010 math header does not come with M_PI.

3550f0f2
5	0	src/tiled/objectselectiontool.cpp

--fa484420	2013-07-04T22:17:42+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	JSON plugin: Store the draw order for object groups

Also fixed the error reporting of the VariantToMapConverter and fixed an
issue when reading .js files that are modified with a text editor that
adds a trailing newline (by trimming any trailing whitespace).

And simplified cleanup a little using QScopedPointer.

fa484420
1	0	src/plugins/json/jsonplugin.cpp
2	0	src/plugins/json/maptovariantconverter.cpp
49	31	src/plugins/json/varianttomapconverter.cpp

--d57bd6b0	2013-07-04T17:51:05+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Introduced object group drawing order attribute

This attribute allows specifying per object group whether its objects
should be drawn top down (from top to bottom) or in index order
(which enables manual ordering).

This change also fixes an issue where new objects could be invisible
during placement due to being drawn below other layers.

d57bd6b0
11	0	src/libtiled/mapreader.cpp
3	0	src/libtiled/mapwriter.cpp
33	2	src/libtiled/objectgroup.cpp
65	9	src/libtiled/objectgroup.h
10	18	src/tiled/abstractobjecttool.cpp
7	4	src/tiled/changeobjectgroupproperties.cpp
6	4	src/tiled/changeobjectgroupproperties.h
2	0	src/tiled/createobjecttool.cpp
1	1	src/tiled/mapdocument.h
4	1	src/tiled/mapobjectitem.cpp
25	0	src/tiled/mapscene.cpp
1	0	src/tiled/mapscene.h
6	2	src/tiled/objectselectiontool.cpp
35	4	src/tiled/propertybrowser.cpp
2	0	src/tiled/propertybrowser.h
22	15	src/tiled/raiselowerhelper.cpp
6	0	src/tiled/raiselowerhelper.h

--23c51a81	2013-07-04T17:45:55+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Introduced shortcuts for raise/lower actions

* PageUp => raise
* PageDown => lower
* Home => raiseToTop
* End => lowerToBottom

Previously, PageUp and PageDown changed the selected layer. Those have
been moved to Ctrl+PageUp and Ctrl+PageDown.

Those shortcuts in turn used to change the currently selected map. This
is also possible with Ctrl+Tab and Ctrl+Shift+Tab, but to make up for the
lost shortcuts, Alt+Left and Alt+Right were added.

23c51a81
13	0	src/tiled/abstractobjecttool.cpp
1	0	src/tiled/abstractobjecttool.h
2	2	src/tiled/mainwindow.cpp
2	2	src/tiled/mapdocumentactionhandler.cpp
4	0	src/tiled/objectselectiontool.cpp

--90c2f9c3	2013-03-24T22:16:21+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Explicit object order with actions to change it

The raise/lower actions are currently only available in the object
selection context menu.

TODO: Make this new object drawing order behavior optional.

Sponsored-by: Ben Wales

90c2f9c3
22	0	src/libtiled/objectgroup.cpp
13	0	src/libtiled/objectgroup.h
31	0	src/tiled/abstractobjecttool.cpp
5	0	src/tiled/abstractobjecttool.h
69	0	src/tiled/changemapobjectsorder.cpp
57	0	src/tiled/changemapobjectsorder.h
48	2	src/tiled/mapdocument.cpp
8	1	src/tiled/mapdocument.h
1	1	src/tiled/mapobjectitem.cpp
16	2	src/tiled/mapobjectmodel.cpp
1	1	src/tiled/mapobjectmodel.h
30	7	src/tiled/mapscene.cpp
3	1	src/tiled/mapscene.h
2	2	src/tiled/objectselectiontool.cpp
254	0	src/tiled/raiselowerhelper.cpp
74	0	src/tiled/raiselowerhelper.h
4	0	src/tiled/tiled.pro

--614a6b87	2013-06-26T20:47:49+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	JSON plugin: Updated qjsonparser to its latest master

614a6b87
17	20	src/plugins/json/qjsonparser/jsonparser.cpp

--ad283385	2013-06-10T22:03:56+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated link to Homebrew
ad283385
1	1	README.md

--27aaa6a6	2013-06-03T21:49:07+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	JSON plugin: Marked some member functions const

27aaa6a6
7	6	src/plugins/json/maptovariantconverter.cpp
6	9	src/plugins/json/maptovariantconverter.h

--e4d69b5b	2013-05-21T22:24:26+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.9'

e4d69b5b
--ffb54ad4	2013-05-21T22:22:36+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	JSON plugin: Resolve relative paths of image layers

Relative image reference of image layers were not being resolved by the
VariantToMapConverter, leading to images not being found when the map
location didn't happen to match with Tiled's working directory.

Also made sure the path is cleaned from "./" or "../" parts.

ffb54ad4
6	2	src/plugins/json/varianttomapconverter.cpp

--0791101b	2013-05-09T13:46:37+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.9'

0791101b
--751e3464	2013-05-09T12:00:52+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Lua plugin: Escape special characters when quoting strings

Now \, " and newlines are correctly escaped when quoting strings in
the Lua output. I hope that covers all cases.

Closes #437

751e3464
27	6	src/plugins/lua/luatablewriter.cpp
5	3	src/plugins/lua/luatablewriter.h

--a098a0d0	2013-05-08T22:44:38+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.9'

a098a0d0
--fd6f1b3d	2013-05-08T22:42:52+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Lua plugin: Write out image layer properties

Closes #435

fd6f1b3d
2	0	src/plugins/lua/luaplugin.cpp

--4a7d1ba2	2013-04-21T15:40:40+02:00	Stefan Beller	stefanbeller@googlemail.com	Update .mailmap file

4a7d1ba2
7	0	.mailmap

--14c3e397	2013-04-26T13:29:59+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed crash when using Properties dock after closing all maps

When the last map was closed, the Properties dock would not get cleared
as appropriate, and trying to interact with it was causing a null
pointer dereference.

14c3e397
2	0	src/tiled/propertiesdock.cpp

--36a9855a	2013-04-20T23:13:54+03:00	Samuli Tuomola	samuli.tuomola@gmail.com	Python plugin: Cleaned up compiler warnings

36a9855a
32	34	src/plugins/python/pythonbind.cpp
8	1	src/plugins/python/pythonplugin.cpp
1	1	src/plugins/python/pythonplugin.h
3	1	src/plugins/python/tiledbinding.py

--fbbf692b	2013-04-20T21:30:15+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Python plugin: Fixed compile against Qt 5

fbbf692b
1	0	src/plugins/python/plugin.json
4	0	src/plugins/python/python.pro
2	0	src/plugins/python/pythonplugin.cpp
5	0	src/plugins/python/pythonplugin.h

--5b290f41	2013-04-20T17:26:49+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Python plugin: Fixed crash when a script does not return a map

5b290f41
2	1	src/plugins/python/pythonplugin.cpp

--c8538665	2013-04-20T12:33:33+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge remote-tracking branch 'stt/python'

Conflicts:
	src/tiled/mainwindow.cpp
	src/tiled/tiled.pro

c8538665
--41a1a2cb	2013-04-20T00:31:22+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Optimized the shutdown process

When closing Tiled it checks whether any maps need saving and it also
saves the currently selected layer and view position. In doing so it was
making each of the open maps "current" twice, which causes all the
panels to update and is generally much more work than actually needed.

Now making maps current is avoided except for the case where the user is
prompted about whether he wants to save any changes, to make sure the
context of the question is clear.

Tiled now shuts down instantly, even with many maps open. It can be a
little disturbing at first.

41a1a2cb
13	1	src/tiled/documentmanager.cpp
7	0	src/tiled/documentmanager.h
13	13	src/tiled/mainwindow.cpp
4	2	src/tiled/mainwindow.h

--644b2df1	2013-04-19T21:31:23+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed drawing of flipped tiles when using software rendering

Due to a bug in QPaintEngineEx a negative scaleX or scaleY value results
in nothing being drawn rather than drawing a flipped image, like the
OpenGL paint engine does.

Worked this around by manually drawing the fragment and applying the
scale to the transform rather than to the target rect.

644b2df1
39	3	src/libtiled/maprenderer.cpp
3	5	src/libtiled/maprenderer.h

--ae25eaae	2013-04-19T20:32:49+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Corrected merge error

Should have done a compile check, obviously...

ae25eaae
0	2	src/tiled/mapdocument.h

--a2057fb2	2013-04-19T20:15:11+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.9'

Conflicts:
	src/tiled/mapdocument.h

a2057fb2
--438e5b52	2013-04-17T22:10:59-07:00	MHendricks	mike@hendricks3d.com	Fixed save in wrong format after opening a file using a plugin

On Mac, opening a file using a plugin was not setting the mapDocument's
writerPluginFileName. This means that it would default to the TMX
format.

Replaced dynamic_cast with qobject_cast.

Closes #389

438e5b52
3	4	src/tiled/mainwindow.cpp

--cf2a1ab5	2013-04-19T17:28:46+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed display of grid in tileset view on certain zoom levels

Due to inconsistent rounding the grid was getting lost at certain zoom
levels.

cf2a1ab5
8	7	src/tiled/tilesetview.cpp

--3b05d7f2	2013-04-19T17:27:47+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Force scroll bars in the map view to be always on

It's actually a bit annoying if they appear/disappear when zooming out a
lot, especially since the map is centered which means it will shift a
bit.

This also avoids some glitches when using OpenGL rendering.

3b05d7f2
3	0	src/tiled/mapview.cpp

--84c4acdc	2013-04-18T21:16:40+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Revert "Rotate objects around their center instead of the bottom left"

This reverts commit 884184004dfa0f22a3130945cf7e86ddde01a0f9.

While rotating objects around their center may be somewhat nicer when
editing the rotation property, it has the nasty side-effect that
anything that changes the size of an object also affects its position
when this object is rotated. This means that rotated rectangles are
shifting around when you resize them, and so do polygons while editing
their nodes.

It may be possible to adjust the position to keep things on the same
place, but for now I'm opting to keep rotating objects around their
actual position.

84c4acdc
0	28	src/tiled/mapobjectitem.cpp
0	6	src/tiled/mapobjectitem.h
2	3	src/tiled/objectselectiontool.cpp

--33809b76	2013-04-17T23:55:41+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Used the CellRenderer in the StaggeredRenderer

33809b76
3	45	src/libtiled/staggeredrenderer.cpp

--86b8fba8	2013-04-17T23:43:39+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed no longer needed Qt version checks

Qt 4.7 is now the minimum required Qt version.

86b8fba8
3	12	src/plugins/json/varianttomapconverter.cpp
0	4	src/tiled/changetileterrain.cpp
1	2	src/tiled/mainwindow.cpp
2	2	src/tiled/mapscene.cpp
1	6	src/tiled/mapsdock.cpp
0	2	src/tiled/preferences.cpp

--f4043193	2013-04-17T23:27:02+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Optimized hardware-accelerated tile rendering

By using QPainter::PixmapFragment the amount of API calls to draw the
same tile over and over again is much reduced. This leads to a small
improvement in rendering speed, which is mainly noticable on maps where
large areas are filled with the same tile.

The minimum Qt version was raised to Qt 4.7 since earlier versions do
not have QPainter::PixmapFragment.

f4043193
5	11	src/libtiled/isometricrenderer.cpp
50	38	src/libtiled/maprenderer.cpp
28	10	src/libtiled/maprenderer.h
8	9	src/libtiled/orthogonalrenderer.cpp
2	2	tiled.pro

--1e8fc921	2013-04-13T22:30:35+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed updating of image layer

When changing the transparent color or the image of an image layer,
the item was not resizing and repainting correctly.

Back-ported from master branch commits:

7ded5d6b9fba6d71740fc3ab0c5e2263c51707ec (small part)
479a288d3b4e6105b56a75283e435f79fbde715d

1e8fc921
2	2	src/tiled/changeimagelayerproperties.cpp
17	0	src/tiled/mapdocument.h
15	0	src/tiled/mapscene.cpp
3	0	src/tiled/mapscene.h

--479a288d	2013-04-13T22:20:05+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed updating of image layer

When changing the transparent color or the image of an image layer,
the item was not resizing and repainting correctly.

479a288d
0	2	src/tiled/changeimagelayerproperties.cpp
15	0	src/tiled/mapscene.cpp
3	0	src/tiled/mapscene.h

--e14da51a	2013-04-13T21:17:37+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Always start selecting objects when holding Shift

It can be difficult to select objects when accidentally hitting any
object will start a move operation. Now it's possible to suppress the
move and always start a selection by holding Shift.

This matches the behavior of Inkscape.

e14da51a
2	1	src/tiled/objectselectiontool.cpp

--ae76a675	2013-04-12T22:06:27+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added tile object flipping flags to Properties dock

Allows inspecting whether any given tile object is flipped in either
direction, and to change it (though the 'X' and 'Y' shortcuts are
faster for that purpose).

ae76a675
50	11	src/tiled/propertybrowser.cpp
4	0	src/tiled/propertybrowser.h

--a01f7954	2013-04-12T16:41:14+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch 'wip/propertiesdock'

a01f7954
--d178b459	2013-04-12T16:39:20+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed remainders of the Properties dialog

All use-cases should now be fulfilled by the new Properties dock.

Closes #146
Closes #356

d178b459
2	20	src/tiled/abstractobjecttool.cpp
1	1	src/tiled/abstractobjecttool.h
0	1	src/tiled/mainwindow.cpp
0	13	src/tiled/mapobjectitem.cpp
0	3	src/tiled/mapobjectitem.h
0	172	src/tiled/objectpropertiesdialog.cpp
0	69	src/tiled/objectpropertiesdialog.h
0	226	src/tiled/objectpropertiesdialog.ui
0	34	src/tiled/objectsdock.cpp
0	3	src/tiled/objectsdock.h
0	98	src/tiled/propertiesdialog.cpp
0	85	src/tiled/propertiesdialog.h
0	93	src/tiled/propertiesdialog.ui
0	2	src/tiled/propertiesdock.cpp
0	2	src/tiled/propertiesdock.h
0	206	src/tiled/propertiesmodel.cpp
0	112	src/tiled/propertiesmodel.h
0	72	src/tiled/propertiesview.cpp
0	44	src/tiled/propertiesview.h
0	10	src/tiled/tiled.pro

--b7c8cf5f	2013-04-12T16:06:55+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	QtPropertyBrowser: Respond to each change of text in QtLineEditFactory

I've extended this editor to allow adding a QCompleter to the line edit,
but when changing the value via the QCompleter only the 'textChanged'
and not the 'textEdited' signal is emitted.

'blockSignals' is now used to avoid this signal when applying a change
of property value, like for all other editors.

b7c8cf5f
5	2	src/qtpropertybrowser/src/qteditorfactory.cpp

--6c975918	2013-04-12T16:00:35+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added completion to defined object types to the Properties dock

This was easier than adding support for an editable combo box. Hopefully
it's just as useful in most cases. It might make sense to automatically
add suggestions for any already used type in the future.

6c975918
18	5	src/tiled/propertybrowser.cpp
18	2	src/tiled/varianteditorfactory.cpp
2	0	src/tiled/varianteditorfactory.h
13	1	src/tiled/variantpropertymanager.cpp
4	0	src/tiled/variantpropertymanager.h

--20eb8cc1	2013-04-11T20:45:30+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed layer property dialogs

All layer properties, including those of object layers and image layers,
can now be edited in the new Properties dock.

20eb8cc1
0	154	src/tiled/imagelayerpropertiesdialog.cpp
0	82	src/tiled/imagelayerpropertiesdialog.h
0	4	src/tiled/layerdock.cpp
0	14	src/tiled/mainwindow.cpp
0	2	src/tiled/mainwindow.h
0	7	src/tiled/mapdocumentactionhandler.cpp
0	2	src/tiled/mapdocumentactionhandler.h
0	87	src/tiled/objectgrouppropertiesdialog.cpp
0	57	src/tiled/objectgrouppropertiesdialog.h
0	29	src/tiled/propertiesdialog.cpp
0	10	src/tiled/propertiesdialog.h
0	4	src/tiled/tiled.pro

--50aa1995	2013-04-11T20:33:53+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Allow changing the image layer image in the Properties dock

Introduced a 'filePath' property with a special editor that features
a small button that opens up the file chooser. It also colors the text
to make it clear whether the file path exists or not.

The VariantPropertyManager, VariantEditorFactory and FileEdit classes
were based on the example from issue 18 of the Qt Quarterly [1]

[1] http://doc.qt.digia.com/qq/qq18-propertybrowser.html

50aa1995
5	3	src/libtiled/imagelayer.cpp
3	2	src/libtiled/imagelayer.h
120	0	src/tiled/fileedit.cpp
72	0	src/tiled/fileedit.h
30	6	src/tiled/propertybrowser.cpp
1	0	src/tiled/propertybrowser.h
9	3	src/tiled/tiled.pro
136	0	src/tiled/varianteditorfactory.cpp
70	0	src/tiled/varianteditorfactory.h
151	0	src/tiled/variantpropertymanager.cpp
76	0	src/tiled/variantpropertymanager.h

--a4d2d24e	2013-04-11T15:34:32+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Moved up the 'Visible' attribute for objects

More closely matches the location of this attribute for layers.

a4d2d24e
5	5	src/tiled/propertybrowser.cpp

--125d44cd	2013-04-10T23:34:21+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	QtPropertyBrowser: Document the 'echoMode' attribute for string values

125d44cd
4	0	src/qtpropertybrowser/src/qtvariantproperty.cpp

--9bc782f9	2013-04-10T22:43:08+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Use the new attribute to hide the text of boolean properties

9bc782f9
3	0	src/tiled/propertybrowser.cpp

--a1cade8f	2013-04-10T22:42:23+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	QtPropertyBrowser: Allow controlling whether to show text for bool values

This was a rather involved patch, but it avoids the need for using
private API or duplicating QtBoolEdit (which is in a private header).

Apart from adding support for this QtBoolEdit option to the
QtCheckBoxFactory and the QtBoolPropertyManager, the setting can also
be controlled via the 'textVisible' attribute associated with
QtVariantProperty instances.

a1cade8f
22	0	src/qtpropertybrowser/src/qteditorfactory.cpp
1	0	src/qtpropertybrowser/src/qteditorfactory.h
57	11	src/qtpropertybrowser/src/qtpropertymanager.cpp
3	0	src/qtpropertybrowser/src/qtpropertymanager.h
25	1	src/qtpropertybrowser/src/qtvariantproperty.cpp
1	0	src/qtpropertybrowser/src/qtvariantproperty.h

--d3ae0744	2013-04-07T06:44:16+03:00	Samuli Tuomola	samuli.tuomola@gmail.com	Pass the ownership of the map object

Shouldn't try to free the wrapper yet though as layers are still owned by
it. The wrappers leak so (re)opening a lot of maps may end up consuming
more memory than actually needed, should look into this.
Anyway, it's not script writer's responsibility to manage references.

d3ae0744
2	2	src/plugins/python/pythonbind.cpp
4	4	src/plugins/python/pythonplugin.cpp
1	1	src/plugins/python/pythonplugin.h
0	3	src/plugins/python/scripts/mappy.py
1	1	src/plugins/python/tiledbinding.py

--5e48894e	2013-04-07T20:23:55+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Replaced Map Properties dialog with Properties dock

Now the layer format can be configured in the Properties dock,
obsoleting the Map Properties dialog.

The map itself is now also the initial value for the current object.

5e48894e
2	4	src/tiled/mainwindow.cpp
8	7	src/tiled/mainwindow.h
1	1	src/tiled/mainwindow.ui
1	1	src/tiled/mapdocument.cpp
0	120	src/tiled/mappropertiesdialog.cpp
0	57	src/tiled/mappropertiesdialog.h
29	0	src/tiled/propertybrowser.cpp
1	0	src/tiled/propertybrowser.h
0	2	src/tiled/tiled.pro

--434d1aff	2013-04-07T16:52:25+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed 'Terrain Properties...' option from Terrain context menu

Replaced by the Properties dock.

434d1aff
0	1	src/tiled/editterraindialog.cpp
0	1	src/tiled/terraindock.cpp
0	53	src/tiled/terrainview.cpp
0	5	src/tiled/terrainview.h

--480f1e24	2013-04-07T16:45:50+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed 'Tile Properties...' option from Tile context menu

Replaced by the Properties dock.

480f1e24
4	26	src/tiled/tilesetview.cpp
0	1	src/tiled/tilesetview.h

--c9f6c1cd	2013-04-07T16:36:51+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Disable the properties dock for external objects

Tileset, and as a result Tile and Terrain instances, may be stored in an
external file. Currently no changes are allowed when this is the case,
in order to avoid loss of information due to the lack of automatic
saving of changes to such external files.

c9f6c1cd
53	4	src/tiled/propertiesdock.cpp
2	0	src/tiled/propertiesdock.h

--4cf7017b	2013-04-07T16:06:22+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Used Properties dock instead of the dialog for tilesets

Support was added to the PropertyBrowser for Tileset objects, obsoleting
the separate Rename Tileset action since the name can simply be edited
in the Properties dock.

4cf7017b
11	0	src/tiled/mapdocument.h
2	0	src/tiled/propertiesdock.cpp
29	5	src/tiled/propertybrowser.cpp
2	0	src/tiled/propertybrowser.h
54	0	src/tiled/renametileset.cpp
55	0	src/tiled/renametileset.h
2	0	src/tiled/tiled.pro
2	55	src/tiled/tilesetdock.cpp
0	3	src/tiled/tilesetdock.h

--ac4a923c	2013-04-07T15:20:13+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Raise the Layers dock for editing a new layer's name

This made the isVisible() workaround obsolete, which had also been
copied to ObjectsDock and MapsDock where it wasn't needed in the first
place.

I decided not to automatically show the dock, since being able to edit
the new layer's name is more of a convenience that's generally not worth
popping up this dock widget for if it isn't already open.

ac4a923c
15	18	src/tiled/layerdock.cpp
1	2	src/tiled/layerdock.h
0	5	src/tiled/mapsdock.cpp
0	5	src/tiled/objectsdock.cpp

--607ac929	2013-04-07T15:00:52+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Update the current object in a few more cases

Now the current object (displayed in the Properties dockwidget) also
changes when clicking object layers or objects in the Objects dock,
when clicking on a terrain and when clicking on a tile. Regardless of
whether the clicked object was already selected or not.

607ac929
13	2	src/tiled/objectsdock.cpp
1	0	src/tiled/objectsdock.h
8	0	src/tiled/terraindock.cpp
1	0	src/tiled/terraindock.h
27	7	src/tiled/tilesetdock.cpp
7	4	src/tiled/tilesetdock.h

--393cb964	2013-04-06T23:10:21+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Unset the current object when it gets removed

393cb964
41	1	src/tiled/mapdocument.cpp
2	0	src/tiled/mapdocument.h
1	1	src/tiled/terrainmodel.cpp
1	1	src/tiled/terrainmodel.h

--24a683de	2013-04-06T23:31:34+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added actions for adding/removing a property to Properties dock

Also made Delete and Backspace work for deleting the selected property.

24a683de
-	-	src/tiled/images/16x16/add.png
-	-	src/tiled/images/16x16/remove.png
97	23	src/tiled/propertiesdock.cpp
10	2	src/tiled/propertiesdock.h
16	0	src/tiled/propertybrowser.cpp
11	0	src/tiled/propertybrowser.h
2	0	src/tiled/tiled.qrc

--a2b54d68	2013-04-06T23:11:22+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Renamed toolbar -> toolBar in ObjectsDock

Just making it follow general naming convention and match QToolBar.

a2b54d68
11	11	src/tiled/objectsdock.cpp

--2761fbed	2013-04-05T16:54:49+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Set the tree widget as focus proxy of the tree property browser

Makes the focus go to the tree widget when set on the property browser,
since it's not very helpful for it to stay on the property browser
widget.

2761fbed
1	0	src/qtpropertybrowser/src/qttreepropertybrowser.cpp

--3575159b	2013-04-04T20:15:23+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Introduced a PropertyBrowser for in the Properties dockwidget

The PropertyBrowser class extends QtTreePropertyBrowser and allows
editing of custom properties as well as built-in properties like layer
names, object size/position, etc.

There is currently no way yet to add/remove custom properties.

The plan is to allow the Properties dockwidget to replace the Properties
dialog.

3575159b
3	2	src/libtiled/layer.cpp
7	7	src/libtiled/layer.h
6	5	src/libtiled/map.cpp
2	2	src/libtiled/map.h
2	0	src/libtiled/mapobject.cpp
1	1	src/libtiled/mapwriter.cpp
17	0	src/libtiled/object.h
1	0	src/libtiled/terrain.h
1	0	src/libtiled/tile.h
1	0	src/libtiled/tileset.h
1	1	src/plugins/json/maptovariantconverter.cpp
1	1	src/plugins/lua/luaplugin.cpp
2	2	src/tiled/automapper.cpp
86	0	src/tiled/changelayer.cpp
83	0	src/tiled/changelayer.h
27	0	src/tiled/changemapobject.cpp
21	0	src/tiled/changemapobject.h
2	92	src/tiled/layermodel.cpp
1	1	src/tiled/mapdocument.cpp
1	1	src/tiled/mapdocument.h
0	37	src/tiled/mapobjectmodel.cpp
27	23	src/tiled/propertiesdock.cpp
6	3	src/tiled/propertiesdock.h
562	0	src/tiled/propertybrowser.cpp
133	0	src/tiled/propertybrowser.h
57	0	src/tiled/renameterrain.cpp
19	23	src/tiled/{changemapobject.h => renameterrain.h}
5	0	src/tiled/terraindock.cpp
1	35	src/tiled/terrainmodel.cpp
6	0	src/tiled/tiled.pro

--2a2d346b	2013-04-04T12:12:22+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added the Qt Property Browser solution

A planned replacement for the current primitive property editing table.

Based on qt-solutions revision 8926435d3f2b94ebfadc1bec5fd78cf0dfa5c2c8.

2a2d346b
93	0	src/qtpropertybrowser/README.TXT
6	0	src/qtpropertybrowser/common.pri
1	0	src/qtpropertybrowser/src/QtAbstractEditorFactoryBase
1	0	src/qtpropertybrowser/src/QtAbstractPropertyBrowser
1	0	src/qtpropertybrowser/src/QtAbstractPropertyManager
1	0	src/qtpropertybrowser/src/QtBoolPropertyManager
1	0	src/qtpropertybrowser/src/QtBrowserItem
1	0	src/qtpropertybrowser/src/QtButtonPropertyBrowser
1	0	src/qtpropertybrowser/src/QtCharEditorFactory
1	0	src/qtpropertybrowser/src/QtCharPropertyManager
1	0	src/qtpropertybrowser/src/QtCheckBoxFactory
1	0	src/qtpropertybrowser/src/QtColorEditorFactory
1	0	src/qtpropertybrowser/src/QtColorPropertyManager
1	0	src/qtpropertybrowser/src/QtCursorEditorFactory
1	0	src/qtpropertybrowser/src/QtCursorPropertyManager
1	0	src/qtpropertybrowser/src/QtDateEditFactory
1	0	src/qtpropertybrowser/src/QtDatePropertyManager
1	0	src/qtpropertybrowser/src/QtDateTimeEditFactory
1	0	src/qtpropertybrowser/src/QtDateTimePropertyManager
1	0	src/qtpropertybrowser/src/QtDoublePropertyManager
1	0	src/qtpropertybrowser/src/QtDoubleSpinBoxFactory
1	0	src/qtpropertybrowser/src/QtEnumEditorFactory
1	0	src/qtpropertybrowser/src/QtEnumPropertyManager
1	0	src/qtpropertybrowser/src/QtFlagPropertyManager
1	0	src/qtpropertybrowser/src/QtFontEditorFactory
1	0	src/qtpropertybrowser/src/QtFontPropertyManager
1	0	src/qtpropertybrowser/src/QtGroupBoxPropertyBrowser
1	0	src/qtpropertybrowser/src/QtGroupPropertyManager
1	0	src/qtpropertybrowser/src/QtIntPropertyManager
1	0	src/qtpropertybrowser/src/QtKeySequenceEditorFactory
1	0	src/qtpropertybrowser/src/QtKeySequencePropertyManager
1	0	src/qtpropertybrowser/src/QtLineEditFactory
1	0	src/qtpropertybrowser/src/QtLocalePropertyManager
1	0	src/qtpropertybrowser/src/QtPointFPropertyManager
1	0	src/qtpropertybrowser/src/QtPointPropertyManager
1	0	src/qtpropertybrowser/src/QtProperty
1	0	src/qtpropertybrowser/src/QtRectFPropertyManager
1	0	src/qtpropertybrowser/src/QtRectPropertyManager
1	0	src/qtpropertybrowser/src/QtScrollBarFactory
1	0	src/qtpropertybrowser/src/QtSizeFPropertyManager
1	0	src/qtpropertybrowser/src/QtSizePolicyPropertyManager
1	0	src/qtpropertybrowser/src/QtSizePropertyManager
1	0	src/qtpropertybrowser/src/QtSliderFactory
1	0	src/qtpropertybrowser/src/QtSpinBoxFactory
1	0	src/qtpropertybrowser/src/QtStringPropertyManager
1	0	src/qtpropertybrowser/src/QtTimeEditFactory
1	0	src/qtpropertybrowser/src/QtTimePropertyManager
1	0	src/qtpropertybrowser/src/QtTreePropertyBrowser
1	0	src/qtpropertybrowser/src/QtVariantEditorFactory
1	0	src/qtpropertybrowser/src/QtVariantProperty
1	0	src/qtpropertybrowser/src/QtVariantPropertyManager
-	-	src/qtpropertybrowser/src/images/cursor-arrow.png
-	-	src/qtpropertybrowser/src/images/cursor-busy.png
-	-	src/qtpropertybrowser/src/images/cursor-closedhand.png
-	-	src/qtpropertybrowser/src/images/cursor-cross.png
-	-	src/qtpropertybrowser/src/images/cursor-forbidden.png
-	-	src/qtpropertybrowser/src/images/cursor-hand.png
-	-	src/qtpropertybrowser/src/images/cursor-hsplit.png
-	-	src/qtpropertybrowser/src/images/cursor-ibeam.png
-	-	src/qtpropertybrowser/src/images/cursor-openhand.png
-	-	src/qtpropertybrowser/src/images/cursor-sizeall.png
-	-	src/qtpropertybrowser/src/images/cursor-sizeb.png
-	-	src/qtpropertybrowser/src/images/cursor-sizef.png
-	-	src/qtpropertybrowser/src/images/cursor-sizeh.png
-	-	src/qtpropertybrowser/src/images/cursor-sizev.png
-	-	src/qtpropertybrowser/src/images/cursor-uparrow.png
-	-	src/qtpropertybrowser/src/images/cursor-vsplit.png
-	-	src/qtpropertybrowser/src/images/cursor-wait.png
-	-	src/qtpropertybrowser/src/images/cursor-whatsthis.png
627	0	src/qtpropertybrowser/src/qtbuttonpropertybrowser.cpp
89	0	src/qtpropertybrowser/src/qtbuttonpropertybrowser.h
2679	0	src/qtpropertybrowser/src/qteditorfactory.cpp
405	0	src/qtpropertybrowser/src/qteditorfactory.h
534	0	src/qtpropertybrowser/src/qtgroupboxpropertybrowser.cpp
80	0	src/qtpropertybrowser/src/qtgroupboxpropertybrowser.h
2026	0	src/qtpropertybrowser/src/qtpropertybrowser.cpp
335	0	src/qtpropertybrowser/src/qtpropertybrowser.h
32	0	src/qtpropertybrowser/src/qtpropertybrowser.pri
23	0	src/qtpropertybrowser/src/qtpropertybrowser.qrc
456	0	src/qtpropertybrowser/src/qtpropertybrowserutils.cpp
164	0	src/qtpropertybrowser/src/qtpropertybrowserutils_p.h
6602	0	src/qtpropertybrowser/src/qtpropertymanager.cpp
766	0	src/qtpropertybrowser/src/qtpropertymanager.h
1078	0	src/qtpropertybrowser/src/qttreepropertybrowser.cpp
138	0	src/qtpropertybrowser/src/qttreepropertybrowser.h
2334	0	src/qtpropertybrowser/src/qtvariantproperty.cpp
187	0	src/qtpropertybrowser/src/qtvariantproperty.h
1	0	src/tiled/tiled.pro

--b064b72f	2013-03-31T22:41:18+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added a Properties dockwidget

Displays properties of selected objects, tiles and layers at the moment.
Does not display other stuff like size, height, color, etc. yet. My plan
is to do that using the Qt Property Browser solution.

b064b72f
12	0	src/tiled/layerdock.cpp
4	3	src/tiled/layerdock.h
3	0	src/tiled/mainwindow.cpp
18	0	src/tiled/mapdocument.cpp
7	1	src/tiled/mapdocument.h
125	0	src/tiled/propertiesdock.cpp
30	12	src/tiled/{propertiesview.h => propertiesdock.h}
11	1	src/tiled/propertiesview.cpp
2	2	src/tiled/propertiesview.h
2	0	src/tiled/tiled.pro
4	1	src/tiled/tilesetdock.cpp

--7ded5d6b	2013-03-31T22:18:07+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Changes made in property dialogs now apply immediately

This affects the custom property editing as well as the editing of any
built-in properties for classes like ObjectGroup, ImageLayer, Map and
MapObject. To make this possible, some new undo-related classes were
introduced and some new notification signals.

This change is a preparation for allowing the property dialogs to be
replaced by a docked solution.

7ded5d6b
1	1	src/libtiled/imagelayer.h
12	0	src/libtiled/object.h
2	1	src/tiled/automapper.cpp
2	0	src/tiled/changeimagelayerproperties.cpp
2	1	src/tiled/changeobjectgroupproperties.cpp
0	1	src/tiled/changeobjectgroupproperties.h
80	3	src/tiled/changeproperties.cpp
77	1	src/tiled/changeproperties.h
45	27	src/tiled/imagelayerpropertiesdialog.cpp
7	5	src/tiled/imagelayerpropertiesdialog.h
27	26	src/tiled/mapdocument.cpp
87	22	src/tiled/mapdocument.h
36	19	src/tiled/mappropertiesdialog.cpp
6	1	src/tiled/mappropertiesdialog.h
21	21	src/tiled/objectgrouppropertiesdialog.cpp
3	2	src/tiled/objectgrouppropertiesdialog.h
79	32	src/tiled/objectpropertiesdialog.cpp
7	2	src/tiled/objectpropertiesdialog.h
4	11	src/tiled/propertiesdialog.cpp
5	4	src/tiled/propertiesdialog.h
1	1	src/tiled/propertiesdialog.ui
90	28	src/tiled/propertiesmodel.cpp
22	12	src/tiled/propertiesmodel.h
1	1	src/tiled/terrainview.cpp
1	1	src/tiled/tilesetdock.cpp
1	4	src/tiled/tilesetview.cpp

--49a39a06	2013-04-04T12:13:32+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Make the .bat file always check out with Windows newlines

49a39a06
2	0	.gitattributes

--7073d51b	2013-04-05T17:03:43+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.9'

Conflicts:
	docs/tiled.desktop
	src/tiled/images/16x16/application-x-tiled.png
	src/tiled/images/16x16/tiled.png
	src/tiled/images/32x32/application-x-tiled.png
	src/tiled/images/32x32/tiled.png
	src/tiled/images/scalable/application-x-tiled.svg
	src/tiled/images/scalable/tiled.svg
	src/tiled/images/tiled-icon-16.png
	src/tiled/images/tiled-icon-32.png
	src/tiled/images/tiled-icon.svg
	src/tiled/tiled.pro

7073d51b
--a7c35c07	2013-04-04T21:30:25+02:00	Stefan Beller	stefanbeller@googlemail.com	Flare export plugin: Remove checks for certain layers being there

The flare engine evolved and supports 2 more layers optionally.
The three layers which were checked being there, should still be there,
but are not necessary. Also I cannot recall any errors due to missing
or miss spelled layers during flare development, so I think we do not
need this check for flare.

The check for these three layers unintentionally hindered other projects
using this format, which is another reason to drop the check.

(cherry picked from commit 58a3d5f57a82d41671cad9aa89825b38ddc49072)

a7c35c07
0	26	src/plugins/flare/flareplugin.cpp
0	2	src/plugins/flare/flareplugin.h

--59589c20	2013-04-05T16:53:13+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Install the automappingconverter application

59589c20
3	0	src/automappingconverter/automappingconverter.pro

--8fefaa0d	2013-03-20T22:48:41+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed inconsistent zoom factors in tileset view

I prefer if there's a single set of predictable zoom factors for both
the map and the tileset view.

8fefaa0d
0	1	src/tiled/tilesetdock.cpp

--58a3d5f5	2013-04-04T21:30:25+02:00	Stefan Beller	stefanbeller@googlemail.com	Flare export plugin: Remove checks for certain layers being there

The flare engine evolved and supports 2 more layers optionally.
The three layers which were checked being there, should still be there,
but are not necessary. Also I cannot recall any errors due to missing
or miss spelled layers during flare development, so I think we do not
need this check for flare.

The check for these three layers unintentionally hindered other projects
using this format, which is another reason to drop the check.

58a3d5f5
0	26	src/plugins/flare/flareplugin.cpp
0	2	src/plugins/flare/flareplugin.h

--cc2b4861	2013-04-04T20:42:00+02:00	Erik Schilling	ablu.erikschilling@googlemail.com	Small tweaks to the desktop file

The TryExec line makes sure that tiled is only listed if the executable
exists. Meaning that the desktopfile should not be displayed as an menu
entry if the executable is missing in $PATH (for example if you install
with a custom prefix).

Setting the GenericName might have some use for some window managers /
application menus (I was unable to find this displayed anywhere in the
gnome-panel manu, but it cannot hurt).

cc2b4861
2	0	docs/tiled.desktop

--735d1939	2013-04-04T21:17:30+02:00	Erik Schilling	ablu.erikschilling@googlemail.com	Renamed the tmx MIME type to application/x-tiled-tmx

This should make it easier to add further MIME types of plugins.

The icon is not renamed to application-x-tiled-tmx in order to allow
other plugins to depend on it in future too.

735d1939
2	1	docs/mime/tiled.xml
1	1	docs/tiled.desktop

--c783fe3c	2013-04-04T19:53:31+02:00	Erik Schilling	ablu.erikschilling@googlemail.com	Made Tiled registering *.tmx as MIME-type

Tiled now registers the MIME-type application/x-tiled based on the file suffix
*.tmx. It also registers itself as application being able to handle this
MIME-type. This means systems following the freedesktop standard [1] will now
display tmx files with a tiled icon and open those files with tiled.

[1] http://standards.freedesktop.org/shared-mime-info-spec/shared-mime-info-spec-latest.html

c783fe3c
8	0	docs/mime/tiled.xml
1	0	docs/tiled.desktop
-	-	src/tiled/images/16x16/application-x-tiled.png
-	-	src/tiled/images/32x32/application-x-tiled.png
228	0	src/tiled/images/scalable/application-x-tiled.svg
16	0	src/tiled/tiled.pro

--b5f46891	2013-04-04T20:21:14+03:00	Samuli Tuomola	samuli.tuomola@gmail.com	Rolled back b38dd75

b5f46891
0	3	src/tiled/pluginmanager.cpp

--742e956d	2013-04-04T18:28:57+03:00	Samuli Tuomola	samuli.tuomola@gmail.com	Disable PEP370 + some cleanup

742e956d
7	2	src/plugins/python/pythonplugin.cpp

--41136ef8	2013-04-01T17:21:07+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Small cleanup

41136ef8
1	1	src/tiled/documentmanager.cpp
3	1	src/tiled/documentmanager.h
3	5	src/tiled/objectsdock.cpp

--9b13905e	2013-04-02T00:59:00+03:00	Samuli Tuomola	samuli.tuomola@gmail.com	Dialog->dock widget and Console->LoggingInterface

9b13905e
2	2	src/libtiled/libtiled.pro
8	8	src/libtiled/{consoleinterface.h => logginginterface.h}
68	68	src/plugins/python/pythonbind.cpp
10	10	src/plugins/python/pythonplugin.cpp
6	6	src/plugins/python/pythonplugin.h
11	19	src/plugins/python/tiledbinding.py
0	67	src/tiled/consoledialog.ui
26	15	src/tiled/{consoledialog.cpp => consoledock.cpp}
11	15	src/tiled/{consoledialog.h => consoledock.h}
4	15	src/tiled/mainwindow.cpp
2	3	src/tiled/mainwindow.h
3	4	src/tiled/tiled.pro

--a2bf9d08	2013-04-01T21:18:02+02:00	Dobes Vandermeer	dobesv@gmail.com	Update JSON plugin to support JavaScript (JSONP) load/save

Closes #374

a2bf9d08
34	4	src/plugins/json/jsonplugin.cpp
1	1	src/plugins/json/jsonplugin.h

--456e08e8	2013-04-01T21:58:34+03:00	Samuli Tuomola	samuli.tuomola@gmail.com	Small fixes

456e08e8
32	33	src/plugins/python/pythonbind.cpp
4	3	src/plugins/python/scripts/pk2.py
3	2	src/plugins/python/tiledbinding.py

--e98823db	2013-04-01T21:59:57+03:00	Samuli Tuomola	samuli.tuomola@gmail.com	Small fixes

e98823db
71	48	src/plugins/python/pythonbind.cpp
14	7	src/plugins/python/pythonplugin.cpp
2	1	src/plugins/python/qtbinding.py
1	1	src/plugins/python/tiledbinding.py
1	1	src/tiled/mainwindow.cpp

--4b9f7129	2013-04-01T20:37:01+03:00	Samuli Tuomola	samuli.tuomola@gmail.com	Console changes, now in color

4b9f7129
18	13	src/plugins/python/pythonplugin.cpp
12	8	src/tiled/consoledialog.cpp
0	2	src/tiled/consoledialog.h

--64c810aa	2013-04-01T18:25:59+03:00	Samuli Tuomola	samuli.tuomola@gmail.com	Added platform agnostic console window

64c810aa
57	0	src/libtiled/consoleinterface.h
1	0	src/libtiled/libtiled.pro
167	0	src/plugins/python/pythonbind.cpp
41	59	src/plugins/python/pythonplugin.cpp
12	1	src/plugins/python/pythonplugin.h
34	2	src/plugins/python/tiledbinding.py
68	0	src/tiled/consoledialog.cpp
50	0	src/tiled/consoledialog.h
67	0	src/tiled/consoledialog.ui
-	-	src/tiled/images/16x16/terminal-green.png
-	-	src/tiled/images/16x16/terminal-red.png
-	-	src/tiled/images/16x16/terminal.png
15	0	src/tiled/mainwindow.cpp
3	0	src/tiled/mainwindow.h
6	3	src/tiled/tiled.pro
3	0	src/tiled/tiled.qrc

--626dcb1f	2013-03-31T22:18:41+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Small arbitrary cleanups in AutomappingManager

626dcb1f
2	4	src/tiled/automappingmanager.cpp
4	4	src/tiled/automappingmanager.h

--0d1fcd8b	2013-03-30T21:20:03+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed the tab order in the Object Properties dialog

0d1fcd8b
9	0	src/tiled/objectpropertiesdialog.ui

--2deebf49	2013-03-30T12:40:41+02:00	Samuli Tuomola	samuli.tuomola@gmail.com	MapObject's tile now accessed through cell()

2deebf49
39	49	src/plugins/python/pythonbind.cpp
1	1	src/plugins/python/scripts/pk2.py
2	4	src/plugins/python/tiledbinding.py

--2c3ea4a8	2012-09-18T22:42:49+03:00	Samuli Tuomola	samuli.tuomola@gmail.com	Should use PyObject rather than PyEval functions

2c3ea4a8
15	12	src/plugins/python/pythonplugin.cpp

--c5e082c5	2012-09-18T22:37:31+03:00	Samuli Tuomola	samuli.tuomola@gmail.com	Divided Qt bindings into a submodule

c5e082c5
3083	3033	src/plugins/python/pythonbind.cpp
199	0	src/plugins/python/qtbinding.py
24	19	src/plugins/python/scripts/fotf.py
1	1	src/plugins/python/scripts/lib/lbm.py
1	0	src/plugins/python/scripts/mappy.py
1	0	src/plugins/python/scripts/zst.py
6	163	src/plugins/python/tiledbinding.py

--ecd30f2e	2012-09-18T20:09:37+03:00	Samuli Tuomola	samuli.tuomola@gmail.com	Added QFileDialog binding

ecd30f2e
351	16	src/plugins/python/pythonbind.cpp
67	21	src/plugins/python/tiledbinding.py

--b38dd759	2012-04-23T18:57:49+03:00	Samuli Tuomola	samuli.tuomola@gmail.com	Let plugins cleanup after themselves when quitting

b38dd759
3	0	src/tiled/pluginmanager.cpp

--99c4567e	2012-04-23T10:24:35+03:00	Samuli Tuomola	samuli.tuomola@gmail.com	Fixed windows console error output

Could've sworn it used to work without redirect on python side though.

99c4567e
86	34	src/plugins/python/pythonplugin.cpp
5	0	src/plugins/python/pythonplugin.h

--66c14f80	2012-04-23T10:20:22+03:00	Samuli Tuomola	samuli.tuomola@gmail.com	Object ownerships, QPixmap width/height

66c14f80
50	4	src/plugins/python/pythonbind.cpp
6	2	src/plugins/python/tiledbinding.py

--552ce70e	2012-04-23T10:18:26+03:00	Samuli Tuomola	samuli.tuomola@gmail.com	Add sprites as mapobjects

552ce70e
30	16	src/plugins/python/scripts/pk2.py

--a40dd471	2012-04-07T07:41:15+03:00	Samuli Tuomola	samuli.tuomola@gmail.com	Find bounding box, test imagelayer, load sprites

a40dd471
206	55	src/plugins/python/scripts/pk2.py

--0fab5cd7	2012-04-07T07:39:02+03:00	Samuli Tuomola	samuli.tuomola@gmail.com	Couple of fixes

0fab5cd7
77	43	src/plugins/python/scripts/lib/cpystruct.py
1	2	src/plugins/python/scripts/lib/lbm.py

--c44841d0	2012-04-07T07:36:40+03:00	Samuli Tuomola	samuli.tuomola@gmail.com	Support for imagelayers

c44841d0
304	31	src/plugins/python/pythonbind.cpp
25	6	src/plugins/python/tiledbinding.py

--3b6a404b	2012-03-28T13:16:31+03:00	Samuli Tuomola	samuli.tuomola@gmail.com	Added initial zSNES save state import script

3b6a404b
152	34	src/plugins/python/pythonbind.cpp
161	0	src/plugins/python/scripts/zst.py
6	2	src/plugins/python/tiledbinding.py

--5f50bf53	2012-03-21T13:53:07+02:00	Samuli Tuomola	samuli.tuomola@gmail.com	Added Windows console window for script output

Also pk2 binary filemode

5f50bf53
14	0	src/plugins/python/pythonplugin.cpp
2	2	src/plugins/python/scripts/pk2.py

--2b8ad98a	2012-03-20T06:40:17+02:00	Samuli Tuomola	samuli.tuomola@gmail.com	Added Pekka Kana 2 map import + partial export

2b8ad98a
36	6	src/plugins/python/scripts/lib/cpystruct.py
172	0	src/plugins/python/scripts/pk2.py

--4375b21a	2012-03-20T06:38:50+02:00	Samuli Tuomola	samuli.tuomola@gmail.com	Write support fixed

Supports export only to same script that loaded the map.

4375b21a
849	44	src/plugins/python/pythonbind.cpp
17	9	src/plugins/python/pythonplugin.cpp

--15694f9e	2012-03-20T06:32:32+02:00	Samuli Tuomola	samuli.tuomola@gmail.com	Added map property + tileset transparency etc bindings

Also layer/objgroup support.
Exposing tilelayer.cell classes' member "tile" produces a nasty warning
from pybindgen, seems to work so far though.

15694f9e
58	3	src/plugins/python/tiledbinding.py

--445b05f3	2012-03-16T18:10:56+02:00	Samuli Tuomola	samuli.tuomola@gmail.com	Rewrote the plugin w/o callbacks and updated scripts.

Notes:
- fotf now loads most levels with correct tilesets
- Lacks testing in windows

445b05f3
172	142	src/plugins/python/pythonbind.cpp
198	70	src/plugins/python/pythonplugin.cpp
15	12	src/plugins/python/pythonplugin.h
93	60	src/plugins/python/scripts/fotf.py
9	3	src/plugins/python/scripts/lib/cpystruct.py
45	52	src/plugins/python/scripts/mappy.py
98	95	src/plugins/python/tiledbinding.py

--22ea8268	2012-02-19T23:37:10+02:00	Samuli Tuomola	samuli.tuomola@gmail.com	Some cleanup (keep forgetting windows' special needs)

22ea8268
1	6	src/plugins/python/scripts/fotf.py
21	5	src/plugins/python/scripts/lib/lbm.py
0	135	src/plugins/python/scripts/lib/pngc.py
0	11	src/plugins/python/scripts/mappy.py

--7cea90c6	2012-02-19T20:01:30+02:00	Samuli Tuomola	samuli.tuomola@gmail.com	Adds ability to read interleaved LBM images without libraries

7cea90c6
18	9	src/plugins/python/scripts/fotf.py
103	0	src/plugins/python/scripts/lib/lbm.py

--bf82540f	2012-02-19T19:59:43+02:00	Samuli Tuomola	samuli.tuomola@gmail.com	Comma now matches C-style shorthand declaration, also a way to provide raw data to substructs

bf82540f
60	28	src/plugins/python/scripts/lib/cpystruct.py

--b352e465	2012-02-19T19:56:10+02:00	Samuli Tuomola	samuli.tuomola@gmail.com	Use indexed colormap for 8bit images, faster reading

b352e465
15	19	src/plugins/python/scripts/mappy.py

--e8809ed8	2012-02-19T19:55:28+02:00	Samuli Tuomola	samuli.tuomola@gmail.com	Adds QRgb vector container and QImage setColorTable binding

e8809ed8
292	0	src/plugins/python/pythonbind.cpp
2	0	src/plugins/python/tiledbinding.py

--3c7ca34e	2012-02-16T22:29:59+02:00	Samuli Tuomola	samuli.tuomola@gmail.com	Added QImage+QColor bindings, and transparent mappy tilesets

3c7ca34e
841	43	src/plugins/python/pythonbind.cpp
30	7	src/plugins/python/scripts/mappy.py
39	16	src/plugins/python/tiledbinding.py

--7f5d5e48	2012-02-16T01:28:59+02:00	Samuli Tuomola	samuli.tuomola@gmail.com	Now works on Windows

7f5d5e48
13	1	src/plugins/python/find_python.pri
8	6	src/plugins/python/pythonplugin.cpp
1	1	src/plugins/python/scripts/mappy.py

--7fe6d5db	2012-02-15T11:36:20+02:00	Samuli Tuomola	samuli.tuomola@gmail.com	Some refactoring

7fe6d5db
23	44	src/plugins/python/scripts/mappy.py

--6ab43a5b	2012-02-15T02:42:45+02:00	Samuli Tuomola	samuli.tuomola@gmail.com	Mappy .FMP v0.3-1.0 import support

6ab43a5b
1	0	src/plugins/python/.gitignore
25	9	src/plugins/python/scripts/lib/cpystruct.py
110	0	src/plugins/python/scripts/lib/mappy_types.py
135	0	src/plugins/python/scripts/lib/pngc.py
160	0	src/plugins/python/scripts/mappy.py

--152cf60a	2012-02-12T18:42:57+02:00	Samuli Tuomola	samuli.tuomola@gmail.com	Some clarification

152cf60a
3	1	src/plugins/plugins.pro
2	0	src/plugins/python/find_python.pri

--e0b4ea6d	2012-02-12T11:26:48+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Exclude Python plugin project entirely when no Python is found

Signed-off-by: Samuli Tuomola <samuli.tuomola@gmail.com>

e0b4ea6d
8	1	src/plugins/plugins.pro
10	0	src/plugins/python/find_python.pri
2	16	src/plugins/python/python.pro

--b91fc2e2	2012-02-12T01:48:29+02:00	Samuli Tuomola	samuli.tuomola@gmail.com	Cleanup

b91fc2e2
107	123	src/plugins/python/tiledbinding.py

--61fafe37	2012-02-12T01:17:54+02:00	Samuli Tuomola	samuli.tuomola@gmail.com	Some cleanup, use QDirIterator

61fafe37
16	24	src/plugins/python/pythonplugin.cpp

--da9a6ef3	2012-02-12T00:17:46+02:00	Samuli Tuomola	samuli.tuomola@gmail.com	Build dependency now only if pkg-config or python-config present

da9a6ef3
13	11	src/plugins/python/python.pro

--80ae482f	2012-02-11T22:54:54+02:00	Samuli Tuomola	samuli.tuomola@gmail.com	Added python scripting support

80ae482f
1	0	src/plugins/plugins.pro
19	0	src/plugins/python/python.pro
3295	0	src/plugins/python/pythonbind.cpp
166	0	src/plugins/python/pythonplugin.cpp
79	0	src/plugins/python/pythonplugin.h
94	0	src/plugins/python/scripts/fotf.py
0	0	src/plugins/python/scripts/lib/__init__.py
184	0	src/plugins/python/scripts/lib/cpystruct.py
313	0	src/plugins/python/tiledbinding.py

--edacedc6	2013-03-28T16:33:58+01:00	Erik Schilling	ablu.erikschilling@googlemail.com	Fixed the absolute paths in the desktop file

The application icons now install into the system icon theme. This also
results in the system always picking the best available icon to display.

To make installing simpler (and to make the names more consistent) the
icon files were moved into the folders of their resolution.

Fixes #383

(cherry picked from commit 9aeac457bb7f98f5d3987164a74b8445dd9977c7)

edacedc6
2	2	docs/tiled.desktop
-	-	src/tiled/images/{tiled-icon-16.png => 16x16/tiled.png}
-	-	src/tiled/images/{tiled-icon-32.png => 32x32/tiled.png}
1	1	src/tiled/images/{tiled-icon.svg => scalable/tiled.svg}
2	2	src/tiled/mainwindow.cpp
11	3	src/tiled/tiled.pro
2	2	src/tiled/tiled.qrc

--9aeac457	2013-03-28T16:33:58+01:00	Erik Schilling	ablu.erikschilling@googlemail.com	Fixed the absolute paths in the desktop file

The application icons now install into the system icon theme. This also
results in the system always picking the best available icon to display.

To make installing simpler (and to make the names more consistent) the
icon files were moved into the folders of their resolution.

Fixes #383

9aeac457
2	2	docs/tiled.desktop
-	-	src/tiled/images/{tiled-icon-16.png => 16x16/tiled.png}
-	-	src/tiled/images/{tiled-icon-32.png => 32x32/tiled.png}
1	1	src/tiled/images/{tiled-icon.svg => scalable/tiled.svg}
2	2	src/tiled/mainwindow.cpp
11	3	src/tiled/tiled.pro
2	2	src/tiled/tiled.qrc

--b09a9f51	2013-03-25T23:42:09+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Unduplicated the duplicate and remove objects actions

Also shared the implementation of moveObjectsToGroup by moving that
function into MapDocument.

b09a9f51
13	71	src/tiled/abstractobjecttool.cpp
0	5	src/tiled/abstractobjecttool.h
52	0	src/tiled/mapdocument.cpp
5	0	src/tiled/mapdocument.h
51	0	src/tiled/mapdocumentactionhandler.cpp
14	0	src/tiled/mapdocumentactionhandler.h
13	79	src/tiled/objectsdock.cpp
1	5	src/tiled/objectsdock.h

--050054ac	2013-03-28T11:59:36+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Don't handle keys while moving or rotating with the mouse

The undo stack gets confused when that happens.

050054ac
5	0	src/tiled/objectselectiontool.cpp

--da5f4a6c	2013-03-27T21:48:09+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Implemented moving objects with arrow keys

By default the selected objects move by pixel. The Shift modifier speeds
it up to move by tile (or by subtile when fine grid snapping is
enabled). The Control modifier causes the event to be ignored, so that
it can be used to move the view.

This behavior is similar to that seen in Inkscape and GIMP.

Closes #342

Sponsored-by: Ben Wales

da5f4a6c
8	1	src/tiled/abstracttool.cpp
4	1	src/tiled/abstracttool.h
10	1	src/tiled/mapscene.cpp
2	1	src/tiled/mapscene.h
45	1	src/tiled/objectselectiontool.cpp
2	1	src/tiled/objectselectiontool.h

--88418400	2013-03-18T22:17:06+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Rotate objects around their center instead of the bottom left

This makes the implementation a little bit more complicated, but it
should be more intuitive overall.

This change is mostly about changing the interpretation of the
'rotation' attribute and is not backwards-compatible. However, rotation
support was added recently so I don't expect anybody to depend on the
previous behavior. Eventually the transformation origin could also be
made configurable, if there is a need for that.

88418400
28	0	src/tiled/mapobjectitem.cpp
6	0	src/tiled/mapobjectitem.h
3	2	src/tiled/objectselectiontool.cpp

--c7358a16	2013-03-17T12:05:42+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Improved interface for rotating objects

The logic was reimplemented in ObjectSelectionTool. This allowed for
rotating objects around their center as well as rotating multiple
objects together.

Sponsored-by: Ben Wales

c7358a16
1	145	src/tiled/mapobjectitem.cpp
0	5	src/tiled/mapobjectitem.h
359	10	src/tiled/objectselectiontool.cpp
25	1	src/tiled/objectselectiontool.h

--f5054a8a	2013-03-16T14:47:51+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.9'

f5054a8a
--6023b7b5	2013-03-15T23:07:07+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed line widths when zooming in Qt 5

The grid and selection lines are not supposed to be affected by the zoom
level. In Qt 5, the default QPen width changed from 0 (which is
independent of the current transformation) to 1.

6023b7b5
2	2	src/libtiled/isometricrenderer.cpp
2	1	src/libtiled/orthogonalrenderer.cpp
1	1	src/libtiled/staggeredrenderer.cpp
1	0	src/tiled/mapobjectitem.cpp

--b7f93428	2013-03-08T15:38:50+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed some plurals in English translation

The actions on polygon points were not translated yet. These are needed
for proper plural handling.

b7f93428
12	12	translations/tiled_en.ts

--5e964c89	2013-03-08T00:16:40-07:00	Jeff Bland	jksb@member.fsf.org	Ignore mac build artifacts

5e964c89
4	4	.gitignore

--df962dac	2013-03-07T00:00:48+04:00	Dmitry Marakasov	amdmi3@amdmi3.ru	Fix library directory order

This moves path to -ltiled before system library locations, fixing the
case where libtiled from (older) installed version of tiled is
picked up instead of newly built one.

df962dac
1	1	src/automappingconverter/automappingconverter.pro
1	1	src/tiled/tiled.pro
1	1	src/tmxrasterizer/tmxrasterizer.pro
1	1	src/tmxviewer/tmxviewer.pro

--92e22d4d	2013-03-03T21:36:32+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed object drawing order for image saving and mini-map

Currently objects are always drawn top to bottom. For the regular map
view this is taken care of by setting the 'z' property of the items
to their 'y' coordinate. However, when saving as image or when rendering
the mini-map, the objects need to be sorted manually.

92e22d4d
11	1	src/tiled/minimap.cpp
11	1	src/tiled/saveasimagedialog.cpp

--bdc0d809	2013-03-01T21:59:10+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.9'

bdc0d809
--8f59615d	2013-03-01T21:51:33+01:00	Erik Schilling	ablu.erikschilling@googlemail.com	Allow cross-compiling Tiled using MinGW

Needed some small modifications.

8f59615d
1	1	src/libtiled/libtiled.pro
2	1	translations/translations.pro

--b3bf1ed1	2013-03-01T20:45:07+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Avoid using Windows 95 style

The Windows 95 style is really ugly but somehow gets chosen by default
sometimes, even with Qt 5 where the much better Fusion style is available.
Avoid it on any platform but Windows.

The code was borrowed from Qt Creator.

b3bf1ed1
20	0	src/tiled/main.cpp

--100c160f	2013-03-01T20:41:42+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed compile against Qt 5

A parameter was dropped from QCoreApplication::translate.

100c160f
6	0	src/tiled/flipmapobjects.cpp

--5def115f	2013-03-01T15:19:41+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch 'wip/rotation'

5def115f
--0ceb35ff	2013-03-01T15:18:58+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Handle object rotation in Edit Polygon Tool

0ceb35ff
1	1	src/tiled/createobjecttool.cpp
12	13	src/tiled/editpolygontool.cpp
8	16	src/tiled/mapobjectitem.cpp
6	8	src/tiled/mapobjectitem.h

--3c617747	2013-03-01T12:43:42+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Apply flip and rotate shortcuts to selected objects

When applicable, the X and Y shortcuts will now flip selected objects
and the Z and Shift+Z shortcuts will rotate them.

3c617747
1	0	src/libtiled/libtiled.pro
1	1	src/libtiled/mapobject.cpp
1	5	src/libtiled/mapobject.h
46	0	src/libtiled/tiled.h
1	11	src/libtiled/tilelayer.h
2	9	src/tiled/abstractobjecttool.cpp
2	1	src/tiled/flipmapobjects.cpp
2	2	src/tiled/flipmapobjects.h
14	24	src/tiled/mainwindow.cpp
7	4	src/tiled/mainwindow.h
45	0	src/tiled/mapdocument.cpp
5	2	src/tiled/mapdocument.h

--6a1724a5	2013-02-28T22:31:19+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Allow objects to be flipped horizontally and vertically

Flipping is supported for tile objects and polygons, and for both
orthogonal maps and isometric maps.

Flipping currently does not take into account object rotation,
so "horizontal" flipping might mean something else for rotated objects.
Also, when flipping groups of objects, they are flipped individually.
These issues can be resolved later.

Closes #58  (flipping for tile objects)
Closes #116 (applying tile offset to tile objects)
Closes #154 (flipping for polygons and polylines)

Sponsored-by: Ben Wales

6a1724a5
35	60	src/libtiled/isometricrenderer.cpp
24	4	src/libtiled/mapobject.cpp
16	15	src/libtiled/mapobject.h
2	4	src/libtiled/mapreader.cpp
57	0	src/libtiled/maprenderer.cpp
11	0	src/libtiled/maprenderer.h
2	2	src/libtiled/mapwriter.cpp
8	5	src/libtiled/objectgroup.cpp
23	48	src/libtiled/orthogonalrenderer.cpp
2	2	src/plugins/json/maptovariantconverter.cpp
1	2	src/plugins/json/varianttomapconverter.cpp
2	2	src/plugins/lua/luaplugin.cpp
24	1	src/tiled/abstractobjecttool.cpp
4	0	src/tiled/abstractobjecttool.h
0	10	src/tiled/changemapobject.cpp
2	2	src/tiled/changemapobject.h
2	2	src/tiled/createobjecttool.cpp
1	1	src/tiled/editpolygontool.cpp
51	0	src/tiled/flipmapobjects.cpp
17	23	src/tiled/{changemapobject.h => flipmapobjects.h}
1	1	src/tiled/mapobjectitem.cpp
2	0	src/tiled/tiled.pro
1	1	src/tiled/tilesetdock.cpp

--6b0e3e6e	2013-02-21T17:05:04+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed the option to show rotation arrows

If they are to be drawn, it should be done by the map object item and
not by each map renderer. For now I'm just removing it since it doesn't
seem that helpful to me anyway when the objects are already rotated
themselves.

6b0e3e6e
0	11	src/libtiled/isometricrenderer.cpp
0	5	src/libtiled/isometricrenderer.h
1	22	src/libtiled/maprenderer.h
2	98	src/libtiled/orthogonalrenderer.cpp
0	5	src/libtiled/orthogonalrenderer.h
0	11	src/libtiled/staggeredrenderer.cpp
0	5	src/libtiled/staggeredrenderer.h
0	3	src/tiled/mainwindow.cpp
0	12	src/tiled/mainwindow.ui
0	18	src/tiled/mapscene.cpp
0	6	src/tiled/mapscene.h
0	12	src/tiled/preferences.cpp
0	4	src/tiled/preferences.h

--218c153f	2013-02-21T16:54:30+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added a rotation handle to the map object item

The item is now rotated rather than just showing an arrow.

There are still some problems with this:

* Edit polygon tool does not cope with it
* Would feel less weird when objects rotated around their center
* This makes no sense for non-tile objects on isometric maps

Closes #11  (support for rotating objects)
Closes #325 (rotate object image)

Sponsored-by: Ben Wales

218c153f
1	1	src/libtiled/orthogonalrenderer.cpp
157	1	src/tiled/mapobjectitem.cpp
11	1	src/tiled/mapobjectitem.h

--a8f4ceb2	2013-01-27T11:26:08+09:30	Xenodora	xenodora@gmail.com	Added a 'snap to fine grid' feature

Allows for objects to be placed accurately at sub-tile increments.

a8f4ceb2
28	6	src/tiled/createobjecttool.cpp
9	4	src/tiled/editpolygontool.cpp
9	1	src/tiled/mainwindow.cpp
10	1	src/tiled/mainwindow.ui
9	2	src/tiled/mapobjectitem.cpp
9	4	src/tiled/objectselectiontool.cpp
26	0	src/tiled/preferences.cpp
9	0	src/tiled/preferences.h
3	0	src/tiled/preferencesdialog.cpp
18	1	src/tiled/preferencesdialog.ui

--835959ec	2013-02-21T11:37:34+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Renamed object angle to object rotation

835959ec
1	1	src/libtiled/isometricrenderer.cpp
1	1	src/libtiled/isometricrenderer.h
3	3	src/libtiled/mapobject.cpp
5	5	src/libtiled/mapobject.h
2	2	src/libtiled/mapreader.cpp
9	9	src/libtiled/maprenderer.h
3	3	src/libtiled/mapwriter.cpp
4	4	src/libtiled/orthogonalrenderer.cpp
1	1	src/libtiled/orthogonalrenderer.h
1	1	src/libtiled/staggeredrenderer.cpp
1	1	src/libtiled/staggeredrenderer.h
1	1	src/plugins/json/maptovariantconverter.cpp
2	2	src/plugins/json/varianttomapconverter.cpp
1	1	src/plugins/lua/luaplugin.cpp
3	3	src/tiled/mainwindow.cpp
7	4	src/tiled/mainwindow.ui
2	2	src/tiled/mapobjectmodel.cpp
1	1	src/tiled/mapobjectmodel.h
8	8	src/tiled/mapscene.cpp
3	3	src/tiled/mapscene.h
6	6	src/tiled/objectpropertiesdialog.cpp
3	3	src/tiled/objectpropertiesdialog.ui
7	6	src/tiled/preferences.cpp
4	4	src/tiled/preferences.h
5	5	src/tiled/rotatemapobject.cpp
3	3	src/tiled/rotatemapobject.h

--301ffd65	2012-03-07T19:17:59+01:00	Przemysław Grzywacz	nexather@gmail.com	Added MapObject angle

* Added support for angle in TMX, Lua and JSON plugins
* Added support for angle drawing in orthogonal map renderer
* Added angle to Object Properties window
* Adapted MapObject bounding box (only rect shape and tile object) in
  orthogonal map renderer to contain the angle arrow
* Added a view option to enable or disable angle arrow
* Polygon/polyline don't have angle arrows

Conflicts-resolved-by: Thorbjørn Lindeijer

Conflicts:
	src/libtiled/mapobject.cpp
	src/libtiled/mapobject.h
	src/libtiled/mapreader.cpp
	src/libtiled/maprenderer.h
	src/libtiled/mapwriter.cpp
	src/tiled/mainwindow.cpp
	src/tiled/mainwindow.ui
	src/tiled/mapscene.cpp
	src/tiled/mapscene.h
	src/tiled/objectpropertiesdialog.ui
	src/tiled/preferences.cpp
	src/tiled/tiled.pro

301ffd65
11	0	src/libtiled/isometricrenderer.cpp
5	0	src/libtiled/isometricrenderer.h
3	0	src/libtiled/mapobject.cpp
14	3	src/libtiled/mapobject.h
6	1	src/libtiled/mapreader.cpp
22	1	src/libtiled/maprenderer.h
4	0	src/libtiled/mapwriter.cpp
98	2	src/libtiled/orthogonalrenderer.cpp
5	0	src/libtiled/orthogonalrenderer.h
11	0	src/libtiled/staggeredrenderer.cpp
5	0	src/libtiled/staggeredrenderer.h
1	0	src/plugins/json/maptovariantconverter.cpp
2	0	src/plugins/json/varianttomapconverter.cpp
1	0	src/plugins/lua/luaplugin.cpp
3	0	src/tiled/mainwindow.cpp
10	1	src/tiled/mainwindow.ui
6	0	src/tiled/mapobjectmodel.cpp
1	0	src/tiled/mapobjectmodel.h
20	2	src/tiled/mapscene.cpp
6	0	src/tiled/mapscene.h
8	0	src/tiled/objectpropertiesdialog.cpp
50	33	src/tiled/objectpropertiesdialog.ui
11	0	src/tiled/preferences.cpp
4	0	src/tiled/preferences.h
51	0	src/tiled/rotatemapobject.cpp
54	0	src/tiled/rotatemapobject.h
2	0	src/tiled/tiled.pro

--9f97d858	2013-02-20T23:38:48+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Raised map size limits beyond all reason

Avoid crashing on map creation by not automatically creating a tile
layer when its size would exceed a gigabyte, and warning the user
about this fact.

Maps that only use object layers work fine at this size.

9f97d858
15	2	src/tiled/newmapdialog.cpp
2	2	src/tiled/newmapdialog.ui
5	5	src/tiled/objectpropertiesdialog.ui
6	6	src/tiled/resizedialog.ui

--78d98ba7	2013-02-17T10:34:49+01:00	Oskar Wiksten	oskar.wiksten@gmail.com	libtiled-java: Added support for caching tilesets

For example, when reusing the TMXMapReader to load several TMX files
that all have the same tileset definitions, the loader does not have to
load the tileset images several times, thus making the loading process
much faster.

78d98ba7
21	2	util/java/libtiled-java/src/tiled/io/TMXMapReader.java

--6a7177d2	2013-02-16T17:48:59+01:00	Oskar Wiksten	oskar.wiksten@gmail.com	libtiled-java: Do not store firstGid in each TileSet

Instead, they should be calculated on-the-fly when writing a TMX file.
Loading TMX files should parse the gids while the file is being loaded,
but not persist them inside the TileSet.

6a7177d2
0	18	util/java/libtiled-java/src/tiled/core/Map.java
0	12	util/java/libtiled-java/src/tiled/core/Tile.java
0	19	util/java/libtiled-java/src/tiled/core/TileSet.java
28	7	util/java/libtiled-java/src/tiled/io/TMXMapReader.java
35	10	util/java/libtiled-java/src/tiled/io/TMXMapWriter.java

--d28da68a	2013-02-16T16:41:17+01:00	Oskar Wiksten	oskar.wiksten@gmail.com	libtiled-java: Do not output width and height for ObjectGroup

It's obsoleted.

d28da68a
4	0	util/java/libtiled-java/src/tiled/io/TMXMapWriter.java

--a592df11	2013-02-16T12:55:49+01:00	Oskar Wiksten	oskar.wiksten@gmail.com	libtiled-java: Added zlib compression support to TMXMapWriter

a592df11
4	1	util/java/libtiled-java/src/tiled/io/TMXMapReader.java
23	6	util/java/libtiled-java/src/tiled/io/TMXMapWriter.java

--786cdabb	2013-02-16T16:29:15+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Bump the maximum tile margin and spacing in New Tileset dialog

The maximum was at 99 pixels and somebody was hitting that limit. The
main reason for the maximum is because QSpinBox determines its size
based on the maximum value. With the current layout, the maximum can be
9999 and it will still be the same size, because it's aligned to the
tile size spin box anyway which has that maximum already.

Closes #359

786cdabb
2	2	src/tiled/newtilesetdialog.ui

--49f8cbf0	2013-02-03T21:20:40+01:00	Petr Viktorin	encukou@gmail.com	Import/export terrain information from/to JSON

Fixes #350

49f8cbf0
29	1	src/plugins/json/maptovariantconverter.cpp
30	0	src/plugins/json/varianttomapconverter.cpp

--3e066bbd	2013-02-07T22:04:15+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Simplified IsometricRenderer::pixelToTileCoords

3e066bbd
4	5	src/libtiled/isometricrenderer.cpp

--2f9cb77a	2013-02-04T17:33:59+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Depend on zlib directly when compiling against Qt 5

libtiled.pro is now set up to auto-detect a zlib installation at its
default location. When it is installed somewhere else, then the
environment variable 'ZLIB_PATH' should be set to the directory where the
'include' and 'lib' directories can be found that include zlib.

When compiling with MinGW, it will choose the static library to avoid
the need to copy a .dll around. When compiling with MSVC it will need the
zlib1.dll since I don't think the static library is compatible with that
compiler. The MSVC build has not been tested yet.

It expects zlib to be installed by using the package available at
http://gnuwin32.sourceforge.net/packages/zlib.htm

Closes #285

2f9cb77a
27	1	src/libtiled/libtiled.pro

--e50064c3	2013-02-03T04:37:51+01:00	Petr Viktorin	encukou@gmail.com	Export/Import map background color to/from JSON

e50064c3
4	0	src/plugins/json/maptovariantconverter.cpp
7	0	src/plugins/json/varianttomapconverter.cpp

--17a0dd6a	2013-01-30T22:47:04+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Open Object Properties dialog when double clicking on object

Closes #300

17a0dd6a
13	0	src/tiled/mapobjectitem.cpp
3	0	src/tiled/mapobjectitem.h

--59d5f316	2013-01-30T15:16:05+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed Object Properties dialog not remembering its size

It was always resizing itself to its preferred size, so the mechanism
implemented in 28ea563 was not working for this dialog.

Fixes #339

59d5f316
0	3	src/tiled/objectpropertiesdialog.cpp

--be6dc96d	2013-01-27T23:35:01+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed an unnecessary separator in the tileset dock

be6dc96d
0	1	src/tiled/tilesetdock.cpp

--97d1c9f9	2013-01-27T23:04:02+01:00	Stefan Beller	stefanbeller@googlemail.com	Flareplugin: initialize number base to 10 when reading maps.

The default of flare maps is 10.

This commit removes the compiler warning:
..\..\..\..\tiled\src\plugins\flare\flareplugin.cpp:170:60:
warning: 'base' may be used uninitialized in this function
[-Wmaybe-uninitialized]

97d1c9f9
1	1	src/plugins/flare/flareplugin.cpp

--d3ed89f5	2013-01-27T22:44:50+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Tweaked the default window layout

* Mini-map is now tabbed beneath the Layers dock
* History and Maps docks moved to the right and are hidden by default
* Default window size was increased from 800x600 to 1000x700

d3ed89f5
11	7	src/tiled/mainwindow.cpp

--f1a63410	2013-01-27T21:18:19+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated NEWS file

f1a63410
6	2	NEWS

--967cd93c	2013-01-27T17:40:40+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed deletion of tilesets that are shared with open maps

When opening a map with external tilesets, it will share those external
tilesets when they are the same as those used in already open maps. When
some error is encountered while opening such a map, these shared tilesets
should not be deleted.

This patch makes sure that the map reader will only delete the tilesets
that it created itself while loading a map.

Fixes #312

967cd93c
11	1	src/libtiled/mapreader.cpp

--28ea5631	2013-01-27T17:17:30+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Remember the size and position for some dialogs

Some dialogs were excluded from this behavior because they were either
not resizable or because it's probably better for them to always pop up
in the center (like Preferences, New Map and New Tileset).

Unfortunately for some window managers this behavior is broken and I
don't know of a good way to fix that. On Xfce for example, the dialogs
will move down by the height of their title bar each time they are
opened.

Closes #339

28ea5631
4	0	src/tiled/commanddialog.cpp
3	0	src/tiled/editterraindialog.cpp
4	0	src/tiled/propertiesdialog.cpp
5	0	src/tiled/resizedialog.cpp
3	0	src/tiled/saveasimagedialog.cpp
30	0	src/tiled/utils.cpp
3	0	src/tiled/utils.h

--d0809b68	2013-01-27T15:32:43+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed ability to change terrain through the TilesetModel

It is no longer used and would not handle undo correctly.

d0809b68
0	19	src/tiled/tilesetmodel.cpp
1	6	src/tiled/tilesetmodel.h

--0fa37980	2013-01-27T15:22:16+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed possible crash in TileDelegate

This crash is not possible to trigger when using the UI to add tilesets,
but by editing the map or tileset file you can set up tilesets that
have a tile count that is not divisible by the column count. The
TileDelegate was not dealing correctly with table cells for which no tile
exists.

0fa37980
2	0	src/tiled/tilesetview.cpp

--669ca1bf	2013-01-27T11:35:45+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added Transifex configuration

669ca1bf
1	0	.gitattributes
9	0	.tx/config

--0f715a84	2013-01-24T22:24:23+01:00	Petr Viktorin	encukou@gmail.com	Update Czech translation

0f715a84
135	133	translations/tiled_cs.ts

--09884b6a	2013-01-24T20:32:58+02:00	Tamir Atias (KonoM)	engine.games@gmail.com	Updated Hebrew translation

09884b6a
131	131	translations/tiled_he.ts

--7fa41cb0	2013-01-23T22:57:24+01:00	Jonatas de Moraes Junior	jmoraes@gmail.com	Updated Brazilian Portuguese translation

7fa41cb0
129	126	translations/tiled_pt_BR.ts

--ff172b16	2013-01-23T22:56:39+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed debug output from the staggered renderer

ff172b16
0	4	src/libtiled/staggeredrenderer.cpp

--77e8a3a5	2013-01-21T23:01:31+01:00	zhaosting	zhaosting@gmail.com	Updated Chinese translation

77e8a3a5
128	124	translations/tiled_zh.ts

--2d9b06ce	2013-01-20T22:12:00+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Initialize some members in the constructor

Makes cppcheck happier, and is a good idea anyway.

2d9b06ce
4	3	src/tmxrasterizer/main.cpp

--9fdb60fc	2013-01-18T12:35:39+01:00	Hiroki Utsunomiya	teraapi@gmail.com	Updated Japanese translation

9fdb60fc
134	134	translations/tiled_ja.ts

--65368110	2013-01-17T00:33:54-08:00	Ian Langworth ☠	ian@langworth.com	Added a note about installing qt on Mac.

65368110
1	0	README.md

--974e00c0	2013-01-16T23:47:07+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed spaces in debug message

974e00c0
1	1	src/libtiled/mapreader.cpp

--c1096b1a	2013-01-13T18:25:40-07:00	Jeff Bland	jksb@member.fsf.org	Fixed Mac build on Qt 5

Due to missing headers in macsupport.mm.

c1096b1a
4	0	src/tiled/macsupport.mm

--79a69105	2013-01-14T22:51:14+01:00	Yohann Ferreira	yohann.ferreira@orange.fr	Updated French translation

79a69105
129	126	translations/tiled_fr.ts

--b3f3c318	2013-01-13T02:18:55+01:00	Erik Schilling	ablu.erikschilling@googlemail.com	Added manpages and desktop file

b3f3c318
3	0	.gitignore
37	0	docs/tiled.1
31	0	docs/tiled.1.ronn
9	0	docs/tiled.desktop
41	0	docs/tmxrasterizer.1
33	0	docs/tmxrasterizer.1.ronn
29	0	docs/tmxviewer.1
25	0	docs/tmxviewer.1.ronn
12	0	src/tiled/tiled.pro
4	0	src/tmxrasterizer/tmxrasterizer.pro
4	0	src/tmxviewer/tmxviewer.pro

--c047f3db	2013-01-12T23:29:59+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made the actions in the Objects dock update to language change

c047f3db
9	8	src/tiled/objectsdock.cpp
1	0	src/tiled/objectsdock.h

--96f0fb11	2013-01-12T11:32:19+04:00	Alex Vega (semtiko)	semtiko@gmail.com	Updated Russian translation

96f0fb11
139	136	translations/tiled_ru.ts

--5b8c11c0	2013-01-12T16:25:20+01:00	Mauricio Muñoz Lucero	real.mml@gmail.com	Updated Spanish translation

5b8c11c0
137	134	translations/tiled_es.ts

--ada06666	2013-01-12T16:10:45+01:00	Porfírio Ribeiro	porfirioribeiro@gmail.com	Updated Portuguese translation

ada06666
69	68	translations/tiled_pt.ts

--82e64605	2013-01-11T20:37:41+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added Sébastien Burillard as French translator

Forgot that in commit 158918478fc9505e616d1d2ea08ed172f65c3980.

82e64605
1	0	AUTHORS

--7baee588	2013-01-11T18:58:55+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated copyright year in About dialog

Also updated translation files for this change and marked the
translation as done in the German and Dutch translations.

7baee588
1	1	src/tiled/aboutdialog.cpp
7	7	translations/tiled_cs.ts
6	7	translations/tiled_de.ts
5	5	translations/tiled_en.ts
7	7	translations/tiled_es.ts
7	7	translations/tiled_fr.ts
7	7	translations/tiled_he.ts
6	6	translations/tiled_it.ts
7	7	translations/tiled_ja.ts
5	5	translations/tiled_lv.ts
7	8	translations/tiled_nl.ts
7	7	translations/tiled_pt.ts
7	7	translations/tiled_pt_BR.ts
7	7	translations/tiled_ru.ts
7	7	translations/tiled_zh.ts

--89983f03	2013-01-11T16:41:25+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Cosmetic improvements to Tilesets dock and others

* Show selected tileset in tilesets menu, radio button style
* Show a large down arrow on the tilesets menu button
* Removed the space between the tab bar and the tileset view
* Removed the space between views and the tool bar below

89983f03
6	2	src/tiled/layerdock.cpp
1	0	src/tiled/objectsdock.cpp
47	10	src/tiled/tilesetdock.cpp
2	0	src/tiled/tilesetdock.h

--bbfab85b	2013-01-11T13:28:07+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Unified image layer rendering

The image layer rendering was different for each map renderer. It seems
to me that it is better to consider the image layer as simply
independent of the tile or object layer projections, which is what this
change does.

This change also implies that image layer position is now in pixels
rather than tiles. It is currently still not possible to change this
position in Tiled, so I don't expect that to affect anybody.

Also fixed the image layer item bounds, which resolves potential repaint
issues when changing image layer opacity or visiblity.

Closes #317

bbfab85b
0	15	src/libtiled/isometricrenderer.cpp
0	4	src/libtiled/isometricrenderer.h
18	0	src/libtiled/maprenderer.cpp
9	3	src/libtiled/maprenderer.h
0	13	src/libtiled/orthogonalrenderer.cpp
0	4	src/libtiled/orthogonalrenderer.h
0	15	src/libtiled/staggeredrenderer.cpp
0	4	src/libtiled/staggeredrenderer.h
1	1	src/tiled/imagelayeritem.cpp

--48ac1731	2013-01-05T18:20:05+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated all translation files again

I hope now we can enter string freeze.

48ac1731
24	68	translations/tiled_cs.ts
24	65	translations/tiled_en.ts
24	65	translations/tiled_es.ts
24	65	translations/tiled_fr.ts
28	69	translations/tiled_he.ts
24	65	translations/tiled_it.ts
24	62	translations/tiled_ja.ts
24	68	translations/tiled_lv.ts
33	74	translations/tiled_pt.ts
30	71	translations/tiled_pt_BR.ts
33	77	translations/tiled_ru.ts
24	62	translations/tiled_zh.ts

--25c8908a	2013-01-03T18:16:40+01:00	Erik Schilling	ablu.erikschilling@googlemail.com	Updated German translation

25c8908a
150	188	translations/tiled_de.ts

--1606faf5	2013-01-04T00:13:27+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated the Dutch translation

1606faf5
152	190	translations/tiled_nl.ts

--40f52100	2013-01-05T17:48:04+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed a translation string by fixing a small inconsistency

Also removed the unneeded "Move Object To Layer", since it was
immediately overridden in ObjectsDock::updateActions anyway.

40f52100
1	2	src/tiled/objectsdock.cpp

--e3b02a55	2013-01-03T23:49:13+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed the plural handling in the Objects dock

The handling of different plural forms should be left to the Qt
translation system, rather than hardcoding special forms for the
singular case.

e3b02a55
3	6	src/tiled/objectsdock.cpp

--fb6a1c7a	2013-01-03T14:41:48+01:00	Stefan Beller	stefanbeller@googlemail.com	Automapping: Improved error messages

All strings not to be translated (i.e. special layer names for Automapping)
are enclosed with 'quote signs'.

fb6a1c7a
7	7	src/tiled/automapper.cpp

--aa341343	2013-01-03T19:56:15+01:00	Erik Schilling	ablu.erikschilling@googlemail.com	Fixed typo "Terain" -> "Terrain"

aa341343
1	1	src/tiled/terrainbrush.cpp

--fbea3f35	2013-01-03T14:28:52+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed newimagelayerdialog.ui from the .pro file as well...

fbea3f35
0	1	src/tiled/tiled.pro

--c0f9f745	2013-01-03T13:15:31+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated all translation files

To give an idea of the size of this update, the lupdate output for most
translations was:

Found 517 source text(s) (130 new and 387 already existing)

c0f9f745
832	371	translations/tiled_cs.ts
777	447	translations/tiled_de.ts
804	285	translations/tiled_en.ts
783	710	translations/tiled_es.ts
764	663	translations/tiled_fr.ts
762	502	translations/tiled_he.ts
785	531	translations/tiled_it.ts
792	689	translations/tiled_ja.ts
782	552	translations/tiled_lv.ts
788	735	translations/tiled_nl.ts
311	623	translations/tiled_pt.ts
801	720	translations/tiled_pt_BR.ts
799	415	translations/tiled_ru.ts
798	678	translations/tiled_zh.ts

--4697bafa	2013-01-03T13:09:48+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Have lupdate remove obsolete entries

4697bafa
1	1	translations/translations.pro

--a90b2811	2013-01-03T13:06:01+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed unused New Image Layer dialog

a90b2811
0	160	src/tiled/newimagelayerdialog.ui

--5fd94753	2013-01-03T12:03:49+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Small terrain brush code tweaks

5fd94753
2	2	src/tiled/terrainbrush.cpp
0	2	src/tiled/terrainbrush.h

--e4fc6167	2013-01-03T11:53:16+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated NEWS file

e4fc6167
2	0	NEWS

--ac0f2c75	2013-01-02T23:17:05+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added an action to create a terrain given its display tile

Convenient shortcut to first adding a new terrain type and then setting
its display tile.

ac0f2c75
4	2	src/tiled/editterraindialog.cpp
2	1	src/tiled/editterraindialog.h
13	1	src/tiled/tilesetview.cpp
2	0	src/tiled/tilesetview.h

--4c435417	2013-01-02T20:16:09+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Only highlight the terrain when it's not "no terrain"

4c435417
4	2	src/tiled/tilesetview.cpp

--541ccce1	2013-01-02T00:56:54+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed another potential terrain brush crash

After change 43fef0db20f3691714b88785c54211d47b23e7b0 there were some
more cases where a null check was missing.

541ccce1
5	5	src/tiled/terrainbrush.cpp

--96af2e03	2013-01-02T00:55:17+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added 'E' as shortcut to toggle erasing terrain information

96af2e03
4	0	src/tiled/editterraindialog.cpp

--7e05bf88	2013-01-01T23:54:01+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Tried to make erasing terrain information less confusing

Now the tileset view shows a gray overlay indicating where terrain
information is specified, and the "No Terrain" button has been replaced
with one saying "Erase", which does not affect the tileset view when
toggled.

7e05bf88
4	12	src/tiled/editterraindialog.cpp
1	1	src/tiled/editterraindialog.h
23	10	src/tiled/editterraindialog.ui
15	4	src/tiled/tilesetview.cpp
8	0	src/tiled/tilesetview.h

--d6428ad6	2013-01-01T20:00:02+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added shortcuts for undo/redo in Edit Terrain Dialog

d6428ad6
12	3	src/tiled/editterraindialog.cpp
3	0	src/tiled/editterraindialog.h

--ee560e95	2013-01-01T17:50:08+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Replaced 'uint' with 'unsigned'

The 'uint' is apparently an old compatibility name, so let's not use it.

ee560e95
7	7	src/libtiled/gidmapper.cpp
4	4	src/libtiled/gidmapper.h
7	7	src/libtiled/mapreader.cpp
7	7	src/libtiled/mapwriter.cpp
1	1	src/plugins/json/maptovariantconverter.cpp
1	1	src/plugins/json/varianttomapconverter.cpp
2	2	src/plugins/lua/luaplugin.cpp
1	1	src/plugins/lua/luaplugin.h
1	1	src/plugins/lua/luatablewriter.cpp
5	5	src/plugins/lua/luatablewriter.h

--ff8a7c94	2013-01-01T17:48:46+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Replaced 'unsigned int' with 'unsigned'

I prefer brevity to verbosity in this case, they mean the same.

ff8a7c94
1	1	src/libtiled/mapwriter.cpp
1	1	src/libtiled/tile.cpp
6	6	src/libtiled/tile.h
9	9	src/tiled/terrainbrush.cpp
1	1	src/tiled/terrainbrush.h

--841bfa86	2013-01-01T17:44:51+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed crash in terrain brush when dealing with unset tiles

This crash was introduced in 43fef0db20f3691714b88785c54211d47b23e7b0,
when the null check was removed from Tile::terrain.

The edge functions are only used by the terrain brush, so they have now
been moved there, with the null check reintroduced.

841bfa86
1	5	src/libtiled/tile.h
31	4	src/tiled/terrainbrush.cpp

--fb8dbeae	2013-01-01T16:21:45+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Show/Hide Other Layers action now uses undo commands

Needed for consistency with using undo/redo for toggling individual
layer visibility.

fb8dbeae
13	5	src/tiled/layermodel.cpp

--cbe2dffd	2013-01-01T15:16:06+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed explicit Rename Layer action

You can now rename layers using F2 only when the layer list has focus.
The advantage is that you can now also use F2 to rename objects or
terrains.

cbe2dffd
0	1	src/tiled/layerdock.cpp
0	1	src/tiled/mainwindow.cpp
0	12	src/tiled/mapdocumentactionhandler.cpp
0	3	src/tiled/mapdocumentactionhandler.h

--43fef0db	2013-01-01T15:11:24+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed crash when having multiple tilesets with terrain

The terrain brush will now refuse to look for ways to transition between
terrains from different tilesets, which is better than crashing in this
situation.

43fef0db
1	1	src/libtiled/terrain.h
1	1	src/libtiled/tile.h
30	19	src/tiled/terrainbrush.cpp

--3e85bcd9	2013-01-01T13:14:51+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed updating of Terrains list when adding/removing tilesets

The TerrainModel was not correctly notifying views about these changes.

3e85bcd9
2	0	src/tiled/mapdocument.cpp
2	0	src/tiled/mapdocument.h
28	0	src/tiled/terrainmodel.cpp
4	0	src/tiled/terrainmodel.h

--5862ce9a	2013-01-01T13:12:59+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed unused member variable

Detected by clang++ (-Wunused-private-field).

5862ce9a
0	1	src/tiled/addremoveterrain.cpp
0	1	src/tiled/addremoveterrain.h

--3af63f5b	2012-12-30T21:32:46+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed updating of tileset name in terrain list on undo/redo

3af63f5b
8	0	src/tiled/terrainmodel.cpp
3	0	src/tiled/terrainmodel.h

--6ccdf904	2012-12-30T21:26:40+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Improved display of tileset names in terrain view

I'm not entirely happy with it, mainly since terrain names are no longer
aligned when some of them have no tile assigned yet, but I think it's
good enough.

6ccdf904
1	1	src/tiled/editterraindialog.cpp
32	31	src/tiled/terrainmodel.cpp
1	8	src/tiled/terrainmodel.h
1	0	src/tiled/terrainview.cpp

--09ea068e	2012-12-29T16:05:40+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed context help button from Edit Terrain dialog

There is no context help so there should not be a context help button.

09ea068e
1	0	src/tiled/editterraindialog.cpp

--a8997a0a	2012-12-28T22:36:47+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added image layer support to Lua and JSON plugins

This also changes the "transparentColor" tileset property name to
"transparentcolor" in the Lua export for consistency (all the other
keys are lowercase).

Closes #320

a8997a0a
3	2	src/libtiled/layer.h
1	1	src/libtiled/map.cpp
1	1	src/libtiled/map.h
29	6	src/plugins/json/maptovariantconverter.cpp
1	0	src/plugins/json/maptovariantconverter.h
35	0	src/plugins/json/varianttomapconverter.cpp
1	0	src/plugins/json/varianttomapconverter.h
35	6	src/plugins/lua/luaplugin.cpp
1	0	src/plugins/lua/luaplugin.h
0	2	src/tiled/layermodel.cpp
0	2	src/tiled/mapdocument.cpp

--2b9e08af	2012-12-28T17:52:07+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Don't display tilesets without terrains in the Terrains dock

Closes #257

2b9e08af
3	0	src/libtiled/terrain.h
0	1	src/libtiled/tileset.cpp
57	11	src/tiled/terraindock.cpp
4	1	src/tiled/terraindock.h
7	0	src/tiled/terrainmodel.cpp
7	3	src/tiled/terrainmodel.h
8	5	src/tiled/terrainview.cpp
4	4	src/tiled/terrainview.h

--19a7c36f	2012-12-28T11:48:32+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Excluded some files from source releases

They are only relevant when working with git.

19a7c36f
4	0	.gitattributes

--5d49e77d	2012-12-27T18:02:38+01:00	Vincent Petithory	vincent.petithory@gmail.com	Added a TMX rasterizer

Renders a map with a specified scale, without collision layer and object
groups.

5d49e77d
2	0	.gitignore
2	0	dist/win/tiled.nsi
1	0	src/src.pro
169	0	src/tmxrasterizer/main.cpp
126	0	src/tmxrasterizer/tmxrasterizer.cpp
57	0	src/tmxrasterizer/tmxrasterizer.h
40	0	src/tmxrasterizer/tmxrasterizer.pro

--9500db71	2012-12-27T19:15:07+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Silence a GCC warning when compiling against Qt 5

Actually we don't need to print an empty string to get a newline.
The warning is due to -Wformat-zero-length.

9500db71
1	1	src/tiled/commandlineparser.cpp

--1b6e0cc7	2012-12-26T06:09:46-06:00	Dale Kim	dale@stellarjockeys.com	Fixed empty tileset view after removing a tileset

Bug repro steps:

1. Create new map
2. Add new tileset
3. Add new tileset
4. Go to Tilesets dock and click Remove Tileset button

The first tileset should be deleted and the selected tileset should switch
to the second tileset. However, the tileset view is blank.

1b6e0cc7
2	0	src/tiled/tilesetdock.cpp

--c1634897	2012-12-26T06:05:38-06:00	Dale Kim	dale@stellarjockeys.com	Fixed possible crash when a tileset changes

Reviewed-by: Thorbjørn Lindeijer

Not every tileset watched by the tileset manager is displayed in each
tileset dock. Wrong assertion introduced in commit 0c89ea0e1568b66d8c.

c1634897
2	1	src/tiled/tilesetdock.cpp

--6f8a5527	2012-12-27T16:52:46+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Small tweaks to help and version output on console

6f8a5527
4	1	src/tiled/commandlineparser.cpp
2	3	src/tiled/main.cpp

--e1ce0fbc	2012-12-16T22:27:15+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Use depend_includepath rather than setting DEPENDPATH manually

Based on Qt Creator commit 700732683779a862091b19336ef980801e412395.

e1ce0fbc
0	1	src/libtiled/libtiled.pri
0	1	src/plugins/json/qjsonparser/qjsonparser.pri
0	1	tests/mapreader/mapreader.pro
0	1	tests/staggeredrenderer/staggeredrenderer.pro
2	0	tiled.pri

--633ccc48	2012-12-15T18:04:26+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added a .gitattributes file for line endings

This generally makes sure Windows users do not get in trouble when they
do not have core.autocrlf set to 'true'.

633ccc48
7	0	.gitattributes

--286768ff	2012-12-07T10:12:49+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed compilation against Qt < 4.7

Qt 4.6 did not have QList::reserve yet.

286768ff
4	0	src/tiled/changetileterrain.cpp

--f98f93c6	2012-12-06T23:42:03+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed compilation against Qt < 4.8

By avoiding the 'theme' property that was added in Qt 4.8.

f98f93c6
4	2	src/tiled/editterraindialog.cpp
2	2	src/tiled/editterraindialog.ui

--55fa900a	2012-12-03T16:46:19+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Implemented editing of terrain information

This is done in a dedicated dialog to avoid complicated interactions
within the main UI. The dialog can be opened from the tileset dock.

The TerrainModel now represents all terrain types of a map grouped by
the tileset they appear in.

The terrain information overlay painted on top of tiles currently only
supports tiles in orthogonal mode. It does not adjust appropriately to
isometric tiles and may also have problems with orthogonal tiles that
do not match the map grid size.

All operations are properly backed by undo/redo support.

Transition distances are now recalculated on-demand. This removes the
option of tweaking distances to achieve transition priorities. That
functionality will have to be added some other way (for example with a
separate list of transition cost modifiers).

This change also happens to close #294.

55fa900a
4	4	examples/desert.tsx
2	2	examples/isometric_grass_and_water.tmx
6	5	src/libtiled/libtiled.pro
10	0	src/libtiled/map.h
3	20	src/libtiled/mapreader.cpp
2	17	src/libtiled/mapwriter.cpp
22	11	src/libtiled/terrain.h
47	0	src/libtiled/tile.cpp
21	8	src/libtiled/tile.h
58	8	src/libtiled/tileset.cpp
51	8	src/libtiled/tileset.h
81	0	src/tiled/addremoveterrain.cpp
87	0	src/tiled/addremoveterrain.h
135	0	src/tiled/changetileterrain.cpp
88	0	src/tiled/changetileterrain.h
260	0	src/tiled/editterraindialog.cpp
73	0	src/tiled/editterraindialog.h
257	0	src/tiled/editterraindialog.ui
-	-	src/tiled/images/16x16/terrain.png
-	-	src/tiled/images/24x24/terrain.png
1	1	src/tiled/layermodel.cpp
1	1	src/tiled/layermodel.h
9	0	src/tiled/mapdocument.cpp
20	2	src/tiled/mapdocument.h
2	2	src/tiled/mapobjectmodel.cpp
5	0	src/tiled/mapobjectmodel.h
20	332	src/tiled/terraindock.cpp
5	46	src/tiled/terraindock.h
196	23	src/tiled/terrainmodel.cpp
52	18	src/tiled/terrainmodel.h
13	105	src/tiled/terrainview.cpp
6	10	src/tiled/terrainview.h
8	1	src/tiled/tiled.pro
2	0	src/tiled/tiled.qrc
40	19	src/tiled/tilesetdock.cpp
6	0	src/tiled/tilesetdock.h
65	1	src/tiled/tilesetmodel.cpp
32	0	src/tiled/tilesetmodel.h
342	20	src/tiled/tilesetview.cpp
58	1	src/tiled/tilesetview.h
2	1	src/tiled/undocommands.h

--2b2797f3	2012-12-03T16:46:36+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Implemented reading/writing of terrain properties

2b2797f3
7	2	src/libtiled/mapreader.cpp
3	0	src/libtiled/mapwriter.cpp

--c32c2c2e	2012-12-03T16:11:01+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Continue painting when switching between tile and vertex painting

Due to the way the line mode was toggled, any modifier change was
resetting the brush behavior. This interrupted any current painting
operation.

c32c2c2e
5	4	src/tiled/terrainbrush.cpp
5	1	src/tiled/terrainbrush.h

--49a32922	2012-12-03T15:58:26+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed saving of terrain probabilities between 1 and 0

The MapWriter was saving the floating point value as an int.

49a32922
3	3	src/libtiled/mapwriter.cpp

--4bd46ba2	2012-12-03T14:55:43+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed crash when switching terrain without tile layer selected

4bd46ba2
17	5	src/tiled/terrainbrush.cpp
5	0	src/tiled/terrainbrush.h

--1669fadc	2012-12-02T20:35:05-08:00	Brandon Dillon	cbdillon@gmail.com	Adding command-line export to tiled.exe

1669fadc
70	0	src/tiled/main.cpp

--8d4bd135	2012-11-21T13:49:11+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Specify a parent for the Object Properties dialog

Makes sure the dialog is positioned correctly and shares the task bar
entry with the main application.

8d4bd135
3	3	src/tiled/objectsdock.cpp

--009e3acb	2012-06-14T19:06:38-07:00	Tim Baker	treectrl@users.sf.net	Objects dock: Enter key displays the Object Properties dialog

009e3acb
4	2	src/tiled/objectsdock.cpp

--1e53e69c	2012-11-21T12:04:10+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed two unimplemented member functions

1e53e69c
0	3	src/tiled/mapobjectmodel.h

--302dddea	2012-11-21T12:03:37+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Ignore the automappingconverter executable

302dddea
1	0	.gitignore

--9073f650	2012-11-18T15:59:55+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed compile against latest Qt 5 (beta 2)

* QAbstractItemModel::reset was removed, and needs to be replaced with
  appropriate calls to beginResetModel and endResetModel. This was
  already the proper thing to do since Qt 4.6, so no ifdefs were needed.

* Some functions of QHeaderView were renamed.

* QRect::intersect was removed. It was actually misnamed, and the one
  time it was used in Tiled it had no effect.

* Some of the functionality of QDesktopServices was moved to a new class
  called QStandardPaths.

* The old Qt::WFlags typedef was removed. It should no longer have been
  used anyway.

* QChar::fromAscii was removed, but the code should have been using
  QChar::fromLatin1 anyway.

9073f650
9	2	src/automappingconverter/converterwindow.cpp
1	1	src/plugins/tengine/tengineplugin.cpp
5	3	src/tiled/commanddatamodel.cpp
7	0	src/tiled/commanddialog.cpp
2	1	src/tiled/layermodel.cpp
1	1	src/tiled/mainwindow.cpp
1	1	src/tiled/mainwindow.h
2	1	src/tiled/mapobjectmodel.cpp
4	0	src/tiled/mapsdock.cpp
7	1	src/tiled/objectsdock.cpp
12	1	src/tiled/preferences.cpp
4	0	src/tiled/preferencesdialog.cpp
7	2	src/tiled/propertiesmodel.cpp
4	0	src/tiled/propertiesview.cpp
2	2	src/tiled/stampbrush.cpp
9	1	src/tiled/terrainmodel.cpp
2	2	src/tiled/terrainmodel.h
9	1	src/tiled/tilesetmodel.cpp
2	2	src/tiled/tilesetmodel.h
13	9	src/tiled/tilesetview.cpp

--ad99fcfd	2012-11-16T21:07:50+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Marked Tiled as high-resolution capable

Thanks to Lou Rinaldi (https://twitter.com/LouRinaldi) for trying out
this option! Qt appears to handle it quite well.

This solves most of issue #295, though the icons could still use larger
versions as they are still scaled up.

ad99fcfd
3	1	src/tiled/Info.plist

--bf78f98c	2012-11-16T13:50:16+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated NEWS file

bf78f98c
2	0	NEWS

--814baedf	2012-11-15T13:07:16+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Replaced icon for image layers

Was using the 'paste' icon before, now it's based on GNOME's
'insert-image' icon.

814baedf
-	-	src/tiled/images/16x16/layer-image.png

--72f8075b	2012-11-10T23:44:02+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Renamed Create Object tool to Create Rectangle

Reflects its function better now that a host of other object types exist.
An 'insert rectangle' icon is now used as well.

The 'insert ellipse' icon was improved for consistency and the tools were
reordered a bit to group all the 'shapes' together.

72f8075b
9	9	src/tiled/createobjecttool.cpp
1	1	src/tiled/createobjecttool.h
-	-	src/tiled/images/24x24/insert-ellipse.png
-	-	src/tiled/images/24x24/insert-rectangle.png
4	4	src/tiled/mainwindow.cpp
2	1	src/tiled/tiled.qrc

--929fbff8	2012-11-07T22:51:23+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Mini-map and Save As Image no longer render invisible objects

929fbff8
4	1	src/tiled/minimap.cpp
3	0	src/tiled/saveasimagedialog.cpp

--990b9845	2012-11-07T20:43:11+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Changing object visibility can now be undone

990b9845
54	3	src/tiled/mapobjectmodel.cpp
1	0	src/tiled/mapobjectmodel.h

--121b10e0	2012-11-07T00:22:59+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Changing layer visibility and opacity can now be undone

This also means that the map will be marked as changed and that the
mini-map will be redrawn properly.

Fixes #301

121b10e0
30	3	src/tiled/layerdock.cpp
4	1	src/tiled/layerdock.h
124	9	src/tiled/layermodel.cpp
10	0	src/tiled/layermodel.h
2	1	src/tiled/undocommands.h

--165b310c	2012-11-06T17:10:26+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed compile warnings

GCC 4.7.2:

warning: enumeration value '...' not handled in switch [-Wswitch]

165b310c
9	1	src/tiled/zoomable.cpp
1	1	src/tiled/zoomable.h

--347fc0bd	2012-11-06T16:59:44+01:00	Pierre-David Bélanger	pierredavidbelanger@gmail.com	Implemented handling of pinch gesture events

Functional for both the map view and the tileset view.

347fc0bd
35	6	src/tiled/mapview.cpp
5	0	src/tiled/mapview.h
16	0	src/tiled/tilesetview.cpp
1	0	src/tiled/tilesetview.h
19	0	src/tiled/zoomable.cpp
7	0	src/tiled/zoomable.h

--1a2bd68d	2012-11-06T16:12:14+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Performance fixes related to the Bucket Fill tool

The Bucket Fill tool would always immediately update its overlay item,
regardless of whether the tool was selected or whether the overlay was
even visible. On large maps, this caused any change of stamp to become
slow.

Another small improvement that was made was to avoid creating an overly
large fill overlay, which greatly improves the responsiveness when using
the fill tool on large maps in situations where the fill region is
small.

1a2bd68d
5	0	src/libtiled/layer.h
3	0	src/libtiled/tilelayer.cpp
13	11	src/tiled/bucketfilltool.cpp
1	0	src/tiled/bucketfilltool.h

--ed89753a	2012-11-05T23:15:40+01:00	Stefan Beller	stefanbeller@googlemail.com	Fixed saving new files to no longer trigger an error message

ed89753a
6	2	src/tiled/mainwindow.cpp

--eac45d3c	2012-11-05T22:56:48+01:00	Stefan Beller	stefanbeller@googlemail.com	Flare plugin: Fixed crash on opening certain non-Flare txt files

Also added missing spaces to the error message shown for non-Flare txt
files.

eac45d3c
4	1	src/plugins/flare/flareplugin.cpp

--f433ac7c	2012-11-02T02:22:03-04:00	Pierre-David Bélanger	pierredavidbelanger@gmail.com	Fixed view position reset when zooming after scrolling with wheel

The view reset its position when scrolling using the mouse wheel,
quickly followed by a control-wheel to zoom.

f433ac7c
4	0	src/tiled/mapview.cpp

--32af596d	2012-11-05T17:12:46+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed eraser skipping tiles when moving fast

Instead of erasing just the tile below the mouse, erase all tiles between
the last and current tile position.

The same fix was applied earlier to the stamp brush in commit
9a397baa4c35c2a8e2f07b77d2b6e5949faf8d5c.

32af596d
11	4	src/tiled/eraser.cpp
2	1	src/tiled/eraser.h
3	0	src/tiled/geometry.h

--19b63775	2012-11-05T16:45:44+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Change layer data format with an undo command

Makes sure the map is marked as changed, so that the user is prompted
when forgetting to save this change.

Also moved the different formats enum from MapWriter to Map.

Fixes #307

19b63775
2	6	src/automappingconverter/convertercontrol.cpp
1	1	src/libtiled/map.cpp
15	4	src/libtiled/map.h
5	6	src/libtiled/mapreader.cpp
14	14	src/libtiled/mapwriter.cpp
3	14	src/libtiled/mapwriter.h
20	6	src/tiled/changemapproperties.cpp
10	4	src/tiled/changemapproperties.h
0	1	src/tiled/mapdocument.h
7	3	src/tiled/mappropertiesdialog.cpp
4	4	src/tiled/preferences.cpp
4	4	src/tiled/preferences.h
11	11	src/tiled/preferencesdialog.cpp
2	2	src/tiled/preferencesdialog.h
2	3	src/tiled/tmxmapwriter.cpp
0	1	src/tiled/tmxmapwriter.h

--cb3dce4f	2012-11-01T17:55:11+01:00	Stefan Beller	stefanbeller@googlemail.com	Automapping: Removed the no-tile exception (incompatible!)

This change is motivated by issue #306.
The no-tile exception made sense at times when the set layer was
the only input layer. (That is version 0.8.1 and before)
Now this exception causes trouble as Automapping does not
produce expected results.

This commit finally makes the Automapping incompatible to the
Automapping rules of version 0.8.1 and before.
Having spare input layers produces a different behaviour
now than before.
However not all hope is lost, the Automapping on quite filled
input layers behaves the same as before, which I expect to be the
standard usecase.

Closes #306

cb3dce4f
0	9	src/tiled/automapper.cpp

--023d43c9	2012-11-01T22:16:29+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Avoid cppcheck warnings in Replica Island plugin

"(warning) Using char type as array index"

023d43c9
5	6	src/plugins/replicaisland/replicaislandplugin.cpp
5	4	src/plugins/replicaisland/replicaislandplugin.h

--b0faf7c2	2012-11-01T22:11:04+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Avoid cppcheck warnings in JSON plugin

b0faf7c2
2	2	src/plugins/json/qjsonparser/json.cpp
0	2	src/plugins/json/qjsonparser/json.h
3	0	src/plugins/json/qjsonparser/jsonparser.cpp

--3e2f2b5d	2012-11-01T18:02:51+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed 'Folder:' label and put text on 'Browse...' button

Same style as used in other places where a path can be chosen like when
adding tilesets or saving as image.

3e2f2b5d
2	6	src/tiled/mapsdock.cpp

--4344472b	2012-11-01T15:58:08+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Maps dock now shows all files that may be maps

Before it was only showing .tmx files, but now it shows any files with
extensions that may be supported by a plugin.

4344472b
3	0	src/tiled/main.cpp
0	2	src/tiled/mainwindow.cpp
22	6	src/tiled/mapsdock.cpp

--c78fc0e6	2012-10-15T20:28:15+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated Alex Vega's name

On his request.

c78fc0e6
2	1	.mailmap
1	1	AUTHORS

--7068d39f	2012-10-14T01:12:28+02:00	Stefan Beller	stefanbeller@googlemail.com	Update .mailmap file

7068d39f
7	1	.mailmap

--e5d1aacb	2012-10-02T20:49:50+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed crash when zooming tilesets or toggling the tileset grid

Two places in TilesetView were not yet taking into account that the
tileset model is being created lazily now.

e5d1aacb
4	2	src/tiled/tilesetview.cpp

--0c89ea0e	2012-09-30T20:29:23+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Optimized updating of the Tilesets dock

When switching maps the Tilesets dock was doing a lot of work, which
became noticeable with maps carrying dozens of tilesets. Two things were
done to make it fast again:

* The dock widget is temporarily hidden while it is being updated, saving
  a lot of time that was being spent needlessly relayouting the tab bar.

* The tileset models are being created on-demand, when the user actually
  switches to a certain tileset.

Now even maps with over 50 tilesets perform reasonable. If needed, it
could be further optimized by also creating the tileset views on-demand.

0c89ea0e
73	59	src/tiled/tilesetdock.cpp
4	1	src/tiled/tilesetdock.h
6	3	src/tiled/tilesetview.cpp

--eecde03d	2012-09-29T23:22:17+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Some small optimizations

Seems not to be having much effect, though.

eecde03d
3	4	src/libtiled/tilelayer.cpp
22	0	src/tiled/tilesetview.cpp
3	0	src/tiled/tilesetview.h

--36792cb1	2012-09-29T21:34:41+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Don't install libtiled header files by default

Installing the header files breaks our current Debian/Ubuntu packages.
Since there is no real need for the headers to be installed, it has been
made optional and disabled by default.

36792cb1
0	1	NEWS
2	0	src/libtiled/libtiled.pro
1	0	tiled.pri

--71cc8f60	2012-09-29T17:53:19+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Renamed Navigator to Mini-map

71cc8f60
5	5	src/tiled/mainwindow.cpp
2	2	src/tiled/mainwindow.h
18	18	src/tiled/{navigatorframe.cpp => minimap.cpp}
12	13	src/tiled/{navigatorframe.h => minimap.h}
12	12	src/tiled/{navigatordock.cpp => minimapdock.cpp}
9	9	src/tiled/{navigatordock.h => minimapdock.h}
14	14	src/tiled/tiled.pro

--da5e7611	2012-09-29T17:25:51+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed crash when trying to capture terrain from an empty area

da5e7611
3	0	src/tiled/terrainbrush.cpp

--1cef4f22	2012-09-29T17:25:17+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed some issues with the minimap

* Corrected small issues with updating the mouse cursor.
* Use the background color specified by the map and otherwise default to
  the same color used by the MapScene.
* Do delayed repaint of the image also on resize events and when switching
  maps, for performance reasons.
* Fixed pixel rounding glitches in viewport indicator rectangle.
* Specify a minimum size of 50x50 pixels.
* Implemented sizeHint() to return 200x200 to get a decent default size.

1cef4f22
9	0	src/tiled/documentmanager.cpp
6	0	src/tiled/documentmanager.h
0	8	src/tiled/mainwindow.cpp
0	2	src/tiled/mainwindow.h
2	34	src/tiled/navigatordock.cpp
0	12	src/tiled/navigatordock.h
162	182	src/tiled/navigatorframe.cpp
20	19	src/tiled/navigatorframe.h

--5802ecb3	2012-09-27T19:02:44+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Bumped version to 0.9.0 and updated NEWS file

This is not the release yet, but it is an attempt at signalling a soft
feature freeze so that we may start polishing for release.

5802ecb3
35	0	NEWS
2	2	dist/win/README.txt
3	3	src/tiled/Info.plist
1	1	src/tiled/main.cpp

--a4a268ea	2012-09-27T10:58:19+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Avoid crashing on roaming scroll bar pointers

Happened after closing the last map and then opening a new one.

a4a268ea
3	0	src/tiled/navigatorframe.cpp

--f32be41b	2012-09-26T15:11:30+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed option that is not available yet in cppcheck 1.52

f32be41b
1	1	.travis.yml

--ac1276aa	2012-09-25T23:43:21+02:00	Stefan Beller	stefanbeller@googlemail.com	Flareplugin: fix objects layer, if layer already exists.

ac1276aa
2	0	src/plugins/flare/flareplugin.cpp

--bc7b83c0	2012-09-26T12:59:29+02:00	Stefan Beller	stefanbeller@googlemail.com	Added static code analysis to the .travis.yml file

bc7b83c0
2	1	.travis.yml

--b51b9873	2012-09-26T14:44:21+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Silence a bunch of cppcheck warnings

This includes one actual bugfix: the missing initialization of
LuaTableWriter::m_suppressNewlines.

b51b9873
1	1	src/libtiled/imagelayer.h
1	1	src/plugins/json/varianttomapconverter.h
2	2	src/plugins/lua/luaplugin.cpp
1	0	src/plugins/lua/luatablewriter.cpp
2	2	src/plugins/tengine/tengineplugin.cpp
4	1	src/tiled/commandlineparser.h
2	5	src/tiled/terraindock.cpp

--621595e0	2012-09-26T14:28:56+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed include style for math.h

Noticed since using 'local first' include style makes `cppcheck` complain
about not being able to find the file.

621595e0
2	2	src/plugins/tengine/tengineplugin.cpp

--60f09dbc	2012-09-26T14:27:12+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Remove special directories for moc, ui, rcc output and objects

Not specifying special directories for these files simplifies the needed
parameters to `cppcheck`.

If the build directory is supposed to stay clean, a shadow build should
be done.

60f09dbc
1	1	src/libtiled/libtiled.pro
0	5	src/tiled/tiled.pro

--8d051cb1	2012-09-26T13:13:43+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Coding style fixes

8d051cb1
6	4	src/tiled/navigatordock.h
28	26	src/tiled/navigatorframe.cpp
12	13	src/tiled/navigatorframe.h

--f0368f1c	2012-09-26T12:47:42+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed some compiler warnings

Unused variable and initialization order warnings.

f0368f1c
2	2	src/tiled/mainwindow.cpp
2	3	src/tiled/mainwindow.h
1	1	src/tiled/navigatorframe.cpp
1	1	src/tiled/navigatorframe.h

--ecd0c155	2012-09-17T17:32:07+02:00	Christoph Schnackenberg	bluechs@gmx.de	Introduced a minimap

This is a quite stable running navigator or minimap.

With the help of MapRenderer a small version of the map is rendered into
a buffer image. The minimap rendering is copied from the screenshot
function and offers several flags to finetune the rendering.

For detecting mapchanges I used the indexChanged-event offered by
QUndoGroup. That does a pretty good job. Minimap rendering can be
expensive as it has to draw the entire map. To prevent slowdowns during
painting an (optional) timer is used that drops all redraw calls until
100ms are elapsed.

The overall performance impact seems to be okay. At least on my machine
(win7 64bit, quadcore i7 with good graphics card). This certainly needs
to be tested in different environments.

ecd0c155
15	0	src/tiled/mainwindow.cpp
5	0	src/tiled/mainwindow.h
93	0	src/tiled/navigatordock.cpp
72	0	src/tiled/navigatordock.h
382	0	src/tiled/navigatorframe.cpp
98	0	src/tiled/navigatorframe.h
6	2	src/tiled/tiled.pro

--ab6e112f	2011-08-12T23:14:05+02:00	Stefan Beller	stefanbeller@googlemail.com	Save As dialog can save in all formats it is safe to save in

* All Plugins, which can be read as well, can be used for
  saving as well.

* MapDocument class contains a new member (mWriterPluginFileName),
  which determines in which format the map should be saved.
  (It needs to be set accordingly, when opening a new File)

* The plugin manager has some more conversions.

* MapDocuments setFileName (only used by its saving function)
  is private now.

Closes #18.

Reviewed-by: Thorbjørn Lindeijer

ab6e112f
50	11	src/tiled/mainwindow.cpp
11	2	src/tiled/mapdocument.cpp
17	2	src/tiled/mapdocument.h
24	0	src/tiled/pluginmanager.cpp
18	0	src/tiled/pluginmanager.h

--f81325c0	2012-09-25T15:33:06+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Moved layer data format preferences handling to TmxMapWriter

It doesn't really belong in MapDocument. The main reason however is that
doing it in MapDocument would conflict with the next patch.

f81325c0
1	10	src/tiled/mapdocument.cpp
6	5	src/tiled/tmxmapwriter.cpp
0	1	src/tiled/tmxmapwriter.h

--0944ee55	2012-09-25T14:26:10+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed unneeded include

layer.h is already included in the header file.

0944ee55
0	1	src/libtiled/tilelayer.cpp

--98159d5e	2012-09-18T20:10:01+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed small documentation error

98159d5e
1	1	src/tiled/tilesetmodel.h

--929a4a86	2012-09-25T05:39:54-07:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #244 from o11c/master

Respect existing layer format of all loaded maps.
929a4a86
--ccc607cd	2012-08-21T22:51:31+02:00	Stefan Beller	stefanbeller@googlemail.com	Added reading support to Flare plugin

ccc607cd
10	0	src/libtiled/map.h
209	1	src/plugins/flare/flareplugin.cpp
8	0	src/plugins/flare/flareplugin.h

--d526f75d	2012-09-21T19:59:39+02:00	Petr Viktorin	encukou@gmail.com	Fix tileset zooming

Adding support for various tile sizes in a tileset broke
Ctrl+scrollwheel zooming because the zoom level was ignored.
This fixes the regression.

Fixes #278

d526f75d
3	2	src/tiled/tilesetview.cpp

--6b866bdd	2012-09-13T17:10:42+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	See if Travis CI can build Tiled with clang

6b866bdd
1	0	.travis.yml

--10d956d8	2012-09-13T16:29:39+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Ignore automappingconverter.exe

10d956d8
1	0	.gitignore

--f7f6a301	2012-09-13T14:36:39+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added initial Travis CI configuration file

f7f6a301
7	0	.travis.yml

--8130d2c7	2012-09-02T21:41:14+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added an option to disable the use of Rpath

When Tiled is installed to a standard system location, it doesn't
generally need an Rpath to find the libtiled library.

This commit adds the option of passing `RPATH=no` to qmake to suppress
the usage of Rpath in the tiled executable and its plugins.

8130d2c7
7	3	README.md
1	1	src/automappingconverter/automappingconverter.pro
1	1	src/plugins/plugin.pri
1	1	src/tiled/tiled.pro
1	1	src/tmxviewer/tmxviewer.pro
1	0	tiled.pri

--cf42b8a6	2012-09-02T19:37:31+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated the GPLv2 license to its latest version

cf42b8a6
9	10	LICENSE.GPL

--1147e645	2012-09-01T21:20:44+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed Qt 5 compilation issues again

Qt 5 is being a bit more strict with the QT_NO_CAST_FROM_ASCII define
than Qt 4.

1147e645
2	2	src/libtiled/mapreader.cpp

--10c407a0	2012-08-31T21:30:14+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed resolving of symbolic links while loading map

When resolving references to external tilesets or images, it is important
to avoid resolving symbolic links. It can cause the generated relative
path when saving the map to be unnecessary complicated and possibly point
to undesired locations.

Cleaning the path should suffice for determining whether two tilesets
are the same in general.

Fixes #212

10c407a0
3	7	src/tiled/tmxmapreader.cpp

--f8335837	2011-02-06T16:31:55+02:00	Petr Viktorin	encukou@gmail.com	Display small tiles bottom-left aligned

f8335837
1	1	src/tiled/tilesetmodel.cpp
8	4	src/tiled/tilesetview.cpp

--203fae2a	2011-02-06T15:49:11+02:00	Petr Viktorin	encukou@gmail.com	Keep the max tile width/height as the tileset's tile dimensions

203fae2a
1	2	src/libtiled/mapreader.cpp
43	0	src/libtiled/tileset.cpp
13	2	src/libtiled/tileset.h

--078a1ef0	2011-02-06T02:35:23+02:00	Petr Viktorin	encukou@gmail.com	Write inline images for individual tiles for tilesets w/o external image.

078a1ef0
19	1	src/libtiled/mapwriter.cpp

--7305fe6d	2012-08-30T08:18:50+02:00	Petr Viktorin	encukou@gmail.com	Read tilesets with individual tile images (external or inline base64-PNG)

7305fe6d
50	6	src/libtiled/mapreader.cpp
13	0	src/libtiled/tileset.cpp
11	0	src/libtiled/tileset.h
8	2	src/tiled/tilesetmodel.cpp

--ef8447ee	2012-07-20T14:35:17-07:00	Ben Longbons	b.r.longbons@gmail.com	Unconditionally respect the original encoding of a loaded map.

ef8447ee
2	1	src/libtiled/map.cpp
7	0	src/libtiled/map.h
18	0	src/libtiled/mapreader.cpp
2	3	src/tiled/mapdocument.cpp
0	6	src/tiled/mapdocument.h
2	2	src/tiled/mappropertiesdialog.cpp

--5f642a3f	2012-07-20T13:25:35-07:00	Ben Longbons	b.r.longbons@gmail.com	Allow saving in a format other than default.

By default the global setting is used, regardless of what format the map was in.

5f642a3f
1	0	src/libtiled/mapwriter.h
5	2	src/tiled/mapdocument.cpp
7	0	src/tiled/mapdocument.h
20	0	src/tiled/mappropertiesdialog.cpp
3	0	src/tiled/mappropertiesdialog.h

--ad5199e5	2012-07-20T11:42:00-07:00	Ben Longbons	b.r.longbons@gmail.com	Initial work to support per-map data format.

ad5199e5
8	1	src/tiled/mapdocument.cpp
6	2	src/tiled/tmxmapwriter.cpp
2	0	src/tiled/tmxmapwriter.h

--e18dd7da	2012-08-28T23:17:46+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made drawing tile object outlines optional

It's disabled by default now, and when enabled it will not affect the
'Save as Image' action.

Introduced Tiled::RenderFlags for this because there will probably be
more flags like this in the future.

Closes #37

e18dd7da
5	1	src/libtiled/isometricrenderer.cpp
8	0	src/libtiled/maprenderer.cpp
17	0	src/libtiled/maprenderer.h
2	0	src/libtiled/orthogonalrenderer.cpp
3	7	src/tiled/mainwindow.cpp
11	1	src/tiled/mainwindow.ui
22	1	src/tiled/mapscene.cpp
13	11	src/tiled/mapscene.h
45	18	src/tiled/preferences.cpp
8	0	src/tiled/preferences.h
9	1	src/tiled/saveasimagedialog.cpp

--d2212ccb	2012-08-28T00:02:20+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Small simplification to isometric ellipse drawing code

d2212ccb
3	4	src/libtiled/isometricrenderer.cpp

--03c2ad8c	2012-08-15T14:13:35+02:00	Christoph Schnackenberg	bluechs@gmx.de	Added ellipse rendering for isometric maps

03c2ad8c
67	1	src/libtiled/isometricrenderer.cpp
-	-	src/tiled/images/24x24/insert-ellipse.png

--faac7f1d	2012-08-26T22:14:56+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed compiling against Qt 5 in debug mode

Compiling in debug mode exposed some more code that needed changes.

faac7f1d
4	4	src/libtiled/mapreader.cpp

--1e1eb4b0	2012-08-26T22:12:39+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed 'widgets' dependency from T-engine plugin

Actually it doesn't use it, as noted by Porfirio.

1e1eb4b0
0	4	src/plugins/tengine/tengine.pro
0	1	src/plugins/tengine/tengineplugin.cpp

--279e4ab9	2012-08-25T23:39:27+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Additional fixes and tweaks to the Qt 5 support

The qmake variable QMAKE_LIBDIR_FLAGS was removed in Qt 5. It may come
back later, but we can rely on QMAKE_LIBDIR instead.

Other than that mostly whitespace and code style fixes were made.

279e4ab9
3	4	src/automappingconverter/automappingconverter.pro
3	4	src/libtiled/mapreaderinterface.h
2	1	src/plugins/droidcraft/droidcraft.pro
1	1	src/plugins/droidcraft/droidcraftplugin.h
1	1	src/plugins/flare/flare.pro
2	1	src/plugins/flare/flareplugin.h
1	1	src/plugins/json/jsonplugin.h
2	3	src/plugins/lua/luaplugin.h
2	2	src/plugins/plugin.pri
1	1	src/plugins/replicaisland/replicaislandplugin.h
1	2	src/plugins/tengine/tengine.pro
1	1	src/plugins/tengine/tengineplugin.h
1	1	src/plugins/tmw/tmwplugin.h
3	4	src/tiled/tiled.pro
4	4	src/tmxviewer/tmxviewer.pro

--c77e499b	2012-06-25T19:26:00-05:00	Kenney Phillis	kphillisjr@gmail.com	More Qt5 fixes

* Fixed Plugins to allow for New Interface
  see: http://qt-project.org/wiki/Transition_from_Qt_4.x_to_Qt5
* Added a few Tests to make sure QT5 projects are supported correctly.

c77e499b
4	1	src/automappingconverter/automappingconverter.pro
4	3	src/libtiled/mapreaderinterface.h
3	0	src/plugins/droidcraft/droidcraft.pro
2	0	src/plugins/droidcraft/droidcraftplugin.cpp
4	0	src/plugins/droidcraft/droidcraftplugin.h
1	0	src/plugins/droidcraft/plugin.json
5	0	src/plugins/flare/flare.pro
2	0	src/plugins/flare/flareplugin.cpp
3	1	src/plugins/flare/flareplugin.h
1	0	src/plugins/flare/plugin.json
2	1	src/plugins/json/jsonplugin.cpp
6	2	src/plugins/json/jsonplugin.h
1	0	src/plugins/json/plugin.json
2	0	src/plugins/lua/luaplugin.cpp
5	1	src/plugins/lua/luaplugin.h
1	0	src/plugins/lua/plugin.json
1	0	src/plugins/replicaisland/plugin.json
2	0	src/plugins/replicaisland/replicaislandplugin.cpp
4	0	src/plugins/replicaisland/replicaislandplugin.h
1	0	src/plugins/tengine/plugin.json
4	0	src/plugins/tengine/tengine.pro
2	0	src/plugins/tengine/tengineplugin.cpp
3	0	src/plugins/tengine/tengineplugin.h
1	0	src/plugins/tmw/plugin.json
2	0	src/plugins/tmw/tmwplugin.cpp
3	0	src/plugins/tmw/tmwplugin.h
5	1	src/tiled/tiled.pro
4	1	src/tmxviewer/tmxviewer.pro

--1fcb84d3	2012-06-24T21:42:26-05:00	Kenney Phillis	kphillisjr@gmail.com	Fixed build issues pertaining to Qt5

1fcb84d3
1	1	src/automappingconverter/automappingconverter.pro
36	36	src/libtiled/mapreader.cpp
1	0	src/plugins/tengine/tengine.pro
1	0	src/tiled/mainwindow.cpp
1	1	src/tiled/newtilesetdialog.h
2	2	src/tiled/objecttypes.cpp
1	0	src/tiled/terraindock.cpp
1	0	src/tiled/tiled.pro
1	0	src/tiled/tilesetdock.cpp
2	0	src/tmxviewer/tmxviewer.pro

--7f40804f	2012-08-25T11:50:40+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added 'shape' property to Lua map object export

Mainly so that it is possible to check for 'ellipse' objects.

7f40804f
16	0	src/plugins/lua/luaplugin.cpp

--60876776	2012-08-25T11:00:32+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed the license header of several files in libtiled

60876776
18	10	src/libtiled/gidmapper.cpp
18	10	src/libtiled/gidmapper.h
19	11	src/libtiled/mapreaderinterface.h
19	11	src/libtiled/maprenderer.cpp
19	11	src/libtiled/mapwriterinterface.h
19	11	src/libtiled/staggeredrenderer.cpp
22	14	src/libtiled/staggeredrenderer.h

--eaaa5723	2012-06-17T21:06:28+02:00	devnewton	devnewton@bci.im	Added support for ellipse objects

Only supported on orthogonal maps for now. On isometric maps they look
like rectangular objects.

eaaa5723
2	0	src/libtiled/isometricrenderer.cpp
2	1	src/libtiled/mapobject.h
6	1	src/libtiled/mapreader.cpp
3	0	src/libtiled/mapwriter.cpp
36	0	src/libtiled/orthogonalrenderer.cpp
3	0	src/plugins/json/maptovariantconverter.cpp
2	0	src/plugins/json/varianttomapconverter.cpp
22	2	src/tiled/createobjecttool.cpp
2	1	src/tiled/createobjecttool.h
-	-	src/tiled/images/24x24/insert-ellipse.png
3	0	src/tiled/mainwindow.cpp
1	0	src/tiled/tiled.qrc

--c8876c91	2012-08-12T22:22:21+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed compile against Qt 4.6

It did not have QDir::NoDot yet.

c8876c91
20	13	src/tiled/mapsdock.cpp
4	2	src/tiled/mapsdock.h

--6dabe798	2012-08-11T22:10:48+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Install the header files of libtiled

This wasn't really planned, but I guess it may help some people.

No binary compatibility guarantees are made between libtiled releases,
but it could help development of external plugins. Hence the
MapWriterInterface and MapReaderInterface are now moved to libtiled.

Closes #259

6dabe798
7	0	src/libtiled/libtiled.pro
0	0	src/{tiled => libtiled}/mapreaderinterface.h
0	0	src/{tiled => libtiled}/mapwriterinterface.h
0	2	src/plugins/plugin.pri
0	2	src/tiled/tiled.pro

--bd17698f	2012-03-11T00:50:49-08:00	Michael Williams	m.t.williams@live.com	Added shortcut to manually reload tilesets (Ctrl-T)

bd17698f
15	0	src/tiled/mainwindow.cpp
1	0	src/tiled/mainwindow.h
10	0	src/tiled/tilesetmanager.cpp
5	0	src/tiled/tilesetmanager.h

--071e0368	2012-07-06T18:46:07-07:00	Tim Baker	treectrl@users.sf.net	Added the Maps dock

071e0368
4	0	src/tiled/mainwindow.cpp
2	0	src/tiled/mainwindow.h
211	0	src/tiled/mapsdock.cpp
90	0	src/tiled/mapsdock.h
19	0	src/tiled/preferences.cpp
7	0	src/tiled/preferences.h
2	0	src/tiled/tiled.pro

--65014c4d	2012-08-06T23:26:13+03:00	Firas Assaad	assaad.firas@gmail.com	Added 400% Zoom to Tileset Dock

65014c4d
1	1	src/tiled/tilesetdock.cpp

--ff417899	2012-07-30T10:12:13+02:00	Stefan Beller	stefanbeller@googlemail.com	Added tile offset to the JSON exporter

Fixes #248

ff417899
8	0	src/plugins/json/maptovariantconverter.cpp
4	0	src/plugins/json/varianttomapconverter.cpp

--2bbb2b06	2012-07-15T21:54:22+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made Ctrl switch Terrain Brush to vertex painting mode

Good for precision work.

2bbb2b06
1	0	src/tiled/terrainbrush.cpp

--7f4863c3	2012-06-10T22:34:33+02:00	Porfírio Ribeiro	porfirioribeiro@gmail.com	Updated Portuguese translation

7f4863c3
725	296	translations/tiled_pt.ts

--449e7bf7	2012-06-26T01:20:46-07:00	Kody Kurtz	OniLink10@gmail.com	Fixed a typo in the Object Dock.

449e7bf7
1	1	src/tiled/objectsdock.cpp

--2269deec	2012-06-24T15:00:19-05:00	Clint Bellanger	clintbellanger@gmail.com	Flare plugin: Fixed bug introduced by style cleanup

2269deec
2	2	src/plugins/flare/flareplugin.cpp

--526ed7f6	2012-04-29T17:59:14+02:00	Stefan Beller	stefanbeller@googlemail.com	Coding style fixes

Make sure there is a whitespace between ) and {.

526ed7f6
2	2	src/tiled/quickstampmanager.cpp

--84060b6a	2012-06-09T23:08:39+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Improved handling of external tilesets in Lua export

Since referring to the external .tsx file in XML format is generally
not very useful in a map exported to Lua, all the tileset information
is now included in the export.

Previously, tile properties were already being included, but this had
been by accident.

84060b6a
5	2	src/plugins/lua/luaplugin.cpp

--06cd1e91	2012-05-25T17:56:28+03:00	Andrew Motrenko	werdn666@yandex.ru	Added name labels for objects on isometric maps

For rectangles, polygons and tile objects.

06cd1e91
47	3	src/libtiled/isometricrenderer.cpp

--437f3a86	2012-06-09T13:13:40-07:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge pull request #220 from stefanbeller/multipleLayerRules

Automapping: 2 bugfixes and an updated sewers example.
437f3a86
--95820981	2012-06-09T22:01:12+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Share the line drawing code between StampBrush and TerrainBrush

I've introduced a new module called 'geometry' which now contains
rasterization of ellipse and line, as well as the 'coherent regions'
function which existed in the 'utils' module.

95820981
1	2	src/tiled/automapper.cpp
195	0	src/tiled/geometry.cpp
37	0	src/tiled/geometry.h
4	123	src/tiled/stampbrush.cpp
4	49	src/tiled/terrainbrush.cpp
1	1	src/tiled/terrainbrush.h
2	0	src/tiled/tiled.pro
0	46	src/tiled/utils.cpp
0	6	src/tiled/utils.h

--d5609430	2012-06-07T19:55:13+02:00	Stefan Beller	stefanbeller@googlemail.com	Automapping: Correct comments in sewers rules file.

Also two rules have been added, which use layers as input, which
have been generated by the rules before.

d5609430
0	19	examples/sewer_automap/rule_001.tmx
0	9	examples/sewer_automap/rule_003.tmx
35	0	examples/sewer_automap/rule_008.tmx
30	0	examples/sewer_automap/rule_009.tmx
38	11	examples/sewer_automap/rules.txt

--0cc75277	2012-06-09T10:11:55+02:00	Stefan Beller	stefanbeller@googlemail.com	Automapping: Handle non existing input layers in working map.

If there is an input layer required by the rule map, which does not
exist in the working map, the rules will not get applied, as the rules
are not met.

Before there was no check if input layers existed, so you could crash
tiled.

Thanks to Giancarlo Todone for spotting the bug.

Fixes #219

0cc75277
9	5	src/tiled/automapper.cpp

--baed6f6d	2012-06-07T20:44:15+02:00	Stefan Beller	stefanbeller@googlemail.com	Automapping: remove beforehand check if rules are used.

D. Knuth: Premature optimisation is the root of all evil.
And he is right again.

The checks if rules are used have been done before all Automapping takes
place, but a rule can alter the situation for the following rules
drastically, so either we try to correct the checks if rules are applied
or just drop these checks.

The intention of the checking before was to speed up Automapping by only
executing the needed rules, but as the checks would take more and more
code for just being correct, it might be better to remove the speedup
things completely and have a smaller code base.

Thanks to Giancarlo Todone for spotting the bug.

baed6f6d
0	31	src/tiled/automapper.cpp
0	6	src/tiled/automapper.h

--1660e7c9	2012-06-04T23:31:12+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed crash on closing a map

This is a crash introduced with
1afabff912bd959e866f084e9c65d89a9cbcf8db. We can't always call
TerrainBrush::updateBrush since it expects the current layer to be a
tile layer, which is not the case when the map is being closed (and the
brush set back to a null map).

Reviewed-by: Manu Evans

1660e7c9
3	2	src/tiled/terrainbrush.cpp

--cfa0e25f	2012-06-04T21:24:50+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Tweaked default dockwidget configuration

* Tabify the Terrains dock with the Tilesets dock
* Show the Layers and Tilesets docks in front by default
* Shortened "Terrain Types" to "Terrains"
* Fixed the objectName of the terrain dock, which caused it to share
  settings with the tileset dock

cfa0e25f
3	2	src/tiled/mainwindow.cpp
2	2	src/tiled/terraindock.cpp

--c343e2dd	2012-06-04T21:02:40+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed handling of tileset renaming by terrains dock

By adding missing slot implementation.

Also removed an unused variable.

c343e2dd
12	4	src/tiled/terraindock.cpp
1	0	src/tiled/terraindock.h

--1afabff9	2012-06-04T19:54:16+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed crash when opening a map without tilesets

In particular this crash would always happen when creating a new map.
The crash was caused by TerrainBrush::mapDocumentChanged, which did not
handle the case where the new map did not have any tilesets correctly.

1afabff9
13	10	src/tiled/terrainbrush.cpp

--79a49da4	2012-06-03T12:00:26+03:00	Hanmac	hanmac@gmx.de	Added climits include for INT_MAX

Fixes compilation error on Ubuntu Lucid.

79a49da4
1	0	src/tiled/terrainbrush.cpp

--1999ba8a	2012-05-24T23:58:59+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added terrain information to isometric example

1999ba8a
30	3	examples/isometric_grass_and_water.tmx

--a1ce6f29	2012-06-01T23:08:44+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch 'TurkeyMan/master'

Conflicts:
	src/tiled/mainwindow.cpp

a1ce6f29
--21c4ef57	2012-05-29T21:50:40+03:00	Manu Evans	turkeyman@gmail.com	Added vertex painting mode

21c4ef57
1	1	src/libtiled/terrain.h
40	7	src/tiled/terrainbrush.cpp
12	1	src/tiled/terrainbrush.h

--57c426b3	2012-05-29T21:29:38+03:00	Manu Evans	turkeyman@gmail.com	Fixed the run away terrain generation when encountering unknown tiles, added support for tile randomness factor.

57c426b3
8	0	examples/desert.tsx
7	2	src/libtiled/mapreader.cpp
5	1	src/libtiled/mapwriter.cpp
13	1	src/libtiled/tile.h
40	8	src/tiled/terrainbrush.cpp

--da6ece27	2012-06-01T01:13:43+03:00	Manu Evans	turkeyman@gmail.com	Added Terrain palette.

da6ece27
2	1	src/libtiled/libtiled.pro
15	2	src/libtiled/mapreader.cpp
10	9	src/libtiled/mapwriter.cpp
112	0	src/libtiled/terrain.h
6	6	src/libtiled/tile.h
16	27	src/libtiled/tileset.cpp
5	69	src/libtiled/tileset.h
-	-	src/tiled/images/24x24/terrain-edit.png
22	0	src/tiled/mainwindow.cpp
4	0	src/tiled/mainwindow.h
29	9	src/tiled/terrainbrush.cpp
4	4	src/tiled/terrainbrush.h
422	0	src/tiled/terraindock.cpp
131	0	src/tiled/terraindock.h
87	0	src/tiled/terrainmodel.cpp
99	0	src/tiled/terrainmodel.h
218	0	src/tiled/terrainview.cpp
78	0	src/tiled/terrainview.h
8	2	src/tiled/tiled.pro
1	0	src/tiled/tiled.qrc

--9dc152d9	2012-05-30T02:14:49+03:00	Manu Evans	turkeyman@gmail.com	Distant terrain transitions working now.

Also:
- Updated desert example with terrain painting data.

9dc152d9
1	3	examples/desert.tmx
50	0	examples/desert.tsx
7	1	src/libtiled/mapreader.cpp
15	0	src/libtiled/mapwriter.cpp
118	0	src/libtiled/tileset.cpp
58	2	src/libtiled/tileset.h
22	26	src/tiled/terrainbrush.cpp
1	1	src/tiled/terrainbrush.h

--4e353980	2012-06-01T00:52:15+03:00	Manu Evans	turkeyman@gmail.com	Added support for line drawing.

4e353980
25	12	src/tiled/terrainbrush.cpp
1	1	src/tiled/terrainbrush.h

--5ed684e5	2012-05-17T15:27:50+03:00	Manu Evans	turkeyman@gmail.com	Added initial terrain painting tool.

5ed684e5
35	0	src/libtiled/mapreader.cpp
32	1	src/libtiled/mapwriter.cpp
33	3	src/libtiled/tile.h
36	0	src/libtiled/tileset.h
3	0	src/tiled/mainwindow.cpp
2	0	src/tiled/mainwindow.h
461	0	src/tiled/terrainbrush.cpp
138	0	src/tiled/terrainbrush.h
4	2	src/tiled/tiled.pro

--60e75acb	2012-05-29T22:31:58+02:00	Stefan Beller	stefanbeller@googlemail.com	Automapping: Removed setting the layer index

Setting the layerindex was needed once the AutomapperWrapper
used to replace layers for undo/redo functionality.
As of 1defe854c01a04f9daa60bd7adb47d8cffffb7ce
the AutomapperWrapper only patches the layerdata, so no
replacement of layers takes place, which keeps the current
index set correctly.

60e75acb
0	4	src/tiled/automappingmanager.cpp

--27eeb7ea	2012-05-14T14:20:23-07:00	Emmanuel Barroga	emmanuelbarroga@gmail.com	Added ability to specify background color

Reviewed-by: Thorbjørn Lindeijer

27eeb7ea
12	0	src/libtiled/map.h
4	0	src/libtiled/mapreader.cpp
5	0	src/libtiled/mapwriter.cpp
52	0	src/tiled/changemapproperties.cpp
57	0	src/tiled/changemapproperties.h
5	5	src/tiled/mainwindow.cpp
79	0	src/tiled/mappropertiesdialog.cpp
49	0	src/tiled/mappropertiesdialog.h
14	2	src/tiled/mapscene.cpp
2	0	src/tiled/mapscene.h
4	0	src/tiled/tiled.pro

--dcea5e6c	2012-05-27T18:06:38+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Read and write object visibility attribute

dcea5e6c
6	0	src/libtiled/mapreader.cpp
3	0	src/libtiled/mapwriter.cpp
2	0	src/plugins/json/maptovariantconverter.cpp
3	0	src/plugins/json/varianttomapconverter.cpp
2	0	src/plugins/lua/luaplugin.cpp

--c0aad1e4	2012-05-26T00:06:07+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Some cleanups and optimizations related to Objects dock

Manual emitting of signals via MapDocument was no longer being used, so
I removed those methods. The signals emitted from MapObjectModel are now
directly forwarded.

Some optimizations were made (though probably not noticable) in that
searching for the index of an ObjectGroup or MapObject was avoided in
several places.

Remove Object and Object Properties tool bar buttons now use theme icons
when appropriate.

Other than that most changes are line length reduction.

c0aad1e4
6	0	src/libtiled/objectgroup.cpp
14	1	src/libtiled/objectgroup.h
4	2	src/tiled/addremovemapobject.cpp
12	52	src/tiled/mapdocument.cpp
0	17	src/tiled/mapdocument.h
42	52	src/tiled/mapobjectmodel.cpp
23	16	src/tiled/objectsdock.cpp
2	1	src/tiled/objectsdock.h

--92e49a80	2012-05-17T14:22:13-07:00	Tim Baker	treectrl@users.sf.net	Added the Objects dock and per-MapObject visibility.

92e49a80
27	0	src/libtiled/map.cpp
4	0	src/libtiled/map.h
4	2	src/libtiled/mapobject.cpp
4	0	src/libtiled/mapobject.h
3	8	src/tiled/addremovemapobject.cpp
3	3	src/tiled/changemapobject.cpp
4	2	src/tiled/changeobjectgroupproperties.cpp
3	4	src/tiled/changepolygon.cpp
6	0	src/tiled/mainwindow.cpp
2	0	src/tiled/mainwindow.h
33	0	src/tiled/mapdocument.cpp
13	0	src/tiled/mapdocument.h
2	0	src/tiled/mapobjectitem.cpp
415	0	src/tiled/mapobjectmodel.cpp
124	0	src/tiled/mapobjectmodel.h
3	4	src/tiled/movemapobject.cpp
5	10	src/tiled/movemapobjecttogroup.cpp
409	0	src/tiled/objectsdock.cpp
105	0	src/tiled/objectsdock.h
3	4	src/tiled/resizemapobject.cpp
4	0	src/tiled/tiled.pro

--61a9ffa0	2012-05-17T22:59:27+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Some tweaks to zoom combo box

Just a typo fix, line length reduction, preferring QVector::last over
QVector::back and removing an unnecessary check on whether a MapView has
a Zoomable instance.

61a9ffa0
2	2	src/tiled/mainwindow.cpp
24	16	src/tiled/zoomable.cpp
1	1	src/tiled/zoomable.h

--ef5ad078	2012-05-08T13:50:42-07:00	Tim Baker	treectrl@users.sf.net	Added scale combobox to MainWindow and TilesetDock.

Zoomable can be associated with a QComboBox.
Each TilesetView shares the Zoomable of the TilesetDock.

ef5ad078
22	7	src/tiled/mainwindow.cpp
4	1	src/tiled/mainwindow.h
15	2	src/tiled/tilesetdock.cpp
5	0	src/tiled/tilesetdock.h
2	2	src/tiled/tilesetview.cpp
1	1	src/tiled/tilesetview.h
84	10	src/tiled/zoomable.cpp
19	0	src/tiled/zoomable.h

--a77c3123	2012-03-17T16:47:50+01:00	Stefan Beller	stefanbeller@googlemail.com	Preferred grid color can now be used

Fixes #134

a77c3123
2	2	src/libtiled/isometricrenderer.cpp
1	1	src/libtiled/isometricrenderer.h
2	1	src/libtiled/maprenderer.h
2	2	src/libtiled/orthogonalrenderer.cpp
2	1	src/libtiled/orthogonalrenderer.h
2	2	src/libtiled/staggeredrenderer.cpp
2	1	src/libtiled/staggeredrenderer.h
3	1	src/tiled/mapscene.cpp
12	0	src/tiled/preferences.cpp
6	0	src/tiled/preferences.h
3	0	src/tiled/preferencesdialog.cpp
43	9	src/tiled/preferencesdialog.ui
5	2	src/tiled/saveasimagedialog.cpp

--c1b1d805	2012-05-12T19:29:33+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made tileset tabs no longer closable

It's enough that you can remove them using the 'Remove Tileset' button
in the tool bar. The close buttons on the tabs are only taking up
possibly valuable space.

c1b1d805
0	3	src/tiled/tilesetdock.cpp

--c1e99b5b	2012-05-12T19:28:40+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed another type of returned value

GCC 4.7 warned about this.

c1e99b5b
1	1	src/plugins/json/jsonplugin.cpp

--992e25b3	2012-05-07T23:27:08+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.8'

Conflicts:
	dist/win/tiled.nsi
	src/tiled/bucketfilltool.cpp
	src/tiled/bucketfilltool.h

992e25b3
--fbe39bd5	2012-05-07T22:18:29+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Final NEWS update for 0.8.1 release

fbe39bd5
3	1	NEWS

--5140026f	2012-05-07T23:16:44+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Additional Windows installer updates

5140026f
2	3	dist/win/tiled.nsi

--875df1e8	2012-04-30T22:20:02+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Allow installer to continue without uninstalling previous version

Sometimes users have gotten into the situation where they could not install
Tiled because the installer detected a previous version, which could not be
uninstalled.

This change makes the automatic uninstalling of a previous version optional.
This also allows installing multiple versions of Tiled alongside each other.

875df1e8
7	9	dist/win/tiled.nsi

--749fe444	2012-05-07T22:05:35+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed the anchoring at the mouse when zooming with wheel

Due to the way Qt anchors at the mouse position, small rounding errors
would add up with each change in the view's transformation.

Rather than relying on that system, we now manually anchor at the mouse
position, only refreshing the scene position of the mouse when it
actually moves.

749fe444
13	1	src/tiled/mapview.cpp
1	0	src/tiled/mapview.h

--062dff2c	2012-04-30T21:14:04+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed zoom sensitivity for finer-resolution mouse wheels

This is an attempt at improving the mouse wheel zoom sensitivity for mice
with finer-resolution wheels, like Apple's Magic Mouse.

For these mice, the change in the scale is based on the current scale and the
actual wheel movement, rather than going through a fixed number of zoom
levels.

Fixes #92

062dff2c
1	4	src/tiled/mapview.cpp
1	4	src/tiled/tilesetview.cpp
24	0	src/tiled/zoomable.cpp
9	0	src/tiled/zoomable.h

--1ed63fe2	2012-05-07T19:55:17+02:00	Stefan Beller	stefanbeller@googlemail.com	Fixed disabled actions in tileset dock after adding tileset

Fixes #200

1ed63fe2
1	0	src/tiled/tilesetdock.cpp

--f1c6ed22	2012-05-06T23:13:13+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed object type getting erased on pressing Enter

It's not currently possible to add new object types to the model by
simply typing new names in the object properties dialog (you need to use
the preferences).

However, the default insertPolicy for QComboBox is to try adding new
strings to the model when Enter is pressed. When that failed, the value
of the combo box became empty.

f1c6ed22
2	0	src/tiled/objectpropertiesdialog.cpp

--28ec1e24	2012-05-06T15:22:02+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed type of returned value

GCC 4.7 warned about this.

28ec1e24
1	1	src/libtiled/imagelayer.h

--617472a3	2012-05-05T13:41:25-07:00	Tim Baker	treectrl@users.sf.net	Added a statusbar label displaying the current layer

617472a3
6	0	src/tiled/mainwindow.cpp
1	0	src/tiled/mainwindow.h

--344adde9	2012-05-04T02:31:10-06:00	Jeff Bland	jksb@member.fsf.org	Add LICENSE.GPL and LICENSE.BSD to mac release bundle

344adde9
3	4	dist/make-dist-mac.rb

--d87c58d7	2012-05-04T01:47:30-06:00	Jeff Bland	jksb@member.fsf.org	Update and rewrite make-dist-mac in Ruby

- Auto-detects the version number from the plist within Tiled.app
- More robust relative-path fixes on the plugins using string searches
- Nicer output

d87c58d7
70	0	dist/make-dist-mac.rb
0	68	dist/make-dist-mac.sh

--758f8547	2012-05-03T06:57:14+02:00	Postremus	panzer1996@googlemail.com	Fixed an error in the German translation

Before stands {1&lt;?} in the About dialog, which came from the German
translation. I have deleted this part.

758f8547
1	1	translations/tiled_de.ts

--27a58313	2012-05-01T14:14:17+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Changed the license of libtiled-java to BSD

libtiled-java now uses the simplified BSD license that is also used by
libtiled. This was made possible by replacing the Base64 implementation.

27a58313
3	3	COPYING
0	502	LICENSE.LGPL
1	0	NEWS
1	4	util/java/libtiled-java/README
18	10	util/java/libtiled-java/src/tiled/core/AnimatedTile.java
18	10	util/java/libtiled-java/src/tiled/core/Map.java
18	10	util/java/libtiled-java/src/tiled/core/MapLayer.java
18	10	util/java/libtiled-java/src/tiled/core/MapObject.java
18	10	util/java/libtiled-java/src/tiled/core/ObjectGroup.java
18	10	util/java/libtiled-java/src/tiled/core/Sprite.java
18	10	util/java/libtiled-java/src/tiled/core/Tile.java
18	10	util/java/libtiled-java/src/tiled/core/TileLayer.java
20	12	util/java/libtiled-java/src/tiled/core/TileSet.java
18	10	util/java/libtiled-java/src/tiled/io/TMXMapReader.java
18	10	util/java/libtiled-java/src/tiled/io/TMXMapWriter.java
23	7	util/java/libtiled-java/src/tiled/io/xml/XMLWriter.java
23	7	util/java/libtiled-java/src/tiled/io/xml/XMLWriterException.java
18	10	util/java/libtiled-java/src/tiled/util/BasicTileCutter.java
18	10	util/java/libtiled-java/src/tiled/util/ImageHelper.java
18	10	util/java/libtiled-java/src/tiled/util/TileCutter.java
18	10	util/java/libtiled-java/src/tiled/util/TransparentImageFilter.java
18	10	util/java/libtiled-java/src/tiled/view/MapRenderer.java
18	10	util/java/libtiled-java/src/tiled/view/OrthogonalRenderer.java

--03e47db2	2012-05-01T13:33:01+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Replaced Base64 support in libtiled-java with MiGBase64

The license of this Base64 encoder & decoder is BSD, which will allow
changing the license of libtiled-java from LGPL to BSD.

03e47db2
3	0	util/java/libtiled-java/README
1	1	util/java/libtiled-java/src/tiled/io/TMXMapWriter.java
523	233	util/java/libtiled-java/src/tiled/util/Base64.java

--6e6f7af2	2012-04-30T23:59:43+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Forward declare Ui::ObjectPropertiesDialog

6e6f7af2
1	0	src/tiled/objectpropertiesdialog.cpp
4	1	src/tiled/objectpropertiesdialog.h

--8c8dd506	2012-04-30T19:10:35+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Bumped version to 0.8.1 and updated NEWS file

8c8dd506
9	0	NEWS
2	2	dist/win/README.txt
3	3	src/tiled/Info.plist
1	1	src/tiled/main.cpp

--7cd178be	2012-04-29T23:09:15+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed a crash that could happen after pasting

This was a pretty nasty one to track down. At some point in time I had a
reason to copy a layer's map pointer in Layer::clone, even though the cloned
layer is not actually added to the same map. Later on I decided this was not
necessary (as can be read in the documentation), but somehow I forgot to
remove the line that copied the pointer.

The result was that the brush resulting from a paste ended up referring to a
deleted Map instance.

Fixes #130

7cd178be
0	1	src/libtiled/layer.cpp

--b6d36751	2012-04-29T21:52:27+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Protect nameFilter() method from external use

This just makes sure that nameFilters() is used instead, since using
nameFilter() fails to take into account that a plugin might support
multiple formats.

b6d36751
11	5	src/tiled/mapreaderinterface.h
11	5	src/tiled/mapwriterinterface.h

--b400b057	2012-03-18T21:00:06+01:00	Stefan Beller	stefanbeller@googlemail.com	Exporting maps: preset filename

When exporting a map to a custom format,
the basename of the maps filename is kept and only
the extension is replaced as a proposal of the
file dialog.

Also the export location is being remembered now and does not interfere with
the Save As path anymore.

b400b057
18	1	src/tiled/mainwindow.cpp
3	0	src/tiled/preferences.cpp
2	1	src/tiled/preferences.h

--b7f71edb	2012-04-26T11:53:53+02:00	Stefan Beller	stefanbeller@googlemail.com	Quickstamps: Allow saving stamps when using the bucketfilltool

b7f71edb
6	0	src/tiled/bucketfilltool.h
7	0	src/tiled/quickstampmanager.cpp

--07ff8032	2012-04-26T11:53:30+02:00	Stefan Beller	stefanbeller@googlemail.com	Quickstamps: Prevent crash, when saving stamps using the filltool.

When you wanted to save a stamp to the quickstamps, but had the filltool
active, tiled would crash.

Now the crash is fixed no matter which tool is enabled.

07ff8032
3	0	src/tiled/quickstampmanager.cpp

--7e607788	2012-04-26T11:50:34+02:00	Stefan Beller	stefanbeller@googlemail.com	Bugfix: Update the filltools overlay, when using quickstamps.

Previously, when using the filltool and switching stamps, the filltools
overlay did not update properly.

Fixes #192

7e607788
2	0	src/tiled/bucketfilltool.cpp

--8ab4442a	2012-04-08T22:25:46+02:00	Stefan Beller	stefanbeller@googlemail.com	Automapping: fixed crash

It must be made sure, that TileLayer::setCell only gets valid input
coordinates.

8ab4442a
13	4	src/tiled/automapper.cpp

--8cbf3a5b	2011-12-01T15:04:30+01:00	Stefan Beller	stefanbeller@googlemail.com	Bucketfilltool supports random mode now

Signed-off-by: Stefan Beller <stefanbeller@googlemail.com>

8cbf3a5b
2	1	AUTHORS
108	25	src/tiled/bucketfilltool.cpp
39	3	src/tiled/bucketfilltool.h
3	0	src/tiled/mainwindow.cpp
2	1	src/tiled/stampbrush.cpp

--9a397baa	2012-03-22T15:29:43+01:00	Stefan Beller	stefanbeller@googlemail.com	Stamp will not miss tiles anymore, when drawing fast

9a397baa
4	1	src/tiled/stampbrush.cpp

--921c1caa	2012-04-01T12:21:13+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Code style fixups

921c1caa
2	4	src/libtiled/imagelayer.cpp
7	25	src/libtiled/imagelayer.h
5	1	src/libtiled/isometricrenderer.cpp
2	20	src/libtiled/map.cpp
9	12	src/libtiled/map.h
1	1	src/libtiled/maprenderer.h
4	3	src/libtiled/mapwriter.cpp
5	1	src/libtiled/orthogonalrenderer.cpp
5	1	src/libtiled/staggeredrenderer.cpp
2	3	src/tiled/changeimagelayerproperties.h
1	2	src/tiled/changeobjectgroupproperties.h
0	1	src/tiled/imagelayeritem.cpp
2	1	src/tiled/imagelayerpropertiesdialog.cpp
1	1	src/tiled/layermodel.cpp
0	1	src/tiled/mapdocument.cpp
3	3	src/tiled/mapscene.cpp
8	11	src/tiled/propertiesdialog.cpp

--621c2f2e	2012-03-16T18:40:09+01:00	Alexander Kuhrt	alex@qrt.de	Added "Save to Image" support for image layers

621c2f2e
0	2	src/tiled/layermodel.cpp
4	0	src/tiled/saveasimagedialog.cpp

--7b5274f5	2011-05-01T01:10:10+04:00	Alexander Kuhrt	alex@qrt.de	Added image layer support

Original patch by Gregory Nickonov (@anadale), rebased to latest Tiled master.

Closes #169

Reviewed-by: Thorbjørn Lindeijer

7b5274f5
1	0	.gitignore
1	0	AUTHORS
47	41	src/libtiled/{layer.cpp => imagelayer.cpp}
159	0	src/libtiled/imagelayer.h
11	0	src/libtiled/isometricrenderer.cpp
4	0	src/libtiled/isometricrenderer.h
6	0	src/libtiled/layer.cpp
4	0	src/libtiled/layer.h
2	0	src/libtiled/libtiled.pro
9	0	src/libtiled/map.cpp
6	0	src/libtiled/map.h
55	0	src/libtiled/mapreader.cpp
8	0	src/libtiled/maprenderer.h
31	0	src/libtiled/mapwriter.cpp
9	0	src/libtiled/orthogonalrenderer.cpp
4	0	src/libtiled/orthogonalrenderer.h
11	0	src/libtiled/staggeredrenderer.cpp
4	0	src/libtiled/staggeredrenderer.h
73	0	src/tiled/changeimagelayerproperties.cpp
70	0	src/tiled/changeimagelayerproperties.h
62	0	src/tiled/imagelayeritem.cpp
73	0	src/tiled/imagelayeritem.h
136	0	src/tiled/imagelayerpropertiesdialog.cpp
79	0	src/tiled/imagelayerpropertiesdialog.h
-	-	src/tiled/images/16x16/layer-image.png
2	0	src/tiled/layerdock.cpp
11	3	src/tiled/layermodel.cpp
1	0	src/tiled/layermodel.h
1	0	src/tiled/mainwindow.cpp
6	0	src/tiled/mapdocument.cpp
10	2	src/tiled/mapdocumentactionhandler.cpp
3	0	src/tiled/mapdocumentactionhandler.h
4	0	src/tiled/mapscene.cpp
160	0	src/tiled/newimagelayerdialog.ui
6	0	src/tiled/propertiesdialog.cpp
8	1	src/tiled/tiled.pro
1	0	src/tiled/tiled.qrc

--ee850c0e	2012-02-11T12:29:59+01:00	Stefan Beller	stefanbeller@googlemail.com	Path in tileset dialog is set to the previous added tilesets

fixes #156

ee850c0e
4	2	src/tiled/mainwindow.cpp
3	0	src/tiled/preferences.cpp
2	1	src/tiled/preferences.h

--319d1be9	2012-03-16T20:34:25+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed selection of plugins which support multiple formats

This would only become a problem when the file extension is supported by more
than one plugin, and the format you meant to choose is implemented in a plugin
that supports multiple formats.

319d1be9
1	1	src/tiled/mainwindow.cpp

--4c3c3030	2012-03-16T21:17:50+02:00	Samuli Tuomola	samuli.tuomola@gmail.com	Warn if export extension is supported by multiple writers

Also, skip plugins that don't report any name filters.

4c3c3030
12	0	src/tiled/mainwindow.cpp

--a015f5fe	2012-03-14T19:40:48+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed documentation comment

a015f5fe
1	1	src/tiled/mapreaderinterface.h

--2a5fccef	2012-03-14T19:38:42+02:00	Samuli Tuomola	samuli.tuomola@gmail.com	Added plugin support for multiple name filters

2a5fccef
12	5	src/tiled/mainwindow.cpp
7	1	src/tiled/mapreaderinterface.h
7	1	src/tiled/mapwriterinterface.h

--218a8fd4	2011-11-19T20:54:22+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made a start on a staggered map renderer

It only supports tile layers for now, no object support yet. But even with
tile layers, there are some things not working as expected as detailed in
staggedrenderer.h.

218a8fd4
2	0	src/libtiled/libtiled.pro
5	0	src/libtiled/map.cpp
4	3	src/libtiled/map.h
366	0	src/libtiled/staggeredrenderer.cpp
111	0	src/libtiled/staggeredrenderer.h
4	0	src/tiled/mapdocument.cpp
13	4	src/tiled/newmapdialog.cpp
0	10	src/tiled/newmapdialog.ui
4	6	tests/{test_mapreader.pro => mapreader/mapreader.pro}
1	1	tests/{ => mapreader}/test_mapreader.cpp
5	7	tests/{test_mapreader.pro => staggeredrenderer/staggeredrenderer.pro}
144	0	tests/staggeredrenderer/test_staggeredrenderer.cpp
4	0	tests/tests.pro

--72a1ef17	2012-02-25T23:18:12+01:00	Stefan Beller	stefanbeller@googlemail.com	Automapping: Introduce AutomappingUtils

The automappingutils.{cpp, h} files will have general methods, which
do not fit into the Automapping classes, but also do not really fit into
the API of the relevant used classes.

72a1ef17
5	43	src/tiled/automapper.cpp
1	5	src/tiled/automapper.h
78	0	src/tiled/automappingutils.cpp
47	0	src/tiled/automappingutils.h
2	0	src/tiled/tiled.pro

--355f46be	2012-02-24T21:13:59+01:00	Stefan Beller	stefanbeller@googlemail.com	Automapping: add object examples

355f46be
10	0	examples/sewer_automap/rule_001.tmx
10	0	examples/sewer_automap/rule_003.tmx
0	15	examples/sewer_automap/sewers.tmx

--46a1e84e	2012-02-20T22:43:46+01:00	Stefan Beller	stefanbeller@googlemail.com	Automapping: Support for Objects.

The output layers are allowed to be object layers as well.
Automapping still processes in tile coordinates, which
may yield inaccurate object handling.

For checking if objects are part of a rule or when checking
if they need to be delete first ('DeleteTiles' set to 'true'),
the object boundaries (rectangles) will be considered, which may
lead to problems, specially when using non-rectangular objects
(polygon, polyline).
Since the tile coordinates are counted in integer,
the object coordinates will be translated into these as well.
So the rectangular boundaries are rounded to nearest integer.

46a1e84e
2	0	src/libtiled/layer.h
5	0	src/libtiled/objectgroup.cpp
5	0	src/libtiled/objectgroup.h
161	67	src/tiled/automapper.cpp
28	6	src/tiled/automapper.h
1	1	src/tiled/automapperwrapper.cpp

--a88348fa	2012-02-19T21:58:10+01:00	Stefan Beller	stefanbeller@googlemail.com	Automapping: Add assertions to setupRuleList()

checking if mRuleInput and mRuleOutput match its indexes.

a88348fa
6	0	src/tiled/automapper.cpp

--959edee2	2012-02-14T16:38:58+01:00	Stefan Beller	stefanbeller@googlemail.com	Automapping: sort rules within one rulefile

As in refactoring 72e2f77ec2afbcaa0d93b6b9f0c8e56244adf8e3
the way how to obtain the ruleregions was changed to a way,
which thinks of regions instead of scanning the map for rules
line-by-line. That approach might be cleaner in theory, but the
order of rules within one rulefile is now unknown.
The original intent never was to rely on rule ordering within one
rulefile, but users did rely on it.

This commit introduces a sorting of the rules within one rulemap, so the
order is the same as it was before the rewrite of the Automapping.

959edee2
9	0	src/tiled/automapper.cpp

--92676596	2012-02-14T16:06:39+01:00	Stefan Beller	stefanbeller@googlemail.com	AutomappingConverter: fix file dialog filter

Allow users to filter for (*.tmx).

92676596
7	2	src/automappingconverter/converterwindow.cpp

--8ef8aa3d	2012-02-25T11:50:20+01:00	Stefan Beller	stefanbeller@googlemail.com	Map::indexOfLayer has optional layer type argument

8ef8aa3d
3	2	src/libtiled/layer.h
3	2	src/libtiled/map.cpp
6	2	src/libtiled/map.h
2	0	src/tiled/mapdocument.cpp

--82108068	2012-02-24T16:22:20+01:00	Stefan Beller	stefanbeller@googlemail.com	MapDocument::LayerType moved to Layer::Type

The move of the layer type into the layer class allows
detecting the type relying on an introduced type field of the layer
class.

Therefore asTileLayer and asObjectLayer have been implemented as
non-virtual functions in the layer class.

Additionally the functions bool isTilelayer() and bool isObjectGroup()
have been introduced for cases when you do not need the object, but only need
to know if it is a certain type.

82108068
16	1	src/libtiled/layer.cpp
19	3	src/libtiled/layer.h
2	2	src/libtiled/map.cpp
3	2	src/libtiled/objectgroup.cpp
0	2	src/libtiled/objectgroup.h
2	1	src/libtiled/tilelayer.cpp
0	2	src/libtiled/tilelayer.h
1	1	src/plugins/droidcraft/droidcraftplugin.cpp
3	3	src/tiled/mapdocument.cpp
3	6	src/tiled/mapdocument.h
2	2	src/tiled/mapdocumentactionhandler.cpp

--24222229	2011-12-06T12:23:07-05:00	Eric Kidd	git@randomhacks.net	Replica Island plugin: Read and write *.bin files

Replica Island is an open source, side-scrolling video game for Android.
This plugin can read and write the *.bin files used with Replica Island.

This code was originally based on the existing Droidcraft plugin (hence
the copyright notices), but it has since been almost entirely rewritten
to use QDataStream, which provides us with portable (de)serialization of
little-endian floats.

Most of the tilesets are taken directly from Replica Island, which is
distributed under the Apache License.  A few tilesets, including the
hotspot tiles, were created by hand.

24222229
1	0	AUTHORS
201	0	LICENSE.APACHE
2	1	src/plugins/plugins.pro
43	0	src/plugins/replicaisland/MAKING_TILESETS_FOR_OBJECTS.txt
-	-	src/plugins/replicaisland/cave.png
-	-	src/plugins/replicaisland/collision_map.png
-	-	src/plugins/replicaisland/grass.png
-	-	src/plugins/replicaisland/hotspots.png
-	-	src/plugins/replicaisland/island.png
-	-	src/plugins/replicaisland/lab.png
-	-	src/plugins/replicaisland/objects.png
10	0	src/plugins/replicaisland/replicaisland.pro
14	0	src/plugins/replicaisland/replicaisland.qrc
35	0	src/plugins/replicaisland/replicaisland_global.h
324	0	src/plugins/replicaisland/replicaislandplugin.cpp
89	0	src/plugins/replicaisland/replicaislandplugin.h
-	-	src/plugins/replicaisland/sewage.png
-	-	src/plugins/replicaisland/titletileset.png
-	-	src/plugins/replicaisland/tutorial.png

--f02c3a88	2012-02-02T20:10:42+01:00	Stefan Beller	stefanbeller@googlemail.com	Tilesetdock uses tab bars again, but keeps the tool bar

f02c3a88
3	0	AUTHORS
-	-	src/tiled/images/16x16/edit-rename.png
1	0	src/tiled/tiled.qrc
104	73	src/tiled/tilesetdock.cpp
13	6	src/tiled/tilesetdock.h

--b5ea37b4	2012-01-13T10:51:52+01:00	Stefan Beller	stefanbeller@googlemail.com	Sorted file lists in the tiled.pro file

Using sort and grep makes life easy.

b5ea37b4
122	122	src/tiled/tiled.pro

--f741a7a4	2012-03-03T16:57:18+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Include tileset.h since we're deleting tilesets

Something MinGW 4.4 was warning about:

"possible problem detected in invocation of delete operator: invalid use
of incomplete type 'struct Tiled::Tileset'".

f741a7a4
1	0	src/automappingconverter/convertercontrol.cpp

--8361cbf7	2012-02-09T00:02:29+02:00	Tamir Atias (KonoM)	engine.games@gmail.com	Updated Hebrew translation

8361cbf7
111	111	translations/tiled_he.ts

--e1d73137	2012-02-02T11:16:11+01:00	Stefan Beller	stefanbeller@googlemail.com	Adding Automappingconverter to NSIS build script

This includes the Automappingconverter into
the installation executable of Windows.

e1d73137
2	0	dist/win/tiled.nsi

--1097010e	2012-02-01T21:20:45+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Cleanups to the AutomappingConverter

* Renamed classes/files to something more unique so that they're easily
  distinguishable from Tiled sources.

* Fixed several memory leaks. Some remain, but for a converter it's not
  very important.

* Improved UI (resizable, QTreeView rather than QTableView, disabled
  'save' button until you've added files, etc.)

1097010e
9	9	src/automappingconverter/automappingconverter.pro
11	6	src/automappingconverter/{control.cpp => convertercontrol.cpp}
6	6	src/automappingconverter/{control.h => convertercontrol.h}
29	11	src/automappingconverter/{datamodel.cpp => converterdatamodel.cpp}
13	10	src/automappingconverter/{datamodel.h => converterdatamodel.h}
15	15	src/automappingconverter/{mainwindow.cpp => converterwindow.cpp}
11	11	src/automappingconverter/{mainwindow.h => converterwindow.h}
74	0	src/automappingconverter/converterwindow.ui
0	3	src/automappingconverter/layermodel.cpp
0	6	src/automappingconverter/layermodel.h
4	3	src/automappingconverter/main.cpp
0	76	src/automappingconverter/mainwindow.ui

--fbb12be7	2012-02-01T20:05:11+01:00	Stefan Beller	stefanbeller@googlemail.com	Automapping: convert the example maps

fbb12be7
5	6	examples/sewer_automap/rule_001.tmx
3	4	examples/sewer_automap/rule_002.tmx
5	6	examples/sewer_automap/rule_003.tmx
4	5	examples/sewer_automap/rule_004.tmx
4	5	examples/sewer_automap/rule_005.tmx
6	7	examples/sewer_automap/rule_006.tmx
5	6	examples/sewer_automap/rule_007.tmx

--8d9bfe3a	2012-02-01T19:51:58+01:00	Stefan Beller	stefanbeller@googlemail.com	Automapping: adding converter for rulemaps

The converter application is able to convert all rulemaps
as of now into the new (incompatible, but more powerful) rulemap
format.

8d9bfe3a
44	0	src/automappingconverter/automappingconverter.pro
117	0	src/automappingconverter/control.cpp
42	0	src/automappingconverter/control.h
89	0	src/automappingconverter/datamodel.cpp
65	0	src/automappingconverter/datamodel.h
3	0	src/automappingconverter/layermodel.cpp
6	0	src/automappingconverter/layermodel.h
32	0	src/automappingconverter/main.cpp
64	0	src/automappingconverter/mainwindow.cpp
55	0	src/automappingconverter/mainwindow.h
76	0	src/automappingconverter/mainwindow.ui
2	1	src/src.pro

--f724bf70	2011-10-20T17:02:04+02:00	Stefan Beller	stefanbeller@googlemail.com	Automapping: Add a preferences section

* You can {en, dis}able the automapping while editing the set layer in
  the preferences dialog in the "Automapping" tab.

f724bf70
8	1	src/tiled/automappingmanager.cpp
10	10	src/tiled/automappingmanager.h
11	0	src/tiled/preferences.cpp
5	0	src/tiled/preferences.h
10	1	src/tiled/preferencesdialog.cpp
1	0	src/tiled/preferencesdialog.h
18	0	src/tiled/preferencesdialog.ui

--10947cae	2011-10-29T23:42:59+02:00	Stefan Beller	stefanbeller@googlemail.com	Automapping: multiple set layers are possible now (incompatible!)

This commit will break existing rule maps, since the expected layer
naming of the rule maps changed. Instead of prefixing all layers in the
rulemap with 'rule', now the prefixes are depending on the function of
the layer.

'regions' describes where rules are placed. (Previous 'RuleRegions')
Alternatively there can be 'regions_input' and 'regions_output' which
describe the 'input_*' and the 'output_*' regions respectively.

'input<index>_<name>' replaces the 'ruleset<index>' layer.
'inputnot<index>_<name>' replaces the 'rulenotset' layer.
	The set layers name in the working map can be specified
	via the <name> part. The <index> part now seperates different
	inputs. (So input* layers having different <index> parts will belong
	to different input conditions.)
	different indexes lead to multiple conditions. Only one condition
	needs to be true and the rule gets applied. If the indexes are the
	same, then all conditions accross diffferent <name> layers must all
	be true.

'output<index>_<name>' is the replaced name of 'rule<index>_<name>'

The clearRegion function was dropped and the erase function of tilelayers
are used now.

The prepareLoad functionality was put into the constructor.
The return value of prepareLoad can be determined by checking the
length of the error string.

The functions in automapper.cpp have been reordered to fit the workflow.

10947cae
256	150	src/tiled/automapper.cpp
63	48	src/tiled/automapper.h
11	3	src/tiled/automapperwrapper.cpp
18	22	src/tiled/automappingmanager.cpp
4	8	src/tiled/automappingmanager.h

--72e2f77e	2011-11-28T15:58:51+01:00	Stefan Beller	stefanbeller@googlemail.com	Automapping: Refactoring

* Automapping now uses the coherentRegions implementation
  from Tiled::Utils
  I am not sure which of both implementations is actually faster in
  finding the list of coherent regions, since there are multiple parameters
  to turn. (mapsize mattered in the current implementation, which does not in
  the Tiled::Utils implementation; the complexity and size of each region counts
  there; Overall the number of different regions count in both implementations)
  This change also closes #150.

* remove Automapper::mapDocument(), since it is unused

* Remove timer and filewatcher of AutomappingManager
  It was unused anyway. (No actual filenames were inserted into the watchlist.)

  The Automapping data structures are all reloaded, when switching between
  documents, which is needed after modifying a rulesfile.
  But due to the documentswitching to the working map, you usually don't need
  the explicit watching for filechanges.

  (In case of multiple instances of tiled running, whereas one instance modifies
  the rulemaps and the other tries to use the updated rules on a workingmap,
  it will fail. As explained above that is no regression, this never worked)

* Also Automapper::ruleSetPath() was deleted, since it is not being used now.
  Use of ruleSetPath was eliminated by removing the filewatcher above.

* comments are adapted and corrected

* setupRulesMap renamed to setupRuleMapProperties
  In this function only the map properties of the rulesmap are parsed, hence
  its name.

72e2f77e
5	60	src/tiled/automapper.cpp
5	28	src/tiled/automapper.h
0	50	src/tiled/automappingmanager.cpp
0	31	src/tiled/automappingmanager.h

--0d5eb55a	2012-01-14T20:12:31+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added Gornova to AUTHORS file for Italian translation

0d5eb55a
1	0	AUTHORS

--7b3bafa7	2012-01-02T23:15:58+01:00	Gornova	a_pakla@yahoo.it	Updated Italian translation

7b3bafa7
285	285	translations/tiled_it.ts

--eaffa9ed	2011-11-28T21:53:24+01:00	Stefan Beller	stefanbeller@googlemail.com	libtiled: Added Map::fromLayer

A convenience function for quickly wrapping a layer in a map.

eaffa9ed
7	0	src/libtiled/map.cpp
10	0	src/libtiled/map.h

--d1269304	2011-11-16T13:49:54+01:00	Stefan Beller	stefanbeller@googlemail.com	libtiled: Added TileLayer::erase

d1269304
9	0	src/libtiled/tilelayer.cpp
5	0	src/libtiled/tilelayer.h
1	10	src/tiled/tilepainter.cpp

--3f877b23	2011-11-14T19:13:51+01:00	Stefan Beller	stefanbeller@googlemail.com	libtiled: Fixed some whitespace

3f877b23

--7d304228	2011-11-28T21:16:21+01:00	Stefan Beller	stefanbeller@googlemail.com	Added DocumentManager::centerViewOn

Used by difftool and find later on.

7d304228
10	1	src/tiled/documentmanager.cpp
5	0	src/tiled/documentmanager.h

--01e7111f	2011-11-28T15:49:57+01:00	Stefan Beller	stefanbeller@googlemail.com	Added a function to calculate coherent regions of a given region

This will be used by both the difftool and the automapping.

01e7111f
46	0	src/tiled/utils.cpp
6	0	src/tiled/utils.h

--a1091d21	2012-01-14T15:41:46+01:00	Stefan Beller	stefanbeller@googlemail.com	Fixed automapping to work with external tilesets

a1091d21
4	4	src/tiled/automapper.cpp

--0daec26a	2011-12-06T13:24:33+02:00	Vsevolod Klementjev	klemix@inbox.lv	Added MacOS X Lion full screen support

Mac OS X Lion features application fullscreen mode. Added support of
that feature for Tiled. Some Objective-C code added seems there's no way
to make it with Qt at the moment.

0daec26a
40	0	src/tiled/macsupport.h
42	0	src/tiled/macsupport.mm
8	0	src/tiled/mainwindow.cpp
8	1	src/tiled/tiled.pro

--8b03f9d4	2011-12-28T07:29:03+08:00	Stefan Beller	stefanbeller@googlemail.com	Automapping: Avoid crash if rulefiles are corrupt

8b03f9d4
4	3	src/tiled/automappingmanager.cpp

--92e49caf	2011-12-11T22:39:13+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added Qt translations and qt.conf to the Windows installer

This fixes the translations of some built-in strings like those on
'OK' and 'Close' buttons, context menu of scroll bars and built-in
error messages.

The qt.conf fixes loading of shipped Qt plugins used for supporting
jpeg, gif and tiff as image formats as well as some text codecs.

92e49caf
3	0	dist/win/qt.conf
11	9	dist/win/tiled.nsi

--d5a37376	2011-12-11T22:02:35+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated NEWS file again

Three more translations were updated.

d5a37376
3	2	NEWS

--e7334e32	2011-12-11T19:39:03+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added support for polygon objects to the JSON plugin

e7334e32
24	1	src/plugins/json/maptovariantconverter.cpp
26	2	src/plugins/json/varianttomapconverter.cpp
2	0	src/plugins/json/varianttomapconverter.h

--0b0dfdb1	2011-12-11T19:05:47+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed some UI strings to get updated when the language is changed

The Command and Random Mode button tool tips were not picking up a
change of language.

0b0dfdb1
21	2	src/tiled/commandbutton.cpp
5	0	src/tiled/commandbutton.h
7	6	src/tiled/mainwindow.cpp
2	0	src/tiled/mainwindow.h

--b7235c12	2011-12-11T15:27:43+01:00	Jonatas de Moraes Junior	jmoraes@gmail.com	Updated the Brazilian Portuguese translation

b7235c12
116	115	translations/tiled_pt_BR.ts

--15891847	2011-12-10T11:13:30+01:00	Sébastien BURILLARD	zsbe17fr@yahoo.fr	Updated the French translation

With some corrections by Yohann Ferreira.

15891847
164	159	translations/tiled_fr.ts

--b8066e8e	2011-12-09T23:30:56+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated the Dutch translation

Also fixed the translation of two plural-enabled texts in the German
translation.

b8066e8e
2	2	translations/tiled_de.ts
116	114	translations/tiled_nl.ts

--3d983722	2011-11-29T21:20:43+01:00	Erik Schilling	ablu.erikschilling@googlemail.com	Fixes to the German translation

3d983722
16	16	translations/tiled_de.ts

--0fda8b2e	2011-12-01T19:05:40+01:00	Stefan Beller	stefanbeller@googlemail.com	Added alternative shortcuts to switch between documents

0fda8b2e
6	0	src/tiled/mainwindow.cpp

--457f3479	2011-12-09T21:40:05+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed pixel size in new map dialog for isometric maps

The displayed pixel size assumed plain orthogonal maps. Now it relies on
the appropriate map renderer to tell it the pixel size of the map.

457f3479
24	3	src/tiled/newmapdialog.cpp

--32bffa5b	2011-12-07T23:30:38+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Bumped version to 0.8.0 and updated NEWS file

Slowly getting ready for release.

32bffa5b
23	0	NEWS
2	2	dist/win/README.txt
3	3	src/tiled/Info.plist
1	1	src/tiled/main.cpp

--ec750f5c	2011-11-29T01:15:21+02:00	Petr Viktorin	encukou@gmail.com	Updated Czech translation

ec750f5c
122	117	translations/tiled_cs.ts

--7b185b96	2011-12-07T22:42:16+01:00	zhaosting	zhaosting@gmail.com	Updated the Chinese translation

7b185b96
117	113	translations/tiled_zh.ts

--41da15ed	2011-12-06T22:58:50+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Flare plugin: Small tweaks

* Set UTF-8 as codec instead of using QString::toUtf8
* Use QString::isEmpty rather than comparing to ""

41da15ed
8	6	src/plugins/flare/flareplugin.cpp

--4b7fa4c0	2011-12-03T21:26:02-06:00	Clint Bellanger	clintbellanger@gmail.com	Flare plugin: Fixed bug when map width/height are not equal

4b7fa4c0
4	4	src/plugins/flare/flareplugin.cpp

--113c9fbe	2011-12-02T10:31:02-06:00	Clint Bellanger	clintbellanger@gmail.com	Flare plugin: Updates and simplification

113c9fbe
19	31	src/plugins/flare/flareplugin.cpp
0	1	src/plugins/flare/flareplugin.h

--082751bc	2011-12-06T22:15:57+01:00	Mauricio Muñoz Lucero	real.mml@gmail.com	Updated the Spanish translation

082751bc
117	116	translations/tiled_es.ts

--29a602de	2011-12-06T22:06:29+01:00	Hiroki Utsunomiya	teraapi@gmail.com	Updated the Japanese translation

29a602de
117	112	translations/tiled_ja.ts

--0b46ec3b	2011-11-30T21:04:13+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Update all objects in a group when changing the group color

Since recently the object color is cached in the MapObjectItem class, so
we need to emit the objectsChanged signal rather than just asking for a
repaint.

Fixes #106

0b46ec3b
2	2	src/tiled/changeobjectgroupproperties.cpp

--a0595d84	2011-11-30T17:08:33+01:00	Stefan Beller	stefanbeller@googlemail.com	Fixed segmentation fault in stamp brush random mode

Tiled crashed when right-click dragging an empty area and then trying to
paint with Random Mode enabled.

Since no random tile could be selected, brushItem()->tileLayer() ended up
as NULL, but when painting it was used unconditionally (the mStamp was
checked, but that is no longer the tile layer used for painting).

The check whether the stamp is outside the map was corrected as well.

a0595d84
6	4	src/tiled/stampbrush.cpp

--f1669c86	2011-11-29T20:36:09+01:00	seeseekey	seeseekey@googlemail.com	Updated the German translation

f1669c86
117	116	translations/tiled_de.ts

--e9d2822e	2011-11-29T14:34:00+04:00	Alex Vega (semtiko)	semtiko@gmail.com	Updated the Russian translation

e9d2822e
126	124	translations/tiled_ru.ts

--0e0ba592	2011-11-28T21:26:41+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed the now unused random clone tool icon

Was replaced by the dice icon in commit bf164cc4841fcc84143e85d3.

0e0ba592
-	-	src/tiled/images/22x22/stock-tool-random-clone.png
0	1	src/tiled/tiled.qrc

--94af68a0	2011-11-28T21:12:34+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated the translation files to the current sources

The translations now contain a total of 422 source texts, out of which
108 are new since 0.7 (though about 30 of those seem to have either
moved or changed just a little, if I understand lupdate correctly).

This commit marks the string freeze for the 0.8 release.

94af68a0
704	107	translations/tiled_cs.ts
714	131	translations/tiled_de.ts
601	165	translations/tiled_en.ts
723	137	translations/tiled_es.ts
719	137	translations/tiled_fr.ts
715	136	translations/tiled_he.ts
637	156	translations/tiled_it.ts
719	140	translations/tiled_ja.ts
650	153	translations/tiled_lv.ts
723	138	translations/tiled_nl.ts
722	165	translations/tiled_pt.ts
718	141	translations/tiled_pt_BR.ts
714	136	translations/tiled_ru.ts
705	140	translations/tiled_zh.ts

--bf164cc4	2011-11-28T21:07:16+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Replaced the Random Mode icon with dices

The icon is based on the SVG by Steaphan Greene found here:
http://en.wikipedia.org/wiki/File:2-Dice-Icon.svg

I adjusted the line width and dots for the small size and added some
shading.

bf164cc4
3	0	AUTHORS
-	-	src/tiled/images/24x24/dice.png
209	0	src/tiled/images/24x24/dice.svg
1	1	src/tiled/mainwindow.cpp
1	0	src/tiled/tiled.qrc

--796ea693	2011-11-28T20:14:01+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Mentioned the Russian translator in the AUTHORS file

796ea693
1	0	AUTHORS

--8d9e33af	2011-11-22T23:27:37+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added forgotten export declarations that are needed on Windows

Fixes undefined reference errors when linking Tiled and its plugins to
libtiled.

8d9e33af
2	2	src/libtiled/map.h

--48cfe221	2011-11-21T22:47:47+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Introduced string conversion functions for Map::Orientation

Almost every map reader and writer will have to deal with converting the
map orientation from and to a string. Duplicating that code makes it
cumbersome to add new orientations.

In the process removed the Hexagonal enumerator since it makes no sense
to keep that as long as there is no support for hexagonal maps yet.

48cfe221
28	0	src/libtiled/map.cpp
18	2	src/libtiled/map.h
4	15	src/libtiled/mapreader.cpp
1	15	src/libtiled/mapwriter.cpp
1	16	src/plugins/json/maptovariantconverter.cpp
7	13	src/plugins/json/varianttomapconverter.cpp
1	14	src/plugins/lua/luaplugin.cpp

--5178c691	2011-11-21T21:26:18+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Attempt to avoid the History view related crash

Always show the vertical scroll bar in the History view, in an attempt
to avoid the QListView crash that happens due to infinite recursion in
some layout/geometry code.

A variation of QTBUG-14412 seems to be still around even in Qt 4.8...

5178c691
1	0	src/tiled/undodock.cpp

--731a9cc3	2011-11-19T20:55:02+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed a crash that could happen when removing the current layer

The current-layer highlighting code assumes the MapScene is up to date
with the layer stack of its MapDocument, but when dealing with a current
layer index changed signal this wasn't always the case.

731a9cc3
8	2	src/tiled/mapdocument.cpp

--0fe46aff	2011-11-19T16:19:41+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.7'

0fe46aff
--9c4ab06a	2011-11-19T16:01:33+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Solved the zlib dependency problems on Windows by inluding the headers

Now Tiled should compile out of the box with either MinGW or the
Visual Studio compiler.

9c4ab06a
7	2	src/libtiled/libtiled.pro
428	0	src/zlib/zconf.h
1613	0	src/zlib/zlib.h

--212efc35	2011-11-19T15:26:59+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added more file patterns to .gitignore

Most of these are probably generated when compiling with Visual Studio.

212efc35
11	2	.gitignore

--ca0f03b5	2011-11-19T12:29:24+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added a command line option to disable OpenGL

OpenGL drivers can still have their problems, especially on Linux but also when
running Windows inside VirtualBox. This option allows for recovering from
enabling hardware accelerated rendering and not being able to start Tiled
anymore.

ca0f03b5
16	0	src/tiled/main.cpp

--673a3890	2011-11-05T17:20:16+01:00	Alex Vega (semtiko)	semtiko@gmail.com	Added Russian translation

673a3890
1974	0	translations/tiled_ru.ts
1	1	translations/translations.pro

--50c282fd	2011-10-20T23:51:31+02:00	Stefan Beller	stefanbeller@googlemail.com	Added feature to copy position to clipboard

Does not show up in the menu nor on some button, since the position of
the mouse cannot be captured while clicking on a button, so only a
shortcut works, which is Alt+C for now.

Fixes #69

Signed-off-by: Stefan Beller <stefanbeller@googlemail.com>
Reviewed-by: Thorbjørn Lindeijer

50c282fd
4	0	src/tiled/mainwindow.cpp
26	0	src/tiled/mapdocumentactionhandler.cpp
2	0	src/tiled/mapdocumentactionhandler.h

--e709998b	2011-10-31T16:11:22+01:00	Stefan Beller	stefanbeller@googlemail.com	Automapping: Fixed compilation for Visual Studio

No changes in functionality.

Fixes #98

Signed-off-by: Stefan Beller <stefanbeller@googlemail.com>

e709998b
2	2	src/tiled/automapper.cpp

--d6f50871	2011-10-31T14:33:48+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added units and some explanations in New Map/Tileset dialogs

* For clarity, the spin boxes now include a suffix for displaying the
  unit of the value (mostly 'px', but also 'tiles' in the New Map
  dialog).

* In the New Tileset dialog, the 'spacing', 'margin' and 'drawing
  offset' properties gained a tool tip to provide a short explanation of
  what they mean.

* In the New Map dialog, a label was added that displays the resulting
  size of the map in pixels.

Convinced-by: Stefan Beller

d6f50871
20	0	src/tiled/newmapdialog.cpp
3	0	src/tiled/newmapdialog.h
36	4	src/tiled/newmapdialog.ui
42	15	src/tiled/newtilesetdialog.ui

--16f4193c	2011-10-31T10:26:14+01:00	Stefan Beller	stefanbeller@googlemail.com	Added a "Rename Layer" item to layer menu

Also it is added to the right-click context menu in the layerdock.

Fixes #94

Signed-off-by: Stefan Beller <stefanbeller@googlemail.com>

16f4193c
2	0	src/tiled/layerdock.cpp
1	0	src/tiled/mainwindow.cpp
7	0	src/tiled/mapdocument.h
13	0	src/tiled/mapdocumentactionhandler.cpp
4	0	src/tiled/mapdocumentactionhandler.h

--96736456	2011-09-06T23:48:13+02:00	Stefan Beller	stefanbeller@googlemail.com	Automapping: Remove unused tile layers after applying rules

Added a cleanTileLayers() function that removes all unneccessary added
tile layers. There is cleanTilesets() which provides the same
functionality just for tilesets.

This comes handy when using rulesets such as in "The Mana World":
After all 'useful' rules, there are rules for error checking,
which i.e. covers if the automapping produces valid cave walls,
and does not break due to to small curves and abruptions.
(So you only need to check if the "error" layer is there after
having done the Automapping)

Signed-off-by: Stefan Beller <stefanbeller@googlemail.com>

96736456
19	11	src/tiled/automapper.cpp
6	0	src/tiled/automapper.h

--56c930f0	2011-08-27T16:56:33+02:00	Stefan Beller	stefanbeller@googlemail.com	Automapping: Code cleanup and refactoring

* More 'const' key words added

* Changed some methods to use objects byReference

* Renamed lots of internal variables to be more explaining

* Replace all occurences of 'QList<QPair<TileLayer*, int> >' by
  IndexByTileLayer which is a typedef to QMap<TileLayer*, int>

* Since QMap is not capable of storing the right order of
  the needed layers, mTouchedLayers is changed from QSet to QList
  to still have access to the right order.

* The private function setupMissingLayers() was refactored to
  setupCorrectIndexes(), so it only checks for the right indexes.

* A new private function called setupMissingLayers() was introduced,
  which actually only checks for missing layers.

* Rename private function setupRuleMapLayers to setupRuleMapTileLayers

* Logic cleanups:

  loop {
      if (foo) {
          instructions;
      }
  }

  is written as

  loop {
     if(!foo)
         continue;
     instructions;
  }

Signed-off-by: Stefan Beller <stefanbeller@googlemail.com>

56c930f0
174	164	src/tiled/automapper.cpp
22	13	src/tiled/automapper.h
1	1	src/tiled/automapperwrapper.cpp
1	1	src/tiled/automappingmanager.cpp

--2824ec67	2011-08-27T16:56:18+02:00	Stefan Beller	stefanbeller@googlemail.com	Automapping: Added signals to indicate errors and warnings

* When not using the explicit menu entry, you may want to get information
  about errors and warnings as well.

* In general errors and warnings are being delivered by signals now.

* Rework of the warnings and error section to make it more accurate

Signed-off-by: Stefan Beller <stefanbeller@googlemail.com>

2824ec67
3	0	src/tiled/automapper.cpp
9	0	src/tiled/automapper.h
20	2	src/tiled/automappingmanager.cpp
11	0	src/tiled/automappingmanager.h
13	2	src/tiled/mainwindow.cpp
2	0	src/tiled/mainwindow.h

--dc42b41e	2011-08-26T23:50:01+02:00	Stefan Beller	stefanbeller@googlemail.com	Automapping: Made double wide rules possible

* setupRulesMap, which reads in maps properties was rewritten to
  be more stable. It emits warnings in case of unknown properties.
  The capitalisation of the string properties is ignored.

* when not having properties set, you need to have good defaults
  (set in constructor now)

* A new property "NoOverlayingRules" is introduced. This fixes #62
  Rules, which still apply, when they are shifted off by one, are
  handled properly now.

  This is achieved by checking if the region, at which the rule should
  applied to, has not been touched by the current rule already.
  This additional check introduces needs a lot of time, so it is turned off
  by default, which also ensures compatibility to lower versions.

Signed-off-by: Stefan Beller <stefanbeller@googlemail.com>

dc42b41e
68	9	src/tiled/automapper.cpp
5	0	src/tiled/automapper.h

--89885b7d	2011-10-09T19:00:33+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Renamed the diagonal flip flag to anti-diagonal

The actual flip performed is anti-diagonal, since it flips around the
diagonal. Just like horizontal flip is a flip around the vertical axis.

89885b7d
7	5	src/libtiled/gidmapper.cpp
3	3	src/libtiled/isometricrenderer.cpp
3	3	src/libtiled/orthogonalrenderer.cpp
3	3	src/libtiled/tilelayer.cpp
5	5	src/libtiled/tilelayer.h

--694257b1	2011-10-26T23:36:00+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added support for specifying a tile drawing offset

Each tileset can now define an offset that is applied when drawing its
tiles. This is useful when combining tilesets with a different baseline,
or lining up the base of the tiles with the tile grid.

This new tileset property is used to improve the tile positions in the
'perspective walls' and 'isometric grass and water' examples.

This closes #16

Sponsored-by: Clint Bellanger

694257b1
1	0	examples/isometric_grass_and_water.tmx
1	1	examples/perspective_walls.tmx
1	0	examples/perspective_walls.tsx
12	6	src/libtiled/isometricrenderer.cpp
21	9	src/libtiled/map.cpp
9	16	src/libtiled/map.h
11	4	src/libtiled/mapreader.cpp
8	0	src/libtiled/mapwriter.cpp
13	6	src/libtiled/orthogonalrenderer.cpp
27	9	src/libtiled/tilelayer.cpp
17	2	src/libtiled/tilelayer.h
13	0	src/libtiled/tileset.h
9	6	src/tiled/brushitem.cpp
7	4	src/tiled/mapscene.cpp
9	0	src/tiled/newtilesetdialog.cpp
138	28	src/tiled/newtilesetdialog.ui

--9dc234dc	2011-10-22T17:54:03+02:00	Stefan Beller	stefanbeller@googlemail.com	Fixed typo in the German translation

9dc234dc
1	1	translations/tiled_de.ts

--058c7523	2011-10-16T01:04:52+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Avoid creating multiple polygon points at the same location

When creating a polygon or polyline, it was easy to end up with multiple
points placed at the same location. Since this is basically never
intended, additional clicks on the same location will now be ignored.

Thanks to @Aranda for pointing out this issue and suggesting this fix.

058c7523
10	4	src/tiled/createobjecttool.cpp

--b11f6a83	2011-10-15T19:59:37+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added zlib1g-dev to the dependencies for building on Ubuntu/Debian

This package is required for using zlib directly.

b11f6a83
1	1	README.md

--ad5801dd	2011-10-15T15:30:34+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	libtiled-java: Some small code cleanups

Removed redundant casts and use shorter for loops where possible.

ad5801dd
1	3	util/java/libtiled-java/src/tiled/core/Map.java
9	13	util/java/libtiled-java/src/tiled/core/Sprite.java
2	2	util/java/libtiled-java/src/tiled/core/TileSet.java
3	10	util/java/libtiled-java/src/tiled/io/TMXMapWriter.java
1	1	util/java/libtiled-java/src/tiled/io/xml/XMLWriter.java

--a9478810	2011-10-12T23:21:05+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed tileset dock buttons to be disabled when appropriate

The buttons were not correctly disabled on startup. Also, crashes are
now avoided when somehow the actions do get triggered.

Thanks to @cjwillcock for spotting this regression and providing the
initial patch on which this one is based!

a9478810
26	15	src/tiled/tilesetdock.cpp
2	4	src/tiled/tilesetdock.h

--b3a1d470	2011-10-11T00:01:59+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Small layout improvements to the Tilesets dock

b3a1d470
2	2	src/tiled/tilesetdock.cpp

--603607cb	2011-10-10T23:58:55+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Highlighting the current layer should be off by default

603607cb
1	1	src/tiled/preferences.cpp

--886cbc53	2011-10-09T22:18:50+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Introduced an option to highlight the current layer

The highlighting works by darkening the layers below the current layer
and making the layers above the current layer more transparent.

This mode should help to make it clear which layer you're editing and
also serves well for checking a map for errors. The mode can be toggled
by pressing 'H'.

The degree of darkening or transparency is currently not configurable.

886cbc53
4	1	src/tiled/mainwindow.cpp
12	0	src/tiled/mainwindow.ui
68	3	src/tiled/mapscene.cpp
10	1	src/tiled/mapscene.h
14	1	src/tiled/preferences.cpp
6	5	src/tiled/preferences.h
3	2	src/tiled/tilesetview.cpp

--d03831ef	2011-10-09T13:56:20+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed the no longer used mSelectedObjectGroupItem from MapScene

Basically AbstractObjectTool took over the job of keeping track of the
currently selected object group.

d03831ef
1	33	src/tiled/mapscene.cpp
0	10	src/tiled/mapscene.h

--a22bcd5a	2011-10-09T13:43:55+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made the 'Show Grid' option in the tileset view persistent

Apart from being persistent, it now also applies immediately to all
tileset views.

a22bcd5a
13	0	src/tiled/preferences.cpp
7	0	src/tiled/preferences.h
10	4	src/tiled/tilesetview.cpp
1	1	src/tiled/tilesetview.h

--1abcf326	2011-10-08T17:12:45+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Some code cleanups

* Renamed UndoTilesetName to RenameTileset
* Renamed UndoSetTilesetFileName to SetTilesetFileName
* Renamed setTilesetFilename to setTilesetFileName
* Renamed tilesetFilenameChanged to tilesetFileNameChanged
* Introduced TilesetDock::currentTileset helper function
* Changed the label of the Rename button from '...' to 'Rename'
* Removed two duplicate lines

1abcf326
4	4	src/tiled/mapdocument.cpp
2	2	src/tiled/mapdocument.h
48	48	src/tiled/tilesetdock.cpp
2	2	src/tiled/tilesetdock.h

--f2fd65dc	2011-10-03T08:09:47-06:00	Maus	Zeitmaus@github	More improvements to tileset handling

* Tileset renames now have undo functionality.
* TilesetDock caches the selected tileset between document changes.

f2fd65dc
6	0	src/tiled/mapdocument.cpp
2	0	src/tiled/mapdocument.h
85	9	src/tiled/tilesetdock.cpp
8	0	src/tiled/tilesetdock.h

--f21c11fc	2011-10-02T03:24:01-06:00	Maus	Zeitmaus@github	Improved handling of many tilesets

The tab bar is discarded for a drop down. Toolbar added for import,
export, tileset properties, and delete tileset. These entries are
removed from the context menu on TilesetView. MapDocument gains a proxy
for setting Tileset filenames and emits a signal on a change.

Handy button provided to get after tileset->setName(). Drop down is
uneditable between edit requests to assist switching the active tileset.
Tilesets are sorted alphabetically in the drop down.

f21c11fc
7	0	src/tiled/mapdocument.cpp
2	0	src/tiled/mapdocument.h
236	38	src/tiled/tilesetdock.cpp
25	3	src/tiled/tilesetdock.h
0	97	src/tiled/tilesetview.cpp
2	3	src/tiled/tilesetview.h

--7dc78bfd	2011-10-04T17:34:41+02:00	Stefan Beller	stefanbeller@googlemail.com	Fixed missing parenthesis

7dc78bfd
1	1	src/tiled/main.cpp

--9a2b342c	2011-10-03T23:14:48+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.7'

9a2b342c
--c1ac5873	2011-09-28T14:47:37+02:00	Stefan Beller	stefanbeller@googlemail.com	Added a compile option to pass version information

This lets you modify the version of Tiled within the building process.
This is useful for daily builds.

The lines below show how to pass useful version information to the build
process:

  commit = $(git describe)
  qmake "QMAKE_CXXFLAGS+=-DBUILD_INFO_VERSION=$commit" -r
  make

c1ac5873
11	1	src/tiled/main.cpp

--34aa01ee	2011-10-03T07:04:41+08:00	Jeff Bland	jksb@member.fsf.org	Cleanup in make-dist-mac.sh

- Remove CONFIG += x86 comment due to Qt mac frameworks not having 32 bit code
- Autodetect plugins using ls
- Better output

34aa01ee
29	19	dist/make-dist-mac.sh

--58a99e46	2011-10-03T05:54:26+08:00	Jeff Bland	jksb@member.fsf.org	Delete .command files after use on mac

58a99e46
13	12	src/tiled/command.cpp
8	0	src/tiled/command.h

--22e39172	2011-10-03T20:31:28+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixes to tile rotation related to oversized tiles

Tiled has specific handling of oversized tiles that was not taken into
account in the tile rotation patch. Tiles that are larger than the map
grid stick out at the top and right of a tile. This affects the
rendering code as well as the code that keeps track of the maximum tile
size used on a layer (in order to determine the area to repaint when
tiles are changed).

Also 'Left' and 'Right' are now used rather than 'CCW' and 'CW'. It's
shorter and should be clear enough.

22e39172
20	7	src/libtiled/isometricrenderer.cpp
18	7	src/libtiled/orthogonalrenderer.cpp
25	13	src/libtiled/tilelayer.cpp
9	4	src/libtiled/tilelayer.h
6	6	src/tiled/mainwindow.cpp
2	2	src/tiled/mainwindow.h

--a4dfcf66	2011-08-25T21:59:50-04:00	Wade Brainerd	wadetb@gmail.com	Added support for tile rotation

Extends tile flipping with clockwise and counter-clockwise rotation by
increments of 90 degrees.

To support rotation, renderers need to handle the new FlippedDiagonally
GID flag.

Adds new keyboard shortcuts 'Z' and 'Shift-Z' for brush rotation.

Closes #19

a4dfcf66
5	1	src/libtiled/gidmapper.cpp
25	9	src/libtiled/isometricrenderer.cpp
26	10	src/libtiled/orthogonalrenderer.cpp
41	1	src/libtiled/tilelayer.cpp
21	7	src/libtiled/tilelayer.h
20	0	src/tiled/mainwindow.cpp
2	0	src/tiled/mainwindow.h

--0ff1f1b6	2011-10-02T23:22:01+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed compilation on VS 2008

It does not support the operators 'and' and 'not'.

0ff1f1b6
20	20	src/plugins/tengine/tengineplugin.cpp

--9fa7d3d2	2011-10-02T17:36:11+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Raised the tile size limit in the New Tileset dialog

From 999 to 9999, which is also the limit applied to the grid size in
the New Map dialog.

Closes #89

9fa7d3d2
2	2	src/tiled/newtilesetdialog.ui

--1adce79d	2011-09-20T00:04:19+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Moved the command line parser into a reusable class

1adce79d
175	0	src/tiled/commandlineparser.cpp
147	0	src/tiled/commandlineparser.h
48	135	src/tiled/main.cpp
4	2	src/tiled/tiled.pro

--75e70877	2011-09-11T19:43:37-07:00	Ben Longbons	b.r.longbons@gmail.com	Implement framework for parsing command-line arguments

75e70877
134	41	src/tiled/main.cpp

--d46241fb	2011-10-01T00:41:51+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Rewrote the JSON plugin

* Made it conform to the coding style
* Updated qjsonparser
* Improved error handling
* Removed support for writing base64 tile data for now
* Small adjustments to the format
* Added copyright headers

There is no support for polygons/polylines yet though.

d46241fb
8	5	src/plugins/json/json.pro
21	0	src/plugins/json/json_global.h
62	13	src/plugins/json/jsonplugin.cpp
39	19	src/plugins/json/jsonplugin.h
0	266	src/plugins/json/maptovariant.cpp
240	0	src/plugins/json/maptovariantconverter.cpp
65	0	src/plugins/json/maptovariantconverter.h
390	60	src/plugins/json/qjsonparser/json.cpp
45	3	src/plugins/json/qjsonparser/json.h
116	79	src/plugins/json/qjsonparser/jsonparser.cpp
0	251	src/plugins/json/varianttomap.cpp
298	0	src/plugins/json/varianttomapconverter.cpp
82	0	src/plugins/json/varianttomapconverter.h

--128d5c22	2011-06-14T22:51:35+01:00	Porfírio Ribeiro	porfirioribeiro@gmail.com	Added JSON plugin supporting both writing and reading

It can save tiles as Array or in base 64.

Need to make a way to ask user preferences on the saved file.

128d5c22
11	0	src/plugins/json/json.pro
12	0	src/plugins/json/json_global.h
72	0	src/plugins/json/jsonplugin.cpp
46	0	src/plugins/json/jsonplugin.h
266	0	src/plugins/json/maptovariant.cpp
116	0	src/plugins/json/qjsonparser/json.cpp
22	0	src/plugins/json/qjsonparser/json.h
490	0	src/plugins/json/qjsonparser/jsonparser.cpp
5	0	src/plugins/json/qjsonparser/qjsonparser.pri
251	0	src/plugins/json/varianttomap.cpp
6	1	src/plugins/plugins.pro

--ddddf433	2011-09-27T23:10:40+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.7'

Conflicts:
	src/tiled/createobjecttool.cpp

ddddf433
--52664295	2011-09-27T20:24:56+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Center tile objects at the mouse on insertion

This fixes #67 without changing the TMX map format.

This means the bottom-left remains the origin of the tile objects even
though plain rectangle objects have their origin in the top-left. This
difference was the reason for the wrong positioning of tile objects when
inserting them, which is now fixed by taking the difference into account
in the Insert Tile Objects tool. The tool now centers the inserted tile
object at the mouse position.

The reason tile objects have their origin in the bottom-left is because
tiles in tile layers are also bottom-left aligned within their grid
cell. This in turn has its origins in top-down maps where this behavior
is usually desirable when working with tile images that are larger than
the grid size.

52664295
1	0	NEWS
5	0	src/libtiled/tile.h
20	4	src/tiled/createobjecttool.cpp

--135a26b6	2011-09-26T23:17:22+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Bumped version to 0.7.1 and updated NEWS file

135a26b6
8	0	NEWS
1	1	dist/win/README.txt
3	3	src/tiled/Info.plist
1	1	src/tiled/main.cpp

--50e834a8	2011-09-26T22:14:24+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed reading of maps without tilesets but with a tile layer

This triggered an error even when the tile layer was completely empty.
The error was introduced in 67515de5abea3972cc85c54738e31b6d71afc03b.

Reviewed-by: Ben Longbons <b.r.longbons@gmail.com>

50e834a8
14	37	src/libtiled/mapreader.cpp

--423fb658	2011-09-22T21:12:15+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed assertion error in Object Properties dialog

Would occur when no object types were defined. Probably a bug in
QComboBox but easy to fix with a sanity check.

423fb658
4	0	src/tiled/objecttypesmodel.cpp

--9b735afe	2011-09-21T22:25:39+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed drawing of selection background on Windows

Base the ColorDelegate on QStyledItemDelegate rather than
QAbstractItemDelegate, so that the selected background is drawn
correctly.

9b735afe
3	3	src/tiled/objecttypesmodel.cpp
2	0	src/tiled/objecttypesmodel.h
7	3	src/tiled/preferencesdialog.cpp

--9e467b05	2011-09-21T00:14:48+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Lua plugin: Write out the tileset properties

9e467b05
2	0	src/plugins/lua/luaplugin.cpp

--90f7a857	2011-09-20T22:42:29+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Allow custom properties on tilesets

Closes #77

90f7a857
2	0	src/libtiled/mapreader.cpp
3	0	src/libtiled/mapwriter.cpp
2	2	src/libtiled/tileset.h
17	1	src/tiled/tilesetview.cpp
1	0	src/tiled/tilesetview.h

--b41c7875	2011-09-18T15:47:47+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made sure to write out text files in text mode

This makes sure the correct newlines are used in the written file.

b41c7875
1	1	src/plugins/lua/luaplugin.cpp
1	1	src/plugins/tengine/tengineplugin.cpp

--ebdd3b01	2011-09-18T15:42:52+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added import and export of object types

So that not every individual working on some project needs to manually
specify the colors for the different object types, but rather can import
a shared xml file defining the types and their colors.

When sometime in the future Tiled supports projects properly, the
project file would probably be a nicer place for the object type
definitions.

Sponsored-by: Zipline Games, Inc.

ebdd3b01
1	1	src/plugins/flare/flareplugin.cpp
115	0	src/tiled/objecttypes.cpp
78	0	src/tiled/objecttypes.h
53	0	src/tiled/preferences.cpp
8	21	src/tiled/preferences.h
55	0	src/tiled/preferencesdialog.cpp
2	0	src/tiled/preferencesdialog.h
32	0	src/tiled/preferencesdialog.ui
2	0	src/tiled/tiled.pro

--b4da04fa	2011-09-18T00:20:38+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed the Context Help button from the titlebar of dialogs

No detailed context help is specified anywhere, so displaying this button
just leads to disappointment. The context help button in the titlebar is
only supported by Windows and KDE anyway, as far as I know.

b4da04fa
1	0	src/tiled/aboutdialog.cpp
2	0	src/tiled/commanddialog.cpp
1	0	src/tiled/newmapdialog.cpp
1	0	src/tiled/newtilesetdialog.cpp
2	1	src/tiled/offsetmapdialog.cpp
1	0	src/tiled/preferencesdialog.cpp
2	1	src/tiled/propertiesdialog.cpp
2	1	src/tiled/resizedialog.cpp
1	0	src/tiled/saveasimagedialog.cpp

--d9b22e9a	2011-09-17T01:20:44+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added support for defining custom object types

The defined object types are be available for selection in the Object
Properties Dialog, and each defined object type has a customizable color
associated with it so that the type of an object can be easily
recognized.

Sponsored-by: Zipline Games, Inc.

d9b22e9a
-	-	src/tiled/images/22x22/add.png
-	-	src/tiled/images/22x22/remove.png
21	4	src/tiled/mapobjectitem.cpp
9	0	src/tiled/mapobjectitem.h
10	0	src/tiled/mapscene.cpp
1	0	src/tiled/mapscene.h
7	2	src/tiled/objectpropertiesdialog.cpp
14	4	src/tiled/objectpropertiesdialog.ui
126	0	src/tiled/objecttypesmodel.cpp
67	0	src/tiled/objecttypesmodel.h
31	0	src/tiled/preferences.cpp
27	0	src/tiled/preferences.h
128	0	src/tiled/preferencesdialog.cpp
11	0	src/tiled/preferencesdialog.h
123	25	src/tiled/preferencesdialog.ui
4	6	src/tiled/saveasimagedialog.cpp
4	2	src/tiled/tiled.pro
2	0	src/tiled/tiled.qrc

--bcf66694	2011-09-12T23:04:52+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Delete a polygon object when it has only one node left

It's not possible to select such an object anymore, so it's a bit silly
to leave it hanging around like that.

bcf66694
1	1	src/tiled/editpolygontool.cpp

--a83d1be7	2011-09-12T23:04:23+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added action for joining nodes on a polygon

Thanks to Ben Longbons for his help with this, especially for the
RangeSet class on which the Join Nodes algorithm is now based.

a83d1be7
115	0	src/tiled/editpolygontool.cpp
1	0	src/tiled/editpolygontool.h

--42c1daf9	2011-09-12T22:42:01+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Used the RangeSet class for Delete Nodes and Split Segments

42c1daf9
37	32	src/tiled/editpolygontool.cpp

--190a7f85	2011-09-11T23:02:06+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added RangeSet template class by Ben Longbons

I've just adapted the code to the Tiled coding standards and wrote a
little more documentation.

190a7f85
192	0	src/tiled/rangeset.h
2	1	src/tiled/tiled.pro

--7dcb1a6a	2011-09-09T23:36:23+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Lua plugin: Changed the format in which polygons are written

While the new format takes about twice the memory and is also twice as
slow to parse, it is more readable and hence the default.

When speed and memory are really an issue, other formats can be enabled
by modifying the code. Comparison benchmark:

Format      Memory inc. on dofile   Parsing time (x1000)    File size
---------------------------------------------------------------------
FULL        93.01 K                 1.08 s                  22 K
PAIRS       69.43 K                 0.86 s                  18 K
OPTIMAL     34.60 K                 0.62 s                  11 K

Sponsored-by: Zipline Games, Inc.

7dcb1a6a
62	3	src/plugins/lua/luaplugin.cpp
17	16	src/plugins/lua/luatablewriter.cpp
15	0	src/plugins/lua/luatablewriter.h

--2cc84742	2011-09-08T23:14:03+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added polygon/polyline export to the Lua plugin

2cc84742
62	23	src/plugins/lua/luaplugin.cpp

--a1190e43	2011-09-07T23:41:23+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added a context menu for selected polygon nodes

For now this menu only allows deleting nodes and splitting segments in
order to add new nodes. It still does weird things with the selection,
though.

a1190e43
179	2	src/tiled/editpolygontool.cpp
7	0	src/tiled/editpolygontool.h

--1888da64	2011-08-19T18:47:09+02:00	Adam Rippon	arippon@mutekicorp.com	Adjust tile indexes when the tileset width has changed

Now when the tileset width has changed, the tile indexes are
automatically remapped so that the map still looks fine.

This patch was started by Adam Rippon, changed by Stefan Beller and
finalized by Thorbjørn Lindeijer.

Reviewed-by: Stefan Beller <stefanbeller@googlemail.com>
Reviewed-by: Thorbjørn Lindeijer <thorbjorn@lindeijer.nl>

1888da64
23	2	src/libtiled/gidmapper.cpp
8	0	src/libtiled/gidmapper.h
4	0	src/libtiled/mapreader.cpp
7	2	src/libtiled/tileset.cpp
9	0	src/libtiled/tileset.h

--85f00e10	2011-08-29T20:58:11+02:00	Stefan Beller	stefanbeller@googlemail.com	Made reloading of images when they change more stable

Make sure that each time a change is detected, the timer is restarted.
Also, wait 500ms rather than 200ms after the last detected change before
reloading the image.

This tries to avoid the problem mentioned at #44

85f00e10
3	6	src/tiled/tilesetmanager.cpp

--8b8df1b4	2011-08-31T14:47:45+02:00	Stefan Beller	stefanbeller@googlemail.com	Added lots of const keywords

8b8df1b4
1	1	src/libtiled/map.cpp
1	1	src/libtiled/objectgroup.cpp
2	2	src/plugins/flare/flareplugin.cpp
3	3	src/plugins/tengine/tengineplugin.cpp
1	1	src/tiled/abstractobjecttool.cpp
13	13	src/tiled/automapper.cpp
1	1	src/tiled/automappingmanager.cpp
2	2	src/tiled/mainwindow.cpp
1	1	src/tiled/mapdocument.cpp
1	1	src/tiled/mapscene.cpp
1	1	src/tiled/stampbrush.cpp

--c9260b1f	2011-09-02T00:31:04+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added a separate tool for editing polygons

Allows selecting multiple point handles and dragging them around. The
polygon points handles no longer show up for the regular object
selection tool.

Sponsored-by: Zipline Games, Inc.

c9260b1f
52	0	src/tiled/changepolygon.cpp
13	18	src/tiled/{movepoints.h => changepolygon.h}
529	0	src/tiled/editpolygontool.cpp
30	14	src/tiled/{objectselectiontool.h => editpolygontool.h}
-	-	src/tiled/images/24x24/tool-edit-polygons.png
2	0	src/tiled/mainwindow.cpp
4	122	src/tiled/mapobjectitem.cpp
0	1	src/tiled/mapobjectitem.h
4	3	src/tiled/mapscene.cpp
9	0	src/tiled/mapscene.h
0	69	src/tiled/movepoints.cpp
2	67	src/tiled/objectselectiontool.cpp
0	4	src/tiled/objectselectiontool.h
67	0	src/tiled/selectionrectangle.cpp
51	0	src/tiled/selectionrectangle.h
6	2	src/tiled/tiled.pro
1	0	src/tiled/tiled.qrc

--b495ffb4	2011-08-28T20:50:13+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated the year in the license header template

b495ffb4
1	1	.LICENSE-HEADER

--b1b88e23	2011-08-28T20:38:06+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Renamed SelectionTool to TileSelectionTool

Makes its purpose clear vs. ObjectSelectionTool.

b1b88e23
2	2	src/tiled/mainwindow.cpp
2	2	src/tiled/quickstampmanager.cpp
2	2	src/tiled/tiled.pro
9	9	src/tiled/{selectiontool.cpp => tileselectiontool.cpp}
6	6	src/tiled/{selectiontool.h => tileselectiontool.h}

--54f49768	2011-08-28T12:53:54+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Set the DontAdjustForAntialiasing optimization flag

This should be a little bit faster. Currently I don't see any rendering
artifacts with this enabled.

54f49768
3	0	src/tiled/mapview.cpp

--34198400	2011-08-25T09:37:41+02:00	Stefan Beller	stefanbeller@googlemail.com	Added a Delete action

This fixes #59

34198400
32	1	src/tiled/mainwindow.cpp
2	1	src/tiled/mainwindow.h
16	0	src/tiled/mainwindow.ui

--4039ab54	2011-08-28T00:17:47+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added support for polyline objects

This updates libtiled to also support polyline objects and adds a
separate tool for creating such objects.

4039ab54
61	35	src/libtiled/isometricrenderer.cpp
1	0	src/libtiled/libtiled.pro
5	2	src/libtiled/mapobject.cpp
36	9	src/libtiled/mapobject.h
10	4	src/libtiled/mapreader.cpp
46	0	src/libtiled/maprenderer.cpp
11	1	src/libtiled/maprenderer.h
5	1	src/libtiled/mapwriter.cpp
94	54	src/libtiled/orthogonalrenderer.cpp
24	7	src/tiled/createobjecttool.cpp
2	1	src/tiled/createobjecttool.h
-	-	src/tiled/images/24x24/insert-polygon.png
-	-	src/tiled/images/24x24/insert-polyline.png
3	0	src/tiled/mainwindow.cpp
1	0	src/tiled/tiled.qrc

--d681afab	2011-07-20T08:59:07+02:00	Stefan Beller	stefanbeller@googlemail.com	Automapping: Added a shortcut

Requested as part of #63

d681afab
3	0	src/tiled/mainwindow.ui

--e100682d	2011-08-10T15:17:14+02:00	Stefan Beller	stefanbeller@googlemail.com	Automapping: Coding style

No change of functionality.

e100682d
4	4	src/tiled/automapperwrapper.cpp

--6dffba0b	2011-07-20T08:51:36+02:00	Stefan Beller	stefanbeller@googlemail.com	Automapping: Added warnings

* You will be warned about all layers,
  which have no use within a rulemap,
  when using the explicit menu entry for automapping.

* Some comments added to automapper.cpp (structure of file)
  and automapper.h
  (documenting difference between error and warning strings)

* renaming automap to autoMap for consistency

Signed-off-by: Stefan Beller <stefanbeller@googlemail.com>

6dffba0b
14	1	src/tiled/automapper.cpp
4	0	src/tiled/automapper.h
1	1	src/tiled/automapperwrapper.h
22	10	src/tiled/automappingmanager.cpp
15	3	src/tiled/automappingmanager.h
10	2	src/tiled/mainwindow.cpp

--69a83df6	2011-07-20T08:45:27+02:00	Stefan Beller	stefanbeller@googlemail.com	Automapping: Refactoring

Move each of the classes into its own *.{h,cpp} file

* Rename AutomaticMappingManager to AutomappingManager

* make sure each class includes only neccessary includes

69a83df6
3	325	src/tiled/{automap.cpp => automapper.cpp}
6	163	src/tiled/{automap.h => automapper.h}
126	0	src/tiled/automapperwrapper.cpp
64	0	src/tiled/automapperwrapper.h
251	0	src/tiled/automappingmanager.cpp
173	0	src/tiled/automappingmanager.h
5	5	src/tiled/mainwindow.cpp
6	2	src/tiled/tiled.pro

--12157822	2011-08-24T14:42:36-07:00	Ben Longbons	b.r.longbons@gmail.com	Let the compiler calculate the number of zoom factors

12157822
2	2	src/tiled/zoomable.cpp

--02e4f348	2011-08-04T02:40:52+08:00	Andreas Abraham	andreas.abraham@gmx.de	Added 33% zoom level.

02e4f348
2	1	src/tiled/zoomable.cpp

--0ae6c3c7	2011-08-03T15:57:56+08:00	Andreas Abraham	andreas.abraham@gmx.de	Added recursive option for documentation.

0ae6c3c7
1	1	docs/Doxyfile

--26844fa1	2011-08-24T23:05:40+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.7'

Conflicts:
	src/tiled/createobjecttool.cpp

26844fa1
--6b1b7eeb	2011-08-24T01:11:46+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Try to avoid triggering strange OpenGL rendering issue

A selected polygon object that was extending beyond the top of the view
would become black in OpenGL mode. This glitch has something to do with
using a dash pen which we can't avoid, but when using drawLines the
glitch at least becomes much more rare.

6b1b7eeb
8	6	src/tiled/mapobjectitem.cpp

--5ddffa02	2011-08-24T00:26:49+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Use an overlay item when creating a new polygon object

This "overlay" item makes it easier to see the created polygon so far
and the change still being made to it.

Sponsored-by: Zipline Games, Inc.

5ddffa02
5	0	src/libtiled/objectgroup.cpp
6	1	src/libtiled/objectgroup.h
1	1	src/tiled/clipboardmanager.cpp
45	19	src/tiled/createobjecttool.cpp
4	0	src/tiled/createobjecttool.h

--a9c6f92c	2011-08-24T00:20:07+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Prevent resize and move handles from scaling and fading

Now the handles ignore the transformations applied to their parents,
apart from their position. They also ignore the parent opacity now,
since it's not very useful to have the handles fade out with the layer
opacity.

a9c6f92c
2	0	src/tiled/mapobjectitem.cpp

--d985325e	2011-08-23T22:39:09+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added a tool for creating new polygon objects

It's actually a new mode of the CreateObjectTool.

There are still many improvements to make to polygon creation and
editing, but this closes issue #61.

Sponsored-by: Zipline Games, Inc.

d985325e
70	14	src/tiled/createobjecttool.cpp
3	2	src/tiled/createobjecttool.h
-	-	src/tiled/images/24x24/insert-polygon.png
5	2	src/tiled/mainwindow.cpp
5	4	src/tiled/mapobjectitem.cpp
1	0	src/tiled/mapobjectitem.h
1	0	src/tiled/tiled.qrc

--da1d339c	2011-08-19T01:07:37+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added ability to move points of a polygon around

Complete with undo/redo support.

This implements part of issue #61

Sponsored-by: Zipline Games, Inc.

da1d339c
162	23	src/tiled/mapobjectitem.cpp
11	1	src/tiled/mapobjectitem.h
69	0	src/tiled/movepoints.cpp
67	0	src/tiled/movepoints.h
4	2	src/tiled/tiled.pro

--6a2c0d79	2011-08-16T22:44:08+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	libtiled: Added support for associating a polygon with a MapObject

Now a map object can optionally have a polygon associated with it, which
if specified replaces the width/height attributes of the object and
allows specifying a non-rectangular area.

Currently the polygon is always implicitly closed, but in the future
support for non-closed polygons ("polylines") is also planned.

In the TMX format, polygons are stored in the same way as in SVG.
An example:

  <object x="514" y="311">
     <polygon points="0,0 -64,32 0,96 128,64"/>
  </object>

This commit only changes libtiled to support this feature. No editing
capabilities exist yet in Tiled.

This implements the first part of issue #61

Sponsored-by: Zipline Games, Inc.

6a2c0d79
33	2	src/libtiled/isometricrenderer.cpp
6	7	src/libtiled/mapobject.cpp
15	3	src/libtiled/mapobject.h
59	19	src/libtiled/mapreader.cpp
53	24	src/libtiled/mapwriter.cpp
32	0	src/libtiled/orthogonalrenderer.cpp

--8984ff6d	2011-08-24T00:25:31+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed class name in documentation

8984ff6d
1	1	src/tiled/tiledapplication.h

--83d39471	2011-08-24T00:08:11+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed a bug in the Create Object tool

When the tool was deactivated while creating a new object, it would leave
the temporary preview item behind, which would cause a crash when trying
to interact with it later.

83d39471
8	0	src/tiled/createobjecttool.cpp
2	0	src/tiled/createobjecttool.h

--8f8736f1	2011-08-19T01:08:19+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Enable anti-aliasing for OpenGL mode

It's enabled by default in non-OpenGL mode too after all. Maybe someday
this should be an option due to the performance implications.

8f8736f1
1	0	src/tiled/mapview.cpp

--4116695e	2011-08-12T00:46:18+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Small improvement to the Lua export plugin (incompatible)

This changes the exported Lua file to return the map table rather than
assigning it to a global variable called 'map'. This allows the map to
be loaded in Lua environments where global variables are not allowed,
and makes it easier to avoid naming conflicts between multiple maps.

OLD

  level1.lua:

    map = { ... }

  game.lua:

    require "level1"
    print(#map.layers)

NEW

  level1.lua:

    return { ... }

  game.lua

    local level1 = require "level1"
    print(#level1.layers)

Thanks to Josh Lytle for the suggestion!

4116695e
1	1	src/plugins/lua/luaplugin.cpp
9	0	src/plugins/lua/luatablewriter.cpp
1	0	src/plugins/lua/luatablewriter.h

--96667dfe	2011-08-12T00:01:43+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Introduced a convenience constructor to GidMapper

Setting up a gid mapper for some list of tilesets is probably a common
operation that deserves a bit of convenience.

96667dfe
9	0	src/libtiled/gidmapper.cpp
5	0	src/libtiled/gidmapper.h
2	7	src/plugins/flare/flareplugin.cpp

--88d752b6	2011-08-11T22:27:20+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Reduced the number of translatable strings in the Flare plugin

Use parameters when reporting missing layers or properties.

Reviewed-by: Stefan Beller <stefanbeller@googlemail.com>

88d752b6
36	51	src/plugins/flare/flareplugin.cpp
3	1	src/plugins/flare/flareplugin.h

--2738428e	2011-08-11T21:51:32+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Converted DOS to UNIX newlines

2738428e

--881d92cc	2011-07-20T22:58:37+02:00	Stefan Beller	stefanbeller@googlemail.com	Added Flare export plugin

An export plugin, which exports to simple ini format.

See http://clintbellanger.net/rpg/ for an overview.
See https://github.com/clintbellanger/flare for sources.

881d92cc
9	0	src/plugins/flare/flare.pro
33	0	src/plugins/flare/flare_global.h
189	0	src/plugins/flare/flareplugin.cpp
55	0	src/plugins/flare/flareplugin.h
1	1	src/plugins/plugins.pro

--4a973f3b	2011-08-10T10:16:00+02:00	Stefan Beller	stefanbeller@googlemail.com	Added random mode to the stamp brush

When random mode is activated, you can draw random tiles chosen from
your current stamp with the left mouse button. The random mode can be
used for random fill tool as well later on.

Reviewed-by: Thorbjørn Lindeijer <thorbjorn@lindeijer.nl>

4a973f3b
1	1	AUTHORS
-	-	src/tiled/images/22x22/stock-tool-random-clone.png
10	0	src/tiled/mainwindow.cpp
81	8	src/tiled/stampbrush.cpp
27	0	src/tiled/stampbrush.h
1	0	src/tiled/tiled.qrc

--e73fe872	2011-08-10T13:00:20+02:00	Petr Viktorin	encukou@gmail.com	Update the Czech translation

e73fe872
61	308	translations/tiled_cs.ts

--11315ed7	2011-07-16T07:30:17+02:00	Stefan Beller	stefanbeller@googlemail.com	Select stamp tool when selecting tiles in tileset view

When you have selected the eraser tool and now choose a new tile
selection in the tileset view, you obviously don't want to have the
eraser anymore. So select the stamp brush now.

This resolves #26

Reviewed-by: Thorbjørn Lindeijer

11315ed7
11	4	src/tiled/mainwindow.cpp

--498077e2	2011-07-27T19:32:13+02:00	seeseekey	seeseekey@googlemail.com	Corrected a few errors in the German translation

498077e2
2	2	translations/tiled_de.ts

--b49a110a	2011-07-16T15:26:31+08:00	Stefan Beller	stefanbeller@googlemail.com	Correct date in about dialog

b49a110a
1	1	src/tiled/aboutdialog.cpp

--8160eb2c	2011-07-20T22:54:31+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.6'

8160eb2c
--956395c6	2011-07-20T22:10:15+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	NEWS file updated for 0.7.0 release

956395c6
10	1	NEWS

--650b5a06	2011-07-17T14:17:35+02:00	Yohann Ferreira	yohann.ferreira@orange.fr	Updated the French translation

650b5a06
65	60	translations/tiled_fr.ts

--cf272803	2011-07-19T23:08:58+02:00	Stefan Beller	stefanbeller@googlemail.com	Automapping: Made live automapping more smooth in the example

Setting mAutomappingRadius to 3, so the tiles within the over layer are
cleared.

cf272803
1	1	examples/sewer_automap/rule_001.tmx

--1defe854	2011-07-01T22:25:29+02:00	Stefan Beller	stefanbeller@googlemail.com	Automapping: Reduced the size of the history

This resolves #29

1defe854
38	18	src/tiled/automap.cpp
3	3	src/tiled/automap.h

--04928408	2011-07-01T22:25:00+02:00	Stefan Beller	stefanbeller@googlemail.com	libtiled: Added TileLayer::setCells

Most of the code of TilePainter::setCells was moved to
TileLayer::setCells. This provides a convenient way to set cells without
emitting a region changed signal.

Reviewed-by: Thorbjørn Lindeijer

04928408
16	0	src/libtiled/tilelayer.cpp
15	1	src/libtiled/tilelayer.h
4	9	src/tiled/tilepainter.cpp

--e5fe10e7	2011-06-26T14:19:48+02:00	Stefan Beller	stefanbeller@googlemail.com	libtiled: Added TileLayer::computeDiffRegion

This will be used to reduce the history size of automapping. Also a
standalone feature to diff maps could be easily done with this
functionality.

Reviewed-by: Thorbjørn Lindeijer

e5fe10e7
26	0	src/libtiled/tilelayer.cpp
7	0	src/libtiled/tilelayer.h

--bd2f284f	2011-07-18T01:23:50+02:00	Stefan Beller	stefanbeller@googlemail.com	Fixed several issues related to restoring previously opened files

Now the list of previously opened files is stored separately from the
recent file list, fixing several issues.

This closes #38

Done-with: Thorbjørn Lindeijer

bd2f284f
19	10	src/tiled/mainwindow.cpp

--fddf8c09	2011-07-16T08:59:15+03:00	Tamir Atias (KonoM)	engine.games@gmail.com	Fixed plurals in Hebrew translation

fddf8c09
2	2	translations/tiled_he.ts

--5d79fe10	2011-04-30T19:59:45+02:00	Stefan Beller	stefanbeller@googlemail.com	Remove objects that fall outside of the map on resize

Since the map never intersects with objects that have zero size, a
contains check on the object position is also done.

Reviewed-by: Thorbjørn Lindeijer <thorbjorn@lindeijer.nl>

5d79fe10
13	2	src/tiled/mapdocument.cpp

--bba6b234	2011-07-17T16:21:57+02:00	Stefan Beller	stefanbeller@googlemail.com	Automapping: Removed findTileLayer

The error message is unnecessary, so the needed functionality can be
reduced to mMapWork->indexOfLayer(name);

Signed-off-by: Stefan Beller <stefanbeller@googlemail.com>

bba6b234
2	23	src/tiled/automap.cpp
0	6	src/tiled/automap.h

--bd998ef5	2011-07-14T23:33:16+02:00	Stefan Beller	stefanbeller@googlemail.com	Automapping: Renamed mLayerSet into mSetLayerIndex

This is more descriptive than before, since it is only an int now.

bd998ef5
12	12	src/tiled/automap.cpp
1	1	src/tiled/automap.h

--ef1dc8c4	2011-07-10T11:50:46+02:00	Stefan Beller	stefanbeller@googlemail.com	libtiled: Introduced operator != for Cell

ef1dc8c4
7	0	src/libtiled/tilelayer.h

--63ea4324	2011-07-01T22:24:01+02:00	Stefan Beller	stefanbeller@googlemail.com	libtiled: Added Layer::setPosition

Renamed pos() to position() for consistency.

63ea4324
7	1	src/libtiled/layer.h
2	2	src/libtiled/tilelayer.cpp

--6a3fcb6c	2011-07-12T22:16:23+02:00	Stefan Beller	stefanbeller@googlemail.com	Automapping: Restructure internal data structures

This replaces the translation table, which consisted of layerpointers of
rulelayers to layers within the working map, by a translation table,
which translates the layerpointers of the rulelayers into indices of the
working Map.

The set layer now is tracked by its index as well instead of a layer
pointer.

The check mechanics, if the right layer at the specified index, also changed.
That leads to dropping mAddLayers(since it's not used any more)

Advantages:
* the layer pointer changes sometimes (resizing, offsetting a map),
  so bug https://github.com/bjorn/tiled/issues/36 is fixed.

* setupMissingLayers() will check if the indices are valid, if not this
  is corrected by setting the correct index.
  If there is no such layer it is created before.
  So while the hot phase happens (automapping itself), we can rely on
  the indices, automapping is nearly the same speed (See disadvantages)

* Signals, which keep track of layer renaming, can be dismissed,
  due to the checks in setupMissingLayers() now, because the index doesn't
  change, but the internal layer pointer.

Disadvantages:
* Slightly slower (looking up by index instead
  of using the pointer directly)

The layer pointers for the rulelayers are still kept, since these are
assumed to not change.
(If the rulemap itself changes, the whole datastructures are wiped and
rebuild)

Signed-off-by: Stefan Beller <stefanbeller@googlemail.com>

remove mAddLayers

6a3fcb6c
50	84	src/tiled/automap.cpp
23	28	src/tiled/automap.h

--4dff3c89	2011-07-17T15:47:24+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated the Dutch translation

4dff3c89
64	64	translations/tiled_nl.ts

--65b0c245	2011-07-17T14:06:32+02:00	Porfírio Ribeiro	porfirioribeiro@gmail.com	Updated the Portuguese translation

65b0c245
267	224	translations/tiled_pt.ts

--60e0b7a5	2011-07-17T14:04:08+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Center on the origin of the map rather than the origin of the view

This will probably avoid some confusion for new users who try to set up
an isometric map, since it will make sure the view is positioned on an
interesting part (where you can actually see the grid and draw on the
map).

60e0b7a5
3	2	src/tiled/documentmanager.cpp

--18f4c8c6	2011-07-10T22:59:29+03:00	Tamir Atias (KonoM)	engine.games@gmail.com	Updated the Hebrew translation

18f4c8c6
67	67	translations/tiled_he.ts

--5b3b6fc8	2011-07-14T23:11:38+02:00	Hiroki Utsunomiya	teraapi@gmail.com	Updated the Japanese translation

5b3b6fc8
60	60	translations/tiled_ja.ts

--60902927	2011-07-14T22:42:17+02:00	Mauricio Muñoz Lucero	real.mml@gmail.com	Updated the Spanish translation

60902927
26	26	translations/tiled_es.ts

--278b51f7	2011-07-14T22:31:16+02:00	seeseekey	seeseekey@googlemail.com	Updated the German translation

278b51f7
37	37	translations/tiled_de.ts

--4f37d63d	2011-07-14T22:26:55+02:00	zhaosting	zhaosting@gmail.com	Updated the Chinese translation

4f37d63d
61	60	translations/tiled_zh.ts

--bd2658be	2011-07-14T22:25:37+02:00	Jonatas de Moraes Junior	jmoraes@gmail.com	Updated the Brazilian Portuguese translation

bd2658be
66	66	translations/tiled_pt_BR.ts

--eb20c5d0	2011-07-08T22:09:24+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Synced translation files with source code

String Freeze for 0.7.0 is now.

eb20c5d0
423	107	translations/tiled_cs.ts
263	60	translations/tiled_de.ts
379	110	translations/tiled_en.ts
192	50	translations/tiled_es.ts
420	107	translations/tiled_fr.ts
414	101	translations/tiled_he.ts
411	131	translations/tiled_it.ts
417	107	translations/tiled_ja.ts
415	131	translations/tiled_lv.ts
420	107	translations/tiled_nl.ts
412	128	translations/tiled_pt.ts
420	107	translations/tiled_pt_BR.ts
417	107	translations/tiled_zh.ts

--6501d02c	2011-07-03T23:34:39+02:00	Stefan Beller	stefanbeller@googlemail.com	libtiled: Added some assertions to TileLayer

6501d02c
4	0	src/libtiled/tilelayer.cpp

--c1379116	2011-07-06T23:36:23+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Allow hand scrolling while holding the spacebar

Required some hacking about with mouse grabbing, but overall seems to
work nicely apart from the usual painting glitches with the stamp brush.

This closes #28

c1379116
14	0	src/tiled/mainwindow.cpp
3	0	src/tiled/mainwindow.h
50	9	src/tiled/mapview.cpp
8	3	src/tiled/mapview.h

--e0ac305e	2011-07-06T21:47:25+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Display tile coordinates also when using object tools

It's annoying to have to switch to a tile layer just to be able to get
at some tile coordinates.

This closes #32

e0ac305e
17	0	src/tiled/abstractobjecttool.cpp
2	0	src/tiled/abstractobjecttool.h
2	4	src/tiled/createobjecttool.cpp
0	1	src/tiled/createobjecttool.h
2	4	src/tiled/objectselectiontool.cpp
0	1	src/tiled/objectselectiontool.h

--71b922c9	2011-07-03T23:24:24+02:00	Gregory Nickonov	gregory@nickonov.ru	Added option to turn off grid in the tileset view

71b922c9
20	4	src/tiled/tilesetview.cpp
4	0	src/tiled/tilesetview.h

--14354425	2011-06-11T21:52:33-06:00	Jeff Bland	jksb@member.fsf.org	Minor fixes to the make-dist-mac script

14354425
2	2	dist/make-dist-mac.sh

--1421cad7	2011-05-26T00:38:26-06:00	Jeff Bland	jksb@member.fsf.org	Add "Execute in Terminal" option to command dialog context menu

On Linux it uses GNOME Terminal if available, otherwise xterm.
On Mac it uses a .command file to open the terminal and run the command.

When running a Cocoa app from a bundle, make sure to invoke the executable
directly instead of running with the open command if you want the output
to show up in the terminal.

1421cad7
56	5	src/tiled/command.cpp
6	3	src/tiled/command.h
15	0	src/tiled/commanddatamodel.cpp
6	0	src/tiled/commanddatamodel.h

--d6287e53	2011-07-01T22:25:03+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed outdated notice from README file

I'm not feeling so ambitious with plugins anymore. Maybe it'll still be
possible in the future, but it's not a goal worth talking about.

d6287e53
3	11	README.md

--28e6159b	2011-06-18T18:13:23+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made the object context menu available in all object tools

By introducing an AbstractObjectTool that implements the object context
menu, on which the select and create object tools are based.

It was confusing that you had to go back to the object selection tool to
be able to use the context menu.

28e6159b
209	0	src/tiled/abstractobjecttool.cpp
27	36	src/tiled/{createobjecttool.h => abstractobjecttool.h}
9	33	src/tiled/createobjecttool.cpp
2	18	src/tiled/createobjecttool.h
14	168	src/tiled/objectselectiontool.cpp
2	16	src/tiled/objectselectiontool.h
4	2	src/tiled/tiled.pro

--1d521409	2011-06-12T22:10:08+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Bumped version to 0.7.0 and updated NEWS file

Not the release yet, but the plan has been made.

1d521409
12	0	NEWS
1	1	dist/win/README.txt
3	3	src/tiled/Info.plist
1	1	src/tiled/main.cpp

--fe3ef753	2011-06-11T22:15:21+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Use Lua's boolean values in exported map

This is important since Lua evaluates 0 to true.

fe3ef753
2	2	src/plugins/lua/luaplugin.cpp
4	0	src/plugins/lua/luatablewriter.h

--75f3ef04	2011-06-11T01:58:22+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed the isometric tiles of which the origin is unknown

In theory distributing these images could be illegal since their origin
is unknown. We can just remove them since we already have another
isometric example tileset.

75f3ef04
0	1	AUTHORS
0	24	examples/isometric.tmx
-	-	examples/isometric_tileset.png

--4431df69	2011-06-05T23:43:27+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added a Lua export plugin

This plugin exports the map a bit differently from the Lua export plugin
shipped with Tiled Java. The main differences are:

* The layer data is saved as a Lua table rather than a gzip compressed
  and base64 encoded string. Other options may be added later.

* There are no 'label' members, which seemed generally quite pointless.
  The map layers have a 'type' member serving that purpose, to
  distinguish between 'tilelayer' and 'objectgroup'.

* A tileset now simply has an 'image' member, making this easier to
  reach than the previous anonymous nested table.

* No quoting of keys, except for custom properties. Using comma rather
  than semicolon and not placing it at the end of lists, where it is
  optional.

For faster loading times a Lua exported map can be compiled with luac
(measured to be about 3 times faster).

This closes #20

4431df69
9	0	src/plugins/lua/lua.pro
32	0	src/plugins/lua/lua_global.h
270	0	src/plugins/lua/luaplugin.cpp
76	0	src/plugins/lua/luaplugin.h
185	0	src/plugins/lua/luatablewriter.cpp
117	0	src/plugins/lua/luatablewriter.h
1	1	src/plugins/plugins.pro

--67515de5	2011-06-11T01:05:24+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Introduced the GidMapper class to convert between gids and cells

This brings the two conversions together and allows reusing this
functionality in other map readers and writers.

67515de5
89	0	src/libtiled/gidmapper.cpp
76	0	src/libtiled/gidmapper.h
4	2	src/libtiled/libtiled.pro
6	26	src/libtiled/mapreader.cpp
9	46	src/libtiled/mapwriter.cpp

--947a7c7e	2011-06-06T18:09:10+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated the DTD that describes the TMX format

Some updates by IRC user Seisatsu and additional ones by me. This
version will be called 1.1 since some stuff has been added.

* The 'image' element can now optionally store the width/height of the
  image it refers to.

* The 'objectgroup' element can optionally contain 'properties' and also
  has an opacity and visibility. This has been the case for a long time
  already, so the DTD was outdated here.

* The 'image' child has been removed from 'object', which was anyway only
  supported by Tiled Java 0.7.2 and has in Tiled Qt been replaced by a
  reference to a tile (the new 'gid' attribute).

* The 'name' and 'type' attributes of 'object' are optional.

947a7c7e
11	6	docs/map.dtd

--3d3716fc	2011-06-03T17:39:41+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed Windows installer to include the Tiled plugins

3d3716fc
4	0	dist/win/tiled.nsi

--357b74c0	2011-04-17T05:42:15+08:00	Christophe Conceicao	christophe.conceicao@gmail.com	Fixed mac compilation for any SDK.

357b74c0
0	1	src/libtiled/libtiled.pro
0	1	tiled.pri

--8d7a652b	2011-05-28T00:28:17+08:00	Jeff Bland	jksb@member.fsf.org	Tweak text editor command on mac

Open -t will open the map in the preferred text editor instead of TextEdit

8d7a652b
1	1	src/tiled/commanddatamodel.cpp

--cf9b4b05	2011-05-25T22:23:33+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Initialize QuickStampManager::mMapDocument in the constructor

cf9b4b05
0	1	src/tiled/mainwindow.cpp
2	1	src/tiled/quickstampmanager.cpp

--d3e0bd9f	2011-05-25T22:19:28+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Introduced shortcuts to flip the current stamp

The X key flips horizontally (along the X axis)
The Y key flips vertically (along the Y axis)

This closes #3

Sponsored-by: Zipline Games, Inc.

d3e0bd9f
22	0	src/libtiled/tilelayer.cpp
11	0	src/libtiled/tilelayer.h
21	0	src/tiled/mainwindow.cpp
3	0	src/tiled/mainwindow.h

--42f40488	2011-05-24T23:37:24+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Introduced horizontal and vertical flipping of tiles

This commit changes the TileLayer class to store Cell instances rather
than directly referring to Tile*. The Cell class contains the Tile* plus
information on whether the tile is horizontally or vertically flipped.

The MapReader and MapWriter have been adapted to store and restore the
flipped state as flags in the last bits of the global IDs (this means
older Tiled versions will refuse to load maps with flipped tiles).

The OrthogonalRenderer and IsometricRenderer have been adapted to render
the flipped tiles correctly.

This implements the first part of issue #3

Sponsored-by: Zipline Games, Inc.

42f40488
13	3	src/libtiled/isometricrenderer.cpp
38	31	src/libtiled/mapreader.cpp
30	17	src/libtiled/mapwriter.cpp
12	5	src/libtiled/orthogonalrenderer.cpp
43	39	src/libtiled/tilelayer.cpp
42	10	src/libtiled/tilelayer.h
2	2	src/plugins/droidcraft/droidcraftplugin.cpp
1	1	src/plugins/tengine/tengineplugin.cpp
1	1	src/plugins/tmw/tmwplugin.cpp
36	31	src/tiled/automap.cpp
1	1	src/tiled/bucketfilltool.cpp
5	5	src/tiled/erasetiles.cpp
1	1	src/tiled/erasetiles.h
4	4	src/tiled/filltiles.cpp
1	1	src/tiled/filltiles.h
4	4	src/tiled/painttilelayer.cpp
70	65	src/tiled/tilepainter.cpp
18	18	src/tiled/tilepainter.h
2	2	src/tiled/tilesetdock.cpp

--33a854cb	2011-04-10T08:47:14+02:00	Stefan Beller	stefanbeller@googlemail.com	Clarification of a comment in tileset.h

Describing more precisely which numbers are allowed as argument for
tileAt in tilesets.

33a854cb
2	0	src/libtiled/tileset.h

--398193cf	2011-05-22T20:20:02+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed missing disconnect in MapDocumentActionHandler

On the long run, this could slow down actions like switching maps,
changing layer and changing the tile selection.

398193cf
3	0	src/tiled/mapdocumentactionhandler.cpp

--51a2f016	2011-05-22T19:59:11+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Moved the distribution scripts into the 'dist' directory

Cleans up the root a little.

The make-dist-win32.sh was deleted, since it's no longer used now that a
proper installer can be built.

51a2f016
0	0	make-dist-mac.sh => dist/make-dist-mac.sh
0	0	make-dist.sh => dist/make-dist.sh
0	0	gpl-2.0.rtf => dist/win/gpl-2.0.rtf
1	1	dist/win/tiled.nsi
0	80	make-dist-win32.sh

--b1b00edf	2011-05-22T19:48:49+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added Crop to Selection action

This adds a more convenient way of resizing the map down to a subarea
than using the Resize Map dialog.

b1b00edf
3	0	src/tiled/mainwindow.cpp
4	0	src/tiled/mapdocument.cpp
20	0	src/tiled/mapdocumentactionhandler.cpp
4	0	src/tiled/mapdocumentactionhandler.h

--03193416	2011-05-22T19:14:20+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Switched to an alternative implementation for merging layers

This implementation is more generic (the methods could be used to merge
any two layers, not just merge a layer down) and it is based on
polymorphism, which makes it easier to adapt it for new layer types or
to changing conditions of when merging is possible.

03193416
14	0	src/libtiled/layer.h
17	0	src/libtiled/objectgroup.cpp
3	0	src/libtiled/objectgroup.h
19	0	src/libtiled/tilelayer.cpp
3	0	src/libtiled/tilelayer.h
7	26	src/tiled/mapdocument.cpp
1	4	src/tiled/mapdocumentactionhandler.cpp

--ce00d32c	2011-05-22T17:46:26+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed problems with watching tilesets multiple times

When multiple maps used the same tile set, the QFileSystemWatcher warns
about being unable to watch the file. Also, when one of those maps is
closed, the file is no longer watched even though it's still in use by
some open maps.

Fixed this by wrapping the QFileSystemWatcher with a class that deals
gracefully with files being watched multiple times.

ce00d32c
71	0	src/tiled/filesystemwatcher.cpp
61	0	src/tiled/filesystemwatcher.h
2	0	src/tiled/tiled.pro
2	2	src/tiled/tilesetmanager.cpp
3	3	src/tiled/tilesetmanager.h

--85c0fcd9	2011-05-11T22:20:29+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed a rare memory leak when loading an invalid map

When loading an invalid map that contains empty tilesets, the empty
tilesets would get leaked due to no longer being referenced by
mGidsToTileset.

85c0fcd9
3	3	src/libtiled/mapreader.cpp

--d786d4f8	2011-05-11T21:46:24+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.6'

d786d4f8
--1a4db56a	2011-05-10T07:37:38+09:00	Hiroki Utsunomiya	teraapi@gmail.com	Updated Japanese translation

1a4db56a
86	82	translations/tiled_ja.ts

--11c992a5	2011-05-08T21:13:08+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Noted that on Ubuntu, libqt4-opengl-dev needs to be installed

New dependency since Tiled gained the option of using OpenGL
acceleration for drawing the map view.

11c992a5
3	3	README.md

--531c051f	2011-05-08T21:06:33+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Adapted the README syntax a bit to work as Markdown

Also renamed the file to make it recognizable as such.

531c051f
7	7	README => README.md
1	1	dist/win/tiled.nsi

--2c2bcf27	2011-05-08T18:52:34+02:00	Mauricio Muñoz Lucero	real.mml@gmail.com	Updated the Spanish translation

2c2bcf27
252	81	translations/tiled_es.ts

--0a0b2a07	2011-05-02T20:54:10+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed crash when all tools are disabled

Introduced in 10a8b0e3b4290b8abcc642b6b481c11f54fb7673.

0a0b2a07
1	1	src/tiled/toolmanager.cpp

--bbaba7f4	2011-05-02T00:12:59+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.6'

Conflicts:
	src/tiled/mainwindow.cpp

bbaba7f4
--eccbde1b	2011-05-01T21:40:59+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added merge layer down action

This action works to merge either two tile layers or two object layers.

In the case of tile layers, the tile images are not merged. Any tiles in
the upper layer replace the tiles in the lower layer.

This closes #6

eccbde1b
5	0	src/libtiled/layer.h
11	6	src/tiled/addremovemapobject.cpp
5	3	src/tiled/addremovemapobject.h
1	0	src/tiled/layerdock.cpp
1	0	src/tiled/mainwindow.cpp
48	0	src/tiled/mapdocument.cpp
1	0	src/tiled/mapdocument.h
23	0	src/tiled/mapdocumentactionhandler.cpp
3	0	src/tiled/mapdocumentactionhandler.h

--f952a8a6	2011-05-01T21:38:57+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed updating of selected objects when removing an object layer

Could lead to a crash when selecting objects after removing an object
layer of which objects were selected.

f952a8a6
20	7	src/tiled/mapdocument.cpp
3	0	src/tiled/mapdocument.h
6	2	src/tiled/mapscene.cpp

--0a26bd6b	2011-05-01T19:58:51+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Reintroduced MapDocument::currentLayer, returning Layer*

This simplified lots of code that previously had to check the current
layer index for -1 before being able to get a reference to the current
layer.

0a26bd6b
1	5	src/tiled/abstracttiletool.cpp
3	4	src/tiled/clipboardmanager.cpp
1	5	src/tiled/createobjecttool.cpp
1	2	src/tiled/layerdock.cpp
10	21	src/tiled/mainwindow.cpp
5	2	src/tiled/mapdocument.cpp
7	1	src/tiled/mapdocument.h
3	7	src/tiled/objectselectiontool.cpp
1	5	src/tiled/quickstampmanager.cpp

--706e978a	2011-05-01T19:54:20+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Renamed MapDocument::currentLayer to currentLayerIndex

It's returning an index, so this name is clearer. This will also allow
re-introducing MapDocument::currentLayer as a helper function that
returns a pointer to the current layer.

706e978a
1	1	src/tiled/abstracttiletool.cpp
2	2	src/tiled/abstracttool.cpp
4	4	src/tiled/addremovelayer.cpp
4	4	src/tiled/automap.cpp
2	2	src/tiled/bucketfilltool.cpp
1	1	src/tiled/clipboardmanager.cpp
1	1	src/tiled/createobjecttool.cpp
11	10	src/tiled/layerdock.cpp
1	1	src/tiled/layerdock.h
8	8	src/tiled/mainwindow.cpp
14	14	src/tiled/mapdocument.cpp
5	5	src/tiled/mapdocument.h
17	17	src/tiled/mapdocumentactionhandler.cpp
4	4	src/tiled/mapscene.cpp
1	1	src/tiled/mapscene.h
3	2	src/tiled/movelayer.cpp
1	1	src/tiled/objectselectiontool.cpp
2	2	src/tiled/offsetlayer.cpp
1	1	src/tiled/offsetmapdialog.cpp
1	1	src/tiled/quickstampmanager.cpp
2	2	src/tiled/resizelayer.cpp

--952d3eca	2011-05-01T18:59:16+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Renamed ChangeSelection to ChangeTileSelection

Clearer now that there is also object selection.

952d3eca
6	6	src/tiled/{changeselection.cpp => changetileselection.cpp}
6	6	src/tiled/{changeselection.h => changetileselection.h}
3	3	src/tiled/mapdocumentactionhandler.cpp
2	2	src/tiled/selectiontool.cpp
2	2	src/tiled/tiled.pro

--db95262c	2011-05-01T18:45:24+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Improved positioning of pasted objects

The objects are now centered on the mouse position when the mouse is
over the view, and on the center of the view otherwise.

db95262c
8	0	src/libtiled/objectgroup.cpp
5	0	src/libtiled/objectgroup.h
21	0	src/tiled/mainwindow.cpp

--10a8b0e3	2011-05-01T18:31:55+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added copy/paste support for objects

This closes #2

10a8b0e3
13	0	src/libtiled/layer.h
1	2	src/libtiled/map.cpp
22	0	src/libtiled/objectgroup.cpp
16	0	src/libtiled/objectgroup.h
0	1	src/libtiled/tilelayer.h
19	10	src/tiled/clipboardmanager.cpp
1	0	src/tiled/clipboardmanager.h
55	20	src/tiled/mainwindow.cpp
17	0	src/tiled/mapdocument.cpp
19	0	src/tiled/mapdocument.h
28	20	src/tiled/mapscene.cpp
4	7	src/tiled/mapscene.h
1	1	src/tiled/objectselectiontool.cpp
3	0	src/tiled/toolmanager.cpp

--9b0df70d	2011-05-02T00:01:35+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Bumped version to 0.6.2

9b0df70d
5	0	NEWS
1	1	dist/win/README.txt
3	3	src/tiled/Info.plist
1	1	src/tiled/main.cpp

--c381dc9f	2011-04-30T22:49:54+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed Qt version check

This was meant to check whether the Qt version was older than Qt 4.8,
and ended up checking whether it was 4.7.0 or older.

c381dc9f
1	1	src/libtiled/mapreader.cpp

--ea38df0a	2011-04-12T15:16:23+02:00	Stefan Beller	stefanbeller@googlemail.com	Adding an isometric grass and water example

Grass and water tileset provided by Clint Bellanger.
( see http://opengameart.org/content/grass-and-water-tiles )
Map provided by Stefan Beller.

ea38df0a
1	0	AUTHORS
-	-	examples/isometric_grass_and_water.png
12	0	examples/isometric_grass_and_water.tmx

--f2c55660	2011-04-27T16:54:33+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Small optimization when reading binary tile layer data

Avoid one copy of the string, measured speed increase when loading
uncompressed base64 data was about 0.5%.

f2c55660
10	4	src/libtiled/mapreader.cpp

--d380fac9	2011-04-26T21:18:09+02:00	Stefan Beller	stefanbeller@googlemail.com	Automapping: remove unused code

Thorbjorn found it when compiling with -Wunused-but-set-variable which is
new in gcc 4.6

Apparently that code was well hidden and evolved there within development.
Bye for now!

d380fac9
0	3	src/tiled/automap.cpp

--bc90ffd6	2011-04-29T18:01:11+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed window title to update when saving a map with a different name

bc90ffd6
12	5	src/tiled/mainwindow.cpp

--3b769274	2011-04-14T10:23:39+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed '...' from Add Tile/Object Layer actions

These actions no longer pop up a dialog so the '...' shouldn't be used
anymore.

3b769274
2	2	src/tiled/mapdocumentactionhandler.cpp

--7b9998f9	2011-01-09T10:43:39+01:00	Stefan Beller	stefanbeller@googlemail.com	Move Quickstamps to QuickStampManager

This patch moves most of the stuff of quickstamps from the MainWindow to
the QuickStampManager.

7b9998f9
12	90	src/tiled/mainwindow.cpp
0	6	src/tiled/mainwindow.h
142	0	src/tiled/quickstampmanager.cpp
103	0	src/tiled/quickstampmanager.h
2	0	src/tiled/tiled.pro

--37350002	2011-01-18T20:56:17+01:00	Stefan Beller	stefanbeller@googlemail.com	Tests for Automapping

Here are some testing maps in the tests directory,
which can be used for testing automapping.

37350002
9	0	tests/automapping/1/1.tmx
9	0	tests/automapping/2/2.tmx
9	0	tests/automapping/3/3.tmx
2	0	tests/automapping/3/rules.txt
12	0	tests/automapping/4/4.tmx
2	0	tests/automapping/4/rules.txt

--592e417a	2011-04-03T21:32:45+02:00	Stefan Beller	stefanbeller@googlemail.com	Fixed memory leak in ObjectPropertiesDialog

592e417a
5	0	src/tiled/objectpropertiesdialog.cpp
2	0	src/tiled/objectpropertiesdialog.h

--db7bbebe	2011-04-09T19:02:07+02:00	seeseekey	seeseekey@googlemail.com	Correct some shortcuts in the German translation

db7bbebe
11	11	translations/tiled_de.ts

--4e62aa88	2011-04-04T21:34:53+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed object layers losing their color when resizing the map

The color was getting lost when cloning an ObjectGroup, which affected
map resizing and layer duplication.

Mantis-issue: 83

4e62aa88
1	0	src/libtiled/objectgroup.cpp

--4db55bea	2011-04-04T20:58:41+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Force the use of scroll buttons for the tilesets tab bar

The default on MacOS X appears to be to force the tab bar to be wide
enough to hold all tabs. This is not the right behavior in this case
since we could have a lot of tilesets.

Set the property explicitly rather than relying on the style.

Mantis-issue: 85

4db55bea
1	0	src/tiled/tilesetdock.cpp

--bfbb468b	2011-04-03T21:12:37+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.6'

bfbb468b
--e805a0d2	2011-04-03T19:16:12+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Changed the file name of the Windows installer

Moved 'setup' to the end.

e805a0d2
1	1	dist/win/tiled.nsi

--82b76afc	2011-04-03T19:09:36+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added a separator between the tile and object tools

82b76afc
1	0	src/tiled/mainwindow.cpp
5	0	src/tiled/toolmanager.cpp
6	0	src/tiled/toolmanager.h

--c9fb3aca	2011-04-03T18:32:53+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Preparations for the 0.6.1 release

c9fb3aca
13	0	NEWS
3	3	dist/win/README.txt
3	3	src/tiled/Info.plist
1	1	src/tiled/main.cpp

--ef0ba8e1	2011-04-03T17:39:32+02:00	Mohammad Mehdi Salem Naraghi	momesana@googlemail.com	Improvements to script to build the Windows installer

ef0ba8e1
75	6	dist/win/build_installer.bat

--2c019852	2011-04-03T17:36:10+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Avoid compiler warning

The compiler is right that in theory this value might be uninitialized
(when the value of the enumerator is out of range). Added an assertion
that this isn't the case.

2c019852
2	1	src/tiled/mapdocument.cpp

--ffac34c6	2011-04-03T17:17:40+02:00	Mohammad Mehdi Salem Naraghi	momesana@googlemail.com	Added icon to Windows executable and installer improvements

* The installer now has the Tiled logo in the header
* The entry in Add/Remove Software now has the Tiled icon

ffac34c6
-	-	dist/win/headerimage.bmp
8	1	dist/win/tiled.nsi
-	-	src/tiled/images/tiled-icon.ico
3	0	src/tiled/tiled.pro
1	0	src/tiled/tiled.rc

--5b788aed	2011-04-02T14:01:11+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Micro-optimization in TileLayer::isEmpty

There is no need to loop over x and y and then calculate the index
each time. Rather just loop over all indexes directly.

5b788aed
2	3	src/libtiled/tilelayer.cpp

--95acb54f	2011-04-02T13:47:00+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Remove tile objects when their tileset is removed

Since now also MapObject instances can contain references to tiles,
we need to check these when removing a tileset.

95acb54f
6	0	src/libtiled/layer.h
1	2	src/libtiled/map.cpp
12	0	src/libtiled/objectgroup.cpp
6	0	src/libtiled/objectgroup.h
1	1	src/libtiled/tilelayer.cpp
1	1	src/libtiled/tilelayer.h
14	5	src/tiled/tilesetdock.cpp

--a5a96661	2011-04-02T12:55:25+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed problems with the tileset view after switching documents

Due to some connections not being cleared, the tileset view could handle
a single tileset removal or addition many times.

Before 0.6.0, it wasn't necessary to disconnect the signals since the
previous map document would always be deleted anyway.

a5a96661
4	0	src/tiled/tilesetdock.cpp

--e855bca1	2011-03-25T21:05:52+01:00	seeseekey	seeseekey@googlemail.com	Some small modifications to the Droidcraft tileset

e855bca1
-	-	src/plugins/droidcraft/tileset.png

--175af2dd	2011-03-24T21:13:36+01:00	seeseekey	seeseekey@googlemail.com	Add Droidcraft plugin to read and export the map files

175af2dd
10	0	src/plugins/droidcraft/droidcraft.pro
5	0	src/plugins/droidcraft/droidcraft.qrc
34	0	src/plugins/droidcraft/droidcraft_global.h
150	0	src/plugins/droidcraft/droidcraftplugin.cpp
61	0	src/plugins/droidcraft/droidcraftplugin.h
-	-	src/plugins/droidcraft/tileset.png
1	1	src/plugins/plugins.pro

--a5e6ca7b	2011-03-16T23:25:03+01:00	seeseekey	seeseekey@googlemail.com	Updated the German translation

a5e6ca7b
162	52	translations/tiled_de.ts

--17396810	2011-03-13T18:51:27+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added shortcuts to switch documents

Now the common shortcuts Ctrl+PageUp and Ctrl+PageDown work to switch to
the left or right document respectively.

17396810
20	0	src/tiled/documentmanager.cpp
4	0	src/tiled/documentmanager.h
8	0	src/tiled/mainwindow.cpp

--0385d5bb	2011-03-13T17:15:24+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed crash when passing empty string as command line parameter

Empty strings don't like at(0) to be called on them.

0385d5bb
3	0	src/tiled/main.cpp

--d2485bcb	2011-03-12T18:52:25-08:00	Ben Longbons	b.r.longbons@gmail.com	Added ability to open multiple files via command-line argument

Patch was changed from std::vector<QString> to QStringList by Thorbjørn.

d2485bcb
9	7	src/tiled/main.cpp

--a21fb620	2011-03-13T12:16:25+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Re-save examples with current default editor settings

Leaving out the DTD, using zlib for encoding the layers and other small
changes like not writing out empty object names and storing the size of
an image in the XML.

a21fb620
3	4	examples/desert.tmx
8	8	examples/isometric.tmx
5	6	examples/sewers.tmx

--da549413	2011-03-13T12:11:40+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Small arbitrary code cleanups

da549413
11	6	src/tiled/command.cpp
2	2	src/tiled/commandbutton.cpp
1	1	src/tiled/commanddialog.ui

--7bcc9a22	2011-03-09T02:10:23-07:00	Jeff Bland	jksb@member.fsf.org	Various improvements to commands

- Improved error dialog
- Added context menu to commands
  - Move up / Down
  - Execute
  - Delete
- Drag / Drop
  - Commands can be dragged (ie to a terminal)
  - Text can be dropped on commands to modify them (ie from a terminal)
  - Commands can be reordered by dragging
  - Drop stuff onto <new command> to make a new command
- Code Cleanup

7bcc9a22
128	0	src/tiled/command.cpp
86	0	src/tiled/command.h
17	54	src/tiled/commandbutton.cpp
2	6	src/tiled/commandbutton.h
220	31	src/tiled/commanddatamodel.cpp
67	18	src/tiled/commanddatamodel.h
62	29	src/tiled/commanddialog.cpp
31	7	src/tiled/commanddialog.h
11	1	src/tiled/commanddialog.ui
1	1	src/tiled/mainwindow.cpp
6	2	src/tiled/tiled.pro

--ca619a01	2011-03-09T02:08:14-07:00	Jeff Bland	jksb@member.fsf.org	Move saving of documents from MainWindow to the MapDocument class

This allows areas of the code to save a document directly instead of going
through the main window.

Done-with: Thorbjørn Lindeijer <thorbjorn@lindeijer.nl>

ca619a01
3	7	src/tiled/mainwindow.cpp
22	0	src/tiled/mapdocument.cpp
17	0	src/tiled/mapdocument.h

--49ed55af	2011-03-06T20:55:53+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Renamed move layer actions to "Raise/Lower Layer"

Shorter and more common.

49ed55af
2	2	src/tiled/mapdocumentactionhandler.cpp
2	2	src/tiled/movelayer.cpp

--cb448573	2011-03-06T20:53:55+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added actions to select the previous/next layer

cb448573
2	0	src/tiled/mainwindow.cpp
38	3	src/tiled/mapdocumentactionhandler.cpp
7	0	src/tiled/mapdocumentactionhandler.h

--3915dade	2011-02-20T16:54:19+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Windows installer: Fixed name of plugins directory

3915dade
6	6	dist/win/tiled.nsi

--dd1e6795	2011-02-20T16:49:47+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Windows installer: Make install location more explicit

Rather than adding "\Tiled" to the installation path implicitly.

dd1e6795
16	16	dist/win/tiled.nsi

--8fb43830	2011-02-25T16:53:29+01:00	Mohammad Mehdi Salem Naraghi	momesana@googlemail.com	Changed mac to macx for consistency

Also, 'macx' is the documented scope for MacOS X.

8fb43830
1	1	src/libtiled/libtiled.pro
1	1	src/tiled/tiled.pro

--5c6e0769	2011-02-27T22:52:31+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.6'

5c6e0769
--f1cd2f86	2011-02-26T14:06:16+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Take into account layer opacity when saving map as image

Mantis-issue: 81

f1cd2f86
2	0	src/tiled/saveasimagedialog.cpp

--7736375a	2011-02-20T17:19:35+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Avoid endless loop when tile size is 0

Suppose you had manually edited your map file to have a tile size of 0,
this avoids Tiled locking up when trying to draw the grid of an
orthogonal map or the tiles of an isometric map.

Mantis-issue: 76

7736375a
3	0	src/libtiled/isometricrenderer.cpp
3	0	src/libtiled/orthogonalrenderer.cpp

--c7fd4ab3	2011-02-19T14:11:09+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed qmake warning "Unescaped backslashes are deprecated."

c7fd4ab3
1	1	translations/translations.pro

--a097ac8a	2011-02-11T10:30:15+00:00	Christophe Conceicao	christophe.conceicao@gmail.com	Added Show or Hide all Other Layers action

a097ac8a
-	-	src/tiled/images/16x16/show_hide_others.png
4	0	src/tiled/layerdock.cpp
26	0	src/tiled/layermodel.cpp
7	0	src/tiled/layermodel.h
2	0	src/tiled/mainwindow.cpp
10	0	src/tiled/mapdocument.cpp
1	0	src/tiled/mapdocument.h
15	0	src/tiled/mapdocumentactionhandler.cpp
4	0	src/tiled/mapdocumentactionhandler.h
1	0	src/tiled/tiled.qrc

--466a4ad0	2011-02-15T11:06:52+01:00	Stefan Beller	stefanbeller@googlemail.com	Fixed memory leak when using lines or circles

Mantis-issue: 80
Reviewed-by: Thorbjørn Lindeijer

466a4ad0
9	5	src/tiled/brushitem.cpp
3	2	src/tiled/brushitem.h
2	0	src/tiled/stampbrush.cpp

--51f00d31	2011-02-13T10:55:07+01:00	Stefan Beller	stefanbeller@googlemail.com	Automapping: Fixing a memory leak

51f00d31
4	4	src/tiled/automap.cpp

--bc67d5f0	2011-02-15T11:08:15+01:00	Stefan Beller	stefanbeller@googlemail.com	Circles: Fix starting point

The actual starting point has been at the position, where the tilelayer
vanished (= you pressed shift+Ctrl).

The starting point is now at the position where you click to start the
circle.

bc67d5f0
2	0	src/tiled/stampbrush.cpp

--140936f1	2011-02-05T16:04:42+01:00	Stefan Beller	stefanbeller@googlemail.com	Automapping: Adding the sewers example

The sewers example can perfectly demonstrate the automapping
as well.

Here we have some rules for automapping.

140936f1
39	0	examples/sewer_automap/rule_001.tmx
25	0	examples/sewer_automap/rule_002.tmx
30	0	examples/sewer_automap/rule_003.tmx
30	0	examples/sewer_automap/rule_004.tmx
30	0	examples/sewer_automap/rule_005.tmx
40	0	examples/sewer_automap/rule_006.tmx
35	0	examples/sewer_automap/rule_007.tmx
109	0	examples/sewer_automap/rules.txt
-	-	examples/sewer_automap/rules_sewers.png
30	0	examples/sewer_automap/sewers.tmx

--94354e31	2011-02-13T14:23:53+01:00	Stefan Beller	stefanbeller@googlemail.com	Automapping: Add missing layers only once

When there are missing layers in the working map and
you have rules, which have multiple output possibilities,
the missing layers should only be added once per name.

94354e31
2	2	src/tiled/automap.cpp

--d3680140	2011-02-13T00:10:04+01:00	Stefan Beller	stefanbeller@googlemail.com	Automapping: Make sure to delete only allowed tiles

When there is no tile in the set layer, DO NOT TOUCH that position.
(even for initial cleaning purpose)

d3680140
2	1	src/tiled/automap.cpp
12	7	src/tiled/automap.h

--ca25fd2c	2011-02-16T22:35:46+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Make DocumentManager a globally accessible singleton

ca25fd2c
15	0	src/tiled/documentmanager.cpp
7	2	src/tiled/documentmanager.h
2	1	src/tiled/mainwindow.cpp

--05953cf1	2011-02-16T15:25:31+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed removal of shortcut when uninstalling

Broke in the previous commit.

05953cf1
1	1	dist/win/tiled.nsi

--c9fd69f4	2011-02-16T15:20:01+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Some small tweaks to the Windows installer

* Leave out the version at "Run Tiled" action
* Don't open the README.txt by default
* Put "Tiled" with uppercase in the start menu

Reviewed-by: Mohammad Mehdi Salem Naraghi

c9fd69f4
3	3	dist/win/tiled.nsi

--ddec9d49	2011-02-10T19:05:52+01:00	Mohammad Mehdi Salem Naraghi	momesana@googlemail.com	Added initial NSIS script for creating the Windows installer

ddec9d49
190	0	dist/win/FileAssociation.nsh
45	0	dist/win/README.txt
15	0	dist/win/build_installer.bat
277	0	dist/win/tiled.nsi
54	0	gpl-2.0.rtf

--36e60499	2011-02-05T21:41:14+02:00	Petr Viktorin	encukou@gmail.com	Accept dropping tilesets onto the tileset dock

36e60499
16	3	src/tiled/mainwindow.cpp
2	1	src/tiled/mainwindow.h
24	0	src/tiled/tilesetdock.cpp
8	0	src/tiled/tilesetdock.h

--4d2620bf	2011-01-29T22:17:17+01:00	Petr Viktorin	encukou@gmail.com	Allow drag-and-dropping multiple maps into Tiled, but no tilesets

4d2620bf
3	16	src/tiled/mainwindow.cpp

--91b7ab06	2011-02-05T21:17:57+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.6'

91b7ab06
--7e1efc0f	2011-02-04T23:49:42+01:00	Stefan Beller	stefanbeller@googlemail.com	Automapping: Fixed case-sensitivity for different outputs per rule

The possibility to have different outputs per rule was case sensitive at
the wrong parts. The prefix must have been lower case to make the right
differences. Now it is ensured that the prefix can be any case, and only
the groupitem is checked for equality.

7e1efc0f
4	1	src/tiled/automap.cpp

--db074eb9	2011-02-04T23:44:10+01:00	Stefan Beller	stefanbeller@googlemail.com	Automapping: Removed commented and unused code

db074eb9
1	9	src/tiled/automap.cpp

--75b6fe29	2011-02-04T22:31:08+01:00	Stefan Beller	stefanbeller@googlemail.com	Automapping: Fixed width/height mixup

Height should be used for measuring y coordinate differences, width for
x coordinate differences. So exchange height and width, so that it makes
sense when iterating over x and y.

75b6fe29
2	2	src/tiled/automap.cpp

--179d0851	2011-02-02T23:58:23+01:00	Stefan Beller	stefanbeller@googlemail.com	Automapping: Fixed crash when using a ruleset without any output layers

Creating such a ruleset is totally silly, but don't tell it to the user
the hard way, just do it [=nothing].

179d0851
3	0	src/tiled/automap.cpp

--3adf2fda	2011-02-04T23:59:10+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Require at least Qt 4.6

Cleans up the code a bit. The Qt 4.6 release is now more than one year
old so maintaining compilation against 4.5 is no longer worth it.

3adf2fda
1	1	README
13	32	src/libtiled/mapreader.cpp
0	2	src/tiled/brushitem.cpp
0	4	src/tiled/mainwindow.cpp
0	11	src/tiled/mapobjectitem.cpp
0	2	src/tiled/objectgroupitem.cpp
0	2	src/tiled/tilelayeritem.cpp
0	2	src/tiled/tileselectionitem.cpp
0	2	src/tiled/tileselectionitem.h
2	2	src/tiled/utils.h
0	6	src/tmxviewer/tmxviewer.cpp
2	2	tiled.pro

--45ffa893	2011-01-29T21:56:30+01:00	Petr Viktorin	encukou@gmail.com	Allow opening many files at once

45ffa893
3	2	src/tiled/mainwindow.cpp

--37ecb86b	2011-02-01T23:46:07+01:00	Stefan Beller	stefanbeller@googlemail.com	Fixed another crash in automapping

When rules were at the direct border of rulemaps, Tiled crashed.

37ecb86b
8	4	src/tiled/automap.cpp

--4f2147d8	2011-01-29T00:40:19+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added an accelerometer to the Save As Image action

4f2147d8
1	1	src/tiled/mainwindow.ui

--dc8a67dd	2011-01-26T22:55:26+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated the NEWS file for the 0.6.0 release

dc8a67dd
6	2	NEWS

--b9449634	2011-01-26T22:50:54+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Improved the icon for the object selection tool

Well, at least I think it's an improvement. It's a combination of the
Rectangular Select and the Object Layer icons.

b9449634
-	-	src/tiled/images/22x22/tool-create-object.png
-	-	src/tiled/images/22x22/tool-create-tile-object.png
-	-	src/tiled/images/22x22/tool-select-objects.png
1	1	src/tiled/objectselectiontool.cpp
1	2	src/tiled/tiled.qrc

--23d01698	2011-01-25T15:43:36-07:00	Jeff Bland	jksb@member.fsf.org	Associate a type name and icon with .tmx files on MacOS X

Originally by Thorbjorn, modified by Jeff. Icon contributed by Mooglwy.

23d01698
3	0	make-dist-mac.sh
5	1	src/tiled/Info.plist
-	-	src/tiled/images/tmx-icon-mac.icns

--48dea247	2011-01-24T22:21:37+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed opening maps from the Finder with Tiled on MacOS X

Needed handling of the QFileOpenEvent.

Verified-by: Jeff Bland

48dea247
5	2	src/tiled/main.cpp
5	0	src/tiled/mainwindow.cpp
4	1	src/tiled/mainwindow.h
4	2	src/tiled/tiled.pro
41	0	src/tiled/tiledapplication.cpp
50	0	src/tiled/tiledapplication.h

--032f0cc2	2011-01-25T09:33:18-07:00	Jeff Bland	jksb@member.fsf.org	TextEdit command uses "open" so it launches in the foreground

Suggested by Mooglwy

032f0cc2
6	10	src/tiled/commanddatamodel.cpp

--c1828263	2011-01-24T10:03:37+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed move layer up/down shortcuts when using French translation

Key names should not be translated.

c1828263
5	17	translations/tiled_fr.ts

--7ec62e76	2011-01-24T09:58:28+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.5'

Conflicts:
	translations/tiled_fr.ts

7ec62e76
--ff3d0621	2011-01-23T23:57:51+01:00	Yohann Ferreira	yohann.ferreira@orange.fr	Updated the French translation

ff3d0621
151	151	translations/tiled_fr.ts

--2bdc9fdd	2011-01-23T18:41:11+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Also allow Backspace for deleting properties

Should make it easier to delete properties on MacOS X.

2bdc9fdd
8	1	src/tiled/propertiesdialog.cpp

--c8bea03a	2011-01-23T18:40:53+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated the Dutch translation

c8bea03a
88	85	translations/tiled_nl.ts

--a9cbcf18	2011-01-17T20:16:17+01:00	Jonatas de Moraes Junior	jmoraes@gmail.com	Updated the Brazilian Portuguese translation

a9cbcf18
91	87	translations/tiled_pt_BR.ts

--3647be2e	2011-01-21T13:14:17-07:00	Jeff Bland	jksb@member.fsf.org	Fix libtengine.dylib in mac release script to use local Qt libs

3647be2e
7	3	make-dist-mac.sh

--59890270	2011-01-21T20:51:09+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated the German translation

Translation done by seeseekey and jurkan.

59890270
1	0	AUTHORS
179	420	translations/tiled_de.ts

--264cd886	2011-01-20T20:09:36+01:00	zhaosting	zhaosting@gmail.com	Fixes to the Chinese translation

Based on feedback from Bin Wu.

264cd886
19	19	translations/tiled_zh.ts

--f21ef0cf	2011-01-17T20:11:07+01:00	Mauricio Muñoz Lucero	real.mml@gmail.com	Updated the Spanish translation

f21ef0cf
92	88	translations/tiled_es.ts

--8afc7b29	2011-01-17T17:33:59+01:00	Petr Viktorin	encukou@gmail.com	Quote the %mapfile in the Commands, so that filenames with spaces work

8afc7b29
2	1	src/tiled/commandbutton.cpp

--1ebf9993	2011-01-17T13:21:00+01:00	Petr Viktorin	encukou@gmail.com	New batch of Czech translations

1ebf9993
89	89	translations/tiled_cs.ts

--9ddd1b9f	2011-01-17T20:34:15+01:00	zhaosting	zhaosting@gmail.com	Updated the Chinese translation

9ddd1b9f
1	0	AUTHORS
88	86	translations/tiled_zh.ts

--6a184c3d	2011-01-16T15:35:52+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Initial update of all the translation files for 0.6.0

6a184c3d
536	109	translations/tiled_cs.ts
538	114	translations/tiled_de.ts
246	123	translations/tiled_en.ts
538	114	translations/tiled_es.ts
537	117	translations/tiled_fr.ts
9	4	translations/tiled_he.ts
520	118	translations/tiled_it.ts
534	114	translations/tiled_ja.ts
541	117	translations/tiled_lv.ts
539	115	translations/tiled_nl.ts
538	118	translations/tiled_pt.ts
538	118	translations/tiled_pt_BR.ts
534	114	translations/tiled_zh.ts

--56ad06b2	2010-11-23T15:31:16+08:00	zhaosting	zhaosting@gmail.com	Completed the Chinese translate file, changed some incorrect items

Signed-off-by: zhaosting <zhaosting@gmail.com>

56ad06b2
26	25	translations/tiled_zh.ts

--d5570532	2011-01-16T12:00:01-08:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Include relevant Qt plugins and the Qt translations in the release

Also added the qt.conf file, which is necessary to have Qt find its plugins
and translations.

d5570532
31	4	make-dist-win32.sh

--c383b82b	2011-01-15T19:45:15-08:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added a shell script to make the Windows release

Doesn't zip up the release yet, but it still makes the process a lot
faster and reproducible.

c383b82b
53	0	make-dist-win32.sh

--763e174c	2011-01-15T12:58:31+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Another small NEWS file update

763e174c
2	1	NEWS

--b826b7fa	2011-01-11T23:05:08+01:00	Stefan Beller	stefanbeller@googlemail.com	Fixed the automapping

Apparently the commit, which introduced mSetLayer to the automapping
classes was incomplete. Now Automapping works again.

b826b7fa
4	3	src/tiled/automap.cpp
1	1	src/tiled/automap.h

--0fbf7d90	2011-01-12T22:48:03+01:00	Stefan Beller	stefanbeller@googlemail.com	Fixed memleak in BucketFillTool

When calling setStamp, the old stamp should be deleted.

0fbf7d90
1	0	src/tiled/bucketfilltool.cpp

--9768b973	2011-01-10T20:57:01+02:00	Tamir Atias (KonoM)	engine.games@gmail.com	Added Hebrew translation

Includes a workaround for the tileset view since it doesn't handle
right-to-left layout nicely.

9768b973
1	0	AUTHORS
4	0	src/tiled/tilesetview.cpp
1764	0	translations/tiled_he.ts
1	1	translations/translations.pro

--4033f102	2011-01-11T08:27:49-07:00	Jeff Bland	jksb@member.fsf.org	Added F5 shortcut for running commands

4033f102
1	0	src/tiled/commandbutton.cpp

--4a73a79f	2011-01-11T08:14:51-07:00	Jeff Bland	jksb@member.fsf.org	Fix saving of property fields when clicking OK while editing properties

4a73a79f
6	0	src/tiled/propertiesdialog.cpp

--6ab654e0	2011-01-09T18:23:51+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated the NEWS file once more

6ab654e0
5	2	NEWS

--4a6a3694	2011-01-08T20:54:12+01:00	Stefan Beller	stefanbeller@googlemail.com	Made the set layer changeable

Now the local string mSetLayer determines which layer is used for
automapping.

4a6a3694
9	6	src/tiled/automap.cpp
14	0	src/tiled/automap.h

--4446a07b	2010-12-31T00:35:14+01:00	Stefan Beller	stefanbeller@googlemail.com	Fixed crash in automapping

Some parts of automapping were ok with case insensitivity in tile
layers, some other parts not.

So there were ugly null pointers when searching certain layers.

Now all automapping is very case sensitive for the comparison of layer
names of the working map and at the rules maps.

Although some layer in the rulesmaps (ruleset, rulenotset, ruleregions)
are still case insensitive, since they are not needed to match any other
layers name.

4446a07b
6	4	src/tiled/automap.cpp

--6c462eb6	2010-11-10T18:07:51+01:00	Stefan Beller	stefanbeller@googlemail.com	Improved usability of lines/circles

Now the first click defines starting point / midpoint.
The second click defines the end point of the line or a point on the
circle.
Instead of circles elipses can be drawn, too.

The stampbrush was modified, so it looks more like a statemachine.

6c462eb6
1	1	AUTHORS
112	59	src/tiled/stampbrush.cpp
11	4	src/tiled/stampbrush.h

--f9ff9a6c	2010-12-22T13:58:38+01:00	Stefan Beller	stefanbeller@googlemail.com	Improved errorhandling in automap.cpp

The classes, which can produce errors have an errorString() function now.

errorString() is just a constant function, which returns a string
describing the error.

Each function, which can produce errors, clears the error string
first.

f9ff9a6c
26	34	src/tiled/automap.cpp
12	5	src/tiled/automap.h
4	0	src/tiled/mainwindow.cpp

--4f26bb1f	2010-12-29T12:25:37-08:00	Mikolai Fajer	mfajer@gmail.com	Changed addSpot/addZone to allow longer titles, and implemented a second method for filling the additional property.

4f26bb1f
28	2	src/plugins/tengine/tengineplugin.cpp
1	0	src/plugins/tengine/tengineplugin.h

--bc5d6875	2010-12-09T14:48:09-08:00	Mikolai Fajer	mfajer@gmail.com	Added the additional property to addSpot and addZone.

bc5d6875
2	0	src/plugins/tengine/tengineplugin.cpp

--ef2c86ec	2010-12-28T13:51:43+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Only enable the object selection tool when an object layer is selected

Even though it will currently work regardless of which layer is
selected, disabling it makes the automatic switching between tile tools
and object tools work properly.

The tool manager was also changed a bit to make sure a tool will be
reselected when they become enabled after all tools had been disabled.
This happened when opening a map after all maps had been closed.

ef2c86ec
13	0	src/tiled/objectselectiontool.cpp
3	0	src/tiled/objectselectiontool.h
2	2	src/tiled/toolmanager.cpp

--f3537746	2010-12-28T13:11:08+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Select the duplicated objects after duplicating the selection

Makes it easier to move them somewhere else while keeping their current
arrangement.

f3537746
8	0	src/tiled/mapscene.cpp
6	0	src/tiled/mapscene.h
7	1	src/tiled/objectselectiontool.cpp

--9c5fd70a	2010-12-27T22:22:47+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Improved window title and map document tab text

The window title now also displays "untitled.tmx" when the current map
has no file name, and doesn't have a dash in front of "Tiled" when no
maps are open.

The text of the map document tab now contains a '*' character to
indicate whether it has any unsaved changes.

9c5fd70a
10	14	src/tiled/documentmanager.cpp
1	2	src/tiled/documentmanager.h
24	25	src/tiled/mainwindow.cpp
2	3	src/tiled/mainwindow.h
24	0	src/tiled/mapdocument.cpp
5	1	src/tiled/mapdocument.h

--55407513	2010-12-27T21:23:50+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed compile against Qt 4.5

For the last time.

55407513
4	0	src/tiled/mainwindow.cpp
0	6	src/tiled/mainwindow.ui

--15a6e973	2010-12-27T20:25:03+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added an action to close all files

15a6e973
8	0	src/tiled/mainwindow.cpp
1	0	src/tiled/mainwindow.h
9	0	src/tiled/mainwindow.ui

--36a69623	2010-12-27T20:01:34+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Have the main toolbar follow the system style

Should be checked on other systems, but this makes the toolbar look
nicer on my GNOME installation. Now the 'Open', 'Save' and 'Undo' labels
are visible.

36a69623
3	0	src/tiled/mainwindow.cpp
6	0	src/tiled/mainwindow.ui

--0b3e36f8	2010-12-25T14:07:54+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Changed the license of libtiled and tmxviewer from GPL to BSD

Making it possible to use libtiled in another project regardless of the
license of that project or the way libtiled is used.

Permission for this change of license was granted by all those who
contributed code used in libtiled.

0b3e36f8
14	340	COPYING
20	0	LICENSE.BSD
0	0	COPYING => LICENSE.GPL
502	0	LICENSE.LGPL
19	11	src/libtiled/compression.cpp
19	11	src/libtiled/compression.h
19	11	src/libtiled/isometricrenderer.cpp
19	11	src/libtiled/isometricrenderer.h
19	11	src/libtiled/layer.cpp
19	11	src/libtiled/layer.h
19	11	src/libtiled/map.cpp
19	11	src/libtiled/map.h
19	11	src/libtiled/mapobject.cpp
19	11	src/libtiled/mapobject.h
19	11	src/libtiled/mapreader.cpp
19	11	src/libtiled/mapreader.h
19	11	src/libtiled/maprenderer.h
19	11	src/libtiled/mapwriter.cpp
19	11	src/libtiled/mapwriter.h
19	11	src/libtiled/object.h
19	11	src/libtiled/objectgroup.cpp
19	11	src/libtiled/objectgroup.h
19	11	src/libtiled/orthogonalrenderer.cpp
19	11	src/libtiled/orthogonalrenderer.h
19	11	src/libtiled/properties.cpp
19	11	src/libtiled/properties.h
19	11	src/libtiled/tile.h
19	11	src/libtiled/tiled_global.h
19	11	src/libtiled/tilelayer.cpp
19	11	src/libtiled/tilelayer.h
19	11	src/libtiled/tileset.cpp
19	11	src/libtiled/tileset.h
19	11	src/tmxviewer/main.cpp
19	11	src/tmxviewer/tmxviewer.cpp
19	11	src/tmxviewer/tmxviewer.h

--3541c639	2010-12-27T16:43:34+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch 'libtiled-java'

3541c639
--773d057d	2010-12-27T16:35:01+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	libtiled-java: Added ant build files to IntelliJ project

773d057d
16	0	util/java/java-utils.ipr

--da4b2ae9	2010-12-27T16:32:18+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	libtiled-java: Changed the license to LGPL and tmxviewer-java to BSD

Currently it is not possible to license libtiled-java as BSD since the
Base64 decoding algorithm falls under LGPL, hence it will be LGPL for
now.

The tmxviewer-java example was changed to the Simplified BSD license.

da4b2ae9
15	7	util/java/libtiled-java/src/tiled/core/AnimatedTile.java
15	7	util/java/libtiled-java/src/tiled/core/Map.java
15	7	util/java/libtiled-java/src/tiled/core/MapLayer.java
15	7	util/java/libtiled-java/src/tiled/core/MapObject.java
15	7	util/java/libtiled-java/src/tiled/core/ObjectGroup.java
15	7	util/java/libtiled-java/src/tiled/core/Sprite.java
15	7	util/java/libtiled-java/src/tiled/core/Tile.java
15	7	util/java/libtiled-java/src/tiled/core/TileLayer.java
15	7	util/java/libtiled-java/src/tiled/core/TileSet.java
15	7	util/java/libtiled-java/src/tiled/io/TMXMapReader.java
15	7	util/java/libtiled-java/src/tiled/io/TMXMapWriter.java
15	7	util/java/libtiled-java/src/tiled/util/BasicTileCutter.java
15	7	util/java/libtiled-java/src/tiled/util/ImageHelper.java
15	7	util/java/libtiled-java/src/tiled/util/TileCutter.java
15	7	util/java/libtiled-java/src/tiled/util/TransparentImageFilter.java
27	0	util/java/tmxviewer-java/src/TMXViewer.java

--deb8ef7e	2010-12-27T16:05:28+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	libtiled-java: Added MapRenderer interface and OrthogonalRenderer

Only contains basic functionality for now, but enough to allow
tmxviewer-java to display orthogonal maps now.

deb8ef7e
1	0	util/java/java-utils.ipr
46	0	util/java/libtiled-java/src/tiled/view/MapRenderer.java
85	0	util/java/libtiled-java/src/tiled/view/OrthogonalRenderer.java
91	8	util/java/tmxviewer-java/src/TMXViewer.java

--16dcddc6	2010-12-27T15:29:26+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	libtiled-java: Don't break when 'trans' attribute starts with a #

Some versions of Tiled Qt used to start the 'trans' color attribute with
a '#' to indicate that it's a hex value. This was later removed since
Tiled Java breaks on it, but there is no reason not to fix that now.

16dcddc6
3	0	util/java/libtiled-java/src/tiled/io/TMXMapReader.java

--b5882188	2010-12-27T13:17:34+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added a start on tmxviewer-java along with some reorganization

Now there is a top-level IntelliJ IDEA project for java-utils,
containing both libtiled-java and the new tmxviewer-java.

The "viewer" currently only loads the map, there is no rendering code
yet.

b5882188
2	0	util/java/.gitignore
2	1	util/{libtiled-java/libtiled-java.ipr => java/java-utils.ipr}
3	0	util/java/libtiled-java/.gitignore
0	0	util/{ => java}/libtiled-java/README
0	0	util/{ => java}/libtiled-java/build.xml
1	0	util/{ => java}/libtiled-java/libtiled-java.iml
0	0	util/{ => java}/libtiled-java/src/tiled/core/AnimatedTile.java
0	0	util/{ => java}/libtiled-java/src/tiled/core/Map.java
0	0	util/{ => java}/libtiled-java/src/tiled/core/MapLayer.java
0	0	util/{ => java}/libtiled-java/src/tiled/core/MapObject.java
0	0	util/{ => java}/libtiled-java/src/tiled/core/ObjectGroup.java
0	0	util/{ => java}/libtiled-java/src/tiled/core/Sprite.java
0	0	util/{ => java}/libtiled-java/src/tiled/core/Tile.java
0	0	util/{ => java}/libtiled-java/src/tiled/core/TileLayer.java
0	0	util/{ => java}/libtiled-java/src/tiled/core/TileSet.java
0	0	util/{ => java}/libtiled-java/src/tiled/io/TMXMapReader.java
0	0	util/{ => java}/libtiled-java/src/tiled/io/TMXMapWriter.java
0	0	util/{ => java}/libtiled-java/src/tiled/io/resources/map.dtd
0	0	util/{ => java}/libtiled-java/src/tiled/io/xml/XMLWriter.java
0	0	util/{ => java}/libtiled-java/src/tiled/io/xml/XMLWriterException.java
0	0	util/{ => java}/libtiled-java/src/tiled/util/Base64.java
0	0	util/{ => java}/libtiled-java/src/tiled/util/BasicTileCutter.java
0	0	util/{ => java}/libtiled-java/src/tiled/util/ImageHelper.java
0	0	util/{ => java}/libtiled-java/src/tiled/util/TileCutter.java
0	0	util/{ => java}/libtiled-java/src/tiled/util/TransparentImageFilter.java
1	0	util/java/tmxviewer-java/.gitignore
28	0	util/java/tmxviewer-java/README
28	0	util/java/tmxviewer-java/build.xml
56	0	util/java/tmxviewer-java/src/TMXViewer.java
1	1	util/{libtiled-java/libtiled-java.iml => java/tmxviewer-java/tmxviewer-java.iml}
0	4	util/libtiled-java/.gitignore

--3371ebd4	2010-12-27T11:57:37+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	libtiled-java: Added support for zlib compression

3371ebd4
1	0	util/libtiled-java/libtiled-java.ipr
4	1	util/libtiled-java/src/tiled/io/TMXMapReader.java

--59fbb6fd	2010-12-27T00:19:15+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	libtiled-java: Ignore the IntelliJ build directory

59fbb6fd
1	0	util/libtiled-java/.gitignore

--b29ae681	2010-12-27T00:15:57+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	libtiled-java: Removed the NumberedSet class

Replaced it with a plain Vector<Tile>.

b29ae681
9	18	util/libtiled-java/src/tiled/core/TileSet.java
0	173	util/libtiled-java/src/tiled/util/NumberedSet.java

--8d19c36c	2010-12-26T19:24:30+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	libtiled-java: Cleanups and removals

* Removed the drawing and scaling from the Tile class
* Removed support for images stored separately from tiles
* Removed Resources and Util classes
* Reorganized some classes

8d19c36c
2	2	util/libtiled-java/build.xml
2	40	util/libtiled-java/src/tiled/core/AnimatedTile.java
0	3	util/libtiled-java/src/tiled/core/MapLayer.java
10	146	util/libtiled-java/src/tiled/core/Tile.java
2	2	util/libtiled-java/src/tiled/core/TileLayer.java
25	112	util/libtiled-java/src/tiled/core/TileSet.java
34	31	util/libtiled-java/src/tiled/io/{xml => }/TMXMapReader.java
8	77	util/libtiled-java/src/tiled/io/{xml => }/TMXMapWriter.java
0	0	util/libtiled-java/src/tiled/{mapeditor => io}/resources/map.dtd
0	64	util/libtiled-java/src/tiled/mapeditor/Resources.java
1	1	util/libtiled-java/src/tiled/{mapeditor/util/cutter => util}/BasicTileCutter.java
1	14	util/libtiled-java/src/tiled/{io => util}/ImageHelper.java
1	1	util/libtiled-java/src/tiled/{mapeditor/util/cutter => util}/TileCutter.java
1	1	util/libtiled-java/src/tiled/{mapeditor => }/util/TransparentImageFilter.java
0	73	util/libtiled-java/src/tiled/util/Util.java

--1cac22ae	2010-12-26T19:13:07+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Moved the source of libtiled-java into a 'src' directory

Mainly since IntelliJ prefers the project structure that way, but it
also makes the root of the packages explicit.

1cac22ae
1	0	util/libtiled-java/.gitignore
4	3	util/libtiled-java/build.xml
3	1	util/libtiled-java/libtiled-java.iml
0	0	util/libtiled-java/{ => src}/tiled/core/AnimatedTile.java
0	0	util/libtiled-java/{ => src}/tiled/core/Map.java
0	0	util/libtiled-java/{ => src}/tiled/core/MapLayer.java
0	0	util/libtiled-java/{ => src}/tiled/core/MapObject.java
0	0	util/libtiled-java/{ => src}/tiled/core/ObjectGroup.java
0	0	util/libtiled-java/{ => src}/tiled/core/Sprite.java
0	0	util/libtiled-java/{ => src}/tiled/core/Tile.java
0	0	util/libtiled-java/{ => src}/tiled/core/TileLayer.java
0	0	util/libtiled-java/{ => src}/tiled/core/TileSet.java
0	0	util/libtiled-java/{ => src}/tiled/io/ImageHelper.java
0	0	util/libtiled-java/{ => src}/tiled/io/xml/TMXMapReader.java
0	0	util/libtiled-java/{ => src}/tiled/io/xml/TMXMapWriter.java
0	0	util/libtiled-java/{ => src}/tiled/io/xml/XMLWriter.java
0	0	util/libtiled-java/{ => src}/tiled/io/xml/XMLWriterException.java
0	0	util/libtiled-java/{ => src}/tiled/mapeditor/Resources.java
0	0	util/libtiled-java/{ => src}/tiled/mapeditor/resources/map.dtd
0	0	util/libtiled-java/{ => src}/tiled/mapeditor/util/TransparentImageFilter.java
0	0	util/libtiled-java/{ => src}/tiled/mapeditor/util/cutter/BasicTileCutter.java
0	0	util/libtiled-java/{ => src}/tiled/mapeditor/util/cutter/TileCutter.java
0	0	util/libtiled-java/{ => src}/tiled/util/Base64.java
0	0	util/libtiled-java/{ => src}/tiled/util/NumberedSet.java
0	0	util/libtiled-java/{ => src}/tiled/util/Util.java

--c85ca25e	2010-12-20T17:19:40+01:00	Stefan Beller	stefanbeller@googlemail.com	Reselect the last active map at startup

The map document, which was the current at quitting, will be activated
on startup.

Therefore the writesettings() function needs to be moved to some point
before calling confirmAllSave(). This needs to be done since
confirmAllSave messes up the last opened document. (It cycles through
all opened documents and checks if there needs a questionare for saving,
so after that function you cannot detect the document, which was the
last current document for the user.)

c85ca25e
11	2	src/tiled/mainwindow.cpp

--ffb7bd79	2010-12-22T14:50:15+01:00	Stefan Beller	stefanbeller@googlemail.com	Fixed a crash at automapping: missing set layers

Missing set layers *should* lead to an error at the caller, but in case
the AutoMapper class is called anyway, just don't crash!

ffb7bd79
6	1	src/tiled/automap.cpp

--a60d03cf	2010-12-22T01:05:06+01:00	Stefan Beller	stefanbeller@googlemail.com	Removed unused includes & ordered the rest in automap.{cpp,h}

No changes in program behavior, just less includes.

a60d03cf
4	16	src/tiled/automap.cpp
5	6	src/tiled/automap.h

--e5d03fec	2010-12-25T21:18:01+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed the PluginLogger class

Was meant to be used for error reporting done by Tiled Java plugins, but
in practice its implementation was never finished. Now it's no longer
useful.

e5d03fec
4	4	util/libtiled-java/tiled/core/ObjectGroup.java
0	2	util/libtiled-java/tiled/core/TileLayer.java
0	42	util/libtiled-java/tiled/io/PluginLogger.java
21	39	util/libtiled-java/tiled/io/xml/TMXMapReader.java

--01340aed	2010-12-25T18:56:30+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merged MultilayerPane into Map

The separation of these two classes was only somewhat useful in the
context of the editor.

01340aed
143	5	util/libtiled-java/tiled/core/Map.java
0	203	util/libtiled-java/tiled/core/MultilayerPlane.java

--a55eb79e	2010-12-25T18:40:50+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	IntelliJ project updates

a55eb79e
1	1	util/libtiled-java/libtiled-java.iml
55	1	util/libtiled-java/libtiled-java.ipr

--40b16eba	2010-12-25T18:19:49+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	A bunch of random cleanups to libtiled-java

* Removed obsolete list of MapObjects from the Map class
* Removed stuff that was only needed for the editor:
  - List of "special" layers from Map class
  - Methods from MultiLayerPlane: swapLayerUp, swapLayerDown and
    mergeLayerDown
  - TileSet.generateGaplessVector
* Removed some of the methods related to supporting images separately
  from tiles

40b16eba
24	62	util/libtiled-java/tiled/core/Map.java
5	74	util/libtiled-java/tiled/core/MultilayerPlane.java
1	1	util/libtiled-java/tiled/core/Tile.java
2	2	util/libtiled-java/tiled/core/TileLayer.java
4	103	util/libtiled-java/tiled/core/TileSet.java
7	7	util/libtiled-java/tiled/io/xml/TMXMapReader.java
9	12	util/libtiled-java/tiled/io/xml/TMXMapWriter.java
1	1	util/libtiled-java/tiled/mapeditor/Resources.java

--dbae757b	2010-12-25T14:41:08+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added IntelliJ IDEA project for libtiled-java

dbae757b
12	0	util/libtiled-java/libtiled-java.iml
315	0	util/libtiled-java/libtiled-java.ipr

--f1acc252	2010-12-23T13:19:11+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Introduced a persistent 'Snap to Grid' mode

Now it is no longer necessary to hold Ctrl all the time for snapping to
the grid. When 'Snap to Grid' is enabled, Ctrl can be used to
temporarily disable it.

For consistency, the 'Show Grid' option was moved alongside the new
'Snap to Grid' option in the Preferences.

f1acc252
12	3	src/tiled/createobjecttool.cpp
13	7	src/tiled/mainwindow.cpp
9	0	src/tiled/mainwindow.ui
6	1	src/tiled/mapobjectitem.cpp
6	1	src/tiled/objectselectiontool.cpp
23	0	src/tiled/preferences.cpp
14	0	src/tiled/preferences.h

--087f00c8	2010-12-23T01:30:24+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Bumped the version to 0.6.0 and updated the NEWS file

087f00c8
1	1	AUTHORS
23	1	NEWS
3	3	src/tiled/Info.plist
1	1	src/tiled/main.cpp

--7ca8f129	2010-12-23T00:00:26+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made sure zoom actions are disabled on startup without maps

Also removed several superfluous calls to 'updateActions', which was
already being called in 'mapDocumentChanged'.

7ca8f129
2	4	src/tiled/mainwindow.cpp

--4d68efa5	2010-12-21T11:52:09-07:00	Jeff Bland	jksb@member.fsf.org	Add ability to run commands from Tiled

This adds a button the to main toolbar that executes a command when clicked.
You can setup and choose from multiple commands by using the popup arrow.

The token %mapfile within commands will be replaced with the current file.

system-run.png from gnome
Mantis-issue: 69

4d68efa5
150	0	src/tiled/commandbutton.cpp
57	0	src/tiled/commandbutton.h
284	0	src/tiled/commanddatamodel.cpp
133	0	src/tiled/commanddatamodel.h
82	0	src/tiled/commanddialog.cpp
66	0	src/tiled/commanddialog.h
88	0	src/tiled/commanddialog.ui
-	-	src/tiled/images/24x24/system-run.png
10	0	src/tiled/mainwindow.cpp
3	1	src/tiled/mainwindow.h
10	3	src/tiled/tiled.pro
1	0	src/tiled/tiled.qrc

--319481c7	2010-12-21T00:40:45+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed compile against Qt 4.5

* QPointF didn't have manhattanLength() until Qt 4.6, but fortunately we
  can just use QPoint instead.
* The QByteArray constructor overloads used in compression.cpp were not
  even documented and apparently also introduced in Qt 4.6
* Some version checking added to tmxviewer

319481c7
4	2	src/libtiled/compression.cpp
1	1	src/tiled/objectselectiontool.cpp
6	0	src/tmxviewer/tmxviewer.cpp

--1a5b63f5	2010-12-20T23:58:41+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Changed the default layer data format to use zlib rather than gzip

Since zlib is generally easier to support and more suitable for this
use-case (gzip was meant for compressing complete files).

This of course breaks compatibility with some existing TMX libraries,
including Tiled Java.

1a5b63f5
1	1	src/libtiled/compression.h
1	1	src/libtiled/mapwriter.h
1	1	src/tiled/preferences.cpp
2	2	src/tiled/preferencesdialog.cpp

--0cb2daf9	2010-12-20T23:35:22+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Make sure English is not listed twice in the Preferences

Since we now have an English translation file (for the plurals), it
should no longer be explicitly added to the list of languages.

0cb2daf9
0	1	src/tiled/languagemanager.cpp

--9848f369	2010-12-20T22:48:03+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed two issues with handling non-existing files

Errors for non-existing tilesets no longer included the file name, since
it was turning into an empty string. Similarly
DocumentManager::findDocument did not handle non-existing files
correctly.

Both issues were due to failing to check the return value of
QFileInfo::canonicalFilePath for being empty, which happens when the
file doesn't exist.

9848f369
2	0	src/tiled/documentmanager.cpp
5	1	src/tiled/tmxmapreader.cpp

--75c1e078	2010-12-20T01:42:23+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Prevented creation of unnamed properties

Since change 185a2fa1984d2892c978717c4b3ee7ec21ba5ee1, detecting the
creation of new properties was broken, causing unnamed properties to be
created when cancelling the creation of a new property.

75c1e078
1	1	src/tiled/propertiesmodel.cpp

--41bcefa8	2010-12-20T01:21:49+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Prevented opening a file twice

Now it selects the existing document if a file is already open.

41bcefa8
13	0	src/tiled/documentmanager.cpp
6	0	src/tiled/documentmanager.h
7	0	src/tiled/mainwindow.cpp

--c1487a07	2010-12-20T00:58:56+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Simplified the DocumentManager

Removed the complexity in the DocumentManager that was necessary to make
sure there is always a map view and a map scene available, and
simplified a bunch of other things.

This required some changes in the MainWindow class to make it ready for
when there is no map open.

c1487a07
75	146	src/tiled/documentmanager.cpp
32	39	src/tiled/documentmanager.h
70	67	src/tiled/mainwindow.cpp
6	6	src/tiled/mainwindow.h
9	0	src/tiled/mapdocument.cpp
3	1	src/tiled/mapdocument.h
9	0	src/tiled/mapview.cpp
3	0	src/tiled/mapview.h

--e46acc1a	2010-12-19T22:07:51+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed 'Map' from the names of the DocumentManager methods

Almost all methods of the DocumentManager pertain to maps, so it doesn't
really add much apart from length. The freed up characters were in two
cases used to make a method more clear:

  closeMapDocument  -> closeCurrentDocument
  closeMapDocuments -> closeAllDocuments

e46acc1a
13	13	src/tiled/documentmanager.cpp
9	9	src/tiled/documentmanager.h
13	13	src/tiled/mainwindow.cpp

--185a2fa1	2010-12-19T21:44:50+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Remove "<new property>" text when editing a new property

Convenience thing.

185a2fa1
1	1	src/tiled/propertiesmodel.cpp

--1eda84a3	2010-12-19T21:38:15+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added new icons for insert objects / tile objects tools

Based on standard GNOME icons for 'insert-object' and 'insert-image'.

Also fixed the dynamic translation for the tile objects tool, which was
being retranslated to the regular objects tool.

1eda84a3
24	9	src/tiled/createobjecttool.cpp
-	-	src/tiled/images/24x24/insert-image.png
-	-	src/tiled/images/24x24/insert-object.png
2	0	src/tiled/tiled.qrc

--3a7701b2	2010-11-14T21:53:31+01:00	Stefan Beller	stefanbeller@googlemail.com	Improved automapping

Improvements
 * The whole automapping was sped up by dividing it into different parts.
   So most of the stuff is only executed when the very first automattic
   mapping is done. Lots of data structures will be reused in next uses.
 * Automapping can be called with parameter QRegion, so that only a certain
   region is automatically mapped.
 * This is attached to the map documents signal regionEdited, so it will
   be executed whenever there is user input into the set layer.
 * The AutoMapperWrapper is now only called once for all AutoMapper classes.
   This means that undo/redo functionality will use up less memory.
 * Renaming some functions for better maintainability.
 * Rearrangement of the functions for better maintainability.
 * Use layer add / remove and rename signals of the map document to keep
   the layer translation table up to date.
 * Adjustment fo the rules via map properties:
       "DeleteTiles" will trigger a cleanup before applying that ruleset
       "AutomappingRadius" will set the radius around region, where the
                           ruleset should be applied.
 * Adding a filesystemwatcher, which checks for file changes on the rulesets.
 * AutomatticMappingManager is now in the style of other managers. It can be
   instantiated only once view its instance() method.

3a7701b2
15	0	src/libtiled/tileset.cpp
6	0	src/libtiled/tileset.h
550	186	src/tiled/automap.cpp
224	54	src/tiled/automap.h
4	10	src/tiled/mainwindow.cpp
1	19	src/tiled/mapdocument.cpp

--fb6d56c6	2010-12-13T22:47:10+01:00	Stefan Beller	stefanbeller@googlemail.com	Added a few signals to MapDocument and LayerModel

* MapDocument::regionEdited           emited after the user made changes
* LayerModel::layerAboutToBeRenamed   emited before a layer is renamed
* LayerModel::layerRenamed            emited after a layer is renamed
* LayerModel::layerAboutToBeRemoved   emited before a layer is removed

Reviewed-by: Thorbjørn Lindeijer <thorbjorn@lindeijer.nl>

fb6d56c6
7	3	src/tiled/brushitem.h
2	0	src/tiled/bucketfilltool.cpp
3	4	src/tiled/eraser.cpp
3	0	src/tiled/layermodel.cpp
3	0	src/tiled/layermodel.h
5	0	src/tiled/mapdocument.cpp
15	0	src/tiled/mapdocument.h
1	0	src/tiled/stampbrush.cpp

--3ae9051e	2010-12-19T16:06:43+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed leaking of the TilesetView item delegate

It didn't have a parent.

Thanks to Stefan Beller for finding this one.

3ae9051e
1	1	src/tiled/tilesetview.cpp

--172b9876	2010-12-15T21:10:14+01:00	Yohann Ferreira	yohann.ferreira@orange.fr	French translation fixes

172b9876
72	72	translations/tiled_fr.ts

--81062ec4	2010-12-13T21:39:53+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Have the DocumentManager provide a widget instead of deriving QTabWidget

This is more flexible in the long run and avoids exposing the whole
QTabWidget API, which isn't generally safe to use.

Reviewed-by: Stefan Beller <stefanbeller@googlemail.com>

81062ec4
44	26	src/tiled/documentmanager.cpp
28	19	src/tiled/documentmanager.h
6	6	src/tiled/mainwindow.cpp
0	20	src/tiled/mainwindow.ui

--f1ff03b5	2010-10-21T21:45:16+02:00	Stefan Beller	stefanbeller@googlemail.com	Added support for opening multiple maps in one session

This allows you to open multiple maps at once. They will be accessable
via tabs.

Mantis-task: 5

f1ff03b5
2	1	AUTHORS
245	0	src/tiled/documentmanager.cpp
143	0	src/tiled/documentmanager.h
1	1	src/tiled/main.cpp
161	83	src/tiled/mainwindow.cpp
21	3	src/tiled/mainwindow.h
5	8	src/tiled/mainwindow.ui
0	10	src/tiled/mapscene.cpp
13	8	src/tiled/mapscene.h
2	0	src/tiled/tiled.pro

--e4e43e10	2010-12-12T17:57:18+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added a New Layer dropdown menu to the layers dock

e4e43e10
14	1	src/tiled/layerdock.cpp
0	25	src/tiled/utils.cpp
16	9	src/tiled/utils.h

--cc38f8a2	2010-12-12T13:37:41+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed plural handling by providing an English translation file

Doesn't happen automatically apparently, but works when an English
translation file is provided that determines the two "translations".

Also used the plural forms where appropriate in the context menu and
when moving objects.

cc38f8a2
7	6	src/tiled/objectselectiontool.cpp
1566	0	translations/tiled_en.ts
1	1	translations/translations.pro

--24fdef60	2010-12-12T13:14:38+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Add tmxviewer executable to .gitignore

24fdef60
1	0	.gitignore

--c12a2509	2010-12-11T14:32:40+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Center the map when it is smaller than the map view

Is nicer than aligning it to the top left. Needed some fixes in the
orthogonal renderer to avoid setting a negative dash offset.

Mantis-issue: 71

c12a2509
8	8	src/libtiled/orthogonalrenderer.cpp
1	1	src/tiled/mainwindow.ui

--d1caf4b3	2010-12-11T13:29:26+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Use a dashed line to indicate selected objects

Better than changing their color to the selection color.

d1caf4b3
5	2	src/libtiled/orthogonalrenderer.cpp
16	3	src/tiled/mapobjectitem.cpp

--51104df6	2010-12-11T10:02:57+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Handle the map object context menu in the object selection tool

Now it applies to all selected objects, apart from editing the
properties. This also resolves a crash when removing objects while
dragging them around, which is now no longer possible.

Some adjustments have been made to the selection modifier. Both Shift
and Ctrl now add to the selection, and in both cases you can click
single objects to toggle their selected state.

51104df6
0	82	src/tiled/mapobjectitem.cpp
0	3	src/tiled/mapobjectitem.h
279	87	src/tiled/objectselectiontool.cpp
21	2	src/tiled/objectselectiontool.h

--48bca6ac	2010-11-27T10:48:30+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Reintroduced the event pointer to mousePressed and mouseReleased

These functions will always match with mouse events, so I guess it
doesn't really make sense to hide that. The thing is that I'd need to
add another parameter to mousePressed (screenPos) to make it possible to
use context menus otherwise.

48bca6ac
3	5	src/tiled/abstracttool.h
3	9	src/tiled/bucketfilltool.cpp
2	3	src/tiled/bucketfilltool.h
7	12	src/tiled/createobjecttool.cpp
2	5	src/tiled/createobjecttool.h
4	5	src/tiled/eraser.cpp
2	3	src/tiled/eraser.h
2	3	src/tiled/mapscene.cpp
10	13	src/tiled/objectselectiontool.cpp
2	5	src/tiled/objectselectiontool.h
6	5	src/tiled/selectiontool.cpp
2	3	src/tiled/selectiontool.h
6	7	src/tiled/stampbrush.cpp
2	3	src/tiled/stampbrush.h

--12e91bff	2010-11-21T19:00:28+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Introduced the object selection tool

At the moment this tool allows selecting multiple objects and moving
them. The context menu should still be updated to apply to the whole
selection.

It should also not allow removing objects while a move is in progress,
since that leads to a crash.

12e91bff
0	7	src/tiled/createobjecttool.cpp
2	0	src/tiled/mainwindow.cpp
15	69	src/tiled/mapobjectitem.cpp
7	14	src/tiled/mapobjectitem.h
12	8	src/tiled/mapscene.cpp
13	2	src/tiled/mapscene.h
0	12	src/tiled/objectgroupitem.cpp
0	10	src/tiled/objectgroupitem.h
285	0	src/tiled/objectselectiontool.cpp
83	0	src/tiled/objectselectiontool.h
4	2	src/tiled/tiled.pro

--e46b1d38	2010-12-12T13:03:10+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Corrected the French translation for 'Redo'

Suggested by Mooglwy.

e46b1d38
1	1	translations/tiled_fr.ts

--6fb4aafa	2010-11-27T10:43:59+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Use the file name placeholder in the license header template

6fb4aafa
1	1	.LICENSE-HEADER

--96df15e5	2010-11-21T19:01:54+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	The color of map objects no longer depends on type

Avoid doing unnecessary updates when the type changes.

96df15e5
5	6	src/tiled/mapobjectitem.cpp
1	2	src/tiled/mapobjectitem.h

--a54d117c	2010-12-08T12:20:06-06:00	Juan Rodriguez	nushio@fedoraproject.org	Provide a way to set a custom lib directory

So that lib64 can be used on Fedora.

a54d117c
1	1	src/libtiled/libtiled.pro
1	1	src/plugins/plugin.pri
1	0	tiled.pri

--68feb742	2010-12-01T09:44:56-08:00	Mikolai Fajer	mfajer@gmail.com	Making special character escaping more robust.

68feb742
5	5	src/plugins/tengine/tengineplugin.cpp

--e16df36a	2010-11-13T02:04:35+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Tweaked the look of the map object border

Regular map objects now have a border of 2 instead of 3 pixels and
don't have rounded corners. Tile-based objects now use a border that
is always 1 pixel regardless of zoom level.

e16df36a
1	2	src/libtiled/isometricrenderer.cpp
18	41	src/libtiled/orthogonalrenderer.cpp

--9c4327b7	2010-10-30T16:45:40-07:00	Mikolai Fajer	mfajer@gmail.com	T-Engine plugin: Added a check for AddZone object groups

9c4327b7
23	0	src/plugins/tengine/tengineplugin.cpp

--f1996915	2010-10-29T22:09:48-07:00	Mikolai Fajer	mfajer@gmail.com	T-Engine plugin: Added support for longer strings and overflow beyond the random ASCII range

f1996915
75	32	src/plugins/tengine/tengineplugin.cpp
1	0	src/plugins/tengine/tengineplugin.h

--d1a7b3ff	2010-11-11T22:11:13+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Disable the frame around QGraphicsView for the tmxviewer

Looks better that way.

d1a7b3ff
1	0	src/tmxviewer/tmxviewer.cpp

--98a46169	2010-11-06T22:17:32+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Small optimization in StampBrush::configureBrush

We only need an intersection check, not the actual intersection.

98a46169
1	1	src/tiled/stampbrush.cpp

--9f7271fb	2010-11-01T14:56:55+01:00	Stefan Beller	stefanbeller@googlemail.com	Support drawing lines and circles with the stamp brush

When holding the shift key, you can click only a little points, and
these points get connected with a straight line in between.

Hold the Ctrl key, to produce circles. Center is the last edited position.
the current position determines the radius.

Lines and circles can handle bigger stamps. When having selected a stamp
(>1x1) this stamp will periodically fill the line or circle. There will
be no overlap between the stamps.

Mantis-issue: 51
Reviewed-by: Thorbjørn Lindeijer <thorbjorn@lindeijer.nl>

9f7271fb
6	0	src/tiled/brushitem.h
205	28	src/tiled/stampbrush.cpp
56	5	src/tiled/stampbrush.h

--5c7e5663	2010-11-06T19:44:57+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed crash in MapDocument::unifyTilesets

unifyTilesets was initially written for MainWindow::paste, in which case
the tilesets in the map were not managed by the TilesetManager. Now it
is also used by the QuickStamp feature, which does keep references to
the tilesets in the TilesetManager.

This fix makes unifyTilesets always assume the tilesets are properly
reference counted by the TilesetManager, and modifies MainWindow::paste
to actually do that.

Two helper methods were added to TilesetManager to make adding/removing
tileset references easier.

Reviewed-by: Stefan Beller <stefanbeller@googlemail.com>

5c7e5663
1	2	src/libtiled/map.cpp
5	2	src/tiled/mainwindow.cpp
6	5	src/tiled/mapdocument.cpp
3	0	src/tiled/mapdocument.h
12	0	src/tiled/tilesetmanager.cpp
12	0	src/tiled/tilesetmanager.h

--ff9a6045	2010-11-05T23:59:32+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Clarified the license and copyright of the shipped tilesets

ff9a6045
6	2	AUTHORS

--2e9bde1e	2010-11-03T21:26:00+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Update the current stamp when switching tilesets

A selection is kept for each tileset view, so when switching tilesets,
the tileset dock still shows the same selection that was there
previously. However, the stamp wasn't being updated to reflect the
selection in the newly selected tileset.

Updating the stamp was preferred to clearing the selection, since that
allows quickly changing between two stamps from different tilesets. The
idea is that you would rarely change tilesets anyway if you didn't have
the intention of drawing with tiles from that tileset.

Mantis-issue: 58

2e9bde1e
9	3	src/tiled/tilesetdock.cpp
1	1	src/tiled/tilesetdock.h

--6eaee6d3	2010-11-03T20:46:46+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed the type-specific map object colors

Colors are now set per object group, which should in my opinion be
enough. Tiled should probably still display the object group color in
the layer list, so that objects can easily be matched to their group.

6eaee6d3
0	31	src/tiled/mapobjectitem.cpp
0	1	src/tiled/mapobjectitem.h

--17594210	2010-11-01T09:11:01+01:00	Stefan Beller	stefanbeller@googlemail.com	more comments in automap.h

17594210
54	24	src/tiled/automap.h

--290002a5	2010-10-24T16:33:27+02:00	Stefan Beller	stefanbeller@googlemail.com	Added copyright note, extended AUTHORS

The copyright notice applies to earlier changes.

290002a5
1	1	AUTHORS
1	0	src/tiled/mainwindow.cpp
1	0	src/tiled/mainwindow.h

--67b2749c	2010-10-28T22:56:33+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Make +/- work for zooming in/out also without holding Ctrl

By popular request and for the sake of increased GIMP compatibility.

67b2749c
4	1	src/tiled/mainwindow.cpp

--874f2f18	2010-10-26T16:47:25+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated the Tiled version in the Info.plist file

Whoops, forgot this the last two releases. Will need to remember this
next time...

874f2f18
3	3	src/tiled/Info.plist

--cc4f250d	2010-10-23T17:38:48+02:00	Stefan Beller	stefanbeller@googlemail.com	Random automapping outputs

You can define multiple outputs for rules in automapping:
Previously you defined the output layers by naming them rule_XXX, whereas XXX
was the destination layer

Now you can setup multiple outputs by creating ruleYYY_XXX whereas XXX
is the output layer as well.  YYY is a unique name, without underscore
("_") describing the output.

For example you can have a rulesmap with such layers:

ruleRegions        # define the location of the rule
ruleSet            # define the condition to be matched
ruleNotSet         # define the condition to be matched

ruleDoor_Ground    # so either this two layers are chosen for
ruleDoor_Fringe    # this rule

ruleNormal_Ground  # or this one is chosen.

cc4f250d
77	33	src/tiled/automap.cpp
23	21	src/tiled/automap.h
1	1	src/tiled/mainwindow.cpp

--5916501a	2010-10-21T21:45:16+02:00	Stefan Beller	stefanbeller@googlemail.com	Extended the automapping feature

This patch will support RuleSet layers as well as RuleNotSet layers.

The RuleNotSetLayers are new with this patch.

Basically all matches between set and a ruleSet layer are considered
good, while all matches between the set layer and ruleNotSet layer are
considered bad.

Improved rules.txt:
You can provide in rules.txt another txt file which contains rules.
This can be done recursively in the txt files

5916501a
255	46	src/tiled/automap.cpp
75	29	src/tiled/automap.h
2	42	src/tiled/mainwindow.cpp

--615a132e	2010-10-21T21:18:02+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Avoid performance issues with X11 engine in tmxviewer too

Rendering map objects is very slow with the X11 engine, so default to
raster.

615a132e
5	0	src/tmxviewer/main.cpp

--4b135f3c	2010-10-21T17:08:29+02:00	Stefan Beller	stefanbeller@googlemail.com	Fixed crash with selecting quickstamps without map loaded.

trivial fix:
when selecting a quickstamp while no map is loaded, tiled would crash.

4b135f3c
3	0	src/tiled/mainwindow.cpp

--21e2533c	2010-10-10T15:38:39+02:00	Stefan Beller	stefanbeller@googlemail.com	Automap with multiple layers

In the feature Automapping, which is a rulebased support for mapping,
you can have multiple "RuleSet" layers in files defining these rules.

Actually these Layers only need to start with "RuleSet" and can continue
describing the purpose of that specific RuleSet layer.

In short: The automapping handles these multiple layers with a logic "or"
for each position.

So when the automapping compares the "RuleSet" and the "Set" layers,
it will be checked if the set layer matches any ruleset layer for
each position.

21e2533c
68	39	src/tiled/automap.cpp
4	2	src/tiled/automap.h

--1b13b8dd	2010-10-21T16:06:19+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added a simple TMX Viewer application based on libtiled

It's not as minimal as I may have hoped, mainly due to still having to
write all the QGraphicsItem subclasses, but at around 200 lines of code
it's not too bad.

Customizing the graphics items and the map renderer will be necessary
anyway if you'd be writing a game that uses libtiled.

1b13b8dd
2	1	src/src.pro
103	0	src/tmxviewer/main.cpp
195	0	src/tmxviewer/tmxviewer.cpp
47	0	src/tmxviewer/tmxviewer.h
35	0	src/tmxviewer/tmxviewer.pro

--8ebca8da	2010-10-21T12:32:45+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Moved the MapRenderer into libtiled

So that it can be re-used by other applications.

8ebca8da
0	1	src/{tiled => libtiled}/isometricrenderer.cpp
1	3	src/{tiled => libtiled}/isometricrenderer.h
14	9	src/libtiled/libtiled.pro
3	4	src/{tiled => libtiled}/maprenderer.h
0	1	src/{tiled => libtiled}/orthogonalrenderer.cpp
1	3	src/{tiled => libtiled}/orthogonalrenderer.h
1	1	src/tiled/mapdocument.h
0	5	src/tiled/tiled.pro
1	2	src/tiled/tilelayeritem.h

--981c593e	2010-10-20T18:58:54+02:00	Stefan Beller	stefanbeller@googlemail.com	Moved MainWindow::unifyTilesets to MapDocument

981c593e
2	61	src/tiled/mainwindow.cpp
0	10	src/tiled/mainwindow.h
68	0	src/tiled/mapdocument.cpp
10	0	src/tiled/mapdocument.h

--e5cc69a3	2010-10-20T20:54:57+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Render objects from top to bottom instead of in creation order

Now the drawing (and stacking) order of objects is defined by their
pixel y position, which is common in top-down games. In the future we
will probably need to allow defining a custom order.

e5cc69a3
2	0	src/tiled/mapobjectitem.cpp

--a56f2ed8	2010-10-20T18:36:28+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Don't write out the name of an object when it's empty

Just rely on the default being no name, to save some space when placing
lots of objects without a name (not unlikely when using tile-based
objects).

a56f2ed8
3	1	src/libtiled/mapwriter.cpp

--bf42135f	2010-10-20T18:32:11+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added tool to create tile-based objects

This allows tiles to be placed as objects on object layers. This means
they can be placed in arbitrary positions and have properties assigned
to them.

Tile-based objects can't currently be resized. Their size is determined
by the tile associated with them.

bf42135f
3	0	src/libtiled/mapobject.cpp
13	0	src/libtiled/mapobject.h
11	0	src/libtiled/mapreader.cpp
5	0	src/libtiled/mapwriter.cpp
25	2	src/tiled/createobjecttool.cpp
18	1	src/tiled/createobjecttool.h
-	-	src/tiled/images/22x22/tool-create-tile-object.png
34	5	src/tiled/isometricrenderer.cpp
7	1	src/tiled/mainwindow.cpp
1	1	src/tiled/mapobjectitem.cpp
1	1	src/tiled/mapobjectitem.h
36	6	src/tiled/orthogonalrenderer.cpp
1	0	src/tiled/tiled.qrc
14	0	src/tiled/tilesetdock.cpp
13	0	src/tiled/tilesetdock.h

--4f39b8d9	2010-10-20T15:09:54+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Disable the depth buffer when using OpenGL for the map view

Theoretically slightly faster.

4f39b8d9
6	4	src/tiled/mapview.cpp

--ae3774c1	2010-10-19T22:46:18+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed linking issues on Windows

Keep using LIBS variable on Windows since QMAKE_LIBDIR_FLAGS isn't used
there. Should have read the documentation more carefully...

ae3774c1
2	0	src/plugins/plugin.pri
2	0	src/tiled/tiled.pro

--86d86aae	2010-10-19T14:45:19+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Enable/disable tools as appropriate

Now the tile-based tools are only enabled when a tile layer is selected,
and the create object tool is only enabled when an object layer is
selected.

Based on this state, the tool manager makes sure that the currently
active tool is automatically changed to an available tool. It will
prefer to select the last tool that it switched away from, to make sure
the selected tool stays the same when switching layer types and back.

To avoid confusion, AbstractTool::enable/disable have been renamed to
activate/deactivate.

86d86aae
20	26	src/tiled/abstracttiletool.cpp
14	9	src/tiled/abstracttiletool.h
57	0	src/tiled/abstracttool.cpp
39	10	src/tiled/abstracttool.h
21	27	src/tiled/bucketfilltool.cpp
8	11	src/tiled/bucketfilltool.h
13	7	src/tiled/createobjecttool.cpp
10	2	src/tiled/createobjecttool.h
2	3	src/tiled/eraser.cpp
3	2	src/tiled/eraser.h
0	2	src/tiled/mainwindow.cpp
2	0	src/tiled/mapdocumentactionhandler.cpp
3	0	src/tiled/mapdocumentactionhandler.h
2	2	src/tiled/mapscene.cpp
5	5	src/tiled/selectiontool.cpp
2	2	src/tiled/selectiontool.h
5	16	src/tiled/stampbrush.cpp
6	11	src/tiled/stampbrush.h
62	3	src/tiled/toolmanager.cpp
4	0	src/tiled/toolmanager.h

--5838a016	2010-10-03T00:17:23+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Moved creation of objects into the Create Object tool

Cleans up the MapScene class and makes it possible to add other kind of
object tools.

Based on the work of Lithander.

5838a016
190	0	src/tiled/createobjecttool.cpp
70	0	src/tiled/createobjecttool.h
-	-	src/tiled/images/22x22/tool-create-object.png
2	0	src/tiled/mainwindow.cpp
3	0	src/tiled/mapobjectitem.cpp
8	6	src/tiled/mapobjectitem.h
7	102	src/tiled/mapscene.cpp
7	6	src/tiled/mapscene.h
13	0	src/tiled/objectgroupitem.cpp
10	0	src/tiled/objectgroupitem.h
4	2	src/tiled/tiled.pro
1	0	src/tiled/tiled.qrc

--52eb4af3	2010-10-19T11:25:18+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Some cleanups in the quick stamp feature

* Introduced TileLayer::usedTilesets to avoid duplicating this code
  between ClipboardManager::copySelection and MainWindow::saveQuickStamp
* Removed unnecessary include
* Clean up the quick stamps to prevent assertion in TilesetManager on exit
* Fixed crash when trying to save a quick stamp right after starting Tiled
* Use static_cast on TileLayer::clone rather than relying on asTileLayer

52eb4af3
11	0	src/libtiled/tilelayer.cpp
6	0	src/libtiled/tilelayer.h
1	9	src/tiled/clipboardmanager.cpp
56	51	src/tiled/mainwindow.cpp
10	11	src/tiled/mainwindow.h
4	5	src/tiled/toolmanager.h

--4ba35c6d	2010-10-08T01:01:59+02:00	Stefan Beller	stefanbeller@googlemail.com	Added quickstamp feature

The quickstamp feature allows you to store selections with
keycombination "Ctrl + <number>".

These selections are recalled just by key "<number>".

These quickstamps are very similar to copy/paste, since they are
hold in the same datastructure, a Map*.
The difference is, that they are only usable by the specific instance of
tiled, but the quickstamps-feature has more saving-slots.

Because of the similarity, some code of "paste"-functionality was
split into another function, to make code reuse easier.

4ba35c6d
134	19	src/tiled/mainwindow.cpp
19	0	src/tiled/mainwindow.h
2	0	src/tiled/stampbrush.h
6	0	src/tiled/toolmanager.h

--d11e46e9	2010-10-19T14:32:23+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Compress directly into the QByteArray as well

This is a followup on 9a808fc150ad10c9419864645741f36ed8864a57. It does
not make any noticable speedup since the compressed data is generally
small, but it does simplify the code a bit.

d11e46e9
11	12	src/libtiled/compression.cpp

--86d7a894	2010-10-19T00:18:28+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed build issues when an older version of libtiled is installed

Happened only when compiling against a Qt version installed to /usr/lib,
while having an older version of Tiled installed through the Ubuntu PPA.

Made sure that the linker prefers the current version of libtiled rather
than linking to a libtiled in /usr/lib. By using QMAKE_LIBDIR_FLAGS
rather than LIBS, we can make sure that our library search path is
inserted before the -L/usr/lib.

86d7a894
2	2	src/plugins/plugin.pri
2	2	src/tiled/tiled.pro

--9a808fc1	2010-10-09T21:25:48+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Avoid an unnecessary copy of the tile data after decompressing

Decompress directly into a QByteArray instead. This brings decompressing
a 1000x1000 tiles layer down from 9 ms to 6 ms on my machine, yay! It
shaves off 300 ms for 10000x10000 maps, though.

9a808fc1
11	24	src/libtiled/compression.cpp

--65a46826	2010-10-09T13:15:05+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.5'

Conflicts:
	src/tiled/tiled.pro

65a46826
--af8fcbfa	2010-10-09T12:50:33+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Support multiple shortcuts on certain actions

Use setShortcuts instead of setShortcut, so that all standard shortcuts
defined for a certain action get picked up. This applies for example to
cut and paste (Ctrl+X and Shift+Del now both work).

Also, Ctrl+= is now set as additional shortcut for zooming in, so that
pressing Shift is not required on US keyboard layouts.

af8fcbfa
17	13	src/tiled/mainwindow.cpp
1	1	src/tiled/mapdocumentactionhandler.cpp

--ed28c17b	2010-10-09T11:59:58+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Optimized TileLayer::region

For a large and complex 999x999 layer, the execution time of this method
went from 70 seconds to 15 milliseconds.

Was responsible for UI lockups when editing huge maps, since it is used
in the BrushItem.

ed28c17b
16	5	src/libtiled/tilelayer.cpp

--110703ee	2010-10-09T00:30:18+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Avoid conversion to/from QString for copy/paste handling

It's still doing some conversion in the QXmlStreamWriter and
QXmlStreamReader, but this avoids two additional conversions that were
happening in ClipboardManager and TmxMapReader.

110703ee
0	22	src/libtiled/mapwriter.cpp
0	6	src/libtiled/mapwriter.h
2	4	src/tiled/clipboardmanager.cpp
3	3	src/tiled/tmxmapreader.cpp
3	3	src/tiled/tmxmapreader.h
10	3	src/tiled/tmxmapwriter.cpp
5	5	src/tiled/tmxmapwriter.h

--58510045	2010-10-09T00:09:06+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed another extension check that should be case-insensitive

58510045
1	1	src/tiled/tmxmapreader.h

--f91eb5b0	2010-10-09T00:07:44+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Moved the TMX map writer into libtiled

Makes it a little more reusable, for example for other tools that modify
TMX maps.

f91eb5b0
2	0	src/libtiled/libtiled.pro
2	2	src/libtiled/mapreader.h
178	54	src/{tiled/tmxmapwriter.cpp => libtiled/mapwriter.cpp}
127	0	src/libtiled/mapwriter.h
0	4	src/tiled/mainwindow.cpp
5	4	src/tiled/preferences.cpp
4	4	src/tiled/preferences.h
12	11	src/tiled/preferencesdialog.cpp
2	2	src/tiled/preferencesdialog.h
0	4	src/tiled/tilesetview.cpp
25	413	src/tiled/tmxmapwriter.cpp
0	59	src/tiled/tmxmapwriter.h

--3dc10839	2010-10-07T14:59:58+02:00	Stefan Beller	stefanbeller@googlemail.com	Fixed newline in German translation

3dc10839
1	2	translations/tiled_de.ts

--f600e38a	2010-10-05T21:57:48+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made .tmx extension checks case-insensitive

No point in breaking when people save their maps as MAP.TMX.

f600e38a
3	2	src/tiled/mainwindow.cpp

--7ff8c788	2010-09-17T14:44:00-07:00	Mikolai Fajer	mfajer@gmail.com	Added a T-Engine4 map export plugin

See http://wiki.te4.org/t4modules:tiled_plugin for more information.

7ff8c788
1	1	src/plugins/plugins.pro
7	0	src/plugins/tengine/tengine.pro
32	0	src/plugins/tengine/tengine_global.h
252	0	src/plugins/tengine/tengineplugin.cpp
56	0	src/plugins/tengine/tengineplugin.h

--50d667f4	2010-10-03T23:52:29+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed the maximum sizes of the resize map dialog

The resize dialog should really use the same limits as the new map
dialog, which allows maps up to 9999 tiles in width/height.

Mantis-issue: 62

50d667f4
11	10	src/tiled/resizedialog.ui

--5c3e051e	2010-10-03T10:15:37+02:00	Stefan Beller	stefanbeller@googlemail.com	Improved compareLayers in autoMap

compareLayers compares two tile layers.
The first tile layer is examined at QRegion r1
The second tile layer is examined at r1 + offset

When there are tiles at both places, these will be compared.
If both are unequal, the compareLayers will return false.

If there is no tile in one layer, in the other layer there must be a
tile, which must not occur in the region of the first layer.

This implementation has the advantage to need less rules at all.
Example of a corner/curve in a wall
RuleRegion is a square of 2x2:
XX
XX
RuleSet: 3 tiles are the same, one is different (lower right):
Where the X are, there should be generated Walls, where Y is, somethink else
XX
XY
When having multiple floors you had to add this Rule as well previously:
XX
XZ

With this patch it is possible to create this rule:
(empty place in lower right corner, so there can be anything except X) to be valid.
XX
X

This is one rule, but can handle multiple floors.

5c3e051e
28	2	src/tiled/automap.cpp

--4bdacf2c	2010-10-03T20:56:59+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Set an appropriate cursor on editable map objects

Should indicate that you can drag the objects around. Also overrides the
resize cursor shown on the resize handle when an object overlaps it,
avoiding some confusion.

4bdacf2c
4	0	src/tiled/mapobjectitem.cpp

--82817742	2010-10-03T20:23:04+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Prefer local undo stack reference

82817742
1	1	src/tiled/mainwindow.cpp

--7ea73b52	2010-10-03T20:19:23+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added option to use OpenGL when available

Disabled by default for now, since it has some known issues. When using
OpenGL the tile grid looks uglier and the main window switches to native
widgets (which causes flickering when dragging the splitters).

7ea73b52
29	0	src/tiled/mapview.cpp
1	0	src/tiled/mapview.h
12	0	src/tiled/preferences.cpp
11	2	src/tiled/preferences.h
18	0	src/tiled/preferencesdialog.cpp
1	0	src/tiled/preferencesdialog.h
11	4	src/tiled/preferencesdialog.ui
1	0	src/tiled/tiled.pro

--e1afe41a	2010-10-01T22:13:19+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed inconsistency in naming of object layers

In libtiled and in the tmx file format, they are called object groups
rather than layers. Even though it's more like a layer, this is the
traditional name, which has already spread to other libraries as well.
It makes no sense to try and change it at this point.

Not touching the UI for now.

e1afe41a
1	1	src/libtiled/map.cpp
1	1	src/libtiled/map.h
1	1	src/tiled/layerdock.cpp
2	2	src/tiled/layermodel.cpp
1	1	src/tiled/layermodel.h
1	1	src/tiled/mainwindow.cpp
2	2	src/tiled/mapdocument.cpp
1	1	src/tiled/mapdocument.h
7	7	src/tiled/mapdocumentactionhandler.cpp
3	3	src/tiled/mapdocumentactionhandler.h

--2b611569	2010-10-01T21:54:33+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed the coding style of MainWindow::autoMap

Also fixed a crash when trying to use automap without a map loaded and
added trimming of the lines in the rules file.

2b611569
57	55	src/tiled/mainwindow.cpp

--db6cfe7a	2010-10-01T21:23:20+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Also added the XML Schema Definition by Olivier Beaton

db6cfe7a
258	0	docs/map.xsd

--88b47f4b	2010-10-01T19:43:26+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added the DTD file for .tmx maps to the docs

This file was last changed Sep 2008 and probably somewhat out of date.
Will be updated later.

88b47f4b
121	0	docs/map.dtd

--6324ba29	2010-10-01T12:13:10+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Add -lz for anything that is not Windows

Same as commit 81ee48b7d20f5bd15462279edca21cab86d8127d, but on this
branch the change needed to be made to a different .pro file.

6324ba29
1	1	src/tiled/tiled.pro

--3972cfd3	2010-09-30T13:03:35+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed shortcuts to move layer up/down in German translation

Key names should not be translated.

3972cfd3
2	2	translations/tiled_de.ts

--e4266461	2010-09-30T12:26:58+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed updating translations from a shadow build directory

e4266461
1	1	translations/translations.pro

--b03f8682	2010-09-28T22:18:33+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Code style fixes to the automapper

Also converted some explicit allocation/deletion to automatic memory
management where possible.

Added Stefan Beller to the AUTHORS file.

b03f8682
1	0	AUTHORS
1	0	NEWS
3	3	src/libtiled/map.cpp
6	6	src/libtiled/map.h
137	176	src/tiled/automap.cpp
59	80	src/tiled/automap.h

--aa7b964c	2010-09-24T18:39:20+02:00	Stefan Beller	stefanbeller@googlemail.com	Added automatic mapping feature

The automatic Mapping feature can generate certain parts of the map.
It uses a ruleset which needs to be predefined first.
Further information can be found here:

http://wiki.themanaworld.org/index.php/User:Argul/automapping

Reviewed-by: Thorbjørn Lindeijer

aa7b964c
14	0	src/libtiled/map.cpp
12	0	src/libtiled/map.h
475	0	src/tiled/automap.cpp
243	0	src/tiled/automap.h
56	1	src/tiled/mainwindow.cpp
1	0	src/tiled/mainwindow.h
6	0	src/tiled/mainwindow.ui
2	0	src/tiled/tiled.pro

--dad1bebb	2010-09-23T20:13:31+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed unnecessary code to enable overriding the graphics system

It is already possible to override the graphics system, since the
-graphicssystem argument takes precedence over the graphics system
specified by the application.

dad1bebb
3	11	src/tiled/main.cpp

--81ee48b7	2010-09-21T19:12:05+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Add -lz for anything that is not Windows

Turns out to be also necessary on Fedora, so let's just do it on all
Unixes.

81ee48b7
1	1	src/libtiled/libtiled.pro

--da03e027	2010-09-19T23:19:04+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.5'

da03e027
--6a2ad30f	2010-09-19T23:16:11+02:00	Bin Wu	98wubin@gmail.com	Added Chinese translation

6a2ad30f
1	0	AUTHORS
2	0	NEWS
1495	0	translations/tiled_zh.ts
1	1	translations/translations.pro

--63106bbe	2010-09-16T20:52:59+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Make the map reader test compile again

Was broken since moving the map reader into libtiled.

63106bbe
1	1	.gitignore
7	8	tests/{test_tmxmapreader.cpp => test_mapreader.cpp}
1	7	tests/{test_tmxmapreader.pro => test_mapreader.pro}

--a7dfdbad	2010-09-16T14:58:37+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed compilation with Visual C++ 2008 Express

It doesn't recognize namespaced symbols in member function parameters, even
when the class is defined as part of that namespace. So add some explicit
using directives.

a7dfdbad
1	0	src/tiled/changeproperties.cpp
1	0	src/tiled/isometricrenderer.cpp
1	0	src/tiled/orthogonalrenderer.cpp
1	0	src/tiled/propertiesdialog.cpp

--241fafd4	2010-09-15T14:38:09+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Adjust phony target hacks to gdb_dwarf_index addition in qt master

Following commit 9cc4a77886247fc2 in Qt Creator.

241fafd4
1	1	translations/translations.pro

--e9449e03	2010-09-08T21:40:20+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Remember the selected layer across restarts

e9449e03
8	0	src/tiled/mainwindow.cpp

--0f2f93b9	2010-09-08T16:43:04+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Simplify tiled.pri

This turns out to be a no-op.

0f2f93b9
0	1	tiled.pri

--aab086da	2010-09-05T22:48:45-06:00	Jeff Bland	jksb@member.fsf.org	Allow dragging an image onto Tiled to add a tileset

Mantis-issue: 46

aab086da
22	3	src/tiled/mainwindow.cpp
1	1	src/tiled/mainwindow.h
8	0	src/tiled/newtilesetdialog.cpp
5	0	src/tiled/newtilesetdialog.h

--5e165d98	2010-09-06T10:08:29+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Moved the adding of zlib include path on Windows to libtiled.pro

5e165d98
2	0	src/libtiled/libtiled.pro
1	1	src/tiled/tiled.pro

--40603b0f	2010-09-05T21:10:51-06:00	Jeff Bland	jksb@member.fsf.org	Compile fix for mac build

Libtiled needs -lz since the map reader was moved to libtiled.

40603b0f
1	0	src/libtiled/libtiled.pro
0	1	src/tiled/tiled.pro

--4a1c6945	2010-09-04T14:05:36+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Introduced a base class for anything that can hold properties

Simply called 'Object' since I couldn't think of anything better.

4a1c6945
1	1	src/libtiled/layer.cpp
2	19	src/libtiled/layer.h
2	1	src/libtiled/libtiled.pro
1	1	src/libtiled/map.cpp
2	14	src/libtiled/map.h
1	1	src/libtiled/mapobject.cpp
2	14	src/libtiled/mapobject.h
5	5	src/libtiled/mapreader.cpp
77	0	src/libtiled/object.h
2	14	src/libtiled/tile.h
5	5	src/tiled/changeproperties.cpp
5	5	src/tiled/changeproperties.h
6	6	src/tiled/mainwindow.cpp
1	1	src/tiled/objectgrouppropertiesdialog.cpp
1	1	src/tiled/objectpropertiesdialog.cpp
6	6	src/tiled/propertiesdialog.cpp
4	4	src/tiled/propertiesdialog.h
1	1	src/tiled/tilesetview.cpp

--1ce299f6	2010-09-04T13:10:00+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Introduced a Properties class to replace QMap<QString,QString>

It also provides a 'merge' method which merges in another set of
properties, overriding existing values with new ones (contrary to
QMap::unite, which would insert multiple values).

1ce299f6
4	5	src/libtiled/layer.h
4	2	src/libtiled/libtiled.pro
4	6	src/libtiled/map.h
4	5	src/libtiled/mapobject.h
5	5	src/libtiled/mapreader.cpp
34	0	src/libtiled/properties.cpp
39	0	src/libtiled/properties.h
4	6	src/libtiled/tile.h
3	3	src/tiled/changeproperties.cpp
6	5	src/tiled/changeproperties.h
4	5	src/tiled/mainwindow.cpp
2	2	src/tiled/propertiesdialog.cpp
4	3	src/tiled/propertiesdialog.h
3	2	src/tiled/propertiesmodel.cpp
5	4	src/tiled/propertiesmodel.h
4	4	src/tiled/tmxmapwriter.cpp
2	1	src/tiled/tmxmapwriter.h

--23ad86a2	2010-07-04T17:25:17+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Moved the TMX map reader into libtiled

This also meant a small redesign to still be able to check whether a
tileset is already loaded and to avoid duplicating tilesets on
copy/paste in the editor part.

23ad86a2
3	4	src/{tiled => libtiled}/compression.cpp
6	4	src/{tiled => libtiled}/compression.h
8	4	src/libtiled/libtiled.pro
13	0	src/libtiled/map.cpp
7	0	src/libtiled/map.h
117	166	src/{tiled/tmxmapreader.cpp => libtiled/mapreader.cpp}
121	0	src/libtiled/mapreader.h
11	0	src/libtiled/tilelayer.cpp
5	0	src/libtiled/tilelayer.h
1	2	src/libtiled/tileset.cpp
6	3	src/libtiled/tileset.h
61	20	src/tiled/mainwindow.cpp
2	2	src/tiled/mapwriterinterface.h
2	2	src/tiled/newtilesetdialog.cpp
0	2	src/tiled/tiled.pro
4	2	src/tiled/tilesetmanager.cpp
25	720	src/tiled/tmxmapreader.cpp

--157d413d	2010-09-03T21:06:08+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Store the tileset image width/height in the map file

Useful for when you can't load the image just at the moment, but still
want to figure out where your tiles should be.

In the future it can also be used to be able to load maps correctly
after extending the width of a tileset image, which at the moment messes
up the tile indices.

157d413d
2	0	src/libtiled/tileset.cpp
14	0	src/libtiled/tileset.h
7	0	src/tiled/tmxmapwriter.cpp

--67d8222a	2010-09-02T21:47:49+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.5'

67d8222a
--46baf3aa	2010-09-02T21:28:43+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Bumped version to 0.5.1

46baf3aa
1	0	NEWS
1	1	src/tiled/main.cpp

--d7584820	2010-08-24T09:13:32+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.5'

d7584820
--a85f0944	2010-08-24T09:10:38+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed saving of object location when tile width is different from height

I mixed them up in the map writer...

a85f0944
1	0	NEWS
4	4	src/tiled/tmxmapwriter.cpp

--0aa84937	2010-06-26T21:03:05+02:00	Petr Viktorin	encukou@gmail.com	Update the Czech translation

0aa84937
2	0	NEWS
79	503	translations/tiled_cs.ts

--b054d686	2010-08-03T16:16:40+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed small logic error in the ColorButton

b054d686
1	1	src/tiled/colorbutton.cpp

--bac45194	2010-07-15T18:21:53+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.5'

bac45194
--a8519d33	2010-07-15T18:20:01+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Escape backslashes to avoid qmake warning since Qt 4.7

a8519d33
1	1	tiled.pro

--8c2edef2	2010-07-09T05:04:15-06:00	Jeff Bland	jksb@member.fsf.org	Mac release script now uses macdeployqt and includes the examples directory

8c2edef2
4	22	make-dist-mac.sh

--2c646a3e	2010-07-08T04:26:54-06:00	Jeff Bland	jksb@member.fsf.org	Added a script to bundle Qt with the app and build a dmg for mac releases

2c646a3e
69	0	make-dist-mac.sh

--5534d557	2010-07-07T23:18:00+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed the tile layer icon to be 16x16 instead of 13x13

5534d557
-	-	src/tiled/images/16x16/layer-tile.png
6	5	src/tiled/images/tilelayer-icon.svg

--bdb9ba42	2010-07-07T22:42:05+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.5'

bdb9ba42
--0ea5b3de	2010-07-07T22:41:17+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed translations on Mac OS X

Untested, but should work like this.

0ea5b3de
2	0	src/tiled/languagemanager.cpp
2	0	translations/translations.pro

--7371c114	2010-07-07T00:54:35-06:00	Jeff Bland	jksb@member.fsf.org	Added "Move To Layer" submenu to the right click menu of an object

7371c114
32	0	src/tiled/mapobjectitem.cpp
60	0	src/tiled/movemapobjecttogroup.cpp
55	0	src/tiled/movemapobjecttogroup.h
2	0	src/tiled/tiled.pro

--91e0e154	2010-07-04T17:21:15+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed the map reader test

Not that useful, but at least it should compile. Fortunately it's still
passing. :)

91e0e154
21	10	tests/test_tmxmapreader.pro

--4355242e	2010-07-04T17:26:44+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Show an icon to distinguish tile layers from object layers

4355242e
-	-	src/tiled/images/16x16/layer-object.png
-	-	src/tiled/images/16x16/layer-tile.png
102	0	src/tiled/images/objectlayer-icon.svg
153	0	src/tiled/images/tilelayer-icon.svg
9	1	src/tiled/layermodel.cpp
4	0	src/tiled/layermodel.h
2	0	src/tiled/tiled.qrc

--a34a039f	2010-07-06T14:34:46+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Make sure that plugins are also compiled universally when possible

Moved the ppc detection into the common tiled.pri file.

a34a039f
0	3	src/tiled/tiled.pro
7	3	tiled.pri

--86a92cf1	2010-07-05T19:03:41+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed the install rule for the translations

86a92cf1
6	5	translations/translations.pro

--a2c10e66	2010-07-05T18:54:35+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Also set rpath on plugins

To make sure they resolve libtiled correctly.

a2c10e66
9	0	src/plugins/plugin.pri

--e362e907	2010-06-30T20:55:03+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed a crash when pressing a modifier key when no map is loaded

e362e907
1	1	src/tiled/mapscene.cpp

--f661e48b	2010-06-30T20:47:42+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added Andrew G. Crowell to the list of contributors

f661e48b
1	0	AUTHORS

--7716f48d	2010-06-30T20:33:40+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated the NEWS file with the updated translations and release date

7716f48d
3	1	NEWS

--cb88375f	2010-06-29T21:47:25+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Set some menu roles as appropriate on Mac OS X

cb88375f
12	0	src/tiled/mainwindow.ui

--8a79d62a	2010-01-19T20:03:26+01:00	Mauricio Muñoz Lucero	real.mml@gmail.com	Updated Spanish translation

8a79d62a
78	70	translations/tiled_es.ts

--36fe3fb3	2010-06-29T12:49:37+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Disable the frame around the map view on Mac OS X

It looks ugly.

36fe3fb3
3	0	src/tiled/mainwindow.cpp

--648ceeeb	2010-06-28T23:20:06+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed building and running Tiled on Mac OS X

Make sure libtiled.1.dylib is part of the application bundle,
and QMAKE_LFLAGS_SONAME on libtiled so that Tiled will be able to
find this library when it is later executed.

Plugins are still failing to load for some reason. Reports "not
a valid Qt plugin".

648ceeeb
5	0	src/libtiled/libtiled.pro
6	0	src/plugins/plugin.pri
2	0	src/tiled/pluginmanager.cpp
5	0	src/tiled/tiled.pro

--a36ab422	2010-06-28T23:20:06+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed the French translation of the About dialog

The source string was translated rather than adding the translatation
under the translation element.

a36ab422
6	2	translations/tiled_fr.ts

--78ea5f82	2010-06-28T22:54:47+02:00	Porfírio Ribeiro	porfirioribeiro@gmail.com	Updated the Portuguese translation

78ea5f82
77	70	translations/tiled_pt.ts

--d1a5c8c2	2010-06-28T22:34:51+02:00	Yohann Ferreira	yohann.ferreira@orange.fr	Updated the French translation

d1a5c8c2
61	61	translations/tiled_fr.ts

--96023cc0	2010-06-28T21:17:28+02:00	Jonatas de Moraes Junior	jmoraes@gmail.com	Updated the Brazilian Portuguese translation

96023cc0
73	70	translations/tiled_pt_BR.ts

--d3df5b6a	2010-06-28T18:31:14+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Don't do the rpath thing on Mac OS X either

d3df5b6a
1	1	src/tiled/tiled.pro

--aa45cfb8	2010-06-27T23:54:40+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed pointless interfaces

The MapReader, MapWriter and PluggableMapIO interfaces were only useful
in the context of extending Tiled Java. The XMLMapWriter and
XMLMapTransformer were renamed to the more appropriate TMXMapWriter and
TMXMapReader.

Also removed the unimplemented BorderTileCutter class.

aa45cfb8
0	28	util/libtiled-java/tiled/core/Map.java
0	65	util/libtiled-java/tiled/io/MapReader.java
0	66	util/libtiled-java/tiled/io/MapWriter.java
0	63	util/libtiled-java/tiled/io/PluggableMapIO.java
6	40	util/libtiled-java/tiled/io/xml/{XMLMapTransformer.java => TMXMapReader.java}
2	30	util/libtiled-java/tiled/io/xml/{XMLMapWriter.java => TMXMapWriter.java}
1	17	util/libtiled-java/tiled/mapeditor/Resources.java
0	42	util/libtiled-java/tiled/mapeditor/util/cutter/BorderTileCutter.java

--3766847b	2010-06-27T22:37:01+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed old Subversion $Id$ markers

3766847b
0	2	util/libtiled-java/tiled/core/Map.java
0	3	util/libtiled-java/tiled/core/Sprite.java
0	2	util/libtiled-java/tiled/core/Tile.java
0	2	util/libtiled-java/tiled/core/TileLayer.java
0	2	util/libtiled-java/tiled/io/ImageHelper.java
0	3	util/libtiled-java/tiled/io/PluginLogger.java
0	2	util/libtiled-java/tiled/io/xml/XMLWriter.java
0	3	util/libtiled-java/tiled/io/xml/XMLWriterException.java
1	3	util/libtiled-java/tiled/mapeditor/Resources.java
0	3	util/libtiled-java/tiled/mapeditor/util/cutter/BorderTileCutter.java
0	2	util/libtiled-java/tiled/mapeditor/util/cutter/TileCutter.java

--c4a03c3d	2010-06-27T22:24:48+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed layer locking and change events

They are only useful in the context of an editor, and pointless overhead
for most games.

c4a03c3d
0	25	util/libtiled-java/tiled/core/LayerLockedException.java
3	204	util/libtiled-java/tiled/core/Map.java
0	37	util/libtiled-java/tiled/core/MapChangeAdapter.java
0	32	util/libtiled-java/tiled/core/MapChangeListener.java
0	29	util/libtiled-java/tiled/core/MapChangedEvent.java
0	36	util/libtiled-java/tiled/core/MapLayer.java
0	52	util/libtiled-java/tiled/core/MapLayerChangeEvent.java
0	16	util/libtiled-java/tiled/core/MapLayerChangeListener.java
0	44	util/libtiled-java/tiled/core/MapParallaxChangeEvent.java
0	14	util/libtiled-java/tiled/core/MapParallaxChangeListener.java
2	35	util/libtiled-java/tiled/core/TileLayer.java
0	41	util/libtiled-java/tiled/core/TileSet.java
0	30	util/libtiled-java/tiled/core/TilesetChangeListener.java
0	31	util/libtiled-java/tiled/core/TilesetChangedEvent.java

--8ed43c5c	2010-06-27T21:46:20+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Suppress compilation warning related to passing null to varargs methods

8ed43c5c
2	2	util/libtiled-java/tiled/io/xml/XMLMapTransformer.java

--be435973	2010-06-27T21:49:17+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Ignore artifacts from libtiled-java build

be435973
2	0	util/libtiled-java/.gitignore

--7576f155	2010-06-27T21:45:09+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Make it compile, removing references to classes that are not included

Shouldn't be referencing editor-specific classes like SelectionLayer and
TiledConfiguration.

7576f155
0	5	util/libtiled-java/tiled/core/AnimatedTile.java
10	36	util/libtiled-java/tiled/io/xml/XMLMapWriter.java

--cc21f847	2010-06-27T20:48:40+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added initial version of libtiled-java based on tiled-core.jar

These are the core classes from Tiled Java, which previously could be
built as tiled-core.jar. Now reintruduced as libtiled.jar.

The exact code is a mix between the 'default' and '0.7' branches in the
Tiled Java repository.

cc21f847
20	0	util/libtiled-java/README
46	0	util/libtiled-java/build.xml
100	0	util/libtiled-java/tiled/core/AnimatedTile.java
25	0	util/libtiled-java/tiled/core/LayerLockedException.java
548	0	util/libtiled-java/tiled/core/Map.java
37	0	util/libtiled-java/tiled/core/MapChangeAdapter.java
32	0	util/libtiled-java/tiled/core/MapChangeListener.java
29	0	util/libtiled-java/tiled/core/MapChangedEvent.java
333	0	util/libtiled-java/tiled/core/MapLayer.java
52	0	util/libtiled-java/tiled/core/MapLayerChangeEvent.java
16	0	util/libtiled-java/tiled/core/MapLayerChangeListener.java
182	0	util/libtiled-java/tiled/core/MapObject.java
44	0	util/libtiled-java/tiled/core/MapParallaxChangeEvent.java
14	0	util/libtiled-java/tiled/core/MapParallaxChangeListener.java
272	0	util/libtiled-java/tiled/core/MultilayerPlane.java
187	0	util/libtiled-java/tiled/core/ObjectGroup.java
369	0	util/libtiled-java/tiled/core/Sprite.java
279	0	util/libtiled-java/tiled/core/Tile.java
503	0	util/libtiled-java/tiled/core/TileLayer.java
730	0	util/libtiled-java/tiled/core/TileSet.java
30	0	util/libtiled-java/tiled/core/TilesetChangeListener.java
31	0	util/libtiled-java/tiled/core/TilesetChangedEvent.java
79	0	util/libtiled-java/tiled/io/ImageHelper.java
65	0	util/libtiled-java/tiled/io/MapReader.java
66	0	util/libtiled-java/tiled/io/MapWriter.java
63	0	util/libtiled-java/tiled/io/PluggableMapIO.java
45	0	util/libtiled-java/tiled/io/PluginLogger.java
879	0	util/libtiled-java/tiled/io/xml/XMLMapTransformer.java
680	0	util/libtiled-java/tiled/io/xml/XMLMapWriter.java
192	0	util/libtiled-java/tiled/io/xml/XMLWriter.java
23	0	util/libtiled-java/tiled/io/xml/XMLWriterException.java
82	0	util/libtiled-java/tiled/mapeditor/Resources.java
121	0	util/libtiled-java/tiled/mapeditor/resources/map.dtd
46	0	util/libtiled-java/tiled/mapeditor/util/TransparentImageFilter.java
101	0	util/libtiled-java/tiled/mapeditor/util/cutter/BasicTileCutter.java
45	0	util/libtiled-java/tiled/mapeditor/util/cutter/BorderTileCutter.java
56	0	util/libtiled-java/tiled/mapeditor/util/cutter/TileCutter.java
285	0	util/libtiled-java/tiled/util/Base64.java
173	0	util/libtiled-java/tiled/util/NumberedSet.java
73	0	util/libtiled-java/tiled/util/Util.java

--ef98e8f6	2010-06-28T00:03:23+02:00	Janis Kirsteins	kirsis@gmail.com	Updated the Latvian translation

ef98e8f6
41	41	translations/tiled_lv.ts

--18a3718b	2010-06-27T21:47:57+02:00	seeseekey	seeseekey@googlemail.com	Updated the German translation

18a3718b
73	73	translations/tiled_de.ts

--3270cd26	2010-06-27T14:13:43+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Avoid mixing debug and release dlls

By using qtLibraryTarget but no explicit separation of the resulting files,
it was easy to end up with mixed debug/release dlls, which caused Tiled to
crash on startup.

Better try to avoid the issue by using the same file name, so that a clean
build isn't mixing debug/release.

3270cd26
1	1	src/libtiled/libtiled.pri
1	1	src/libtiled/libtiled.pro
0	2	src/plugins/plugin.pri

--4aacdf6c	2010-06-27T12:32:49+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated all translation files to the current source once more

Mainly because they accidentally included a bogus string from a plugin I
used for testing.

4aacdf6c
14	22	translations/tiled_cs.ts
14	22	translations/tiled_de.ts
14	22	translations/tiled_es.ts
14	22	translations/tiled_fr.ts
14	22	translations/tiled_it.ts
15	19	translations/tiled_ja.ts
14	22	translations/tiled_lv.ts
14	22	translations/tiled_pt.ts
14	22	translations/tiled_pt_BR.ts

--4dd3f025	2010-06-27T12:32:13+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated Dutch translation

4dd3f025
89	92	translations/tiled_nl.ts

--63b0ad15	2010-06-27T12:00:12+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed the map document actions to translate dynamically

Forgot about that when moving things there.

63b0ad15
15	12	src/tiled/mainwindow.cpp
2	0	src/tiled/mainwindow.h
24	9	src/tiled/mapdocumentactionhandler.cpp
2	0	src/tiled/mapdocumentactionhandler.h

--c07a31ee	2010-06-27T11:20:36+02:00	Hiroki Utsunomiya	teraapi@gmail.com	Updated the Japanese translation

c07a31ee
74	71	translations/tiled_ja.ts

--40c62f95	2010-06-27T02:53:59+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Add forgotten tiled.pri file

Should have been part of commit 7d6ae8b72f378fb63802ffa77d34f75fbf9350b4

40c62f95
5	0	tiled.pri

--e2df00c5	2010-06-27T02:21:24+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed some build issues on Windows and with shadow builds

Also realized the the 'plugins' directory is also used for Qt plugins, so
make sure to store the Tiled plugins in 'plugins/tiled'.

e2df00c5
2	6	src/plugins/plugin.pri
1	1	src/tiled/pluginmanager.cpp
1	1	src/tiled/tiled.pro

--0bfe928a	2010-06-27T00:39:05+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Make the rpath relative as well

Makes sure the tiled binary can always find libtiled, whether run from
the repository or from its installed location.

0bfe928a
5	2	src/tiled/tiled.pro

--a5e60a25	2010-06-27T00:29:44+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Prevent a crash when the clipboard has no mime data

Only happened on Maemo 5 and may be a bug in that Qt port, but the check
can't hurt.

a5e60a25
2	1	src/tiled/clipboardmanager.cpp

--7d6ae8b7	2010-06-27T00:27:35+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added an install target to the Makefile

The relative paths to translations and plugins now work both inside the
repository as well as for the installed binary.

Also changed around things a bit on Windows, untested.

7d6ae8b7
1	0	NEWS
23	2	README
6	4	src/libtiled/libtiled.pro
8	0	src/plugins/plugin.pri
12	9	src/tiled/languagemanager.cpp
4	0	src/tiled/pluginmanager.cpp
13	7	src/tiled/tiled.pro
12	0	translations/translations.pro

--0bb12195	2010-06-26T19:02:44+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated translation files to the current source

0bb12195
456	136	translations/tiled_cs.ts
485	154	translations/tiled_de.ts
485	154	translations/tiled_es.ts
498	167	translations/tiled_fr.ts
484	153	translations/tiled_it.ts
593	274	translations/tiled_ja.ts
282	133	translations/tiled_lv.ts
489	142	translations/tiled_nl.ts
485	166	translations/tiled_pt.ts
486	151	translations/tiled_pt_BR.ts

--d4152ce0	2010-06-26T18:39:04+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Specify the QMAKE_LFLAGS_RPATH

Otherwise it wouldn't work for the Qt 4.6.3 installed on my system for
some reason.

d4152ce0
1	0	src/tiled/tiled.pro

--39628a98	2010-06-26T18:14:32+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	No longer force debug symbols in all builds

39628a98
0	1	src/tiled/tiled.pro

--171c5a2d	2010-06-26T17:58:29+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Use qtLibraryTarget to adapt to system-dependent library name changes

For example it should on Windows call the debug library tiledd.dll.

171c5a2d
1	1	src/libtiled/libtiled.pro

--4ad24db7	2010-06-26T17:43:43+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Disable the Add External Tileset action when appropriate

4ad24db7
1	0	src/tiled/mainwindow.cpp

--fbc4fe19	2010-06-26T17:25:03+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Make sure the symbols are exported from libtiled

This is needed on Windows, where symbols are not exported by default. To
make sure this gets some testing on Linux as well, visibility is set to
hidden there too now.

fbc4fe19
3	1	src/libtiled/layer.h
3	0	src/libtiled/libtiled.pro
3	1	src/libtiled/map.h
3	1	src/libtiled/mapobject.h
3	1	src/libtiled/objectgroup.h
3	1	src/libtiled/tile.h
32	0	src/libtiled/tiled_global.h
3	1	src/libtiled/tilelayer.h
3	1	src/libtiled/tileset.h
1	0	src/plugins/plugin.pri

--70fa69da	2010-06-26T17:11:36+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Split a small libtiled off the Tiled application

It currently contains only the basic types like Map, Layer, Tile, etc.
This is sufficient for allowing Tiled plugins to use these classes when
loading/saving maps.

70fa69da
2	0	.gitignore
0	0	src/{ => libtiled}/layer.cpp
0	0	src/{ => libtiled}/layer.h
3	0	src/libtiled/libtiled.pri
29	0	src/libtiled/libtiled.pro
0	0	src/{ => libtiled}/map.cpp
0	0	src/{ => libtiled}/map.h
0	0	src/{ => libtiled}/mapobject.cpp
0	0	src/{ => libtiled}/mapobject.h
0	0	src/{ => libtiled}/objectgroup.cpp
0	0	src/{ => libtiled}/objectgroup.h
0	0	src/{ => libtiled}/tile.h
0	0	src/{ => libtiled}/tilelayer.cpp
0	0	src/{ => libtiled}/tilelayer.h
0	0	src/{ => libtiled}/tileset.cpp
0	0	src/{ => libtiled}/tileset.h
18	0	src/plugins/plugin.pri
1	5	src/plugins/tmw/tmw.pro
4	194	src/src.pro
0	0	src/{ => tiled}/Info.plist
0	0	src/{ => tiled}/aboutdialog.cpp
0	0	src/{ => tiled}/aboutdialog.h
0	0	src/{ => tiled}/aboutdialog.ui
0	0	src/{ => tiled}/abstracttiletool.cpp
0	0	src/{ => tiled}/abstracttiletool.h
0	0	src/{ => tiled}/abstracttool.cpp
0	0	src/{ => tiled}/abstracttool.h
0	0	src/{ => tiled}/addremovelayer.cpp
0	0	src/{ => tiled}/addremovelayer.h
0	0	src/{ => tiled}/addremovemapobject.cpp
0	0	src/{ => tiled}/addremovemapobject.h
0	0	src/{ => tiled}/addremovetileset.cpp
0	0	src/{ => tiled}/addremovetileset.h
0	0	src/{ => tiled}/brushitem.cpp
0	0	src/{ => tiled}/brushitem.h
0	0	src/{ => tiled}/bucketfilltool.cpp
0	0	src/{ => tiled}/bucketfilltool.h
0	0	src/{ => tiled}/changemapobject.cpp
0	0	src/{ => tiled}/changemapobject.h
0	0	src/{ => tiled}/changeobjectgroupproperties.cpp
0	0	src/{ => tiled}/changeobjectgroupproperties.h
0	0	src/{ => tiled}/changeproperties.cpp
0	0	src/{ => tiled}/changeproperties.h
0	0	src/{ => tiled}/changeselection.cpp
0	0	src/{ => tiled}/changeselection.h
0	0	src/{ => tiled}/clipboardmanager.cpp
0	0	src/{ => tiled}/clipboardmanager.h
0	0	src/{ => tiled}/colorbutton.cpp
0	0	src/{ => tiled}/colorbutton.h
0	0	src/{ => tiled}/compression.cpp
0	0	src/{ => tiled}/compression.h
0	0	src/{ => tiled}/eraser.cpp
0	0	src/{ => tiled}/eraser.h
0	0	src/{ => tiled}/erasetiles.cpp
0	0	src/{ => tiled}/erasetiles.h
0	0	src/{ => tiled}/filltiles.cpp
0	0	src/{ => tiled}/filltiles.h
-	-	src/{ => tiled}/images/16x16/application-exit.png
-	-	src/{ => tiled}/images/16x16/document-export.png
-	-	src/{ => tiled}/images/16x16/document-import.png
-	-	src/{ => tiled}/images/16x16/document-new.png
-	-	src/{ => tiled}/images/16x16/document-open-recent.png
-	-	src/{ => tiled}/images/16x16/document-open.png
-	-	src/{ => tiled}/images/16x16/document-page-setup.png
-	-	src/{ => tiled}/images/16x16/document-properties.png
-	-	src/{ => tiled}/images/16x16/document-save-as.png
-	-	src/{ => tiled}/images/16x16/document-save.png
-	-	src/{ => tiled}/images/16x16/drive-harddisk.png
-	-	src/{ => tiled}/images/16x16/edit-clear.png
-	-	src/{ => tiled}/images/16x16/edit-copy.png
-	-	src/{ => tiled}/images/16x16/edit-cut.png
-	-	src/{ => tiled}/images/16x16/edit-delete.png
-	-	src/{ => tiled}/images/16x16/edit-paste.png
-	-	src/{ => tiled}/images/16x16/edit-redo.png
-	-	src/{ => tiled}/images/16x16/edit-undo.png
-	-	src/{ => tiled}/images/16x16/go-down.png
-	-	src/{ => tiled}/images/16x16/go-up.png
-	-	src/{ => tiled}/images/16x16/help-about.png
-	-	src/{ => tiled}/images/16x16/stock-duplicate-16.png
-	-	src/{ => tiled}/images/16x16/window-close.png
-	-	src/{ => tiled}/images/16x16/zoom-in.png
-	-	src/{ => tiled}/images/16x16/zoom-original.png
-	-	src/{ => tiled}/images/16x16/zoom-out.png
-	-	src/{ => tiled}/images/22x22/stock-tool-bucket-fill.png
-	-	src/{ => tiled}/images/22x22/stock-tool-clone.png
-	-	src/{ => tiled}/images/22x22/stock-tool-eraser.png
-	-	src/{ => tiled}/images/22x22/stock-tool-rect-select.png
-	-	src/{ => tiled}/images/24x24/document-new.png
-	-	src/{ => tiled}/images/24x24/document-open-recent.png
-	-	src/{ => tiled}/images/24x24/document-open.png
-	-	src/{ => tiled}/images/24x24/document-page-setup.png
-	-	src/{ => tiled}/images/24x24/document-properties.png
-	-	src/{ => tiled}/images/24x24/document-save-as.png
-	-	src/{ => tiled}/images/24x24/document-save.png
-	-	src/{ => tiled}/images/24x24/drive-harddisk.png
-	-	src/{ => tiled}/images/24x24/edit-clear.png
-	-	src/{ => tiled}/images/24x24/edit-copy.png
-	-	src/{ => tiled}/images/24x24/edit-cut.png
-	-	src/{ => tiled}/images/24x24/edit-paste.png
-	-	src/{ => tiled}/images/24x24/edit-redo.png
-	-	src/{ => tiled}/images/24x24/edit-undo.png
-	-	src/{ => tiled}/images/24x24/go-down.png
-	-	src/{ => tiled}/images/24x24/go-up.png
-	-	src/{ => tiled}/images/24x24/help-about.png
-	-	src/{ => tiled}/images/24x24/zoom-in.png
-	-	src/{ => tiled}/images/24x24/zoom-original.png
-	-	src/{ => tiled}/images/24x24/zoom-out.png
-	-	src/{ => tiled}/images/about-tiled-logo.png
-	-	src/{ => tiled}/images/tiled-icon-16.png
-	-	src/{ => tiled}/images/tiled-icon-32.png
-	-	src/{ => tiled}/images/tiled-icon-mac.icns
0	0	src/{ => tiled}/images/tiled-icon.svg
0	0	src/{ => tiled}/isometricrenderer.cpp
0	0	src/{ => tiled}/isometricrenderer.h
0	0	src/{ => tiled}/languagemanager.cpp
0	0	src/{ => tiled}/languagemanager.h
0	0	src/{ => tiled}/layerdock.cpp
0	0	src/{ => tiled}/layerdock.h
0	0	src/{ => tiled}/layermodel.cpp
0	0	src/{ => tiled}/layermodel.h
0	0	src/{ => tiled}/main.cpp
0	0	src/{ => tiled}/mainwindow.cpp
0	0	src/{ => tiled}/mainwindow.h
0	0	src/{ => tiled}/mainwindow.ui
0	0	src/{ => tiled}/mapdocument.cpp
0	0	src/{ => tiled}/mapdocument.h
0	0	src/{ => tiled}/mapdocumentactionhandler.cpp
0	0	src/{ => tiled}/mapdocumentactionhandler.h
0	0	src/{ => tiled}/mapobjectitem.cpp
0	0	src/{ => tiled}/mapobjectitem.h
0	0	src/{ => tiled}/mapreaderinterface.h
0	0	src/{ => tiled}/maprenderer.h
0	0	src/{ => tiled}/mapscene.cpp
0	0	src/{ => tiled}/mapscene.h
0	0	src/{ => tiled}/mapview.cpp
0	0	src/{ => tiled}/mapview.h
0	0	src/{ => tiled}/mapwriterinterface.h
0	0	src/{ => tiled}/movelayer.cpp
0	0	src/{ => tiled}/movelayer.h
0	0	src/{ => tiled}/movemapobject.cpp
0	0	src/{ => tiled}/movemapobject.h
0	0	src/{ => tiled}/movetileset.cpp
0	0	src/{ => tiled}/movetileset.h
0	0	src/{ => tiled}/newmapdialog.cpp
0	0	src/{ => tiled}/newmapdialog.h
0	0	src/{ => tiled}/newmapdialog.ui
0	0	src/{ => tiled}/newtilesetdialog.cpp
0	0	src/{ => tiled}/newtilesetdialog.h
0	0	src/{ => tiled}/newtilesetdialog.ui
0	0	src/{ => tiled}/objectgroupitem.cpp
0	0	src/{ => tiled}/objectgroupitem.h
0	0	src/{ => tiled}/objectgrouppropertiesdialog.cpp
0	0	src/{ => tiled}/objectgrouppropertiesdialog.h
0	0	src/{ => tiled}/objectpropertiesdialog.cpp
0	0	src/{ => tiled}/objectpropertiesdialog.h
0	0	src/{ => tiled}/objectpropertiesdialog.ui
0	0	src/{ => tiled}/offsetlayer.cpp
0	0	src/{ => tiled}/offsetlayer.h
0	0	src/{ => tiled}/offsetmapdialog.cpp
0	0	src/{ => tiled}/offsetmapdialog.h
0	0	src/{ => tiled}/offsetmapdialog.ui
0	0	src/{ => tiled}/orthogonalrenderer.cpp
0	0	src/{ => tiled}/orthogonalrenderer.h
0	0	src/{ => tiled}/painttilelayer.cpp
0	0	src/{ => tiled}/painttilelayer.h
0	0	src/{ => tiled}/pluginmanager.cpp
0	0	src/{ => tiled}/pluginmanager.h
0	0	src/{ => tiled}/preferences.cpp
0	0	src/{ => tiled}/preferences.h
0	0	src/{ => tiled}/preferencesdialog.cpp
0	0	src/{ => tiled}/preferencesdialog.h
0	0	src/{ => tiled}/preferencesdialog.ui
0	0	src/{ => tiled}/propertiesdialog.cpp
0	0	src/{ => tiled}/propertiesdialog.h
0	0	src/{ => tiled}/propertiesdialog.ui
0	0	src/{ => tiled}/propertiesmodel.cpp
0	0	src/{ => tiled}/propertiesmodel.h
0	0	src/{ => tiled}/propertiesview.cpp
0	0	src/{ => tiled}/propertiesview.h
0	0	src/{ => tiled}/renamelayer.cpp
0	0	src/{ => tiled}/renamelayer.h
0	0	src/{ => tiled}/resizedialog.cpp
0	0	src/{ => tiled}/resizedialog.h
0	0	src/{ => tiled}/resizedialog.ui
0	0	src/{ => tiled}/resizehelper.cpp
0	0	src/{ => tiled}/resizehelper.h
0	0	src/{ => tiled}/resizelayer.cpp
0	0	src/{ => tiled}/resizelayer.h
0	0	src/{ => tiled}/resizemap.cpp
0	0	src/{ => tiled}/resizemap.h
0	0	src/{ => tiled}/resizemapobject.cpp
0	0	src/{ => tiled}/resizemapobject.h
0	0	src/{ => tiled}/saveasimagedialog.cpp
0	0	src/{ => tiled}/saveasimagedialog.h
0	0	src/{ => tiled}/saveasimagedialog.ui
0	0	src/{ => tiled}/selectiontool.cpp
0	0	src/{ => tiled}/selectiontool.h
0	0	src/{ => tiled}/stampbrush.cpp
0	0	src/{ => tiled}/stampbrush.h
8	14	src/{src.pro => tiled/tiled.pro}
0	0	src/{ => tiled}/tiled.qrc
0	0	src/{ => tiled}/tilelayeritem.cpp
0	0	src/{ => tiled}/tilelayeritem.h
0	0	src/{ => tiled}/tilepainter.cpp
0	0	src/{ => tiled}/tilepainter.h
0	0	src/{ => tiled}/tileselectionitem.cpp
0	0	src/{ => tiled}/tileselectionitem.h
0	0	src/{ => tiled}/tilesetdock.cpp
0	0	src/{ => tiled}/tilesetdock.h
0	0	src/{ => tiled}/tilesetmanager.cpp
0	0	src/{ => tiled}/tilesetmanager.h
0	0	src/{ => tiled}/tilesetmodel.cpp
0	0	src/{ => tiled}/tilesetmodel.h
0	0	src/{ => tiled}/tilesetview.cpp
0	0	src/{ => tiled}/tilesetview.h
0	0	src/{ => tiled}/tmxmapreader.cpp
0	0	src/{ => tiled}/tmxmapreader.h
0	0	src/{ => tiled}/tmxmapwriter.cpp
0	0	src/{ => tiled}/tmxmapwriter.h
0	0	src/{ => tiled}/toolmanager.cpp
0	0	src/{ => tiled}/toolmanager.h
0	0	src/{ => tiled}/undocommands.h
0	0	src/{ => tiled}/undodock.cpp
0	0	src/{ => tiled}/undodock.h
0	0	src/{ => tiled}/utils.cpp
0	0	src/{ => tiled}/utils.h
0	0	src/{ => tiled}/zoomable.cpp
0	0	src/{ => tiled}/zoomable.h
1	1	tiled.pro

--e9ca22a4	2010-06-26T14:55:05+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated NEWS file and increased version to 0.5.0

Also simplified the HTML used in the About Dialog so that it is less
daunting for translators and doesn't contain hardcoded font sizes and
families.

e9ca22a4
17	0	NEWS
1	1	README
13	2	src/aboutdialog.cpp
0	15	src/aboutdialog.ui
1	1	src/main.cpp

--852260b9	2010-06-26T14:17:55+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Moved Select All and Select None actions to the map action handler

Just trying to keep the size of mainwindow.cpp down by placing things in
more appropriate locations.

852260b9
7	34	src/mainwindow.cpp
0	2	src/mainwindow.h
0	13	src/mainwindow.ui
41	0	src/mapdocumentactionhandler.cpp
7	0	src/mapdocumentactionhandler.h

--0a2dfd4d	2010-06-26T14:03:42+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Prevent saving an imported map under the same name in TMX format

The Save action now pops up the Save As dialog when dealing with a
non-TMX map that was loaded using a plugin.

0a2dfd4d
6	2	src/mainwindow.cpp

--0bef41d9	2010-06-26T13:44:49+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added support for input plugins to the file open dialog

Also enhanced the behaviour a bit, in that the selected file filter is
now remembered for the open and export actions, and is the first
criteria when determining which map reader/writer to use.

This adds quite some complexity. Let's hope I didn't break anything in
the process.

0bef41d9
73	13	src/mainwindow.cpp
5	1	src/mainwindow.h
7	0	src/mapreaderinterface.h
3	0	src/tmxmapreader.h

--46294b5e	2010-06-26T11:58:23+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Still show tileset import/export actions when not clicking a tile

46294b5e
27	14	src/tilesetview.cpp
1	0	src/tilesetview.h

--e74d9c73	2010-06-26T11:45:46+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed the enabled state of the Export As action

e74d9c73
1	0	src/mainwindow.cpp

--dc97c98a	2010-06-24T00:29:46+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Tweaked some error dialog titles a bit

And marked default file name as translatable.

dc97c98a
4	4	src/mainwindow.cpp

--716b61f7	2010-06-24T00:24:35+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Suggest a file name when doing Save As (or the first Save)

Only suggesting a folder was not very helpful, since that left many
people without any hint that Tiled maps should have the .tmx extension.

716b61f7
10	2	src/mainwindow.cpp

--60aecd5d	2010-06-24T00:12:48+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Changed the perspective walls example to use an external tileset

Also introduced some example tile properties, which is the main reason
why external tilesets make sense.

60aecd5d
1	3	examples/perspective_walls.tmx
19	0	examples/perspective_walls.tsx

--ab4b2b26	2010-06-24T00:08:31+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Set a shortcut on the Export As command

Some people use this action quite often.

ab4b2b26
3	0	src/mainwindow.ui

--aec9f5e6	2010-06-24T00:03:38+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added import/export of tilesets to tileset context menu

The new context menu actions allow you to convert an external tileset to
an internal one and the other way around.

Unfortunately, editing of tile properties in external tilesets is still
not possible. It'll need to be temporarily converted to an internal
tileset. This is because otherwise changes to the tileset would not get
saved.

aec9f5e6
7	1	AUTHORS
-	-	src/images/16x16/document-export.png
-	-	src/images/16x16/document-import.png
2	0	src/tiled.qrc
5	0	src/tileset.h
96	4	src/tilesetview.cpp
3	0	src/tilesetview.h
49	11	src/tmxmapwriter.cpp
4	0	src/tmxmapwriter.h

--40fa07e0	2010-06-23T23:59:12+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added file name to MapDocument

Should be the proper place to keep track of it.

40fa07e0
6	4	src/mainwindow.cpp
2	1	src/mapdocument.cpp
7	1	src/mapdocument.h

--31b6c7f5	2010-06-21T22:35:22+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added another example based on tiles by pfunked

31b6c7f5
3	0	AUTHORS
-	-	examples/perspective_walls.png
21	0	examples/perspective_walls.tmx

--244689c7	2010-06-21T21:38:32+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Allowed adding of new external tilesets

244689c7
24	0	src/mainwindow.cpp
1	0	src/mainwindow.h
6	0	src/mainwindow.ui
12	0	src/tmxmapreader.cpp
5	0	src/tmxmapreader.h

--01058d18	2010-06-17T22:02:41+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Make tile and object context menu options a bit more specific

01058d18
4	3	src/mapobjectitem.cpp
2	1	src/tilesetview.cpp

--0eddc0ed	2010-06-17T21:38:20+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Workaround a glitch when dragging a tileset tab around

QTabBar::setTabText does not check whether the tab text remains the
same, and will always relayout the tabs. This caused a glitch while
dragging a tab when the tabs don't fit horizontally.

The fact is that while dragging a tab, the tab texts will already be up
to date, so there is no need to update them.

0eddc0ed
1	0	src/tilesetdock.cpp

--b08adf81	2010-06-16T23:09:05+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Allow rearranging the tileset tabs in the tileset view

Mantis-issue: 15

b08adf81
11	0	src/mapdocument.cpp
2	0	src/mapdocument.h
85	0	src/movetileset.cpp
33	10	src/{undocommands.h => movetileset.h}
4	2	src/src.pro
29	0	src/tilesetdock.cpp
2	0	src/tilesetdock.h
2	1	src/undocommands.h

--4498bb0d	2010-06-14T22:23:18+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed fill tool working on invisible layers

Rely on brush item visibility logic from the AbstractTileTool, just like
the eraser and stamp brush.

4498bb0d
2	0	src/bucketfilltool.cpp

--3bb7c715	2010-06-14T22:12:52+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Make sure disabled tools do not get any events

While the active tool was being disabled when there was no map, it would
still receive calls. This lead to crashes since existing tools like the
selection tool were not prepared to handle this case.

Mantis-issue: 50

3bb7c715
38	35	src/mapscene.cpp
9	6	src/mapscene.h

--5935ec5c	2010-06-05T13:04:36+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Small cleanups

5935ec5c
0	3	src/map.h

--aba20cfd	2010-05-24T21:10:29+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Introduced the MapDocumentActionHandler to reduce code duplication

Several map actions, in particular those modifying the layer stack, were
now duplicated in multiple places. The new MapDocumentActionHandler is
now the central place for defining and handling such reusable actions.

aba20cfd
16	127	src/layerdock.cpp
0	11	src/layerdock.h
17	60	src/mainwindow.cpp
2	6	src/mainwindow.h
0	79	src/mainwindow.ui
159	0	src/mapdocumentactionhandler.cpp
86	0	src/mapdocumentactionhandler.h
2	0	src/src.pro

--1edda91c	2010-05-25T22:17:19+03:00	Janis Kirsteins	kirsis@gmail.com	Added Latvian translation to Tiled

1edda91c
1	0	AUTHORS
1354	0	translations/tiled_lv.ts
1	1	translations/translations.pro

--6fc14685	2010-05-31T22:23:21+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made copyright statements more specific

Now mentioning all contributors to each file rather than referring to
AUTHORS file. This is mainly due to this information otherwise getting
lost when parts of Tiled are used in other projects.

To avoid confusion, the first line of each header is now the file name,
to signify that the list of contributors applies to that file.

The GPL headers have also been modernized, linking to gnu.org instead of
a postal address.

6fc14685
4	5	.LICENSE-HEADER
5	5	src/aboutdialog.cpp
5	5	src/aboutdialog.h
4	5	src/abstracttiletool.cpp
4	5	src/abstracttiletool.h
5	5	src/abstracttool.cpp
5	5	src/abstracttool.h
4	5	src/addremovelayer.cpp
4	5	src/addremovelayer.h
4	5	src/addremovemapobject.cpp
4	5	src/addremovemapobject.h
4	5	src/addremovetileset.cpp
4	5	src/addremovetileset.h
4	5	src/brushitem.cpp
4	5	src/brushitem.h
6	5	src/bucketfilltool.cpp
5	5	src/bucketfilltool.h
4	5	src/changemapobject.cpp
4	5	src/changemapobject.h
5	5	src/changeobjectgroupproperties.cpp
5	5	src/changeobjectgroupproperties.h
4	5	src/changeproperties.cpp
4	5	src/changeproperties.h
4	5	src/changeselection.cpp
4	5	src/changeselection.h
4	5	src/clipboardmanager.cpp
4	5	src/clipboardmanager.h
4	5	src/colorbutton.cpp
4	5	src/colorbutton.h
4	5	src/compression.cpp
4	5	src/compression.h
4	5	src/eraser.cpp
4	5	src/eraser.h
4	5	src/erasetiles.cpp
4	5	src/erasetiles.h
5	5	src/filltiles.cpp
4	5	src/filltiles.h
4	5	src/isometricrenderer.cpp
4	5	src/isometricrenderer.h
4	5	src/languagemanager.cpp
4	5	src/languagemanager.h
5	5	src/layer.cpp
5	5	src/layer.h
6	5	src/layerdock.cpp
5	5	src/layerdock.h
4	5	src/layermodel.cpp
4	5	src/layermodel.h
4	5	src/main.cpp
9	5	src/mainwindow.cpp
6	5	src/mainwindow.h
6	5	src/map.cpp
6	5	src/map.h
5	5	src/mapdocument.cpp
5	5	src/mapdocument.h
5	5	src/mapobject.cpp
6	5	src/mapobject.h
5	5	src/mapobjectitem.cpp
5	5	src/mapobjectitem.h
4	5	src/mapreaderinterface.h
4	5	src/maprenderer.h
7	5	src/mapscene.cpp
7	5	src/mapscene.h
4	5	src/mapview.cpp
4	5	src/mapview.h
4	5	src/mapwriterinterface.h
4	5	src/movelayer.cpp
4	5	src/movelayer.h
4	5	src/movemapobject.cpp
4	5	src/movemapobject.h
4	5	src/newmapdialog.cpp
4	5	src/newmapdialog.h
4	5	src/newtilesetdialog.cpp
4	5	src/newtilesetdialog.h
6	5	src/objectgroup.cpp
6	5	src/objectgroup.h
4	5	src/objectgroupitem.cpp
4	5	src/objectgroupitem.h
5	5	src/objectgrouppropertiesdialog.cpp
5	5	src/objectgrouppropertiesdialog.h
5	5	src/objectpropertiesdialog.cpp
5	5	src/objectpropertiesdialog.h
5	5	src/offsetlayer.cpp
5	5	src/offsetlayer.h
5	5	src/offsetmapdialog.cpp
5	5	src/offsetmapdialog.h
4	5	src/orthogonalrenderer.cpp
4	5	src/orthogonalrenderer.h
4	5	src/painttilelayer.cpp
4	5	src/painttilelayer.h
4	5	src/pluginmanager.cpp
4	5	src/pluginmanager.h
3	4	src/plugins/tmw/tmw_global.h
3	4	src/plugins/tmw/tmwplugin.cpp
3	4	src/plugins/tmw/tmwplugin.h
4	5	src/preferences.cpp
4	5	src/preferences.h
4	5	src/preferencesdialog.cpp
4	5	src/preferencesdialog.h
5	5	src/propertiesdialog.cpp
5	5	src/propertiesdialog.h
4	5	src/propertiesmodel.cpp
4	5	src/propertiesmodel.h
4	5	src/propertiesview.cpp
4	5	src/propertiesview.h
4	5	src/renamelayer.cpp
4	5	src/renamelayer.h
5	5	src/resizedialog.cpp
4	5	src/resizedialog.h
4	5	src/resizehelper.cpp
4	5	src/resizehelper.h
4	5	src/resizelayer.cpp
4	5	src/resizelayer.h
4	5	src/resizemap.cpp
4	5	src/resizemap.h
4	5	src/resizemapobject.cpp
4	5	src/resizemapobject.h
4	5	src/saveasimagedialog.cpp
4	5	src/saveasimagedialog.h
4	5	src/selectiontool.cpp
4	5	src/selectiontool.h
4	5	src/stampbrush.cpp
4	5	src/stampbrush.h
5	5	src/tile.h
5	5	src/tilelayer.cpp
5	5	src/tilelayer.h
4	5	src/tilelayeritem.cpp
4	5	src/tilelayeritem.h
5	5	src/tilepainter.cpp
5	5	src/tilepainter.h
4	5	src/tileselectionitem.cpp
4	5	src/tileselectionitem.h
5	5	src/tileset.cpp
5	5	src/tileset.h
5	5	src/tilesetdock.cpp
5	5	src/tilesetdock.h
5	5	src/tilesetmanager.cpp
5	5	src/tilesetmanager.h
5	5	src/tilesetmodel.cpp
5	5	src/tilesetmodel.h
4	5	src/tilesetview.cpp
4	5	src/tilesetview.h
6	5	src/tmxmapreader.cpp
4	5	src/tmxmapreader.h
6	5	src/tmxmapwriter.cpp
5	5	src/tmxmapwriter.h
4	5	src/toolmanager.cpp
4	5	src/toolmanager.h
4	5	src/undocommands.h
5	5	src/undodock.cpp
5	5	src/undodock.h
4	5	src/utils.cpp
4	5	src/utils.h
4	5	src/zoomable.cpp
4	5	src/zoomable.h

--d2c31053	2010-05-28T14:22:52+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Explicitly clear the current selection on tileset view right-click

When there was a complex tile selection, it was not being cleared on
right-click.

d2c31053
2	1	src/tilesetview.cpp

--454fcc78	2010-05-28T12:50:41+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Always enable the Save action when a map is loaded

There are several reasons why you may want to re-save a map without
actual modifications to the map, and you may want to save a newly
created but still empty map. Hence the save action should not be
disabled when the undo stack is clean.

454fcc78
1	2	src/mainwindow.cpp

--ec263db8	2010-05-25T23:34:52+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made the static build mode more explicit

On Fedora, QT_SHARED is not defined for some reason, so Tiled assumes it
is being built against a static Qt while it really isn't, resulting in
undefined references to the Qt image plugins.

Worked around this problem by using a custom STATIC_BUILD define.

ec263db8
1	1	src/main.cpp
4	1	src/src.pro

--df064f90	2010-05-25T23:34:07+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Extended installation instructions somewhat

Now explains how you can go about installing Qt 4 development libraries
on Ubuntu, Debian, Fedora and Arch Linux.

df064f90
8	3	README

--12bd724a	2010-05-24T19:40:13+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Make sure the layer toolbar actions show tooltips

All this duplication needs to go though.

12bd724a
4	4	src/layerdock.cpp

--59e7e986	2010-05-24T18:04:33+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed the dialog when adding new layers

The layers now get a sane default name, so the dialog is less necessary.
When the layer view is visible, we automatically open the in-place layer
name edit.

This also gets rid of a lot of duplicated code.

59e7e986
29	90	src/layerdock.cpp
2	8	src/layerdock.h
4	32	src/mainwindow.cpp
0	2	src/mainwindow.h
9	2	src/mapdocument.cpp
7	1	src/mapdocument.h

--c664ef8f	2010-05-24T14:47:22+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	General cleanups of previous commits

* Fixed case of #include <QToolbar>
* Removed superfluous () for calling constructor without parameters
* Add spaces between "if(" and tweaked location of newlines
* Shorten some lines to less than 80 characters
* Moved layer actions toolbar below layer list and make icons 16px
* Removed unnecessarily QString::number() calls for QString::arg
* Removed shortcuts from right-click menu to make it a bit narrower
* Don't delete menu actions, since the menu will already do that
* Fixed handling of other keys than Delete in layer view like Up/Down
* Corrected string for Duplicate Layer action

Does not solve the code duplication issues yet.

c664ef8f
24	33	src/layerdock.cpp
4	8	src/map.cpp
4	2	src/map.h

--611fe688	2010-05-22T17:52:33-04:00	Andrew G. Crowell	overkill9999@gmail.com	Added button controls to the layer dock

Situated beside the opacity controls.

611fe688
77	1	src/layerdock.cpp
12	0	src/layerdock.h

--982d614e	2010-05-22T12:55:14-04:00	Andrew G. Crowell	overkill9999@gmail.com	Allow Delete to erase the current layer when focus is in the layer view

Added an keyboard event handler so that the Delete key can also be used
to remove layers, when an item is chosen in the layer view.

982d614e
17	0	src/layerdock.cpp
1	0	src/layerdock.h

--d8f640a9	2010-05-22T01:10:28-04:00	Andrew G. Crowell	overkill9999@gmail.com	Added a context menu to the layer dock

Also improved the default layer names generated by Add X Layer dialogues
(which now say "Object Layer 2" or "Tile Layer 5" and count up based on
number of object layers or tile layers).

d8f640a9
153	8	src/layerdock.cpp
10	1	src/layerdock.h
8	3	src/mainwindow.cpp
22	0	src/map.cpp
10	0	src/map.h
1	1	src/newmapdialog.cpp

--f08f29cc	2010-05-20T22:57:24+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed eraser working on invisible layers

f08f29cc
3	0	src/eraser.cpp

--49c8b2f9	2010-05-08T20:35:36-06:00	Jared Adams	jaxad0127@gmail.com	Don't make a fill region if it won't have an effect

If the stamp is a single tile, and the tile the mouse is over matches it,
don't compute a fill region.

49c8b2f9
8	0	src/bucketfilltool.cpp

--ea3e2094	2010-05-05T22:30:11+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added option to draw the tile grid when saving as image

Requested by Carlos Matarazzo.

Also made the save as image options persistent.

ea3e2094
29	0	src/saveasimagedialog.cpp
8	1	src/saveasimagedialog.ui

--b8d9e167	2010-05-05T21:52:19+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed crash when opening a map through drag-and-drop

The active tool was receiving events while being 'disabled' due to
changes made to the scene while the mouse was on top of it, resulting in
a null pointer reference.

b8d9e167
9	0	src/mapscene.cpp

--1cb07d71	2010-05-05T16:30:00+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Open local files when they are dropped onto Tiled

This does expose a crash somewhere in the MapScene / AbstractTool that I
will have to look into later.

Mantis-issue: 45

1cb07d71
12	0	src/mainwindow.cpp
3	0	src/mainwindow.h
4	1	src/mainwindow.ui
8	0	src/mapscene.cpp
2	0	src/mapscene.h

--c4493531	2010-05-04T23:04:47+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added the ability to remove tilesets from a map

When the tileset to be removed is in use by the map, the user is asked
to confirm the removal of both the tileset and all references to tiles
in that tileset from the map.

c4493531
23	12	src/{addtileset.cpp => addremovetileset.cpp}
47	9	src/{addtileset.h => addremovetileset.h}
1	1	src/mainwindow.cpp
14	4	src/map.cpp
16	3	src/map.h
12	9	src/mapdocument.cpp
3	3	src/mapdocument.h
2	2	src/src.pro
23	0	src/tilelayer.cpp
10	0	src/tilelayer.h
0	2	src/tilepainter.h
74	14	src/tilesetdock.cpp
5	1	src/tilesetdock.h
8	0	src/tilesetview.h

--8516e115	2010-04-25T19:22:08+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Disable editing of tile properties for external tilesets

It is not actually supported at the moment, since changes to the tile
properties would never be saved.

8516e115
3	0	src/tilesetview.cpp

--036168f4	2010-04-25T18:30:09+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added undo for adding tilesets

Before it was not possible to undo adding a tileset, which was quite
annoying when you realized you chose the wrong parameters. It is however
still not possible to remove a tileset that was already part of the map.

036168f4
53	0	src/addtileset.cpp
55	0	src/addtileset.h
17	4	src/mainwindow.cpp
5	0	src/map.cpp
10	0	src/map.h
17	0	src/mapdocument.cpp
2	6	src/mapdocument.h
4	2	src/src.pro
9	0	src/tilelayer.cpp
7	0	src/tilelayer.h
23	0	src/tilesetdock.cpp
1	0	src/tilesetdock.h

--5b3e2917	2010-04-24T22:50:32+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added error handling to the New Tileset dialog

While before it would happily add empty or unnamed tilesets to your map,
the New Tileset dialog is now a little bit smarter and will inform the
user when the image could not be loaded or when no tiles could be found
in the image.

5b3e2917
40	6	src/newtilesetdialog.cpp
3	0	src/newtilesetdialog.h
4	1	src/newtilesetdialog.ui

--81614cd2	2010-04-22T22:29:39+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Further tweaks to the object properties dialog

Adjusted the margins and the resizing behaviour, as well as specifying
somewhat saner minimum and maximum values. Also made sure that the
dialog shows at its recommended size and removed an unnecessary call to
emitObjectChanged (since the undo command will do that).

Added Michael Woerister to the list of contributors.

81614cd2
1	0	AUTHORS
19	18	src/objectpropertiesdialog.cpp
1	1	src/objectpropertiesdialog.h
66	42	src/objectpropertiesdialog.ui

--30859312	2010-04-22T03:08:33-04:00	Michael Woerister	michaelwoerister@gmail.com	ObjectPropertiesDialog update

- UI is now defined in ui file, not in code
- Position and size editors are now grouped
- QDoubleSpinBoxes are now used for position and size

30859312
18	49	src/objectpropertiesdialog.cpp
2	6	src/objectpropertiesdialog.h
166	0	src/objectpropertiesdialog.ui
5	6	src/src.pro

--5e1278fc	2010-04-16T17:40:29-04:00	Michael Woerister	michaelwoerister@gmail.com	Added object-resizing support to the ObjectPropertiesDialog.

5e1278fc
42	27	src/objectpropertiesdialog.cpp
2	0	src/objectpropertiesdialog.h

--966f690a	2010-04-14T13:46:40-04:00	Michael Woerister	michaelwoerister@gmail.com	Added position fields to ObjectPropertiesDialog

966f690a
51	3	src/objectpropertiesdialog.cpp
2	0	src/objectpropertiesdialog.h

--2a6c4ee3	2010-04-22T21:40:36+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.4'

2a6c4ee3
--3f122447	2010-04-20T23:07:46+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Another fix to brush item selection painting

Move the layer in setTileLayerPosition instead of moving it to the wrong
position in updateBoundingRect. Also fixed BucketFillTool to position
its layer correctly.

3f122447
3	7	src/brushitem.cpp
4	3	src/bucketfilltool.cpp

--370ebc63	2010-04-14T21:46:46+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.4'

370ebc63
--0c401781	2010-04-13T20:58:06+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Also keep track of the maximum tile width

Fixes repaint issues when tiles that are wider than the tile width of
the map are used. I'm not quite sure yet whether the result is
satisfactory though.

Mantis-issue: 33

0c401781
8	4	src/brushitem.cpp
4	2	src/isometricrenderer.cpp
8	6	src/map.cpp
13	13	src/map.h
3	2	src/mapscene.cpp
4	2	src/orthogonalrenderer.cpp
12	5	src/tilelayer.cpp
3	3	src/tilelayer.h

--f065635a	2010-03-31T02:40:59+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Bumped version to 0.4.1

And updated the NEWS file.

f065635a
8	0	NEWS
1	1	src/main.cpp

--fb25eb3c	2010-04-13T22:05:08+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed the selection drawn for the stamp brush

It broke when fixing the selection drawn for the fill brush in
cca7086aff3beb77add2a58b58f36c94afce9d94. :(

fb25eb3c
13	0	src/brushitem.cpp
5	0	src/brushitem.h
2	5	src/stampbrush.cpp

--94201baf	2010-04-14T16:15:33+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Declare Tiled as Editor of *.tmx files on MacOS X

When launching Tiled from the console, it was spitting out a warning
about its Info.plist not containing any valid value for the
CFBundleTypeRole.

94201baf
2	0	src/Info.plist

--7026aed3	2010-04-14T16:10:46+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Only attempt to build a universal binary when Qt supports ppc

7026aed3
1	1	src/src.pro

--9997da36	2010-04-14T11:46:00+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Use the standard shortcut for Delete

Potentially more cross-platform than handling the Delete key directly.

9997da36
1	1	src/propertiesdialog.cpp

--7eb15b2f	2010-04-12T21:50:38+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made settings in New Map dialog persistent

7eb15b2f
32	0	src/newmapdialog.cpp

--028f4ea2	2010-04-12T21:37:28+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made settings in New Tileset dialog persistent

028f4ea2
31	4	src/newtilesetdialog.cpp
6	0	src/preferences.h

--8a98cffb	2010-03-31T09:12:52+03:00	Petr Viktorin	encukou@gmail.com	Make the string "<empty>" in UndoDock translatable.
Also, provide the Czech translation for it

8a98cffb
5	4	src/undodock.cpp
2	0	src/undodock.h
4	0	translations/tiled_cs.ts

--cd99dddb	2010-03-31T02:08:42+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Avoid incompatibility with Tiled Java in 'trans' attribute

In Tiled Java, there was no # in front of the color name. Putting it
there causes a NumberFormatException when it tries to load a map. Let's
avoid this for now.

Mantis-issue: 34
Mantis-issue: 44

cd99dddb
1	1	src/tmxmapwriter.cpp

--a88caff1	2010-03-31T01:34:20+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch 'origin/master'

a88caff1
--633ed12f	2010-03-31T01:26:43+02:00	Petr Viktorin	encukou@gmail.com	Added Czech translation

633ed12f
1	0	AUTHORS
1486	0	translations/tiled_cs.ts
1	1	translations/translations.pro

--d30aeed6	2010-03-30T23:41:19+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added an Export action and a first simple plugin

The Export action allows saving the map in any format provided by a
plugin that implements the MapWriterInterface, without changing the
current file name or marking the undo stack as clean.

The simple plugin is for The Mana World eAthena server collision files,
stored in a binary .wlk format.

d30aeed6
1	0	.gitignore
7	0	src/layer.h
47	3	src/mainwindow.cpp
1	0	src/mainwindow.h
7	1	src/mainwindow.ui
7	2	src/mapreaderinterface.h
7	2	src/mapwriterinterface.h
2	0	src/objectgroup.h
2	0	src/plugins/plugins.pro
12	0	src/plugins/tmw/tmw.pro
33	0	src/plugins/tmw/tmw_global.h
96	0	src/plugins/tmw/tmwplugin.cpp
53	0	src/plugins/tmw/tmwplugin.h
2	0	src/tilelayer.h
1	1	src/tmxmapreader.h
1	1	src/tmxmapwriter.h
1	1	tiled.pro

--10c49b62	2010-03-30T20:54:58+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added a simple plugin manager

It loads both static and dynamic plugins, and provides a convenient way
to query for plugins that implement a certain interface.

10c49b62
4	0	src/mainwindow.cpp
84	0	src/pluginmanager.cpp
95	0	src/pluginmanager.h
2	0	src/src.pro

--d92d633a	2010-03-29T18:19:13+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Sort the list of languages in the preferences dialog

Looks nicer, especially with the number of translations growing.

d92d633a
14	15	src/preferencesdialog.cpp

--e64209f8	2010-03-29T16:14:29+02:00	Antonio Ricci	nono_cerchio@yahoo.it	Added Italian translation

e64209f8
1	0	AUTHORS
1174	0	translations/tiled_it.ts
1	1	translations/translations.pro

--b80afab7	2010-03-26T18:11:34+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Don't create undo commands for Select All when it's not necessary

It was also doing it when already the whole map was selected.

b80afab7
3	0	src/mainwindow.cpp

--cca7086a	2010-03-21T13:47:48+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed drawing selection highlight where brush is not painting

Before, the selection highlight would cover the entire bounds of the
brush, whereas now it doesn't include the areas where no tiles will be
drawn.

cca7086a
2	1	src/brushitem.cpp
12	0	src/tilelayer.cpp
6	0	src/tilelayer.h

--3a9c66a3	2010-03-14T17:47:53+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Mention CSV layer support by Dennis in the AUTHORS file

3a9c66a3
1	1	AUTHORS

--2bb48cb8	2010-03-14T17:40:30+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Avoid using dynamic_cast to determine the type of event

2bb48cb8
8	3	src/mapscene.cpp

--6d303523	2010-03-14T07:57:51-06:00	Jeff Bland	jksb@member.fsf.org	Added shift modifier to bucket fill tool.

Holding shift will switch the tool to fill the current selection
regardless of the tile boundaries within it. If there is no selection,
the full layer is used.

Added callback modifiersChanged() to AbstractTool to assist tools in
updating if a keyboard modifier changes. This is achieved by installing
an event filter on the application so it works even if the map view
doesn't have focus.

Removed unnecessary calls to currentTileLayer() in
BucketFillTool::tilePositionChanged.

6d303523
7	0	src/abstracttool.h
40	7	src/bucketfilltool.cpp
4	0	src/bucketfilltool.h
34	1	src/mapscene.cpp
8	0	src/mapscene.h

--484267c1	2010-02-10T19:27:50-05:00	Dennis Honeyman	arcticuno@gmail.com	Added CSV encoding support

484267c1
5	0	src/preferencesdialog.cpp
7	2	src/preferencesdialog.ui
41	5	src/tmxmapreader.cpp
22	10	src/tmxmapwriter.cpp
2	1	src/tmxmapwriter.h

--75668e97	2010-02-11T16:03:34+01:00	Yohann Ferreira	yohann.ferreira@orange.fr	Added French translation

75668e97
1	0	AUTHORS
1191	0	translations/tiled_fr.ts
1	1	translations/translations.pro

--9eff212d	2010-02-09T20:55:33+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Include image plugins in static builds

Though for some reason the static check in the .pro file failed on
Mac OS X, and needed commenting out when making the release.

9eff212d
7	0	src/main.cpp
6	0	src/src.pro

--8d519fa7	2010-02-09T20:40:19+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Don't show icons in menus and use the unified toolbar on Mac OS X

Looks better.

8d519fa7
3	0	src/main.cpp
3	0	src/mainwindow.ui

--841677ec	2010-02-09T20:44:17+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Some fixes for building on Mac OS X

* Include debug information without trying to link to debug Qt libraries
* Add an Info.plist file for including some meta-information in the app
* Add an icons file to have an icon in the dock and the finder
* Build a universal binary
* Use the 10.5 SDK (was the lowest available on the Mac I used)

841677ec
37	0	src/Info.plist
-	-	src/images/tiled-icon-mac.icns
5	1	src/src.pro

--c5615e03	2010-02-06T09:05:19+09:00	Hiroki Utsunomiya	teraapi@gmail.com	Added Japanese translation

c5615e03
1	0	AUTHORS
1177	0	translations/tiled_ja.ts
1	1	translations/translations.pro

--9dada772	2010-02-03T20:15:07+01:00	Jonatas de Moraes Junior	jmoraes@gmail.com	Added Brazilian Portuguese translation

9dada772
1	0	AUTHORS
1201	0	translations/tiled_pt_BR.ts
1	1	translations/translations.pro

--58aa71de	2010-01-30T23:22:15+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Support non contiguous selections in the tileset view

Not sure if this used to be a problem, but on testing it seems to work
fine and on inspection of the code I don't see why it wouldn't.

58aa71de
0	3	src/tilesetdock.cpp
0	1	src/tilesetview.cpp

--3dcf7c47	2010-01-30T22:11:15+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Final translations update

3dcf7c47
42	21	translations/tiled_de.ts
42	21	translations/tiled_es.ts
42	21	translations/tiled_nl.ts
42	21	translations/tiled_pt.ts

--f5407c42	2010-01-30T22:02:37+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added ability to edit tile properties through a context menu

Not the most user friendly since it can currently only be done through
the context menu and only for single tiles, but that's the same
situation the editing of objects properties is in at the moment.

f5407c42
2	1	NEWS
5	0	examples/isometric.tmx
1	1	src/tilesetdock.cpp
38	1	src/tilesetview.cpp
4	1	src/tilesetview.h

--b3f48ac6	2010-01-25T09:11:09+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made a stamp captured using the stamp brush usable by the fill tool

A quick hack, going through the MainWindow class. We should probably
introduce a place that keeps track of the current brush at some point.

b3f48ac6
5	3	src/mainwindow.cpp
4	1	src/stampbrush.cpp
8	0	src/stampbrush.h
1	1	src/tilesetdock.h

--f26165da	2010-01-21T19:37:23+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Implemented painting of objects when saving as image

Also fixed the save as image function to clear the map before painting,
to avoid garbage when the map doesn't occupy all pixels (which is never
the case for isometric maps, for example).

f26165da
4	0	src/isometricrenderer.cpp
4	0	src/orthogonalrenderer.cpp
18	3	src/saveasimagedialog.cpp

--9ec53586	2010-01-21T19:20:11+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Rearranged default dock widget layout

The history dock widget is now tabbed together with the layers dock
widget and the tileset panel moved to the right by default.

Also fixed the enabled state of Offset Map action and opacity slider.

9ec53586
1	0	src/layerdock.cpp
3	1	src/mainwindow.cpp

--fd5397fe	2010-01-21T19:02:30+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	A bit of include cleanup

fd5397fe
0	1	src/abstracttool.h
0	2	src/eraser.cpp
0	2	src/selectiontool.cpp
0	2	src/stampbrush.cpp

--5ca43848	2010-01-21T18:52:45+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Implemented adapting to language change for the tools

5ca43848
10	0	src/abstracttool.h
6	0	src/bucketfilltool.cpp
2	0	src/bucketfilltool.h
6	0	src/eraser.cpp
2	0	src/eraser.h
6	0	src/selectiontool.cpp
2	0	src/selectiontool.h
6	0	src/stampbrush.cpp
2	0	src/stampbrush.h
54	1	src/toolmanager.cpp
1	0	src/toolmanager.h

--b793b632	2010-01-20T22:10:24+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Got rid of the TileSelectionModel class

Since it got reduced to a pointless wrapper around QRegion, it's better
to just get rid of it completely. The tile selection is now managed by
the MapDocument directly.

b793b632
2	5	src/bucketfilltool.cpp
2	5	src/changeselection.cpp
1	2	src/clipboardmanager.cpp
4	6	src/mainwindow.cpp
9	2	src/mapdocument.cpp
19	7	src/mapdocument.h
2	3	src/offsetmapdialog.cpp
2	4	src/selectiontool.cpp
0	2	src/src.pro
3	4	src/tilepainter.cpp
3	5	src/tileselectionitem.cpp
0	44	src/tileselectionmodel.cpp
0	66	src/tileselectionmodel.h

--c444b81a	2010-01-20T21:30:20+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added an application window icon

c444b81a
-	-	src/images/tiled-icon-16.png
-	-	src/images/tiled-icon-32.png
228	0	src/images/tiled-icon.svg
4	0	src/mainwindow.cpp
2	0	src/tiled.qrc

--610c6616	2010-01-20T21:20:18+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Adapt to icon theme also in context menus

So far only the icons in the main window menus were adapting to the
system icon theme on Linux. Now the object and layer context menus do
the same.

610c6616
3	0	src/layerdock.cpp
2	28	src/mainwindow.cpp
4	0	src/mapobjectitem.cpp
27	0	src/utils.cpp
19	0	src/utils.h

--cbe76297	2010-01-19T21:56:44+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated Dutch translation

cbe76297
27	27	translations/tiled_nl.ts

--e2046541	2010-01-19T21:04:26+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed compile with Qt 4.5

It doesn't have QPainterPath::translate. Thankfully the functionality
was easy to implement manually.

e2046541
12	1	src/mapobjectitem.cpp

--f8a5d3d4	2010-01-19T20:03:26+01:00	Mauricio Muñoz Lucero	real.mml@gmail.com	Updated Spanish translation

f8a5d3d4
7	7	translations/tiled_es.ts

--48438a7c	2010-01-19T19:59:06+01:00	Porfírio Ribeiro	porfirioribeiro@gmail.com	Updated the Portuguese translation

48438a7c
1	1	AUTHORS
48	47	translations/tiled_pt.ts

--2cdd2cea	2010-01-18T23:12:25+01:00	seeseekey	seeseekey@googlemail.com	Updated the German translation

2cdd2cea
6	6	translations/tiled_de.ts

--ae6eb635	2010-01-17T22:15:09+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated translation files to the current source

String freeze for 0.4.0 is now considered active.

ae6eb635
46	19	translations/tiled_de.ts
52	20	translations/tiled_es.ts
176	30	translations/tiled_nl.ts
175	33	translations/tiled_pt.ts

--57c6dd2c	2010-01-17T22:19:49+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed translation context for name of bucket fill tool

57c6dd2c
1	1	src/bucketfilltool.cpp

--f56eedab	2010-01-17T22:14:07+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated NEWS file with stuff added since the last update

f56eedab
4	0	NEWS

--5705cb0e	2010-01-17T21:50:08+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made the tileset view zoomable with the scroll wheel

This is a quick hack that makes the tileset view zoomable with the
scroll wheel. For now, each tileset has to be zoomed separately and the
zoom level is not remembered.

The zooming functionality is shared with the map view through the
Zoomable class.

Mantis-issue: 9

5705cb0e
14	10	src/mainwindow.cpp
13	62	src/mapview.cpp
8	15	src/mapview.h
4	2	src/src.pro
43	6	src/tilesetview.cpp
15	0	src/tilesetview.h
88	0	src/zoomable.cpp
19	24	src/{mapview.h => zoomable.h}

--a675fd20	2010-01-17T19:28:10+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Don't leak a QSettings instance

a675fd20
1	0	src/preferences.cpp

--4747410c	2010-01-17T19:13:58+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed usage of uninitialized variable

Due to a wrong initialization order, the ResizeHandle could end up using
mSyncing uninitialized, and might send a resize back to the map object
item while it's being constructed.

Hopefully this is what lead to the occasional crash on zooming or
scrolling the map view.

4747410c
2	2	src/mapobjectitem.cpp
1	1	src/mapobjectitem.h

--dc05b18f	2010-01-17T18:55:50+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made the movable shape of objects more accurate

Especially in isometric mode, a bounding rectangle was not accurate
enough, since half of the area would be outside the object. Now, the
region that you interact with matches the painted shape exactly.

dc05b18f
7	0	src/isometricrenderer.cpp
1	0	src/isometricrenderer.h
5	0	src/mapobjectitem.cpp
1	0	src/mapobjectitem.h
7	0	src/maprenderer.h
14	0	src/orthogonalrenderer.cpp
1	0	src/orthogonalrenderer.h

--50568cd9	2010-01-17T18:20:21+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	The new map dialog can now also create isometric maps

50568cd9
2	1	src/newmapdialog.cpp
74	15	src/newmapdialog.ui

--5b283735	2010-01-17T12:37:14+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Simplified showing of properties dialog a bit

5b283735
1	9	src/layerdock.cpp
1	9	src/mainwindow.cpp
10	5	src/propertiesdialog.cpp
2	3	src/propertiesdialog.h

--5a16f5b8	2010-01-16T16:47:06-07:00	Jeff Bland	jksb@member.fsf.org	Fixed missing object layer properties on properties dialog

When opening the properties of an object layer from Layer -> Layer
Properties, as opposed to the layer right click menu, the object group
properties subclass was not instanciated.

I added a static function to PropertiesDialog to create the appropriate
subclass for a given layer. It's called in both places now for
consistent behavior.

5a16f5b8
6	13	src/layerdock.cpp
8	4	src/mainwindow.cpp
22	0	src/propertiesdialog.cpp
12	0	src/propertiesdialog.h

--b6e28384	2010-01-16T18:09:54+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Implemented support for objects on isometric maps

This finishes the support for isometric maps, which will soon be
possible to be created using the new map dialog.

It also fixes some remaining issues with grid snapping when creating new
map objects, where it was still depending on whether the grid was
enabled or not.

b6e28384
10	3	examples/isometric.tmx
8	10	src/abstracttiletool.cpp
2	1	src/changeobjectgroupproperties.cpp
2	0	src/changeobjectgroupproperties.h
85	29	src/isometricrenderer.cpp
12	7	src/isometricrenderer.h
0	36	src/map.cpp
0	5	src/map.h
0	8	src/mapdocument.cpp
0	6	src/mapdocument.h
1	1	src/mapobject.h
77	107	src/mapobjectitem.cpp
8	5	src/mapobjectitem.h
26	4	src/maprenderer.h
22	14	src/mapscene.cpp
80	2	src/orthogonalrenderer.cpp
10	1	src/orthogonalrenderer.h
17	4	src/tmxmapreader.cpp
25	10	src/tmxmapwriter.cpp

--e6fc8b57	2010-01-15T12:48:25+01:00	seeseekey	seeseekey@googlemail.com	Update of the german translation.

e6fc8b57
15	15	translations/tiled_de.ts

--8e6cbd83	2010-01-14T22:30:52+01:00	seeseekey	seeseekey@googlemail.com	Added German translation

8e6cbd83
1	0	AUTHORS
1	1	NEWS
1144	0	translations/tiled_de.ts
1	1	translations/translations.pro

--c7745db9	2010-01-13T22:55:13+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed dynamically retranslating the "System default" language setting

As a string in the language combo box, it was particularly noticable.

c7745db9
1	0	src/preferencesdialog.cpp

--ad1029bc	2010-01-13T22:50:31+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Renamed "Undo Stack" to the more friendly "History"

It already ended up being translated to the equivalent of "history" in
three translations, and it really sounds better that way.

ad1029bc
1	1	src/undodock.cpp

--db474f78	2010-01-13T22:35:55+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed reversed logic for reloading changed tilesets option

Oops. :-)

db474f78
1	1	src/tilesetmanager.cpp

--63a2af1c	2010-01-13T18:28:56+01:00	Mauricio Muñoz Lucero	real.mml@gmail.com	Updated the Spanish translation

63a2af1c
296	536	translations/tiled_es.ts

--7dd31f41	2010-01-11T19:39:59+01:00	Mauricio Muñoz Lucero	real.mml@gmail.com	Added Spanish translation

7dd31f41
1	0	AUTHORS
1383	0	translations/tiled_es.ts
1	1	translations/translations.pro

--07260746	2010-01-05T06:23:55-07:00	Jeff Bland	jksb@member.fsf.org	Added display color option to object group properties

Different object groups can be displayed as different colors to
make it much easier to distinguish which objects are parts of
which groups when viewing the map.

Per-type colors take precedence over object group colors.

07260746
55	0	src/changeobjectgroupproperties.cpp
64	0	src/changeobjectgroupproperties.h
11	0	src/layerdock.cpp
20	3	src/mapobjectitem.cpp
1	0	src/mapobjectitem.h
2	2	src/objectgroup.cpp
13	0	src/objectgroup.h
87	0	src/objectgrouppropertiesdialog.cpp
56	0	src/objectgrouppropertiesdialog.h
6	2	src/src.pro
4	0	src/tmxmapreader.cpp
5	0	src/tmxmapwriter.cpp

--aa42b838	2009-12-31T05:21:10-07:00	Aban	tirabyte_007@hotmail.com	Fill tool now works better

Now the origin of a repeating brush is at the top left of the filled
region, instead of at the map origin.

aa42b838
6	2	src/tilepainter.cpp

--a0d3a1db	2010-01-03T15:48:17-07:00	Jeff Bland	jksb@member.fsf.org	Fixed bug with fill region being off when selection bounds change.

The bucket fill tool needs to clear its preview overlay when the selection
bounds change, so the fill region does not become stale.

a0d3a1db
13	4	src/bucketfilltool.cpp

--c2f05f22	2009-12-31T18:27:54-07:00	Jeff Bland	jksb@member.fsf.org	Fixed ignored expressions in TilePainter::computeFillRegion.

They were part of an optimization that turns out to not work, but due to
there being commas instead of ampersands they were evaluated and ignored.

c2f05f22
2	6	src/tilepainter.cpp

--5f1ae54f	2009-12-31T14:43:23+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made writing out a DTD reference optional and disabled it by default

Apparently the reference makes the XNA XML parser crash. Since it also
requires special handling in Java, it is now disabled by default.

In response to merge request 1739 by Agent MOO.

5f1ae54f
1	0	src/mainwindow.cpp
12	0	src/preferences.cpp
4	0	src/preferences.h
2	0	src/preferencesdialog.cpp
12	2	src/preferencesdialog.ui
8	1	src/tmxmapwriter.cpp
10	0	src/tmxmapwriter.h

--44934d38	2009-12-31T13:17:32+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made the TilesetManager independent of the Preferences class

Makes it more reusable.

44934d38
7	0	src/mapwriterinterface.h
7	0	src/preferences.cpp
9	3	src/tilesetmanager.cpp
10	0	src/tilesetmanager.h

--f80e111f	2009-12-25T15:10:28+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Bumped version to 0.4.0 and updated AUTHORS and NEWS files

f80e111f
6	1	AUTHORS
9	0	NEWS
1	1	src/main.cpp

--f21f1653	2009-12-24T22:05:29-07:00	Jeff Bland	jksb@member.fsf.org	Fixed a crash due to new size being invalid when resizing a map.

If the width or height of the map was the default value in the resize
dialog (currently 1), then the new size of the map was invalid until
the user changed the value of each axis in question.

This was because when ResizeDialog::setOldSize gets called, it set
the value of the spin boxes, causing a callback in ResizeHelper to
set the new size. However, if the width or height was default, then
the the spin box functions returned without triggering the callback,
leaving ResizeDialog::mNewSize unitialized (negative).

f21f1653
7	0	src/resizedialog.cpp

--0df82c47	2009-12-25T14:12:12+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed unused TilePainter::fill and skipEmptyTiles parameter

Also removed the initial memset from computeFillRegion, since a QVector
is already initialized by default.

Set the "Undo Commands" context for "Fill Area".

0df82c47
6	3	src/filltiles.cpp
10	22	src/tilepainter.cpp
1	17	src/tilepainter.h

--3d1d63ae	2009-12-24T22:15:00-07:00	Jeff Bland	jksb@member.fsf.org	Added a paint bucket fill tool to the toolbar.

This tool will fill an area consisting of a given tile (or lack of
tile) with another tile or tile selection, respecting current
selection bounds. The tool has a realtime preview when you mouse
over the map area.

The bucket fill icon is from GIMP.

3d1d63ae
195	0	src/bucketfilltool.cpp
85	0	src/bucketfilltool.h
62	0	src/filltiles.cpp
67	0	src/filltiles.h
-	-	src/images/22x22/stock-tool-bucket-fill.png
8	1	src/mainwindow.cpp
2	0	src/mainwindow.h
6	2	src/src.pro
1	0	src/tiled.qrc
10	0	src/tilelayer.cpp
5	0	src/tilelayer.h
166	1	src/tilepainter.cpp
34	1	src/tilepainter.h

--a18f9880	2009-12-25T00:06:01+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Wait a little bit longer when a tileset changes

On my laptop, 100ms is too fast and leads to read errors in libpng when
the tileset is saved in GIMP. Waiting 200ms is also acceptable.

a18f9880
1	1	src/tilesetmanager.cpp

--5244bb61	2009-12-24T23:49:53+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed a bunch of strings to adapt to language change dynamically

These strings are part of the main window (mostly dockwidget titles) and
thus should be able to adapt to a language change dynamically.

5244bb61
21	2	src/layerdock.cpp
5	0	src/layerdock.h
34	13	src/mainwindow.cpp
2	0	src/mainwindow.h
20	10	src/mainwindow.ui
20	1	src/tilesetdock.cpp
4	0	src/tilesetdock.h
20	1	src/undodock.cpp
6	0	src/undodock.h

--51091042	2009-12-24T23:46:08+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Introduced a Preferences dialog with a few settings

The Preferences dialog currently allows the user to choose the tile
layer data format, whether to automatically reload tilesets when they
change and the interface language.

To support the latter properly, a language manager was introduced that
installs the right translators for both Tiled and Qt and figures out
the list of available translations.

This commit also adds support for saving tile layer data in the
non-binary XML format (Mantis-issue: 22).

51091042
122	0	src/languagemanager.cpp
26	36	src/{offsetmapdialog.h => languagemanager.h}
4	11	src/main.cpp
13	0	src/mainwindow.cpp
1	0	src/mainwindow.h
7	0	src/mainwindow.ui
1	1	src/offsetmapdialog.cpp
1	1	src/offsetmapdialog.h
114	0	src/preferences.cpp
28	36	src/{offsetmapdialog.h => preferences.h}
134	0	src/preferencesdialog.cpp
24	32	src/{offsetmapdialog.h => preferencesdialog.h}
152	0	src/preferencesdialog.ui
7	0	src/src.pro
5	0	src/tilesetmanager.cpp
45	19	src/tmxmapwriter.cpp
20	0	src/tmxmapwriter.h
2	2	translations/tiled_nl.ts

--745e6e04	2009-12-21T20:19:58+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated translation files to use relative locations

Avoids large diffs in the .ts files due to line number changes.

745e6e04
188	188	translations/tiled_nl.ts
188	188	translations/tiled_pt.ts

--c27abeb5	2009-12-21T20:10:13+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Improved the support for translations

Now a regular make command will use lrelease to make .qm files from the
.ts files. Also, Tiled now looks for the translations relative to the
executable, so it is more likely to find them regardless of where it is
executed from.

It is also easier to add new translations and to update existing ones.
For the latter you can now just run 'make ts' in the 'translations'
directory, which will run lupdate with the right parameters.

qmake syntax has been largely based on the Qt Creator support for
translations.

c27abeb5
6	1	src/main.cpp
0	2	src/src.pro
1	1	tiled.pro
0	0	{src/translations => translations}/tiled_nl.ts
0	0	{src/translations => translations}/tiled_pt.ts
49	0	translations/translations.pro

--53cd342d	2009-12-21T17:15:53+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed the context of Portuguese translations

Also removed obsolete strings from Portuguese and Dutch translations.

53cd342d
0	82	src/translations/tiled_nl.ts
42	199	src/translations/tiled_pt.ts

--ffc12bfa	2009-12-21T16:35:22+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated Dutch translation

ffc12bfa
195	174	src/translations/tiled_nl.ts
6	1	src/translations/tiled_pt.ts

--67c4a23a	2009-12-21T15:58:04+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Marked "Clear Recent Files" as translatable

67c4a23a
1	1	src/mainwindow.cpp

--6e75f2eb	2009-12-21T15:50:16+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed a rare crash on startup due to a missing initialization

6e75f2eb
1	0	src/layermodel.cpp

--b97a64e5	2009-12-18T21:21:22+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made sure all translatable strings have a proper context

Mainly involved getting rid of all usages of QObject::tr, which does not
set a proper context.

b97a64e5
3	2	src/addremovelayer.h
14	1	src/addremovemapobject.cpp
1	8	src/addremovemapobject.h
4	1	src/changemapobject.cpp
3	2	src/changeproperties.cpp
4	1	src/changeselection.cpp
1	1	src/eraser.cpp
3	1	src/erasetiles.cpp
1	1	src/main.cpp
3	4	src/mapobjectitem.cpp
3	0	src/mapobjectitem.h
4	3	src/movelayer.cpp
3	1	src/movemapobject.cpp
2	0	src/objectpropertiesdialog.h
4	1	src/offsetlayer.cpp
3	1	src/painttilelayer.cpp
2	0	src/propertiesmodel.h
3	1	src/renamelayer.cpp
4	1	src/resizelayer.cpp
3	1	src/resizemap.cpp
3	1	src/resizemapobject.cpp
21	21	src/tmxmapreader.cpp
6	4	src/tmxmapreader.h
1	1	src/tmxmapwriter.cpp
6	4	src/tmxmapwriter.h
1	1	src/toolmanager.cpp
1016	67	src/translations/tiled_nl.ts
425	149	src/translations/tiled_pt.ts
2	0	src/undodock.h

--f310bcf8	2009-12-09T01:13:07+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed a bug with map saving introduced with watching for tileset changes

The Tileset's file name is not supposed to be set to the file name of
the tileset image. The TilesetManager should be using the Tileset's
image source attribute instead. I failed to notice this earlier.

f310bcf8
0	1	src/tileset.cpp
6	6	src/tilesetmanager.cpp

--4690bcac	2009-12-09T00:50:48+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Some code cleanup related to offset map feature

* Moved retrieving of affected layer indexes and bounding rect into the
  OffsetDialog, to keep mainwindow.cpp a bit cleaner.
* Use QList instead of QSet since duplicate indexes are never inserted.
* Removed some unnecessary null pointer checks (a MapDocument always has
  a map and a selection model).
* Renamed enumerators to comply with naming standard.
* Made the offset map dialog non-resizable.
* Use selection as bounds by default when there is a selection.

4690bcac
9	55	src/mainwindow.cpp
1	1	src/mainwindow.ui
4	5	src/mapdocument.cpp
1	1	src/mapdocument.h
1	1	src/mapobject.h
4	4	src/objectgroup.cpp
1	1	src/objectgroup.h
1	1	src/offsetlayer.h
66	11	src/offsetmapdialog.cpp
18	5	src/offsetmapdialog.h
5	8	src/offsetmapdialog.ui
14	11	src/tilelayer.cpp

--53269a32	2009-12-07T01:15:32-07:00	Jeff Bland	jksb@member.fsf.org	Added "Offset Map..." option to the map menu.

This serves as a useful shortcut do doing things that are mostly possible but
more tedious with cut/paste and offset-within-resize.

There is a dialog with a number of options:
- X and Y offsets to apply
- Wrapping to the other size on X and/or Y axis
- Which layers to apply to
  - All visible layers
  - All layers
  - Selected layer
- Apply to whole map or within current selection area (if available)

53269a32
6	0	src/layer.h
67	0	src/mainwindow.cpp
1	0	src/mainwindow.h
10	0	src/mainwindow.ui
23	0	src/mapdocument.cpp
9	0	src/mapdocument.h
6	0	src/mapobject.h
34	0	src/objectgroup.cpp
10	0	src/objectgroup.h
81	0	src/offsetlayer.cpp
71	0	src/offsetlayer.h
79	0	src/offsetmapdialog.cpp
63	0	src/offsetmapdialog.h
221	0	src/offsetmapdialog.ui
8	3	src/src.pro
42	0	src/tilelayer.cpp
10	0	src/tilelayer.h

--066180e3	2009-12-08T23:38:50+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Some code cleanups related to automatic tileset reloading

* No need to pass Tileset* as const in the signal, especially since we'd
  need to use a const_cast in that case.
* Fixed some unreliability when multiple files change, by restarting the
  timer for each new file that changes.
* No need to remove paths from the watcher when deleting the tileset
  manager. It should already not be watching anything, and it's about to
  be destroyed anyway.

066180e3
7	4	src/mapscene.cpp
1	1	src/mapscene.h
1	1	src/tileset.cpp
5	4	src/tilesetdock.cpp
1	1	src/tilesetdock.h
25	27	src/tilesetmanager.cpp
9	7	src/tilesetmanager.h

--bb935d82	2009-11-30T23:34:01-08:00	Edward Hutchins	eah1@yahoo.com	Added tileset file notification using QFileSystemWatcher

bb935d82
11	0	src/mapscene.cpp
2	0	src/mapscene.h
6	0	src/tile.h
17	2	src/tileset.cpp
4	2	src/tileset.h
18	2	src/tilesetdock.cpp
1	0	src/tilesetdock.h
48	4	src/tilesetmanager.cpp
18	1	src/tilesetmanager.h
5	0	src/tilesetmodel.h
2	0	src/toolmanager.h

--fec4200c	2009-12-03T20:06:37+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed a possible crash when rendering the brush item

Could happen when tiles extended beyond the height of the standard tile,
due to a missing bounds check in the tile rendering code. The bounds
check became necessary after the recent changes to support isometric
tile layers.

fec4200c
2	2	src/orthogonalrenderer.cpp

--262a8a39	2009-12-02T20:01:12+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Implemented duplicating of map objects

Their context menu now has a 'Duplicate' item.

262a8a39
12	3	src/mapobjectitem.cpp

--50188abc	2009-11-22T21:00:58+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed the remaining issues with isometric tile layers

Moved the mapping from screen to tile coordinates and the drawing of
tile selection into the MapRenderer.

Mantis-issue: 31

50188abc
10	8	src/abstracttiletool.cpp
26	39	src/brushitem.cpp
5	16	src/brushitem.h
1	1	src/eraser.cpp
47	13	src/isometricrenderer.cpp
15	10	src/isometricrenderer.h
10	0	src/layer.h
11	1	src/map.h
0	10	src/mapdocument.cpp
0	6	src/mapdocument.h
29	6	src/maprenderer.h
3	3	src/mapscene.cpp
33	8	src/orthogonalrenderer.cpp
11	4	src/orthogonalrenderer.h
3	25	src/selectiontool.cpp
0	1	src/selectiontool.h
7	10	src/stampbrush.cpp
1	6	src/tilelayeritem.cpp
12	10	src/tileselectionitem.cpp

--4b8205ad	2009-11-26T12:34:02+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	A bit of documentation for the save as image dialog

4b8205ad
8	0	src/saveasimagedialog.h

--c260c655	2009-11-23T00:00:50+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merge branch '0.3'

c260c655
--7a15b74a	2009-11-22T22:10:21+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Bumped version to 0.3.1

7a15b74a
7	0	NEWS
1	1	src/main.cpp

--354f9723	2009-11-22T17:05:30+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Implemented isometric tile layer rendering

The implementation is similar to the one in Tiled Java, but optimized a
bit further to draw as few tiles as possible.

There's still quite some stuff hardcoded for orthogonal maps that will
have to be moved into the MapRenderer interface though.

Mantis-issue: 31

354f9723
88	7	src/isometricrenderer.cpp
8	5	src/mapscene.cpp
3	0	src/tilelayer.h
8	2	src/tilelayeritem.cpp
10	0	src/tilelayeritem.h

--669b1e67	2009-11-21T17:27:33+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made a start on support for isometric maps

Introduced a new MapRenderer, the IsometricRenderer. Only grid rendering
has been implemented so far, based on the Java implementation.

Mantis-issue: 31

669b1e67
12	0	examples/isometric.tmx
-	-	examples/isometric_tileset.png
106	0	src/isometricrenderer.cpp
25	5	src/{orthogonalrenderer.h => isometricrenderer.h}
1	0	src/map.h
11	2	src/mapdocument.cpp
8	2	src/maprenderer.h
5	37	src/mapscene.cpp
33	0	src/orthogonalrenderer.cpp
6	0	src/orthogonalrenderer.h
4	2	src/src.pro
18	6	src/tmxmapreader.cpp
3	0	src/tmxmapwriter.cpp

--4adf2239	2009-11-21T11:17:48+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Turned MapRenderer into an interface

Moved the current implementation into OrthogonalRenderer. Of course, the
interface will still need to be extended to cover everything that is
orientation dependent.

4adf2239
2	2	src/mapdocument.cpp
15	11	src/maprenderer.h
11	16	src/{maprenderer.cpp => orthogonalrenderer.cpp}
6	34	src/{maprenderer.h => orthogonalrenderer.h}
4	3	src/src.pro

--389f38cf	2009-11-20T18:59:44+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added initial support for map orientation to the map reader and writer

Main difference is that now Tiled will refuse to load maps that are
using an unsupported orientation (anything else than orthogonal).

389f38cf
2	1	src/clipboardmanager.cpp
4	2	src/map.cpp
31	2	src/map.h
2	1	src/newmapdialog.cpp
10	3	src/tmxmapreader.cpp
14	2	src/tmxmapwriter.cpp

--db446713	2009-11-20T18:09:51+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed a crash when loading a map while holding Ctrl

The map would have to contain map objects.

When Ctrl was held, it always tried to snap to the grid, even when the
position only changed because the map object item was being synced with
its map object. Now the snapping logic is skipped when syncing.

db446713
8	1	src/mapobjectitem.cpp
1	0	src/mapobjectitem.h

--53cb76e1	2009-11-15T21:54:52+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Enable undo command compression for the stamp brush

Same as done with the eraser. Multiple consecutive paint commands that
are the result of one paint operation now get merged together in a
single undo command.

53cb76e1
2	7	src/erasetiles.cpp
43	2	src/painttilelayer.cpp
14	0	src/painttilelayer.h
4	3	src/stampbrush.cpp
1	1	src/stampbrush.h
13	6	src/tilelayer.cpp
10	2	src/tilelayer.h
4	4	src/tilepainter.cpp
5	1	src/tilepainter.h
2	4	src/undocommands.h

--cb2abfeb	2009-11-15T14:36:35+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Enable command compression for the eraser

This is to make sure that when you drag the eraser to erase a larger
area, the consecutive erase commands get merged into a single undo
command.

cb2abfeb
6	4	src/eraser.cpp
1	1	src/eraser.h
37	1	src/erasetiles.cpp
12	0	src/erasetiles.h
2	1	src/src.pro
12	34	src/{erasetiles.h => undocommands.h}

--40f72eb5	2009-11-15T13:16:50+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Don't create change selection commands when the selection didn't change

40f72eb5
4	2	src/selectiontool.cpp

--ffe90af9	2009-11-14T16:19:33+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed a compile issue on Mac OS X related to QXmlStreamWriter

Apparently the way the QXmlStreamWriter was moved from QtXml to QtCore
on the Mac means trouble for forward declarations.

ffe90af9
0	1	src/tmxmapwriter.cpp
1	2	src/tmxmapwriter.h

--a9ff4fa2	2009-11-14T16:09:51+01:00	Porfírio Ribeiro	porfirioribeiro@gmail.com	Added Portugese translation

a9ff4fa2
4	0	AUTHORS
2	1	src/src.pro
902	0	src/translations/tiled_pt.ts

--161f5e71	2009-11-14T15:13:36+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed reading of maps with non-binary-encoded layer data

Was broken due to a forgotten skip element, making it stop reading after
the first tile and reporting the rest as unknown elements.

161f5e71
2	0	src/tmxmapreader.cpp

--74e19d61	2009-11-14T13:33:13+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Check the Qt version in the .pro file

Avoids confusing compile errors when people try to build Tiled with
earlier Qt versions, especially when they hit a Qt 3 qmake.

74e19d61
9	0	tiled.pro

--0f34dafb	2009-11-13T20:52:08+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added link to the website to the About dialog

0f34dafb
6	1	src/aboutdialog.ui

--b53483e3	2009-11-13T20:39:55+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Confirm overwrite on the right moment for 'Save as Image' dialog

Problem reported on IRC by CodyMartin.

b53483e3
19	1	src/saveasimagedialog.cpp

--ba81d14b	2009-11-13T19:11:22+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Explicitly add the src directory to the include path

Necessary on Windows, for some reason it doesn't get added by default.

ba81d14b
1	0	src/src.pro

--53c40bdb	2009-11-13T18:44:18+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added two example maps

The sewer example shows the use of a transparent color in the tileset,
while the desert example shows the use of tile margin and spacing.

53c40bdb
12	0	examples/desert.tmx
-	-	examples/sewer_tileset.png
17	0	examples/sewers.tmx
-	-	examples/tmw_desert_spacing.png

--4762091b	2009-11-13T18:43:44+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Save layer opacity when it isn't equal to 1

4762091b
3	0	src/tmxmapwriter.cpp

--b5d5ddad	2009-11-13T18:18:39+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added scrolling the map view with the middle mouse button

b5d5ddad
1	0	NEWS
53	1	src/mapview.cpp
8	1	src/mapview.h

--8851f3b5	2009-11-13T17:54:06+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed map object artifacts when dragging and zoomed in

The line width is 3 but the shadow is shifted by one, so the additional
width for the bounding box should be 4.

8851f3b5
4	4	src/mapobjectitem.cpp

--4bffdcc6	2009-11-13T17:45:04+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed tileset deletion by MainWindow due to missing include

4bffdcc6
1	0	src/mainwindow.cpp

--9c3924ab	2009-11-13T11:42:07+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Bumped the version to 0.3.0, updated NEWS and README files

The TODO file was removed in favour of tracking tasks with the Mantis
bug tracker linked from the website.

9c3924ab
7	0	NEWS
19	8	README
0	39	TODO
1	1	src/main.cpp

--4df45937	2009-11-13T12:40:40+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed loading of maps that use an external tileset

These kind of maps can't be created with this version of Tiled yet, but
at least it can load and save them correctly.

4df45937
12	3	src/tmxmapreader.cpp

--38b87f43	2009-11-13T11:55:04+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed unnecessarily creating a ChangeSelection command on paste

When pasting with no selection, there is nothing to deselect. But
selectNone() would unconditionally create a ChangeSelection command
anyway.

38b87f43
3	0	src/mainwindow.cpp

--25d11164	2009-11-13T11:45:04+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed initialization of whether the clipboard has a map

25d11164
6	3	src/clipboardmanager.cpp
1	1	src/clipboardmanager.h

--36344e3c	2009-11-11T21:23:16+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Introduced a ClipboardManager for interfacing with the clipboard

Moving most of the clipboard handling code out of the MainWindow class,
where it doesn't really belong.

36344e3c
122	0	src/clipboardmanager.cpp
85	0	src/clipboardmanager.h
17	68	src/mainwindow.cpp
4	1	src/mainwindow.h
4	2	src/src.pro

--634590e7	2009-11-10T23:38:38+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed an issue with the implementation of TileLayer::copy

Previously, the function could return 0 or an area smaller than the
specified region. These are confusing properties to deal with and were
the cause of errors when undoing certain stamp brush painting or cut
actions.

Also, the QRegion variant of TileLayer::copy is now no longer slower
than the QRect variant, so the latter is removed.

A memory leak was fixed in PaintTileLayer, which forgot to clean up the
copied part of the target tile layer.

634590e7
0	2	src/mainwindow.cpp
1	0	src/painttilelayer.cpp
13	27	src/tilelayer.cpp
3	17	src/tilelayer.h

--12d483a6	2009-11-10T21:04:57+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Implemented cut

Currently, this action makes for a much more efficient way to erase
tiles than the eraser. Looks like the eraser can use some improvement.

12d483a6
5	3	src/eraser.cpp
19	9	src/{erasetile.cpp => erasetiles.cpp}
10	8	src/{erasetile.h => erasetiles.h}
36	3	src/mainwindow.cpp
1	0	src/mainwindow.h
13	0	src/mainwindow.ui
2	2	src/src.pro
24	6	src/tilepainter.cpp
8	1	src/tilepainter.h

--a6de38bf	2009-11-10T20:22:16+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added initial support for copy/paste

This implementation works by writing a TMX file to the clipboard under
the text/tmx mime type. As such it also works from one map to another or
from one Tiled instance to another.

The tricky part is that sometimes new tilesets have to be added to a map
when you paste a selection to it. Tiled tries to avoid this whenever
possible, by checking whether the same or a similar tileset (that
differs only in tile properties) is already in use. For similar
tilesets, the tile properties are merged.

a6de38bf
109	5	src/mainwindow.cpp
3	0	src/mainwindow.h
19	0	src/tilelayer.cpp
12	0	src/tilelayer.h
2	1	src/tilesetmanager.cpp
1	0	src/tilesetmanager.h
58	0	src/tmxmapreader.cpp
8	0	src/tmxmapreader.h
28	4	src/tmxmapwriter.cpp
12	0	src/tmxmapwriter.h
10	0	src/toolmanager.cpp
6	0	src/toolmanager.h

--ec4b86e5	2009-11-01T15:54:38+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Reorganized the TmxMapWriter to use private methods

ec4b86e5
124	130	src/tmxmapwriter.cpp
25	0	src/tmxmapwriter.h

--116b0eec	2009-11-10T13:08:15+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Use the built-in shortcuts for zooming in and out

116b0eec
2	0	src/mainwindow.cpp
0	6	src/mainwindow.ui

--7cf86bcd	2009-11-10T13:04:02+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Keep the source directory clean from temporary files

By specifying directories for moc, uic, rcc and object files.

7cf86bcd
4	0	src/src.pro

--79e06c14	2009-11-08T23:21:45+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Changed the AbstractTool interface to be independent from mouse events

To solve the issue with not having mouse events when switching tools,
but still needing to send enter/leave and position updates. Now these
events can be easily simulated.

79e06c14
7	7	src/abstracttiletool.cpp
3	3	src/abstracttiletool.h
29	5	src/abstracttool.h
5	7	src/eraser.cpp
3	2	src/eraser.h
26	8	src/mapscene.cpp
2	0	src/mapscene.h
6	8	src/selectiontool.cpp
3	2	src/selectiontool.h
7	10	src/stampbrush.cpp
3	2	src/stampbrush.h

--cdb8c35f	2009-11-08T20:26:38+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added keyboard shortcuts to the tools

This feature exposes a bug when switching tools while the mouse cursor
is in the scene. A fix will follow for that later.

cdb8c35f
4	2	src/abstracttiletool.cpp
3	1	src/abstracttiletool.h
8	1	src/abstracttool.h
1	0	src/eraser.cpp
1	0	src/selectiontool.cpp
1	0	src/stampbrush.cpp
4	0	src/toolmanager.cpp
9	0	src/toolmanager.h

--654047e3	2009-11-06T20:18:29+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed stamp brush getting a reset when switching tools

Bug was introduced with the AbstractTileTool.

654047e3
1	0	src/stampbrush.cpp

--31d4d092	2009-11-01T20:58:26+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made paint operations take into account the tile selection

Also, changes to the tile selection are now part of the undo stack.

31d4d092
54	0	src/changeselection.cpp
15	32	src/{tileselectionmodel.h => changeselection.h}
13	4	src/mainwindow.cpp
11	14	src/selectiontool.cpp
4	2	src/src.pro
28	12	src/tilepainter.cpp
6	3	src/tilepainter.h
0	31	src/tileselectionmodel.cpp
0	7	src/tileselectionmodel.h

--3c8e2899	2009-10-30T19:12:30+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Introduced tool status info in the status bar

Currently this basically displays the current tile coordinates for any
AbstractTileTool. The selection tool also displays the size of the
rectangle while selecting.

Mantis-issue: 7

3c8e2899
12	0	src/abstracttiletool.cpp
12	0	src/abstracttiletool.h
12	37	src/{selectiontool.h => abstracttool.cpp}
7	0	src/abstracttool.h
10	0	src/mainwindow.cpp
2	0	src/mainwindow.h
15	0	src/selectiontool.cpp
3	0	src/selectiontool.h
2	1	src/src.pro
9	0	src/toolmanager.cpp
6	0	src/toolmanager.h

--3df6f441	2009-10-30T17:55:11+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Snap to grid when Ctrl is pressed

This replaces the snap-when-grid-is-visible logic, which wasn't really
obvious. The new behaviour is also more flexible, of course.

3df6f441
4	3	src/mapobjectitem.cpp

--b67821b2	2009-10-15T23:12:49+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Tweaked selection tool to allow selecting nothing

By taking the position between the tiles, a single click will now not
select anything, which is expected behaviour for a selection tool.

b67821b2
5	1	src/abstracttiletool.cpp
12	0	src/abstracttiletool.h
11	8	src/selectiontool.cpp

--5c901ba9	2009-10-14T23:49:30+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Introduced an abstract base class for tile tools

The AbstractTileTool is the new place for all the duplicated code in the
stamp brush, eraser and selection tool.

5c901ba9
21	55	src/{eraser.cpp => abstracttiletool.cpp}
35	41	src/{stampbrush.h => abstracttiletool.h}
9	100	src/eraser.cpp
3	21	src/eraser.h
13	106	src/selectiontool.cpp
3	22	src/selectiontool.h
4	2	src/src.pro
21	104	src/stampbrush.cpp
4	25	src/stampbrush.h

--776c4b19	2009-10-14T18:25:03+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added a rectangular selection tool

Supports replacing, adding (with shift), subtracting (with ctrl) and
intersecting (with ctrl+shift) the current selection.

Of course, since the selection isn't used for anything yet, this tool is
useless for now.

776c4b19
3	0	src/brushitem.h
4	1	src/eraser.cpp
-	-	src/images/22x22/stock-tool-rect-select.png
2	0	src/mainwindow.cpp
89	34	src/{eraser.cpp => selectiontool.cpp}
80	0	src/selectiontool.h
4	2	src/src.pro
1	2	src/stampbrush.cpp
1	0	src/tiled.qrc
5	2	src/tileselectionitem.cpp
6	1	src/tileselectionmodel.cpp
2	1	src/tileselectionmodel.h
2	2	src/tilesetmanager.cpp
2	2	src/tilesetmanager.h
1	1	src/tmxmapreader.cpp

--33e52d94	2009-10-01T23:38:31+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed a conversion warning

33e52d94
1	1	src/layerdock.cpp

--b9e3a7b4	2009-10-01T23:10:03+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added a NEWS file listing the changes since 0.1.0

b9e3a7b4
10	0	NEWS

--68a01a19	2009-10-01T22:58:30+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Tiled now depends on Qt >= 4.5

68a01a19
1	1	README
1	1	src/main.cpp
0	2	src/mainwindow.cpp

--7896b49a	2009-10-01T22:52:26+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added a slider to change the opacity of the current layer

Layer opacity is now handled by the QGraphicsItem::opacity property
introduced with Qt 4.5.

7896b49a
78	4	src/layerdock.cpp
12	0	src/layerdock.h
11	0	src/layermodel.cpp
8	1	src/layermodel.h
5	11	src/mainwindow.cpp
2	12	src/mapobjectitem.cpp
0	5	src/maprenderer.cpp
4	1	src/mapscene.cpp
5	6	src/objectgroupitem.cpp
4	2	src/src.pro
2	3	src/tilelayeritem.cpp
1	0	src/toolmanager.cpp
15	24	src/{objectgroupitem.cpp => undodock.cpp}
18	28	src/{objectgroupitem.cpp => undodock.h}

--8f74f3bf	2009-09-23T20:59:04+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Use icons from the system theme when possible

Using QIcon::fromTheme() function that is added in Qt 4.6.

8f74f3bf
41	0	src/mainwindow.cpp

--203efcf7	2009-09-27T14:43:17+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added a first unit test, testing the map reader

203efcf7
3	0	.gitignore
0	13	examples/mapobject.tmx
12	0	tests/data/mapobject.tmx
58	0	tests/test_tmxmapreader.cpp
19	0	tests/test_tmxmapreader.pro

--60ff1021	2009-09-26T23:17:58+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made tileset image loading a bit faster

By making copies of the QImage instead of the QPixmap, a conversion to a
QImage for each copy is prevented.

60ff1021
17	15	src/tileset.cpp

--c3f51573	2009-09-26T22:55:22+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merged the TMX and TSX readers into one QXmlStreamReader based reader

This gets rid of the depencency on QtXml and makes the code easier to
understand.

Mantis-issue: 8

c3f51573
0	5	src/mapobject.cpp
0	5	src/mapobject.h
1	4	src/src.pro
437	367	src/tmxmapreader.cpp
0	248	src/tsxtilesetreader.cpp
0	66	src/tsxtilesetreader.h

--16d1fb88	2009-09-26T16:43:36+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made the names of the TMX map reader and writer more specific

XmlMapReader renamed to TmxMapReader
XmlMapWriter renamed to TmxMapWriter

16d1fb88
4	4	src/mainwindow.cpp
1	1	src/mapreaderinterface.h
4	4	src/src.pro
2	2	src/{xmlmapreader.cpp => tmxmapreader.cpp}
4	4	src/{xmlmapreader.h => tmxmapreader.h}
2	2	src/{xmlmapwriter.cpp => tmxmapwriter.cpp}
4	4	src/{xmlmapwriter.h => tmxmapwriter.h}
1	1	src/tsxtilesetreader.h

--b9133a2b	2009-09-26T12:27:25+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added support for masking tileset images based on a certain color

Mantis-issue: 3

b9133a2b
68	0	src/colorbutton.cpp
58	0	src/colorbutton.h
1	1	src/main.cpp
7	0	src/newtilesetdialog.cpp
54	0	src/newtilesetdialog.ui
4	2	src/src.pro
15	6	src/tileset.cpp
14	0	src/tileset.h
7	1	src/tsxtilesetreader.cpp
7	2	src/xmlmapreader.cpp
5	1	src/xmlmapwriter.cpp

--c051c095	2009-09-25T00:57:27+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added ability to save a map as an image

With options whether to take into account current zoom level or layer
visibility.

On request of the Pokemon community. :)

Mantis-issue: 18

c051c095
16	0	src/mainwindow.cpp
1	0	src/mainwindow.h
6	0	src/mainwindow.ui
8	2	src/maprenderer.cpp
7	2	src/maprenderer.h
2	14	src/newtilesetdialog.cpp
136	0	src/saveasimagedialog.cpp
64	0	src/saveasimagedialog.h
135	0	src/saveasimagedialog.ui
8	3	src/src.pro
58	0	src/utils.cpp
43	0	src/utils.h

--b8cd76f5	2009-09-25T18:46:37+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Re-enable dragging about of the toolbars

Especially now that there are two of them, it becomes more useful.

b8cd76f5
0	6	src/mainwindow.ui
0	2	src/toolmanager.cpp

--65429a95	2009-09-22T23:22:42+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed some stamp brush related crashes

When the stamp brush was not the active tool, the map document was not
updated correctly. This caused crashes when referencing the deleted map.

65429a95
2	2	src/brushitem.cpp
1	0	src/mainwindow.cpp
14	10	src/stampbrush.cpp
6	0	src/stampbrush.h

--01a0a507	2009-09-22T22:30:32+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Specified the version in a single place and raised it to 0.2.0

01a0a507
2	0	src/aboutdialog.cpp
1	1	src/aboutdialog.ui
10	8	src/main.cpp

--242330cf	2009-09-22T20:09:14+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Changed Ui::MainWindow to be aggregated with a pointer

More consistent with the rest of the .ui files.

242330cf
95	93	src/mainwindow.cpp
6	2	src/mainwindow.h
2	2	src/mainwindow.ui

--975aefa3	2009-09-21T22:34:03+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Preserve the stamp when switching tools

Only reset it when switching maps.

975aefa3
9	6	src/stampbrush.cpp

--6e7fd2e8	2009-09-21T22:22:02+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added an eraser tool that allows you to erase tiles

Mantis-issue: 1

6e7fd2e8
170	0	src/eraser.cpp
72	0	src/eraser.h
50	0	src/erasetile.cpp
56	0	src/erasetile.h
-	-	src/images/22x22/stock-tool-eraser.png
2	0	src/mainwindow.cpp
6	2	src/src.pro
1	0	src/tiled.qrc

--db1c8c3b	2009-09-21T01:36:48+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Introduced the ToolManager and a tools tool bar

Making adding additional tools possible by registering them with the
ToolManager. They will be added to the tools tool bar, with which you
can select the active tool.

However, the stamp brush is still the only tool, so it remains to be
seen whether this is the right setup.

db1c8c3b
6	2	src/abstracttool.h
-	-	src/images/22x22/stock-tool-clone.png
22	1	src/mainwindow.cpp
8	0	src/mainwindow.h
28	20	src/mapscene.cpp
5	10	src/mapscene.h
4	2	src/src.pro
4	2	src/stampbrush.cpp
1	1	src/stampbrush.h
1	0	src/tiled.qrc
94	0	src/toolmanager.cpp
82	0	src/toolmanager.h

--88370455	2009-09-20T21:43:36+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated the Doxyfile to Doxygen 1.6.1

Mostly removal of trailing whitespace.

88370455
14	6	docs/Doxyfile

--e6d6b123	2009-09-20T21:40:54+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Separated out StampBrush, implementing the new AbstractTool class

The functionality of the stamp brush is now less intertangled with the
MapScene and BrushItem classes. This should open the way for
implementing other kinds of tools.

The actual implementation of the StampBrush hasn't gotten much prettier
yet though.

e6d6b123
90	0	src/abstracttool.h
51	181	src/brushitem.cpp
15	37	src/brushitem.h
2	0	src/mapdocument.h
31	70	src/mapscene.cpp
4	5	src/mapscene.h
6	6	src/src.pro
291	0	src/stampbrush.cpp
37	51	src/{brushitem.h => stampbrush.h}

--d14e5f6d	2009-09-13T09:56:18+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed grid disappearing when zoomed in

Another case of cutting off a floating point value. Need to take the
ceil instead.

d14e5f6d
2	2	src/maprenderer.cpp
6	2	src/mapscene.cpp

--045cd4e9	2009-09-10T21:29:19+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed tile drawing glitches when zoomed in

It shouldn't be rounding off floating point values, since then it can
fail to paint half a pixel.

045cd4e9
8	6	src/maprenderer.cpp
1	1	src/maprenderer.h
2	2	src/tilelayeritem.cpp

--285512f6	2009-09-10T00:36:25+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed handling of <object> elements outside of <objectgroup>

Better not crash when this happens. Encountered it when trying to load
an old map, from when the 'objectgroup' didn't exist yet.

For backwards compatibility it might be better to implicitly create an
objectgroup instead, but I'm pretty sure I'm the only one with those
kind of maps lying around.

285512f6
5	0	src/xmlmapreader.cpp

--179081ee	2009-09-09T18:04:05+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed a compilation issue with Qt <= 4.5

179081ee
2	0	src/tileselectionitem.h

--6ebd6d05	2009-09-09T11:16:27+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed a warning and told Qt not to try painting a ObjectGroupItem

6ebd6d05
5	0	src/objectgroupitem.cpp
1	0	src/tileselectionitem.h

--16281970	2009-09-08T23:55:00+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed stamp creation when not dragging topleft to bottomright

Now it works in all directions.

Also disabled dragging around for the toolbar, since it's not very
useful, and the toolbar looks cleaner that way.

16281970
19	8	src/brushitem.cpp
1	0	src/brushitem.h
6	0	src/mainwindow.ui

--622f8cac	2009-09-08T20:10:00+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Enabled zooming with Ctrl and mouse wheel

Also made sure that the zoom actions are appropriately enabled/disabled.

622f8cac
4	0	src/mainwindow.cpp
3	0	src/mainwindow.ui
32	0	src/mapview.cpp
6	0	src/mapview.h

--4440a031	2009-09-08T00:35:27+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Exclude generated files from Doxygen

Exclude files generated by moc, uic and rcc.

4440a031
1	1	docs/Doxyfile

--555e71f7	2009-09-07T23:27:24+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Implemented zooming of the map view

Based on real-time QGraphicsView transformation. Seems fast enough in
software mode, and would be for free if OpenGL was used.

There seem to be some small painting glitches, but other than that there
are less issues than I had expected.

Mantis-issue: 2

555e71f7
-	-	src/images/16x16/zoom-in.png
-	-	src/images/16x16/zoom-original.png
-	-	src/images/16x16/zoom-out.png
-	-	src/images/24x24/zoom-in.png
-	-	src/images/24x24/zoom-original.png
-	-	src/images/24x24/zoom-out.png
26	0	src/mainwindow.cpp
3	0	src/mainwindow.h
40	0	src/mainwindow.ui
54	1	src/mapview.cpp
17	1	src/mapview.h
6	0	src/tiled.qrc

--54680f0a	2009-09-06T23:46:18+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Moved the conversion from gid to Tile* into the map reader

It didn't belong in the Map class, where it just complicated many places
throughout Tiled. It now also better handles corrupted or faulty tile
layer data, popping up an error instead of exiting with an assertion
error.

54680f0a
3	23	src/map.cpp
6	22	src/map.h
3	3	src/mapdocument.cpp
1	1	src/tilesetdock.cpp
52	5	src/xmlmapreader.cpp
1	5	src/xmlmapwriter.cpp

--55e5e086	2009-09-04T02:08:43+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed the minimum row and column size in the tileset view

The horizontal and vertical headers were affecting the minimum size of
the rows and columns. Return a small size hint from the TilesetModel to
prevent this.

Mantis-task: 9

55e5e086
9	0	src/tilesetmodel.cpp
7	0	src/tilesetmodel.h

--0f9259f9	2009-09-03T07:06:00+02:00	Alessandro Portale	alessandro@casaportale.de	On Windows, we need to use the zlib that comes with Qt.

0f9259f9
3	0	src/src.pro

--4b71135f	2009-09-02T12:21:08+02:00	Roberto Raggi	roberto.raggi@gmail.com	Compile on Mac

4b71135f
6	0	src/src.pro

--27d0e4fc	2009-09-02T00:14:55+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed some no longer necessary debug output

27d0e4fc
0	2	src/mainwindow.cpp
0	4	src/tileset.cpp
0	2	src/tilesetmanager.cpp
0	1	src/tsxtilesetreader.cpp
0	9	src/xmlmapreader.cpp

--dd9aaec7	2009-09-01T23:59:52+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed some conversion issues from qreal to int

dd9aaec7
4	4	src/map.cpp
1	1	src/mapobject.h

--10c91456	2009-09-01T23:26:19+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updates to AUTHORS and TODO files and about dialog

The about dialog now states copyright belongs to me, since I wrote
practically all of the application. Contributors are mentioned in the
AUTHORS file together with their contributions.

10c91456
6	0	AUTHORS
6	6	TODO
3	3	src/aboutdialog.ui

--5ea4d11f	2009-09-01T23:10:50+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added a script that makes a source release

5ea4d11f
8	0	make-dist.sh

--7273c4cb	2009-09-01T22:34:50+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Allow creating a stamp brush by dragging in the tileset view

This is very convenient for placing connecting blocks of tiles on the
map at once.

7273c4cb
2	2	src/mainwindow.cpp
3	4	src/mapscene.cpp
4	4	src/mapscene.h
51	11	src/tilesetdock.cpp
7	6	src/tilesetdock.h
1	1	src/tilesetview.cpp

--91b3aef3	2009-08-31T00:44:21+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Turned off brief member descriptions in the documentation

91b3aef3
1	1	docs/Doxyfile

--736b0306	2009-08-29T21:45:29+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Introduced stamp brush, created by right-click drag

The implementation got pretty messy unfortunately, will need to look
into cleaning that up a bit later. Also, creating stamps from the
tileset view is not supported yet.

736b0306
138	34	src/brushitem.cpp
19	4	src/brushitem.h
6	0	src/layer.h
15	7	src/mapscene.cpp
19	18	src/{painttile.cpp => painttilelayer.cpp}
18	16	src/{painttile.h => painttilelayer.h}
2	2	src/src.pro
17	0	src/tilelayer.cpp
14	0	src/tilelayer.h
48	0	src/tilepainter.cpp
18	0	src/tilepainter.h
1	1	src/tilesetview.cpp

--69d13499	2009-08-25T21:03:08+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made a start on abstracting map rendering

The tile layer rendering code should not be in TileLayerItem, since
there it can't be conveniently reused in other places.

Also, the way a map is rendered depends on its orientation. Currently
only orthogonal orientation is supported, but that is planned to change.

69d13499
3	0	src/mapdocument.cpp
7	0	src/mapdocument.h
85	0	src/maprenderer.cpp
69	0	src/maprenderer.h
1	1	src/mapscene.cpp
4	2	src/src.pro
10	42	src/tilelayeritem.cpp
6	1	src/tilelayeritem.h

--b47a895d	2009-08-25T19:16:21+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Use the 'raster' graphics system by default on X11

Because the X11 native graphics system has serious performance problems
with drawing the tile grid.

It still allows people to override this, by not setting it when a
graphics system is specified as a command line parameter. To launch with
the native graphics system, you'd start Tiled as:

  tiled -graphicssystem native

b47a895d
17	0	src/main.cpp

--72bda583	2009-08-24T22:43:22+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed a crash when loading a map with a tile selected

It can happen that the selected tile is no longer valid after switching
maps, so be sure to reset it to 0.

72bda583
4	0	src/brushitem.cpp

--8660c667	2009-08-24T20:45:54+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added tile brush preview

Also simplified the check before painting a little.

8660c667
35	6	src/brushitem.cpp
3	0	src/brushitem.h

--a0b0e9c1	2009-08-24T20:24:48+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added some icons and made layer properties available from the menu

a0b0e9c1
1	1	AUTHORS
-	-	src/images/16x16/edit-delete.png
-	-	src/images/16x16/stock-duplicate-16.png
2	1	src/layerdock.cpp
20	0	src/mainwindow.cpp
1	0	src/mainwindow.h
29	7	src/mainwindow.ui
2	1	src/mapdocument.h
5	2	src/mapobjectitem.cpp
2	0	src/tiled.qrc

--fa283d7c	2009-08-23T23:34:03+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added the ability to edit the name and type of map objects

Using an extended PropertiesDialog, the ObjectPropertiesDialog, that
has fields for the name and type.

fa283d7c
63	0	src/changemapobject.cpp
62	0	src/changemapobject.h
1	1	src/layerdock.cpp
1	1	src/mainwindow.cpp
14	2	src/mapobject.h
16	10	src/mapobjectitem.cpp
2	0	src/mapobjectitem.h
73	0	src/objectpropertiesdialog.cpp
57	0	src/objectpropertiesdialog.h
3	7	src/propertiesdialog.cpp
2	5	src/propertiesdialog.h
6	2	src/src.pro

--8e9d46f2	2009-08-19T11:02:44+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Simplified the tsx reader somewhat

I'm convinced that it'd be good to rewrite the tmx SAX-based reader to a
stream reader as well.

8e9d46f2
21	40	src/tsxtilesetreader.cpp

--aa15551b	2009-08-19T10:44:44+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed compiler warning about initialization order

aa15551b
2	2	src/mapobject.cpp
0	1	src/xmlmapreader.cpp

--34feb287	2009-08-18T23:57:44+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added support for adding new map objects

Currently simply by dragging the left mouse button over the map scene
when an object group is selected, since we have no object selection yet.

Unfortunately you can't edit the name and the type of the map objects
for now.

34feb287
1	0	src/addremovelayer.h
25	9	src/{removemapobject.cpp => addremovemapobject.cpp}
101	0	src/addremovemapobject.h
8	0	src/mapdocument.cpp
5	0	src/mapdocument.h
6	0	src/mapobject.cpp
5	0	src/mapobject.h
7	21	src/mapobjectitem.cpp
7	2	src/mapobjectitem.h
83	1	src/mapscene.cpp
6	0	src/mapscene.h
0	58	src/removemapobject.h
2	2	src/src.pro

--3e7360ab	2009-07-22T22:51:50+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Changed MapObject to use tile coordinates instead of pixel coordinates

Using tile coordinates makes sure we can resize an ObjectGroup without
it needing to be part of a map. Objects will also be able to adapt when
the tile size changes.

The position and size of objects is still saved in pixels.

3e7360ab
2	4	src/layer.cpp
0	3	src/layer.h
36	0	src/map.cpp
8	0	src/map.h
2	1	src/mapobject.cpp
23	21	src/mapobject.h
20	10	src/mapobjectitem.cpp
4	3	src/mapobjectitem.h
1	1	src/movemapobject.cpp
4	4	src/movemapobject.h
3	3	src/objectgroup.cpp
0	3	src/objectgroup.h
1	1	src/resizemapobject.cpp
4	4	src/resizemapobject.h
7	1	src/xmlmapreader.cpp
16	9	src/xmlmapwriter.cpp

--d2960026	2009-07-21T20:49:29+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added Map::clone, mostly for completeness

Might come in handy later.

d2960026
11	0	src/map.cpp
2	0	src/map.h

--1ecf5bbc	2009-07-21T20:40:08+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed painting outside of a layer generating undo commands

Moved the contains check to TileLayer::contains, so that it can also be
used from BrushItem, before creating the PaintTile command.

1ecf5bbc
4	1	src/brushitem.cpp
6	0	src/tilelayer.h
2	10	src/tilepainter.cpp

--9276d529	2009-07-20T22:42:00+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made map resizing functional

Complete with undo/redo. Objects that fall outside of the new map are
not yet deleted though, and currently it doesn't handle layers that are
not the same size as the map correctly (they are simply resized to the
new map size).

It's a bit nasty that an ObjectGroup can't be resized without having a
map owner set. This is necessary because it needs to convert tile to
pixel coordinates. Maybe I should try to represent object position using
floating point tile coordinates instead of pixels...

9276d529
11	1	src/layer.cpp
9	0	src/layer.h
5	6	src/mainwindow.cpp
2	2	src/mainwindow.ui
1	1	src/map.cpp
8	1	src/map.h
24	0	src/mapdocument.cpp
15	0	src/mapdocument.h
13	0	src/mapscene.cpp
2	0	src/mapscene.h
14	0	src/objectgroup.cpp
11	0	src/objectgroup.h
5	0	src/resizedialog.cpp
1	0	src/resizedialog.h
79	0	src/resizelayer.cpp
33	21	src/{resizedialog.h => resizelayer.h}
26	24	src/{resizedialog.h => resizemap.cpp}
20	22	src/{resizedialog.h => resizemap.h}
6	2	src/src.pro
21	0	src/tilelayer.cpp
8	0	src/tilelayer.h

--c10f40bb	2009-07-19T19:09:35+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added Duplicate Layer action

Implemented cloning of map layers and objects and used it for a
Duplicate Layer action.

c10f40bb
18	0	src/layer.cpp
8	0	src/layer.h
9	0	src/mainwindow.cpp
1	0	src/mainwindow.h
6	0	src/mainwindow.ui
18	0	src/mapdocument.cpp
1	0	src/mapdocument.h
9	0	src/mapobject.cpp
6	0	src/mapobject.h
18	0	src/objectgroup.cpp
5	0	src/objectgroup.h
18	0	src/tilelayer.cpp
5	0	src/tilelayer.h

--b1359437	2009-07-19T16:22:40+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Switched the tileset view and model to a table

The tiles are now arranged exactly as they are in the original tileset
image, which is more convenient than wrapping them arbitrarily.

b1359437
2	0	src/tileset.cpp
11	1	src/tileset.h
21	5	src/tilesetmodel.cpp
15	5	src/tilesetview.cpp
2	2	src/tilesetview.h

--567d2d7e	2009-07-19T13:57:44+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Introduced a delegate for drawing the items in the tileset view

This delegate fixes performance and spacing issues with the tileset
view.

567d2d7e
1	1	TODO
2	0	src/mainwindow.cpp
2	2	src/tilesetmodel.cpp
59	2	src/tilesetview.cpp
3	0	src/tilesetview.h

--e4d799a0	2009-07-19T12:42:13+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed the map argument from the Layer constructor

The Map class already takes care of setting this when a layer gets added
to a map.

e4d799a0
2	3	src/layer.cpp
1	2	src/layer.h
1	3	src/newmapdialog.cpp
2	3	src/objectgroup.cpp
1	2	src/objectgroup.h
2	3	src/tilelayer.cpp
1	2	src/tilelayer.h

--471a70b2	2009-07-19T12:35:23+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Implemented adding of new tile and object layers

Since the undo command for adding and removing a layer is so similar, an
abstract base class AddRemoveLayer was introduced.

Also fixed an inconsistency in "Remove Object" and "Delete Layer". The
latter is now also called "Remove".

471a70b2
1	1	src/aboutdialog.ui
8	7	src/{deletelayer.cpp => addremovelayer.cpp}
101	0	src/addremovelayer.h
0	57	src/deletelayer.h
44	4	src/mainwindow.cpp
21	9	src/mainwindow.h
16	3	src/mainwindow.ui
26	4	src/mapdocument.cpp
6	1	src/mapdocument.h
2	2	src/src.pro

--f0c552d8	2009-07-19T10:49:55+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added license header file

Makes it easier to have it added automatically in for example
Qt Creator.

f0c552d8
20	0	.LICENSE-HEADER

--2a1872d8	2009-07-18T22:56:11+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Renamed LayerTableModel to LayerModel

The fact that it was a table model wasn't really significant. Since it
was using only one column anyway, I also changed it to be a list model
now.

2a1872d8
1	1	src/deletelayer.cpp
3	3	src/layerdock.cpp
15	20	src/{layertablemodel.cpp => layermodel.cpp}
6	11	src/{layertablemodel.h => layermodel.h}
2	2	src/mapdocument.cpp
3	3	src/mapdocument.h
2	2	src/movelayer.cpp
1	1	src/renamelayer.cpp
2	2	src/src.pro

--e1262e5e	2009-07-18T19:56:24+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Introduced convenience methods Map::layerCount and Map::layerAt

Before, the only way to access map layers was by using Map::layers,
which isn't so nice to read in most cases.

e1262e5e
1	1	src/brushitem.cpp
1	1	src/layerdock.cpp
6	6	src/layertablemodel.cpp
1	1	src/mainwindow.cpp
14	1	src/map.h
7	7	src/mapdocument.cpp
5	5	src/mapscene.cpp
1	1	src/renamelayer.cpp

--3a1767a4	2009-07-18T19:42:45+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made it possible to rename layers

3a1767a4
1	1	src/layerdock.cpp
33	5	src/layertablemodel.cpp
14	4	src/layertablemodel.h
1	1	src/mapdocument.cpp
6	3	src/mapscene.cpp
58	0	src/renamelayer.cpp
53	0	src/renamelayer.h
4	2	src/src.pro

--df87f434	2009-07-17T11:11:48+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	A bit of MapScene cleanup

Removed an unimplemented method and took brush visibility out of the
public API (it isn't used from outside the MapScene).

df87f434
1	15	src/mapscene.h

--ec530309	2009-07-17T11:03:57+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Use the new default Save As and Quit shortcuts

Qt 4.5 added a default shortcut for Save As and Qt 4.6 added a default
shortcut for Quit. Using those ensures consistency on the supported
platforms.

ec530309
6	0	src/mainwindow.cpp

--3435ec93	2009-07-16T23:01:44+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed triggering endless loop in grid drawing code

When drawing a negative line with a custom dash offset, it appears Qt
can enter an endless loop. Since in these cases the grid wasn't supposed
to get drawn anyway, we can just avoid drawing negative lines.

With negative line I mean a line going from A to B, but where A is
higher than B.

3435ec93
5	2	src/mapscene.cpp

--0de9e91f	2009-07-16T22:24:02+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Some fixes to the tile-element layer data code

* Detect and report too many <tile> elements correctly
* Still set mTileId for <tile> elements inside a <tileset> element

0de9e91f
11	6	src/xmlmapreader.cpp

--287d7b1a	2009-06-04T00:21:32+02:00	Christian Henz	chrhenz@gmx.de	Implemented handling of tile-element map data

287d7b1a
25	4	src/xmlmapreader.cpp

--e3793c32	2009-07-16T22:12:29+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Improved property editing with keyboard

Left and right keys now change the column of the current index, even
though the selection mode is per row. This allows you to edit those
cells without having to resort to mouse clicking.

Also, it is now possible to start editing by simply starting to type.
Previously you needed to press the edit key (F2).

e3793c32
0	3	src/propertiesdialog.cpp
11	1	src/propertiesdialog.ui
59	0	src/propertiesview.cpp
45	0	src/propertiesview.h
4	2	src/src.pro

--5d8e6201	2009-07-16T21:12:52+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added deleting of map properties on pressing the Delete key

Also allowed multi-selection so that multiple keys can be deleted at the
same time.

5d8e6201
23	0	src/propertiesdialog.cpp
3	0	src/propertiesdialog.h
3	0	src/propertiesdialog.ui
16	0	src/propertiesmodel.cpp
5	0	src/propertiesmodel.h

--9034c8b6	2009-07-11T21:02:11+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made it possible to add new properties

Using a special row that contains "<new property>", which adds a new
property when edited.

9034c8b6
26	6	src/propertiesmodel.cpp

--e48fa2a9	2009-07-11T19:39:32+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Show the tileset dialog at its preferred size

Removed hardcoded geometry, which is font size specific.

e48fa2a9
0	8	src/newtilesetdialog.ui

--a5ec4c74	2009-07-11T16:18:16+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added close action

Now you can close the file. This is mainly useful for debugging
purposes, until multiple open files are supported.

a5ec4c74
-	-	src/images/16x16/window-close.png
12	0	src/mainwindow.cpp
1	0	src/mainwindow.h
10	0	src/mainwindow.ui
1	0	src/tiled.qrc

--54d0a86c	2009-07-11T13:59:33+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Speed up the undo view by setting uniform item sizes

Since the items are all the same height, the view can do optimizations.
However, one has to tell the view to assume uniform item sizes first.

54d0a86c
1	0	src/mainwindow.cpp

--c856ab5f	2009-07-09T00:37:53+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added ability to delete layers

With undo/redo working.

c856ab5f
68	0	src/deletelayer.cpp
57	0	src/deletelayer.h
9	0	src/mainwindow.cpp
1	0	src/mainwindow.h
9	2	src/mainwindow.ui
21	1	src/mapdocument.cpp
4	11	src/mapdocument.h
4	2	src/src.pro

--5f266d5f	2009-07-09T00:32:21+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Some fixes to the updating of the current layer

The LayerTableModel was sending out the wrong indexes when rows got
removed/inserted.

Also, as explained in MapDocument::setCurrentLayer, we don't always get
notified by the selection model when the current layer index changes.
This can now be worked around by calling MapDocument::setCurrentLayer,
because it no longer checks whether the current layer actually changed
before sending out the signal.

5f266d5f
1	2	src/layerdock.cpp
9	2	src/layertablemodel.cpp
5	0	src/layertablemodel.h
32	5	src/mapdocument.cpp
4	0	src/mapdocument.h

--d9230683	2009-07-06T23:13:37+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Improved updating of the scene in response to layer changes

Based on layer{Added,Removed,Changed} signals from LayerTableModel,
forwarded by MapDocument. No need for a full scene refresh anymore when
layers get added or removed.

d9230683
3	0	src/layertablemodel.cpp
5	0	src/layertablemodel.h
5	0	src/mapdocument.cpp
4	0	src/mapdocument.h
57	34	src/mapscene.cpp
6	6	src/mapscene.h

--93cac284	2009-07-08T09:28:54+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Corrected the invisible layer table header

93cac284
1	2	src/layertablemodel.cpp

--eca47f61	2009-07-06T17:52:32+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed moving and resizing of map objects with Qt 4.6

For performance reasons, since Qt 4.6 the QGraphicsItem no longer
receives events about geometry changes like ItemPositionChange unless you
explicitly tell it you want those.

eca47f61
6	0	src/mapobjectitem.cpp

--91bc34db	2009-07-03T09:35:30+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Got rid of an unused variable

91bc34db
2	2	src/mapscene.cpp
1	1	src/mapscene.h

--b29da73a	2009-07-03T09:27:23+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed the extra pixel for the grid

Since the grid is rather light and not always visible, it's probably
better not to reserve any space for it.

b29da73a
2	3	src/mapscene.cpp

--c622a87b	2009-07-03T09:14:01+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added support for a margin around the tileset image

c622a87b
3	5	src/newtilesetdialog.cpp
0	3	src/newtilesetdialog.ui
2	2	src/tileset.cpp
15	2	src/tileset.h
4	1	src/tsxtilesetreader.cpp
3	1	src/xmlmapreader.cpp
3	0	src/xmlmapwriter.cpp

--3d1e650f	2009-07-03T00:12:45+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Make sure that you can't edit invisible layers

This avoids quite some confusion.

3d1e650f
10	3	src/mapscene.cpp
1	0	src/mapscene.h

--09c84615	2009-06-04T00:30:27+02:00	Christian Henz	chrhenz@gmx.de	Made dock widgets restorable from menu

09c84615
5	0	src/mainwindow.cpp

--4068cfe6	2009-07-01T00:01:06+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Allow changing the visibility of the map layers

The list of layers now has checkboxes that allow you to change the
visibility of the map layers.

4068cfe6
1	1	src/layer.h
39	8	src/layertablemodel.cpp
10	0	src/layertablemodel.h
1	1	src/mapobjectitem.cpp
16	0	src/mapscene.cpp
4	0	src/mapscene.h
1	1	src/tilelayeritem.cpp
2	0	src/xmlmapwriter.cpp

--1e4b9696	2009-06-18T22:46:19+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed repaint issue when drawing with high tiles

The region to be repainted didn't get adjusted to the maximum tile
height yet, causing problems when drawing with tiles higher than the
map's tile height.

1e4b9696
17	2	src/map.cpp
15	0	src/map.h
11	14	src/mapscene.cpp
6	1	src/tilelayer.cpp
2	2	src/tilelayeritem.cpp

--1920abd9	2009-06-18T09:43:15+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Make sure the saved order of map objects is preserved when undoing

When undoing the removal of a map object, the object was inserted at the
end of the list rather than at its original location.

1920abd9
12	2	src/objectgroup.cpp
10	2	src/objectgroup.h
3	2	src/removemapobject.cpp
1	0	src/removemapobject.h

--a63ec454	2009-06-18T09:26:29+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Using my full name from now on

a63ec454
1	0	.mailmap
1	1	AUTHORS

--f4b2b41e	2009-06-17T23:28:01+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added support for removing map objects

Since you can't select map objects yet, they can for now only be deleted
via their context menu.

This also includes some of the work necessary for adding map objects,
cause of the undo functionality. However, the user interface allows no
way to add objects yet.

f4b2b41e
22	0	src/mapdocument.cpp
10	4	src/mapdocument.h
9	1	src/mapobjectitem.cpp
53	0	src/mapscene.cpp
5	4	src/mapscene.h
6	0	src/objectgroup.cpp
6	0	src/objectgroup.h
27	11	src/{objectgroup.cpp => removemapobject.cpp}
32	18	src/{objectgroup.cpp => removemapobject.h}
4	2	src/src.pro

--e0758f39	2009-06-17T00:35:33+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Minor tweaks to indentation around layer data

e0758f39

--e4991138	2009-06-16T21:17:07+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Implemented resizing of map objects

When an object group is selected, the map objects of the object group
now gain a resize handle that allows you to resize the map object. The
handle will snap to the grid when the grid is enabled, similar to moving
the object.

e4991138
1	2	src/mapobject.cpp
25	7	src/mapobject.h
193	44	src/mapobjectitem.cpp
21	1	src/mapobjectitem.h
2	2	src/mapscene.cpp
22	11	src/{mapobject.cpp => resizemapobject.cpp}
32	16	src/{mapobject.cpp => resizemapobject.h}
4	2	src/src.pro

--066ab6e1	2009-06-12T11:25:44+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Small code simplifications

The virtual destructor and Q_DISABLE_COPY are already inherited from
QObject, and the explicit constructor doesn't really add anything.

066ab6e1
2	3	src/newmapdialog.h
2	3	src/newtilesetdialog.h
0	1	src/propertiesdialog.h

--aa9219ab	2009-06-11T16:33:24+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added an example map with a single object

aa9219ab
13	0	examples/mapobject.tmx

--ab43a431	2009-06-10T16:58:54+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made the position of the main window also persistent

By storing the the full geometry rather than just the size. Using the
restoreGeometry method still makes sure that the window is not
positioned off the screen when for example the resolution changed.

ab43a431
6	2	src/mainwindow.cpp

--b572415f	2009-06-06T21:17:00+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Enhanced icons in menus by using 16x16 optimized versions

Actions that are also used in the tool bar get the larger 24x24 version
added to them, to make sure they look nice in both places.

b572415f
2	0	AUTHORS
-	-	src/images/16x16/application-exit.png
-	-	src/images/16x16/document-new.png
-	-	src/images/16x16/document-open-recent.png
-	-	src/images/16x16/document-open.png
-	-	src/images/16x16/document-page-setup.png
-	-	src/images/16x16/document-properties.png
-	-	src/images/16x16/document-save-as.png
-	-	src/images/16x16/document-save.png
-	-	src/images/16x16/drive-harddisk.png
-	-	src/images/16x16/edit-clear.png
-	-	src/images/16x16/edit-copy.png
-	-	src/images/16x16/edit-cut.png
-	-	src/images/16x16/edit-paste.png
-	-	src/images/16x16/edit-redo.png
-	-	src/images/16x16/edit-undo.png
-	-	src/images/16x16/go-down.png
-	-	src/images/16x16/go-up.png
-	-	src/images/16x16/help-about.png
-	-	src/images/{ => 24x24}/document-new.png
-	-	src/images/{ => 24x24}/document-open-recent.png
-	-	src/images/{ => 24x24}/document-open.png
-	-	src/images/{document-resize.png => 24x24/document-page-setup.png}
-	-	src/images/{ => 24x24}/document-properties.png
-	-	src/images/{ => 24x24}/document-save-as.png
-	-	src/images/{ => 24x24}/document-save.png
-	-	src/images/{ => 24x24}/drive-harddisk.png
-	-	src/images/{clear.png => 24x24/edit-clear.png}
-	-	src/images/{ => 24x24}/edit-copy.png
-	-	src/images/24x24/edit-cut.png
-	-	src/images/{ => 24x24}/edit-paste.png
-	-	src/images/{ => 24x24}/edit-redo.png
-	-	src/images/{ => 24x24}/edit-undo.png
-	-	src/images/{ => 24x24}/go-down.png
-	-	src/images/{ => 24x24}/go-up.png
-	-	src/images/{ => 24x24}/help-about.png
22	4	src/mainwindow.cpp
16	12	src/mainwindow.ui
36	17	src/tiled.qrc

--6ec13f4f	2009-06-06T18:47:27+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added icon to new document action

Also added the action to the main tool bar and set the default shortcut
on it.

6ec13f4f
-	-	src/images/document-new.png
1	0	src/mainwindow.cpp
6	0	src/mainwindow.ui
4	3	src/tiled.qrc

--daf12da2	2009-06-06T18:34:31+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made the grid a nice dashed pattern instead of solid lines

daf12da2
11	6	src/mapscene.cpp

--53d06632	2009-06-06T14:26:09+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Show the kind of properties that are being edited

The properties dialog now displays for example "Map Properties" instead
of just "Properties" as its title. The same applies to the related undo
command.

53d06632
3	2	src/changeproperties.cpp
3	1	src/changeproperties.h
3	1	src/layerdock.cpp
3	1	src/mainwindow.cpp
2	1	src/mapobjectitem.cpp
9	3	src/propertiesdialog.cpp
6	2	src/propertiesdialog.h

--d5b89c5f	2009-06-06T14:07:57+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added context menu for changing map object properties

Only applies to map objects of a currently selected object group.

d5b89c5f
29	4	src/mapobjectitem.cpp
4	0	src/mapobjectitem.h

--ed8147ea	2009-06-04T23:31:17+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed a crash on undoing object move after changing layer order

Referencing the MapObjectItem directly from MoveMapObject was a mistake,
since the item gets deleted and recreated when the scene is refreshed.
It should only reference the underlying MapObject, which is guaranteed
to be still valid.

The updating of the map object items is now done through the map
document and the map scene.

ed8147ea
5	0	src/mapdocument.cpp
12	0	src/mapdocument.h
1	2	src/mapobject.cpp
16	6	src/mapobject.h
15	11	src/mapobjectitem.cpp
6	1	src/mapobjectitem.h
19	2	src/mapscene.cpp
9	0	src/mapscene.h
13	7	src/movemapobject.cpp
12	7	src/movemapobject.h

--58631468	2009-06-04T21:21:50+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed creation of undo command when a layer overlaps the moved object

The presence of a layer caused itemAt() to not return the MapObjectItem
that was being moved. The creation of the MoveMapObject command now
moved into the MapObjectItem class, which is a nicer place.

58631468
28	3	src/mapobjectitem.cpp
4	0	src/mapobjectitem.h
0	20	src/mapscene.cpp
0	7	src/mapscene.h

--4b5a3bdf	2009-06-04T10:24:24+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed crash related to roaming pointer after changing layer order

Also fixed a compiler warning and removed use of obsoleted
QGraphicsItem::children() method.

4b5a3bdf
6	3	src/mapscene.cpp

--7b14ac1c	2009-06-03T23:46:36+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added undo/redo support for moving map objects

7b14ac1c
19	0	src/mapscene.cpp
5	0	src/mapscene.h
45	0	src/movemapobject.cpp
51	0	src/movemapobject.h
4	2	src/src.pro

--cb6ea4a7	2009-06-02T23:58:16+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Limit movable map objects to those in the selected object group

Also fixed updating of brush visiblity when the current layer is changed
using the keyboard.

cb6ea4a7
4	2	src/mapobjectitem.cpp
4	1	src/mapobjectitem.h
47	8	src/mapscene.cpp
10	0	src/mapscene.h
50	0	src/objectgroupitem.cpp
15	17	src/{mapobjectitem.h => objectgroupitem.h}
4	2	src/src.pro
5	0	src/tilelayeritem.cpp

--11b3d3d8	2009-06-01T23:21:52+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made it possible to drag around map objects

Including snapping to grid when the grid is visible. However, no
undo/redo yet. Also, map objects now interfere with regular tile
editing, so the objects should only be draggable when they're on the
currently selected layer.

11b3d3d8
30	0	src/mapobjectitem.cpp
3	0	src/mapobjectitem.h
8	2	src/mapscene.cpp

--833a10f5	2009-05-31T21:18:14+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	The new tileset dialog now initializes with tile size from the map

833a10f5
5	0	src/mainwindow.cpp
10	0	src/newtilesetdialog.cpp
3	0	src/newtilesetdialog.h

--0f284c79	2009-05-31T12:54:14+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Moved some code related to new tileset and map out of mainwindow.cpp

Trying to keep the size of mainwindow.cpp down. At the same time though,
I've moved dynamic adaption to language changes to the main window. It
shouldn't be necessary for dialogs, since they are only temporarily
created anyway.

0f284c79
18	20	src/mainwindow.cpp
1	0	src/mainwindow.h
18	14	src/newmapdialog.cpp
10	11	src/newmapdialog.h
4	13	src/newtilesetdialog.cpp
8	4	src/newtilesetdialog.h

--8d088ddf	2009-05-29T16:24:40+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed mouse move events and inefficient repaints with Qt 4.6

Mouse tracking now needs to be enabled explicitly on the viewport. Also,
a flag needs to be set to tell Qt to compute the exposedRect property of
the QStyleOptionGraphicsItem.

8d088ddf
9	1	src/mapview.cpp
2	3	src/mapview.h
3	0	src/tilelayeritem.cpp

--dbbdaf34	2009-05-28T01:35:00+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed crash on unloading a map with new tilesets added

Forgot to add new tilesets to the TilesetManager.

dbbdaf34
2	0	src/mapdocument.cpp

--c3b8fdd6	2009-05-28T01:06:35+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made the Browse button in the new tileset dialog functional

Also inserted some intelligence for automatically setting the tileset
name based on the selected image, if it wasn't edited by hand yet.

c3b8fdd6
2	2	src/mainwindow.cpp
42	2	src/newtilesetdialog.cpp
7	1	src/newtilesetdialog.h

--15b5534b	2009-05-28T00:40:44+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Disabled the margin spinner for now, since it's not supported

15b5534b
3	0	src/newtilesetdialog.ui

--12c21991	2009-05-27T23:26:21+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed recent file list to remember files by their canonical file path

Avoids duplicate entries for the same file, and avoids broken entries
when Tiled was started from the command line with a relative path.

12c21991
6	3	src/mainwindow.cpp

--0c57da67	2009-05-28T00:31:17+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed updating of firstGids when writing out the map

Mapping tiles to their global IDs has now been moved from the map into
the map writer, where it has also been fixed to update properly when
tilesets have changed.

Should probably be generalized later, so that the behaviour is more
easily shared by multiple map writers.

0c57da67
0	16	src/map.cpp
0	8	src/map.h
34	6	src/xmlmapwriter.cpp

--e9d62376	2009-05-28T00:34:20+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Implemented creation of a new tileset and adding it to the map

The tileset dock will also update based on a signal emitted from the
MapDocument.

e9d62376
5	1	src/mainwindow.cpp
6	0	src/mapdocument.cpp
11	0	src/mapdocument.h
21	0	src/newtilesetdialog.cpp
4	1	src/newtilesetdialog.h
9	4	src/tilesetdock.cpp
2	0	src/tilesetdock.h

--ddecbd79	2009-05-17T16:01:52+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added new tileset dialog

ddecbd79
11	0	src/mainwindow.cpp
1	0	src/mainwindow.h
8	1	src/mainwindow.ui
49	0	src/newtilesetdialog.cpp
55	0	src/newtilesetdialog.h
224	0	src/newtilesetdialog.ui
6	3	src/src.pro

--b17ddc85	2009-03-15T15:59:38+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added the ability to start a new map

Not very useful for now, since it is not possible to add a tileset or
layer to the map. It comes with one tile layer by default though.

b17ddc85
35	0	src/mainwindow.cpp
1	0	src/mainwindow.h
7	1	src/mainwindow.ui
2	0	src/mapscene.cpp
57	0	src/newmapdialog.cpp
17	24	src/{propertiesdialog.h => newmapdialog.h}
178	0	src/newmapdialog.ui
5	0	src/propertiesdialog.cpp
10	0	src/propertiesdialog.h
6	3	src/src.pro

--c9651606	2009-04-30T11:09:19+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Pedantic fixes regarding the position of & and *

Following the Qt style.

c9651606
2	2	src/tilelayeritem.cpp

--d454a5e7	2009-03-08T21:28:58+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made object type comparison case-insensitive

Of course different object types should be configurable, but that's
something for another time.

d454a5e7
1	1	TODO
20	11	src/mapobjectitem.cpp

--bd1587fd	2009-02-21T13:21:17+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Implemented drawing with selected tile

The TilesetDock now sends out a signal when the currently selected tile
changes. This information is used to update the tile that the BrushItem
draws with.

bd1587fd
8	3	src/brushitem.cpp
9	0	src/brushitem.h
3	0	src/mainwindow.cpp
5	0	src/mapscene.cpp
9	0	src/mapscene.h
25	1	src/tilesetdock.cpp
20	1	src/tilesetdock.h
8	0	src/tilesetmodel.cpp
6	0	src/tilesetmodel.h
0	2	src/tilesetview.h

--2d5b1d44	2009-02-20T16:29:06+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made the About dialog a bit smaller

I just reduced the size hints of some spacers. Also got rid of the
warning about unused parameter by not marking the main window title as
untranslatable.

2d5b1d44
1	1	src/aboutdialog.h
16	15	src/aboutdialog.ui
2	2	src/mainwindow.ui

--3b8161af	2009-02-20T11:54:02+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Don't leak an About dialog on every use

3b8161af
2	2	src/mainwindow.cpp

--9ca2dbc2	2009-02-19T18:19:39-05:00	Dennis Honeyman	arcticuno@gmail.com	Replaced tabs with spaces (to match other files) in the files I made

9ca2dbc2

--3486e581	2009-02-19T17:47:05-05:00	Dennis Honeyman	arcticuno@gmail.com	Made a better about box for the application.  I also made a larger
version of the logo.  I tried to keep it as close to the original one as
possible.

3486e581
29	0	src/aboutdialog.cpp
42	0	src/aboutdialog.h
148	0	src/aboutdialog.ui
-	-	src/images/about-tiled-logo.png
3	9	src/mainwindow.cpp
6	3	src/src.pro
1	0	src/tiled.qrc

--096f6734	2009-02-17T13:57:20+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed two small memory leaks

The tile selection model wasn't deleted and the brush wasn't deleted
because it wasn't added back to the scene when no map document existed.

096f6734
1	1	src/mapdocument.cpp
4	6	src/mapscene.cpp
4	2	src/tileselectionmodel.cpp
1	1	src/tileselectionmodel.h

--d821ec57	2009-02-16T18:50:27+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Make resizing of the map view more efficient

Setting Qt::WA_StaticContents on the map viewport allows Qt to optimize
redraws when the size of the map view changes.

d821ec57
1	0	src/mapview.cpp

--4ffa560a	2009-02-04T23:16:38+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Introduced TilePainter in order to fix repaints

The TilePainter wraps a TileLayer and allows modifications to be made
while sending the necessary signals for the map view to update. It also
abstracts away layer position and does bounds checking.

4ffa560a
12	2	src/brushitem.cpp
16	0	src/mapdocument.cpp
19	0	src/mapdocument.h
15	3	src/mapscene.cpp
5	0	src/mapscene.h
7	8	src/painttile.cpp
2	1	src/painttile.h
4	2	src/src.pro
27	25	src/{painttile.cpp => tilepainter.cpp}
27	22	src/{painttile.h => tilepainter.h}
3	18	src/tileselectionitem.cpp

--24659f01	2009-01-31T23:17:39+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added basic painting functionality to the brush

It's a start, but with a lot of missing pieces: the MapScene still needs
to be modified about tile layer changes, the user should still be able
to select which tile is used to draw and subsequent tile paints should
be merged into one undo command.

Also, it's a bad idea to hardcode the brush logic in the BrushItem. Once
another kind of brush is added, a more generic Brush interface can be
developed.

24659f01
64	4	src/brushitem.cpp
36	1	src/brushitem.h
38	5	src/mapscene.cpp
6	4	src/mapscene.h
63	0	src/painttile.cpp
30	14	src/{brushitem.h => painttile.h}
2	0	src/src.pro

--ea49c209	2008-12-16T15:01:20+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Updated the Doxyfile

Disabled FULL_PATH_NAMES
Disabled GENERATE_QHP
Enabled JAVADOC_AUTOBRIEF
Enabled SOURCE_BROWSER

ea49c209
20	20	docs/Doxyfile

--062fe310	2008-11-30T21:51:33+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added Select All and Select None actions

First two actions that actually use the tile selection model. Made sure
the display of the selection is properly updated when the selection
changes.

Of course these actions are useless at the moment since the selection
isn't used for anything yet.

062fe310
1	0	src/brushitem.cpp
25	2	src/mainwindow.cpp
2	0	src/mainwindow.h
20	7	src/mainwindow.ui
1	1	src/mapdocument.cpp
40	19	src/tileselectionitem.cpp
12	1	src/tileselectionitem.h
41	1	src/tileselectionmodel.cpp
18	7	src/tileselectionmodel.h

--3c00c153	2008-11-29T18:26:50+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added the start of a tile selection model

Working my way to copy/paste actions.

3c00c153
2	0	src/mapdocument.cpp
7	0	src/mapdocument.h
5	0	src/mapscene.cpp
19	15	src/src.pro
73	0	src/tileselectionitem.cpp
57	0	src/tileselectionitem.h
28	0	src/tileselectionmodel.cpp
61	0	src/tileselectionmodel.h

--8d5a1ebf	2008-11-28T23:36:28+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added opening of last map at same scroll position

Should be optional once a settings GUI is there in order to change this
option.

8d5a1ebf
2	0	src/main.cpp
24	3	src/mainwindow.cpp
9	1	src/mainwindow.h

--b0493472	2008-11-21T11:18:44+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Converted DOS newlines to UNIX in COPYING file

b0493472

--b3d79e54	2008-11-20T22:00:37+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Simplified handling of map object position

b3d79e54
10	22	src/mapobjectitem.cpp
1	1	src/mapobjectitem.h
2	0	src/mapscene.cpp

--95a0aa59	2008-11-20T21:34:54+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Renamed .hgignore to .gitignore

95a0aa59
0	1	.hgignore => .gitignore

--372e008b	2008-10-26T14:44:00+01:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed handling of tile layers with an offset

372e008b
2	0	src/mapscene.cpp
4	5	src/tilelayeritem.cpp
6	17	src/tsxtilesetreader.cpp

--4b24e83c	2008-10-19T18:01:21+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added a tileset manager

The tileset manager introduces two main advantages. First, when opening a new
map, it avoids loading any tilesets that are already loaded. Second, it will
make sure that maps using the same tilesets refer to the same tile instances,
allowing the implementation of copy/paste between maps.

4b24e83c
2	0	src/mainwindow.cpp
0	3	src/map.cpp
11	0	src/mapdocument.cpp
2	0	src/src.pro
103	0	src/tilesetmanager.cpp
120	0	src/tilesetmanager.h
16	3	src/xmlmapreader.cpp

--e9cc6581	2008-10-19T17:03:13+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Properly handle saving of maps with external tileset references

Also added a file filter to save and open dialogs.

e9cc6581
4	2	src/mainwindow.cpp
3	2	src/tileset.cpp
18	5	src/tileset.h
3	0	src/tsxtilesetreader.cpp
13	5	src/xmlmapwriter.cpp

--38761dac	2008-10-16T14:47:19+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Hide scope names in Doxygen-generated documentation

Also added generation of Qt compressed help for display in Qt Assistant.

38761dac
13	1	docs/Doxyfile

--438e13e3	2008-10-15T22:24:30+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added support for reading maps that use external tilesets

No support yet for saving such maps properly. On saving, the tilesets will be
embedded in the map currently.

The TsxTilesetReader is based on QXmlStreamReader. It's supposed to be faster
and more convenient to use than the SAX based QXmlSimpleReader.

438e13e3
2	0	src/src.pro
1	1	src/tile.h
1	1	src/tileset.h
268	0	src/tsxtilesetreader.cpp
66	0	src/tsxtilesetreader.h
32	7	src/xmlmapreader.cpp

--52974283	2008-10-11T17:16:24+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed showing and hiding of the brush cursor when appropriate

The previous workaround with a QGraphicsView turned out not to be necessary.
Instead, Enter and Leave events could be handled in a QGraphicsScene::event
reimplementation.

52974283
17	0	src/mapscene.cpp
5	0	src/mapscene.h
0	22	src/mapview.cpp
3	8	src/mapview.h

--8d25fd4e	2008-10-04T16:11:55+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added a brush preview cursor that displays where tiles are drawn

Or would be drawn, if they could be drawn...

8d25fd4e
18	31	src/{tilelayeritem.h => brushitem.cpp}
8	15	src/{tilelayeritem.h => brushitem.h}
3	3	src/mainwindow.cpp
9	2	src/mainwindow.ui
48	7	src/mapscene.cpp
22	8	src/mapscene.h
22	30	src/{tilelayeritem.h => mapview.cpp}
15	20	src/{tilelayeritem.h => mapview.h}
8	4	src/src.pro
0	1	src/tilelayeritem.cpp
1	1	src/tilelayeritem.h

--b1bca413	2008-10-03T17:14:00+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merged tileset branch with default branch

b1bca413
--2045fc32	2008-10-03T17:11:11+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Display all tilesets of the map

2045fc32
37	13	src/tilesetdock.cpp
5	4	src/tilesetdock.h
2	2	src/tilesetmodel.cpp
3	1	src/tilesetmodel.h

--54389572	2008-10-03T16:08:17+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added display of first tileset based on QListView

The QListView almost does the trick, but it's unsuitable for several reasons,
so a nicer tileset view should be written.

54389572
2	0	src/src.pro
20	3	src/tilesetdock.cpp
3	0	src/tilesetdock.h
5	6	src/tilesetmodel.cpp
5	6	src/tilesetview.cpp
0	4	src/tilesetview.h

--1469dd3c	2008-10-03T00:00:36+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added support for gzip compressed layer data

1469dd3c
51	5	src/compression.cpp
6	1	src/compression.h
5	1	src/xmlmapwriter.cpp

--613f8e7a	2008-10-01T22:45:11+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made some progress with a tileset model and view

Nothing to see yet.

613f8e7a
2	0	src/src.pro
2	16	src/tilesetdock.cpp
0	14	src/tilesetdock.h
24	17	src/{tilesetdock.cpp => tilesetmodel.cpp}
31	23	src/{tilesetdock.h => tilesetmodel.h}
4	18	src/{tilesetdock.cpp => tilesetview.cpp}
5	28	src/{tilesetdock.h => tilesetview.h}

--72dfb098	2008-09-15T17:27:23+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added the new icons to the user interface

72dfb098
24	0	src/mainwindow.ui

--c21a41d8	2008-09-15T17:09:08+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added an empty Tileset dock which will show the tilesets

c21a41d8
5	1	src/mainwindow.cpp
2	0	src/mainwindow.h
2	0	src/src.pro
55	0	src/tilesetdock.cpp
70	0	src/tilesetdock.h

--37f37e1d	2008-09-14T16:51:09-04:00	Roderic Morris	roderic@ccs.neu.edu	Added a clean icon for the undo view, and more icons for the ui

37f37e1d
-	-	src/images/document-save-as.png
-	-	src/images/drive-harddisk.png
-	-	src/images/edit-copy.png
-	-	src/images/edit-paste.png
-	-	src/images/go-down.png
-	-	src/images/go-up.png
-	-	src/images/help-about.png
3	1	src/mainwindow.cpp
7	0	src/tiled.qrc

--9e85692d	2008-09-14T14:55:50+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Moved the undo stack into the MapDocument class

It makes more sense there, and having an undo stack per map document also makes
it easier to support multiple map documents in the future.

9e85692d
34	50	src/layerdock.cpp
22	4	src/layerdock.h
23	30	src/mainwindow.cpp
2	2	src/mainwindow.h
21	1	src/mapdocument.cpp
22	3	src/mapdocument.h

--ec88590c	2008-09-13T21:32:40+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Introduced MapDocument class around the core Map class

The MapDocument wraps the Map class in order to avoid adding too much clutter
to the base data structure. The MapDocument will provide an interface and
models around the Map and related classes that allow modification, and makes
it possible for GUI parts to update themselves accordingly.

ec88590c
38	34	src/layerdock.cpp
4	27	src/layerdock.h
50	33	src/mainwindow.cpp
3	0	src/mainwindow.h
26	38	src/{movelayer.h => mapdocument.cpp}
30	21	src/{layerdock.h => mapdocument.h}
36	17	src/mapscene.cpp
6	7	src/mapscene.h
7	6	src/movelayer.cpp
4	5	src/movelayer.h
2	0	src/src.pro

--cc782301	2008-09-11T16:17:55+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Changed the indentation of half of the header files for consistency

cc782301
2	1	src/layer.h
2	1	src/mapobject.h
2	1	src/objectgroup.h
2	1	src/tilelayer.h

--cc4809b2	2008-09-11T14:54:07+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added support for moving layers up and down

Complete with updating scene and undo/redo support. However, the currently
implementation still leaves a bit of cleanup to be done. It seems we either
need some kind of wrapper class around the Map class which provides us with
all the necessary models and interfaces to make changes to the map, or we
need to put all that stuff in the Map class itself.

cc4809b2
36	2	src/layerdock.cpp
29	0	src/layerdock.h
17	1	src/layertablemodel.cpp
17	0	src/layertablemodel.h
43	1	src/mainwindow.cpp
4	1	src/mainwindow.h
30	6	src/mainwindow.ui
7	0	src/map.cpp
10	2	src/map.h
8	4	src/mapscene.cpp
9	0	src/mapscene.h
70	0	src/movelayer.cpp
22	15	src/{layerdock.h => movelayer.h}
4	2	src/src.pro

--63a9f7bd	2008-09-03T14:42:09+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed popping up of confirmation dialog when canceling open file

confirmSave() was called before the fileName.isEmpty() check

63a9f7bd
1	3	src/mainwindow.cpp

--7e8cfb40	2008-08-24T13:20:23-04:00	Roderic Morris	roderic@ccs.neu.edu	Fixed boundingRect and name display for objects

7e8cfb40
17	12	src/mapobjectitem.cpp

--f5b56c2c	2008-08-22T00:20:00+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merged object name display and icons added by Roderic

f5b56c2c
--2e7e7893	2008-08-21T17:26:34-04:00	Roderic Morris	roderic@ccs.neu.edu	Add undo and redo icons. Add undo and redo to the toolbar.

2e7e7893
-	-	src/images/edit-redo.png
-	-	src/images/edit-undo.png
4	0	src/mainwindow.cpp
2	0	src/tiled.qrc

--17f914ad	2008-08-21T23:05:12+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added confirmation dialog about unsaved changes

It offers to save your current map when there are unsaved changes on
exit and when opening a file. Also added this confirmation for when the
session is closed, but I'm not sure how to test that.

17f914ad
46	7	src/mainwindow.cpp
15	2	src/mainwindow.h

--5a2ad6ac	2008-08-21T09:35:32-04:00	Roderic Morris	roderic@ccs.neu.edu	Display object names.

5a2ad6ac
8	0	src/mapobjectitem.cpp

--9feaf818	2008-08-19T00:51:02+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added undo/redo support and editing of map and layer properties

Also includes updating the window title and whether the Save action is
enabled. Removed three TODO items in the source code, but added four. :)

9feaf818
4	0	TODO
20	11	src/{propertiesdialog.cpp => changeproperties.cpp}
17	20	src/{propertiesdialog.h => changeproperties.h}
15	8	src/layerdock.cpp
3	1	src/layerdock.h
40	7	src/mainwindow.cpp
5	1	src/mainwindow.h
3	3	src/mainwindow.ui
20	4	src/propertiesdialog.cpp
13	3	src/propertiesdialog.h
1	1	src/propertiesdialog.ui
40	7	src/propertiesmodel.cpp
20	2	src/propertiesmodel.h
4	2	src/src.pro

--93f35d80	2008-08-17T19:17:22+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Split save action up into Save and Save As

93f35d80
1	1	src/compression.h
30	10	src/mainwindow.cpp
10	0	src/mainwindow.h
9	2	src/mainwindow.ui

--18a67458	2008-08-17T18:54:04+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added a writer for the tmx format

Still some features missing, but quite complete. Save action is now
enabled.

18a67458
7	1	src/layer.h
28	13	src/mainwindow.cpp
1	0	src/mainwindow.h
24	0	src/map.cpp
29	1	src/map.h
7	1	src/mapobject.h
20	1	src/mapwriterinterface.h
6	4	src/src.pro
24	2	src/tile.h
8	6	src/tileset.cpp
24	3	src/tileset.h
259	0	src/xmlmapwriter.cpp
19	6	src/{mapwriterinterface.h => xmlmapwriter.h}

--96e60d95	2008-08-17T18:51:01+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Renamed 'decompress' module to 'compression'

Should also have a method that does compression of data. Will be
implemented later.

96e60d95
8	1	src/{decompress.cpp => compression.cpp}
13	2	src/{decompress.h => compression.h}
1	1	src/xmlmapreader.cpp

--b4a4c6c7	2008-08-17T18:45:27+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed loading of tileset images that have an absolute path

b4a4c6c7
6	4	src/xmlmapreader.cpp

--e90412a6	2008-08-03T23:24:46+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Introduced Tile class for storing tile properties

Wraps the previously used QPixmap.

e90412a6
3	6	src/map.cpp
2	2	src/map.h
2	1	src/src.pro
34	22	src/{tileset.cpp => tile.h}
6	5	src/tilelayer.cpp
5	4	src/tilelayer.h
8	3	src/tilelayeritem.cpp
9	3	src/tileset.cpp
10	4	src/tileset.h
28	1	src/xmlmapreader.cpp

--3ce63729	2008-08-03T22:18:56+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added support for loading and displaying layer properties

For both TileLayer and ObjectGroup.

3ce63729
7	0	src/layer.h
43	11	src/layerdock.cpp
12	4	src/layertablemodel.cpp
7	1	src/layertablemodel.h
1	0	src/main.cpp
5	3	src/xmlmapreader.cpp

--d47abd3b	2008-08-03T20:58:39+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added support for layer opacity and visibility

For both TileLayer and ObjectGroup.

d47abd3b
2	0	src/layer.cpp
24	1	src/layer.h
2	1	src/mapobject.cpp
15	0	src/mapobject.h
8	0	src/mapobjectitem.cpp
1	0	src/mapscene.cpp
1	0	src/objectgroup.cpp
5	0	src/tilelayeritem.cpp
18	0	src/xmlmapreader.cpp

--28d445a5	2008-08-03T19:53:43+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Enhanced look of map objects and show name/type in tooltip

28d445a5
39	8	src/mapobjectitem.cpp

--82b45ef3	2008-08-03T19:19:26+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Removed the word 'port', since it's meant to be a new version

82b45ef3
1	1	README
3	3	src/decompress.cpp
3	3	src/decompress.h
3	3	src/layer.cpp
3	3	src/layer.h
3	3	src/layerdock.cpp
3	3	src/layerdock.h
3	3	src/layertablemodel.cpp
3	3	src/layertablemodel.h
3	3	src/main.cpp
3	3	src/mainwindow.cpp
3	3	src/mainwindow.h
3	3	src/map.cpp
3	3	src/map.h
3	3	src/mapobject.cpp
3	3	src/mapobject.h
3	3	src/mapobjectitem.cpp
3	3	src/mapobjectitem.h
3	3	src/mapreaderinterface.h
3	3	src/mapscene.cpp
3	3	src/mapscene.h
3	3	src/mapwriterinterface.h
3	3	src/objectgroup.cpp
3	3	src/objectgroup.h
3	3	src/propertiesdialog.cpp
3	3	src/propertiesdialog.h
3	3	src/propertiesmodel.cpp
3	3	src/propertiesmodel.h
3	3	src/resizedialog.cpp
3	3	src/resizedialog.h
3	3	src/resizehelper.cpp
3	3	src/resizehelper.h
3	3	src/tilelayer.cpp
3	3	src/tilelayer.h
3	3	src/tilelayeritem.cpp
3	3	src/tilelayeritem.h
3	3	src/tileset.cpp
3	3	src/tileset.h
3	3	src/xmlmapreader.cpp
3	3	src/xmlmapreader.h

--cb34a01d	2008-08-03T19:08:33+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added support for opening a map from the command line

Also added support for command line arguments --help and --version

cb34a01d
67	3	src/main.cpp
6	1	src/mainwindow.h

--6867fe8b	2008-07-31T18:34:18+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added support for tile spacing

6867fe8b
2	4	src/tileset.cpp
5	2	src/tileset.h
2	1	src/xmlmapreader.cpp

--d9c319bf	2008-07-27T18:57:22+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Layer is now a common subclass for TileLayer and ObjectGroup

d9c319bf
1	16	src/layer.cpp
2	21	src/layer.h
0	7	src/map.cpp
0	13	src/map.h
0	1	src/mapobjectitem.cpp
9	8	src/mapscene.cpp
0	3	src/mapscene.h
3	6	src/objectgroup.cpp
5	7	src/objectgroup.h
2	0	src/src.pro
5	10	src/{layer.cpp => tilelayer.cpp}
21	21	src/{objectgroup.h => tilelayer.h}
2	2	src/tilelayeritem.cpp
4	4	src/tilelayeritem.h
12	12	src/xmlmapreader.cpp

--072e1282	2008-07-26T08:53:07+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added a properties dialog that shows the map properties.

072e1282
23	5	src/mainwindow.cpp
2	0	src/mainwindow.h
12	12	src/mainwindow.ui
42	0	src/propertiesdialog.cpp
59	0	src/propertiesdialog.h
80	0	src/propertiesdialog.ui
70	0	src/propertiesmodel.cpp
77	0	src/propertiesmodel.h
10	4	src/src.pro

--51b2dbc9	2008-07-13T19:07:56+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Mostly cosmetics.

Fixed leakage of QPen objects and load object properties a bit faster.

51b2dbc9
4	2	src/map.h
7	6	src/mapobject.h
9	6	src/mapobjectitem.cpp
2	1	src/objectgroup.cpp
1	1	src/objectgroup.h
6	7	src/xmlmapreader.cpp

--8c5dd6cd	2008-07-13T14:42:10+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed the location of an assert in Map::tileForGid.

Now maps without tilesets won't fail to load, as long as they are not using any
tiles of course.

8c5dd6cd
2	1	src/map.cpp

--cad8d496	2008-07-12T22:10:00-04:00	Roderic Morris	roderic@ccs.neu.edu	Added initial objectgroup and object support

cad8d496
7	0	src/map.cpp
12	0	src/map.h
40	0	src/mapobject.cpp
118	0	src/mapobject.h
80	0	src/mapobjectitem.cpp
16	37	src/{mapscene.h => mapobjectitem.h}
13	0	src/mapscene.cpp
12	0	src/mapscene.h
44	0	src/objectgroup.cpp
21	34	src/{mapscene.h => objectgroup.h}
6	0	src/src.pro
65	13	src/xmlmapreader.cpp

--f5b69d63	2008-07-09T22:31:24+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added displaying of layer names

f5b69d63
36	43	src/{mainwindow.h => layerdock.cpp}
18	37	src/{mainwindow.h => layerdock.h}
72	0	src/layertablemodel.cpp
83	0	src/layertablemodel.h
5	5	src/mainwindow.cpp
2	0	src/mainwindow.h
4	0	src/src.pro

--89c38be2	2008-07-06T12:55:17+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added the option to hide/show the tile grid

89c38be2
8	0	src/mainwindow.cpp
20	1	src/mainwindow.ui
12	2	src/mapscene.cpp
14	0	src/mapscene.h

--5136d5c9	2008-07-04T00:58:14+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Got rid of Properties class, a QMap<QString, String> will do.

Also implemented loading of map properties, I think.

5136d5c9
7	0	src/map.h
0	85	src/properties.h
9	20	src/xmlmapreader.cpp

--77e0dbb3	2008-07-01T11:08:03+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added saving and restoring of the main window state

77e0dbb3
14	10	src/mainwindow.cpp
1	0	src/resizehelper.cpp

--4384798b	2008-06-11T17:09:23+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Made map loading over twice as fast by optimizing Map::tileForGid

4384798b
8	8	src/map.cpp

--f58cc335	2008-06-01T15:37:19+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed leaks of layer data, tilesets and maps.

Also enabled debug mode by default for easier debugging.

f58cc335
4	1	src/decompress.cpp
4	0	src/mainwindow.cpp
3	0	src/map.cpp
1	0	src/src.pro

--a9e3777a	2008-05-31T14:35:13+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added detailed error reporting when loading a map fails

Also added an about dialog and fixed up some memory leaks, especially when an
error occurred, though tilesets are still being leaked since nobody takes
ownership over them.

a9e3777a
17	5	src/mainwindow.cpp
1	1	src/mainwindow.h
3	9	src/mainwindow.ui
5	0	src/map.cpp
1	1	src/map.h
7	1	src/mapreaderinterface.h
65	26	src/xmlmapreader.cpp
6	0	src/xmlmapreader.h

--7d12db49	2008-05-30T17:57:20+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added support for gzip compressed layers.

7d12db49
1	0	.hgignore
0	8	ChangeLog
239	0	docs/Doxyfile
112	0	src/decompress.cpp
47	0	src/decompress.h
4	2	src/src.pro
16	2	src/xmlmapreader.cpp

--8da0ad1a	2008-05-27T22:03:51+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed cleanup of previous map when loading a new one

8da0ad1a
3	1	src/mapscene.cpp

--ec76c648	2008-05-25T23:46:03+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fixed drawing of tiles higher than the standard height

ec76c648
4	2	src/tilelayeritem.cpp

--45f6e714	2008-05-23T11:50:37+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Fix loading of maps with gids higher than 127, interpret as unsigned char

45f6e714
2	1	src/xmlmapreader.cpp

--a07c4004	2008-05-22T20:45:02+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Changed from QImage to QPixmap, since pixmaps are optimized for drawing

a07c4004
2	2	src/layer.cpp
4	4	src/layer.h
2	2	src/map.cpp
2	2	src/map.h
2	2	src/tilelayeritem.cpp
2	2	src/tileset.cpp
3	3	src/tileset.h
1	2	src/xmlmapreader.cpp

--3ac82a49	2008-05-22T18:11:30+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Huge speedup in scrolling performance by only drawing what's necessary

3ac82a49
4	0	src/layer.cpp
7	0	src/layer.h
3	0	src/mainwindow.cpp
1	1	src/map.cpp
13	4	src/tilelayeritem.cpp
1	1	src/tileset.cpp
1	1	src/tileset.h

--56fed638	2008-05-22T08:15:39+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Make sure the tile layers are drawn in the right order.

56fed638
1	1	src/map.h
4	1	src/mapscene.cpp

--fb2f4906	2008-05-22T08:07:19+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added loading of tile data and tile rendering

fb2f4906
12	1	src/layer.cpp
14	0	src/layer.h
21	3	src/map.cpp
10	0	src/map.h
14	1	src/tilelayeritem.cpp
1	1	src/tileset.h
20	5	src/xmlmapreader.cpp

--6cf9ceed	2008-05-20T21:11:13+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added loading of tileset images and made a start on layer data loading

6cf9ceed
32	0	src/tileset.cpp
27	0	src/tileset.h
53	7	src/xmlmapreader.cpp

--5032d57f	2008-05-20T10:20:28-04:00	Roderic Morris	roderic@ccs.neu.edu	Clear recent files, save disabled if there's no map, and resource file cleanup

5032d57f
-	-	src/images/clear.png
16	1	src/mainwindow.cpp
1	0	src/mainwindow.h
10	10	src/mainwindow.ui
2	1	src/tiled.qrc

--3b58a180	2008-05-20T09:42:43+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added Dutch translation and some other small things.

3b58a180
1	0	.hgignore
6	0	src/main.cpp
7	32	src/mainwindow.ui
1	0	src/src.pro
150	0	src/translations/tiled_nl.ts
20	2	src/xmlmapreader.cpp

--8b6ec6d9	2008-05-19T14:25:15+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Compile with QT_NO_CAST_FROM_ASCII and QT_NO_CAST_TO_ASCII

8b6ec6d9
2	2	src/main.cpp
18	14	src/mainwindow.cpp
5	4	src/mainwindow.h
1	0	src/src.pro
3	1	src/xmlmapreader.h

--3cc090e1	2008-05-18T22:31:05+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Used dock widget for layers and only enable recent menu when necessary

3cc090e1
1	1	README
6	2	src/mainwindow.cpp
13	54	src/mainwindow.ui

--f17846b8	2008-05-18T17:32:03+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Some code polishment and changed organization to mapeditor.org.

f17846b8
4	0	src/main.cpp
17	21	src/mainwindow.cpp
5	4	src/mainwindow.h

--b56b0e21	2008-05-16T15:53:03-04:00	Roderic Morris	roderic@ccs.neu.edu	Add recent files functionality and add a few more icons

b56b0e21
-	-	src/images/document-open-recent.png
-	-	src/images/document-properties.png
-	-	src/images/document-resize.png
94	4	src/mainwindow.cpp
19	0	src/mainwindow.h
25	7	src/mainwindow.ui
3	0	src/tiled.qrc

--15f740a7	2008-05-16T13:56:53+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Some more progress on property loading.

15f740a7
42	12	src/xmlmapreader.cpp

--25431b3b	2008-05-16T08:14:40+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added some support for loading properties and set a title on the toolbar

25431b3b
3	0	src/mainwindow.ui
85	0	src/properties.h
46	4	src/xmlmapreader.cpp

--b3fb62bf	2008-05-14T12:37:03+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Only enable map resize action when map loading was succesful

b3fb62bf
2	3	src/mainwindow.cpp

--1b463bc6	2008-05-14T04:11:34-04:00	Roderic Morris	roderic@ccs.neu.edu	A few resize dialog improvements

1b463bc6
10	2	src/mainwindow.cpp
10	0	src/map.h
5	0	src/resizedialog.cpp
2	0	src/resizedialog.h
61	42	src/resizedialog.ui

--db317c0c	2008-05-13T20:17:56+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added more map loading code and actually display the loaded map somewhat

db317c0c
6	13	src/mainwindow.cpp
3	0	src/mainwindow.h
10	2	src/map.cpp
17	0	src/map.h
9	0	src/mapscene.cpp
4	0	src/tileset.h
30	9	src/xmlmapreader.cpp

--6c31eb5e	2008-05-13T12:04:49+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Merged MapScene changes with added map loading code.

6c31eb5e
--9eca595a	2008-05-12T23:34:35+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added MapScene, Layer and TileLayerItem. Implemented grid rendering.

9eca595a
18	0	README
7	5	src/{map.cpp => layer.cpp}
98	0	src/layer.h
23	1	src/mainwindow.cpp
2	1	src/mainwindow.h
34	4	src/mainwindow.ui
14	0	src/map.cpp
17	5	src/map.h
71	0	src/mapscene.cpp
31	15	src/{mainwindow.h => mapscene.h}
6	0	src/src.pro
30	7	src/{map.cpp => tilelayeritem.cpp}
23	15	src/{mainwindow.h => tilelayeritem.h}
15	1	src/tileset.h

--2be7db92	2008-05-09T16:56:11+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added some map loading code.

2be7db92
3	1	src/mainwindow.cpp
22	5	src/xmlmapreader.cpp

--0069c2f1	2008-05-08T14:42:51-04:00	Roderic Morris	roderic@ccs.neu.edu	Add icons to the main toolbar and ignore qrc generated cpp files

0069c2f1
1	0	.hgignore
-	-	src/images/document-open.png
-	-	src/images/document-save.png
15	2	src/mainwindow.ui
1	0	src/src.pro
6	0	src/tiled.qrc

--35d145de	2008-05-08T19:36:46+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added ResizeHelper widget and ResizeDialog, to be used for map resizing.

35d145de
15	5	src/mainwindow.cpp
2	1	src/mainwindow.h
1	4	src/mainwindow.ui
26	21	src/{mainwindow.h => resizedialog.cpp}
17	12	src/{mainwindow.h => resizedialog.h}
282	0	src/resizedialog.ui
201	0	src/resizehelper.cpp
113	0	src/resizehelper.h
7	3	src/src.pro

--cdafc0d8	2008-05-07T21:47:58+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added basic framework for the content handler for loading .tmx files.

cdafc0d8
83	3	src/xmlmapreader.cpp

--24979fdb	2008-05-07T19:23:38+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Added Map and Tileset classes and made a small start on XmlMapReader.

24979fdb
2	1	.hgignore
2	1	src/main.cpp
14	6	src/mainwindow.cpp
8	8	src/{main.cpp => map.cpp}
72	0	src/map.h
17	2	src/mapreaderinterface.h
1	1	src/mapwriterinterface.h
10	6	src/src.pro
1	7	src/{xmlmapreader.cpp => tileset.cpp}
18	12	src/{mapwriterinterface.h => tileset.h}
22	2	src/xmlmapreader.cpp
10	4	src/xmlmapreader.h

--18e5ca79	2008-05-05T20:24:00+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Ignore generated files.

18e5ca79
6	0	.hgignore

--b14bf617	2008-05-05T20:19:13+02:00	Thorbjørn Lindeijer	thorbjorn@lindeijer.nl	Initial commit of Tiled (Qt port).

b14bf617
1	0	AUTHORS
340	0	COPYING
8	0	ChangeLog
18	0	README
35	0	TODO
33	0	src/main.cpp
56	0	src/mainwindow.cpp
50	0	src/mainwindow.h
193	0	src/mainwindow.ui
41	0	src/mapreaderinterface.h
39	0	src/mapwriterinterface.h
15	0	src/src.pro
29	0	src/xmlmapreader.cpp
38	0	src/xmlmapreader.h
4	0	tiled.pro
