--11c1e07b	2015-08-08T01:15:55+03:00	Foo	kp-pav@yandex.ru	Merge branch 'pr-1418' into develop

11c1e07b
--ab9c2bd8	2015-08-08T01:15:26+03:00	Foo	kp-pav@yandex.ru	Remove outdated comment

ab9c2bd8
0	4	powerline/segments/common/bat.py

--63a8b492	2015-08-08T01:15:05+03:00	Foo	kp-pav@yandex.ru	Update battery segment docstring

63a8b492
9	4	powerline/segments/common/bat.py

--d02b8e98	2015-08-08T01:10:57+03:00	Foo	kp-pav@yandex.ru	Fix dbus+UPower battery support

d02b8e98
3	1	powerline/segments/common/bat.py

--f098ed2f	2015-07-01T19:59:52+08:00	Fumihiro Xue	xfumihiro@gmail.com	Add ac-charging indication for battery segment

f098ed2f
3	1	powerline/config_files/themes/ascii.json
3	1	powerline/config_files/themes/powerline.json
3	1	powerline/config_files/themes/powerline_unicode7.json
3	1	powerline/config_files/themes/unicode.json
3	1	powerline/config_files/themes/unicode_terminus.json
3	1	powerline/config_files/themes/unicode_terminus_condensed.json
49	30	powerline/segments/common/bat.py
43	3	tests/test_segments.py

--090cd139	2015-07-20T08:19:07+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1415 from ZyX-I/fix-1412

Workaround tmux bug: additional space in display -p '#D' output
090cd139
--09caf013	2015-07-20T08:24:37+03:00	Foo	kp-pav@yandex.ru	Merge commit '22e9dfd' into develop

09caf013
--22e9dfd8	2015-07-20T08:18:47+03:00	Foo	kp-pav@yandex.ru	Do not use ?= for defining macros

To define make macros one may use make arguments, so inheriting them from
environment is not needed. I also do not see nmake supporting `?=` (not sure
that anybody will use this though).

22e9dfd8
4	4	docs/Makefile

--67dc10d1	2015-07-19T15:03:28+03:00	Foo	kp-pav@yandex.ru	My variant of Vim documentation has moved to bitbucket pages

67dc10d1
2	2	docs/source/troubleshooting.rst

--9b71beb1	2015-07-19T14:40:39+03:00	Foo	kp-pav@yandex.ru	Workaround tmux bug: additional space in display -p '#D' output

Fixes #1412

9b71beb1
2	2	powerline/bindings/tmux/powerline-base.conf
2	2	powerline/bindings/tmux/powerline_tmux_1.7_plus.conf
1	1	powerline/bindings/tmux/powerline_tmux_1.8_plus.conf

--06a15ee9	2015-07-19T14:37:17+03:00	Foo	kp-pav@yandex.ru	Merge commit '26ea5f0f0042dc59b6ca62888156885aba093f03' into develop

06a15ee9
--18f3d18c	2015-07-19T14:24:02+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1414 from Siosm/develop

Fix manpage generation with python3

Fixes #1388.
18f3d18c
--9ce7fa30	2015-07-19T11:05:15+02:00	Timothée Ravier	tim@siosm.fr	docs: fix manpage generation with python3

Python2 manpage generation seems unaffected.

Warnings occur when generating with python3:

.../docs/source/configuration/segments/vim.rst:27: WARNING: error while
formatting arguments for
powerline.segments.vim.plugin.tagbar.current_tag: decoding str is not
supported

9ce7fa30
2	0	docs/source/powerline_automan.py

--24dbf042	2015-07-19T11:00:04+02:00	Timothée Ravier	tim@siosm.fr	docs: allow outside of Makefile variable assignment

This allow packagers to select the sphinx-build command version (python2
or python3) without changing the Makefile:

$ SPHINXBUILD=sphinx-build2 SPHINXOPTS=... make man

24dbf042
4	4	docs/Makefile

--26ea5f0f	2015-07-18T16:55:04+03:00	Foo	kp-pav@yandex.ru	Fix error message when inotify limits were hit

26ea5f0f
1	1	powerline/lib/inotify.py

--03195cf9	2015-06-27T02:05:58+03:00	Foo	kp-pav@yandex.ru	Merge commit 'HEAD@{1}' into develop

03195cf9
--21c1ba9e	2015-06-27T02:05:49+03:00	Foo	kp-pav@yandex.ru	Make new powerline release ebuilds symlinks

Note: not powerline-vim, it is not prepared for this.
21c1ba9e
4	0	scripts/powerline-release.py

--0dae18d0	2015-06-27T01:51:29+03:00	Foo	kp-pav@yandex.ru	Merge branch 'release-2.2' into develop

0dae18d0
--9021b189	2015-06-27T01:51:29+03:00	Foo	kp-pav@yandex.ru	Update base version

9021b189
1	1	setup.py

--0dc5c391	2015-06-15T01:36:04+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1393 from ZyX-I/fix-1391

Use psutil.boot_time() function if appropriate
0dc5c391
--248c2f80	2015-06-15T01:28:30+03:00	Foo	kp-pav@yandex.ru	Use psutil.boot_time() function if appropriate

It now replaced psutil.BOOT_TIME attribute.

Fixes #1391
248c2f80
4	2	powerline/segments/common/sys.py

--b789437c	2015-05-30T17:45:34+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1387 from mdeaudelin/develop

Fix dash bindings on OS X
b789437c
--b7bd94d5	2015-05-30T15:39:37+03:00	Foo	kp-pav@yandex.ru	Merge branch 'repo-root' into develop

b7bd94d5
--afab0e57	2015-05-30T15:38:02+03:00	Foo	kp-pav@yandex.ru	Clarify location of ``{repository_root}``

Fixes #1376
afab0e57
13	0	docs/source/installation.rst
3	2	docs/source/usage/other.rst
13	6	docs/source/usage/shell-prompts.rst
2	1	docs/source/usage/wm-widgets.rst

--44d843aa	2015-05-30T14:24:47+03:00	Foo	kp-pav@yandex.ru	Merge branch 'clarify-config-paths' into develop

44d843aa
--acb098a3	2015-05-30T14:24:30+03:00	Foo	kp-pav@yandex.ru	Clarify where powerline configuration files are located

Closes #1375
acb098a3
21	23	docs/source/configuration.rst

--71386c11	2015-05-30T14:09:08+03:00	Foo	kp-pav@yandex.ru	Merge branch 'purge-PRs-script' into develop

71386c11
--e0240f2c	2015-05-30T14:09:00+03:00	Foo	kp-pav@yandex.ru	Add script that will close all PRs not to develop branch

e0240f2c
27	0	tools/purge-PRs.py

--0ea0291f	2015-05-29T22:54:22+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1371 from ZyX-I/clickable-tabs

Add support for clicking tabs in Vim
0ea0291f
--b8c30fac	2015-05-29T22:22:18+03:00	Foo	kp-pav@yandex.ru	Fix typo in multi_byte feature name

b8c30fac
1	1	tests/test_empty_encoding.old.vim

--c64570a5	2015-05-17T15:06:42+03:00	Foo	kp-pav@yandex.ru	Add unit tests

c64570a5
12	0	tests/test_segments.py

--c0008050	2015-05-17T15:04:58+03:00	Foo	kp-pav@yandex.ru	Update integration tests

c0008050
3	3	tests/test_tabline.vim

--a09f1e17	2015-05-29T22:10:34+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1370 from ZyX-I/improve-imap-segment

Add support for non-SSL IMAP4 connections
a09f1e17
--72f8b599	2015-05-17T14:58:18+03:00	Foo	kp-pav@yandex.ru	Add support for literal segments to linter

72f8b599
9	0	docs/source/develop/segments.rst
34	3	powerline/lint/checks.py
2	0	powerline/segments/vim/__init__.py

--bfd9a21b	2015-05-17T14:45:49+03:00	Foo	kp-pav@yandex.ru	Remove recursion when checking segments

bfd9a21b
9	7	powerline/lint/__init__.py

--f5d85b72	2015-05-17T14:16:48+03:00	Foo	kp-pav@yandex.ru	Add support for clickable tab names

Fixes #1353

f5d85b72
15	0	docs/source/develop/segments.rst
9	0	powerline/config_files/themes/vim/tabline.json
72	10	powerline/renderer.py
7	0	powerline/segment.py
16	0	powerline/segments/vim/__init__.py

--2fa7c3cf	2015-05-23T16:43:21+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1381 from ZyX-I/tmux-length-shrink

Add support for truncating tmux segments
2fa7c3cf
--a718a105	2015-05-23T16:10:46+03:00	Foo	kp-pav@yandex.ru	Add integration tests for tmux segment truncation

a718a105
8	0	tests/lib/terminal.py
8	0	tests/lib/vterm.py
80	22	tests/test_in_vterm/test_tmux.py

--37b0af8f	2015-05-23T16:06:51+03:00	Foo	kp-pav@yandex.ru	Disable segment truncation on tmux-1.6

37b0af8f
2	2	powerline/bindings/tmux/powerline-base.conf
3	0	powerline/bindings/tmux/powerline_tmux_1.7_plus.conf

--fe3b3b15	2015-05-23T15:12:43+03:00	Foo	kp-pav@yandex.ru	Automatically truncate tmux status line when needed

Closes #1328 (but not fixes it)
Closes #137 (not actually fixes it because I do not know some segment widths)

fe3b3b15
2	2	powerline/bindings/tmux/powerline-base.conf
1	1	powerline/bindings/tmux/powerline_tmux_1.8_plus.conf
7	0	powerline/renderers/tmux.py
1	0	tests/test_in_vterm/test.sh

--524fc317	2015-05-23T15:09:33+03:00	Foo	kp-pav@yandex.ru	Parse all numbers as numbers

Typo prevented integers starting with 2 in affected places (command-line 
--renderer-arg parsing and POWERLINE_…_OVERRIDES parsing) from being parsed as 
integers.
524fc317
1	1	powerline/lib/overrides.py

--d6e7cbfa	2015-05-20T21:45:16+03:00	Foo	kp-pav@yandex.ru	Merge PR #1373 into develop

Changes to the original PR:

- Squashed commits.
- Reworded commit summary.

Closes #1373

d6e7cbfa
--632673a7	2015-05-20T21:39:32+03:00	Foo	kp-pav@yandex.ru	Merge PR #1374 into develop

Differences from the original PR:

- Squashed commits.
- Reworded commit summary.
- No comma after `e.g.`.
- Wrapped lines in the commit message.
- Fixed python-mpd2 link.

Closes #1374

632673a7
--cc7f2122	2015-05-19T14:57:54+02:00	Werner Beroux	werner@beroux.com	Enhance mpd player bindings documentation

Give some hints to install compatible `mpd` Python module, and rewrite to show
that the Python package is preferred (for example player status isn't supported
properly via `mpc` command).

cc7f2122
8	1	powerline/segments/common/players.py

--1dbf2677	2015-05-19T14:20:19+02:00	Werner Beroux	werner@beroux.com	Clarify what does “low priority segment” mean

1dbf2677
1	1	docs/source/configuration/reference.rst

--bf6191d1	2015-05-17T21:20:12+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1372 from ZyX-I/pull-1366

Switch the underlying i3-IPC layer and deprecate i3bgbar bindings
bf6191d1
--dd886841	2015-05-17T21:03:27+03:00	Foo	kp-pav@yandex.ru	Add i3wm segment unit tests

dd886841
5	4	powerline/segments/i3wm.py
45	1	tests/test_segments.py

--c02516a4	2015-05-17T20:42:21+03:00	Foo	kp-pav@yandex.ru	Fix style errors

c02516a4
2	3	powerline/bindings/bar/powerline-bar.py
10	12	powerline/segments/i3wm.py

--e2168e21	2015-05-17T12:49:23+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1369 from ZyX-I/fix-1368

Use different highlight group for network_load divider
e2168e21
--acb7c27a	2015-05-17T11:35:27+03:00	Foo	kp-pav@yandex.ru	Use different highlight group for network_load divider

Fixes #1368

acb7c27a
1	0	powerline/config_files/colorschemes/default.json
1	0	powerline/config_files/colorschemes/solarized.json
2	2	powerline/segments/common/net.py
13	14	tests/test_segments.py

--9b0269ad	2015-05-17T11:58:33+03:00	Foo	kp-pav@yandex.ru	Add support for non-SSL IMAP4 connections

Fixes #1351
9b0269ad
14	10	powerline/segments/common/mail.py

--34026ee3	2015-05-16T22:21:56+02:00	S0lll0s	s0lll0s@blinkenshell.org	Let default i3 mode for bar-bindings be "default"

34026ee3
1	1	powerline/bindings/bar/powerline-bar.py

--e8b502bb	2015-05-16T16:46:40+02:00	S0lll0s	s0lll0s@blinkenshell.org	Add support for i3 modes in segment_info for bar

also fix the bar-renderer's argument handling

e8b502bb
18	15	powerline/bindings/bar/powerline-bar.py
3	3	powerline/renderers/bar.py
19	26	powerline/segments/i3wm.py

--32a278b8	2015-05-15T14:48:39+02:00	S0lll0s	s0lll0s@blinkenshell.org	Update the bar-aint-recursive binding docs

32a278b8
5	2	docs/source/usage/wm-widgets.rst

--b20a7072	2015-05-15T23:33:14+02:00	S0lll0s	s0lll0s@blinkenshell.org	Add powerline.segments.i3wm.mode

also make powerline-bar.py redraw on mode change

b20a7072
7	4	powerline/bindings/bar/powerline-bar.py
34	0	powerline/segments/i3wm.py

--918fd822	2015-05-14T16:08:52+02:00	S0lll0s	s0lll0s@blinkenshell.org	(Optionally) switch from "i3-py" to "i3ipc" for i3 bindings

i3-py is no longer maintained

918fd822
14	8	powerline/bindings/bar/powerline-bar.py
16	5	powerline/segments/i3wm.py

--c9382938	2015-05-13T11:23:06-04:00	Mathieu Deaudelin	mdeaudelin@gmail.com	Fix dash bindings on OS X

Fixes two errors that occur while using Powerline with dash under
Mac OS X.

Problem:  Execution of the mktemp command fails on OS X.
Cause:    mktemp requires a mandatory argument (-t or full path)
Solution: Provide an absolute path as a template to the mktemp command.

Problem:  powerline executable fails to be called because its
          command line unexpectedly contains spaces.
Cause:    The _POWERLINE_JOBS variable contains spaces, because the wc
          command returns spaces before the number on OS X.
Solution: Trim the spaces before assigning the value to the variable.

c9382938
3	3	powerline/bindings/shell/powerline.sh
1	0	tests/test_shells/test.sh

--67f0995f	2015-05-10T23:18:11+03:00	Foo	kp-pav@yandex.ru	Merge branch 'release-2.1.4' into develop

67f0995f
--20868f7a	2015-05-10T23:18:10+03:00	Foo	kp-pav@yandex.ru	Update base version

20868f7a
1	1	setup.py

--bac1c016	2015-05-10T23:10:50+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1358 from ZyX-I/container-based-infrastructure

Switch to container-based infrastructure
bac1c016
--450dbecb	2015-05-10T23:05:57+03:00	Foo	kp-pav@yandex.ru	Mock realpath if it is not present

450dbecb
6	0	tests/test.sh

--24176882	2015-05-10T21:59:38+03:00	Foo	kp-pav@yandex.ru	Use force-removal of .git

Otherwise it may hang with message like

    rm: remove write-protected regular file `tests/bot-ci/.git/objects/pack/pack-589af67feed5a0f1d2c4cfb43325ab5165539bcc.pack'?
24176882
1	1	tests/install.sh

--37a0c4dd	2015-05-10T21:30:09+03:00	Foo	kp-pav@yandex.ru	Enable directory caching

37a0c4dd
4	0	.travis.yml
24	2	tests/install.sh

--8e8e3967	2015-05-10T21:16:23+03:00	Foo	kp-pav@yandex.ru	Switch to container-based infrastructure

8e8e3967
12	0	.travis.yml
0	5	tests/install.sh
5	0	tests/test.sh

--b88a16c9	2015-05-10T19:40:47+03:00	Foo	kp-pav@yandex.ru	Move from /opt to $HOME/opt

b88a16c9
7	5	tests/install.sh
1	1	tests/run_vim_tests.sh
3	3	tests/test.sh

--d9790cc1	2015-05-10T22:46:45+03:00	Foo	kp-pav@yandex.ru	Merge commit 'HEAD@{1}' into develop

d9790cc1
--2dff7674	2015-05-10T22:46:40+03:00	Foo	kp-pav@yandex.ru	Fix tmux bindings

2dff7674
1	0	powerline/bindings/config.py

--6e14a497	2015-05-10T22:31:06+03:00	Foo	kp-pav@yandex.ru	Merge branch 'release-2.1.3' into develop

6e14a497
--7b698602	2015-05-10T22:31:06+03:00	Foo	kp-pav@yandex.ru	Update base version

7b698602
1	1	setup.py

--802d8064	2015-05-10T22:30:01+03:00	Foo	kp-pav@yandex.ru	Merge branch 'fix-cmdline' into develop

Fixes #1357.

802d8064
--e097f656	2015-05-10T22:23:19+03:00	Foo	kp-pav@yandex.ru	Fix main arguments parser tests

e097f656
20	7	tests/test_cmdline.py

--22988ed2	2015-05-10T22:16:32+03:00	Foo	kp-pav@yandex.ru	Merge branch 'release-2.1.2' into develop

22988ed2
--6e0951d4	2015-05-10T22:16:32+03:00	Foo	kp-pav@yandex.ru	Update base version

6e0951d4
1	1	setup.py

--ca2809be	2015-05-10T22:16:14+03:00	Foo	kp-pav@yandex.ru	Fix args.side: make it a string back

One of the last changes made it a list.
ca2809be
1	0	powerline/commands/main.py

--c45accbf	2015-05-10T17:54:13+03:00	Foo	kp-pav@yandex.ru	Merge branch 'release-2.1.1' into develop

c45accbf
--af9515f8	2015-05-10T17:54:13+03:00	Foo	kp-pav@yandex.ru	Update base version

af9515f8
1	1	setup.py

--b7e2a5d8	2015-05-10T17:44:46+03:00	Foo	kp-pav@yandex.ru	Merge commit 'HEAD@{1}' into develop

b7e2a5d8
--cf76231b	2015-05-10T17:44:38+03:00	Foo	kp-pav@yandex.ru	Make `side` argument non-optional

Closes #1294
cf76231b
1	1	powerline/commands/main.py

--dc3eb6f3	2015-05-10T17:32:47+03:00	Foo	kp-pav@yandex.ru	Merge branch 'fix-tmux-left-colors' into develop

dc3eb6f3
--d8373dd2	2015-05-10T17:29:57+03:00	Foo	kp-pav@yandex.ru	Add missing tmux colors to solarized colorscheme

Closes #1214

d8373dd2
1	0	powerline/config_files/colorschemes/solarized.json
14	0	powerline/config_files/colorschemes/tmux/solarized.json

--560627a6	2015-05-10T16:45:54+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1355 from ZyX-I/fix-1347

Fix tmux-2.0 support
560627a6
--d6b6dd58	2015-05-10T16:11:53+03:00	Foo	kp-pav@yandex.ru	Do use sourcing when using <=tmux-1.8 by default

Otherwise each set option is displayed which under tmux-1.8 results in `[tmux]` 
in the statusline in place of `bash` (actually it is fine to check only whether 
tmux is 1.8 or not).
d6b6dd58
19	14	powerline/bindings/config.py
1	1	powerline/bindings/tmux/powerline.conf
17	1	powerline/commands/config.py

--424d71ee	2015-05-10T15:33:43+03:00	Foo	kp-pav@yandex.ru	Use different string for tmux-2.0

424d71ee
28	6	tests/test_in_vterm/test_tmux.py

--a326153b	2015-05-10T14:48:22+03:00	Foo	kp-pav@yandex.ru	Disable fish tests

Properly fixing them is out of the scope of this PR

a326153b
3	0	tests/test_shells/test.sh

--d11ddd0b	2015-05-10T14:37:16+03:00	Foo	kp-pav@yandex.ru	Add hostname executable when running shell tests

d11ddd0b
1	0	tests/test_shells/test.sh

--e7068b35	2015-05-09T01:06:17+03:00	Foo	kp-pav@yandex.ru	Use `env` in status-left evaluation

Makes $POWERLINE_COMMAND contents interpreted in the same fashion as in
status-right.

e7068b35
1	1	powerline/bindings/tmux/powerline-base.conf

--bd9359c9	2015-05-09T00:57:21+03:00	Foo	kp-pav@yandex.ru	Use direct execution by default

Should make it not needed to bother with environment variables. Makes tmux
configuration more fragile.

Is a different variant of fixing #1354. Does not conflict with the previous one,
so both are kept.

bd9359c9
36	5	powerline/bindings/config.py
9	0	powerline/bindings/tmux/__init__.py
1	1	powerline/bindings/tmux/powerline.conf
1	0	powerline/commands/config.py

--9f7e59d0	2015-05-09T00:13:44+03:00	Foo	kp-pav@yandex.ru	Ignore some tmux failures

Fixes #1354

9f7e59d0
6	0	powerline/bindings/config.py
5	0	powerline/bindings/tmux/__init__.py

--034b7d52	2015-04-17T23:21:24+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1348 from ZyX-I/fix-1347

Fix warning when &l:statusline is set to a unicode value
034b7d52
--d464ff84	2015-04-17T22:01:10+03:00	Foo	kp-pav@yandex.ru	Fix warning when &l:statusline is set to a unicode value

This normally should not happen because &l:stl should be powerline-controlled,
but some plugins do this.

Fixes #1347

d464ff84
29	5	powerline/vim.py
22	0	tests/test_foreign_stl_override.vim

--1fad6f4b	2015-04-04T22:43:32+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1344 from powerline/revert-1343-patch-1

Revert "Add note on outdated ArchLinux AUR Packages."
1fad6f4b
--e4640742	2015-04-04T18:22:00+02:00	Kim Silkebækken	kim@silkebaekken.no	Revert "Add note on outdated ArchLinux AUR Packages."

e4640742
2	2	docs/source/installation/linux.rst

--6b2b6d1e	2015-04-04T15:36:19+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1343 from radriaanse/patch-1

Add note on outdated ArchLinux AUR Packages.

Closes #1341
6b2b6d1e
--a17d7c83	2015-04-04T09:46:32+02:00	Remy Adriaanse	remy@adriaanse.it	Add note on outdated ArchLinux AUR Packages.
a17d7c83
2	2	docs/source/installation/linux.rst

--364fc4dc	2015-04-03T22:42:41+03:00	Foo	kp-pav@yandex.ru	Merge commit 'HEAD@{1}' into develop

364fc4dc
--07cae386	2015-04-03T22:42:23+03:00	Foo	kp-pav@yandex.ru	Reword troubleshooting question regarding automatic vimrc resoursing

Ref #1342
07cae386
11	9	docs/source/troubleshooting.rst

--7eda0e5c	2015-03-11T22:53:24+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1332 from ZyX-I/fix-1331

Always write str() objects to the stream in echoerr
7eda0e5c
--6ca78c73	2015-03-11T22:50:00+03:00	Foo	kp-pav@yandex.ru	Merge branch 'fix-1329' into develop

6ca78c73
--ff49538c	2015-03-11T22:49:36+03:00	Foo	kp-pav@yandex.ru	Do not leak environment and home directory in documentation

Fixes #1329
ff49538c
30	0	docs/source/powerline_autodoc.py

--9960a8fd	2015-03-11T22:08:30+03:00	Foo	kp-pav@yandex.ru	Always write str() objects to the stream in echoerr

Fixes #1331

9960a8fd
15	3	powerline/lint/markedjson/error.py

--6b0cd3d3	2015-03-01T17:41:51+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1327 from ZyX-I/fix-1322

Do not write empty lines above prompt and fix tcsh
6b0cd3d3
--10c0c5be	2015-03-01T17:24:44+03:00	Foo	kp-pav@yandex.ru	Add above tests for bash, fish and zsh

10c0c5be
11	0	tests/test_shells/bash.daemon.ok
11	0	tests/test_shells/bash.nodaemon.ok
16	0	tests/test_shells/fish.ok
31	0	tests/test_shells/input.bash
32	0	tests/test_shells/input.fish
31	0	tests/test_shells/input.zsh
11	0	tests/test_shells/zsh.daemon.ok
11	0	tests/test_shells/zsh.nodaemon.ok

--4a3798b4	2015-03-01T17:23:07+03:00	Foo	kp-pav@yandex.ru	Fix tcsh renderer: end prompt with a sequence that is not dropped

4a3798b4
15	0	powerline/renderers/shell/tcsh.py
1	1	tests/test_shells/postproc.py
17	17	tests/test_shells/tcsh.ok

--209bff34	2015-03-01T16:17:09+03:00	Foo	kp-pav@yandex.ru	Do not write empty lines from above, do not reset hl for empty lines

Fixes #1322

209bff34
1	0	powerline/bindings/zsh/__init__.py
1	0	powerline/commands/main.py
3	1	powerline/renderer.py

--333116d5	2015-03-01T14:53:03+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1325 from ZyX-I/fix-su

Add missing highlight groups

Closes #1320 
Replaces #1323
333116d5
--17d73dd3	2015-03-01T14:29:07+03:00	Foo	kp-pav@yandex.ru	Define __eq__ for marks

17d73dd3
8	3	powerline/lint/markedjson/error.py

--93d21095	2015-03-01T14:25:40+03:00	Foo	kp-pav@yandex.ru	Make messages from either check more sane

93d21095
33	13	powerline/lint/markedjson/error.py
6	1	powerline/lint/spec.py

--704d4a47	2015-03-01T14:10:04+03:00	Foo	kp-pav@yandex.ru	Remove non-keyword arguments from echoerr function

704d4a47
8	8	powerline/lint/markedjson/error.py

--b88a2535	2015-03-01T14:05:42+03:00	Foo	kp-pav@yandex.ru	Add definitions for missing highlight groups

b88a2535
1	0	powerline/config_files/colorschemes/default.json
1	0	powerline/config_files/colorschemes/vim/__main__.json

--2d9e759f	2015-03-01T13:51:22+03:00	Foo	kp-pav@yandex.ru	Make sure that check_group actually tests presense of some group

It was not much useful actually: e.g. it skipped the fact that warning:regular
highlight group was not defined.

2d9e759f
35	33	powerline/lint/checks.py

--d797a25f	2015-02-27T00:41:16+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1319 from ZyX-I/zsh-resource

Use special function for appending to precmd_functions
d797a25f
--76f73687	2015-02-23T15:59:21+03:00	ZyX	kp-pav@yandex.ru	Use special function for appending to precmd_functions

This way there appear no duplicates.
76f73687
9	8	powerline/bindings/zsh/powerline.zsh

--ca679705	2015-02-21T20:33:05+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1317 from ZyX-I/gentoo-tests

Add some fixes for testing from ebuild
ca679705
--3bf484de	2015-02-21T19:02:37+03:00	ZyX	kp-pav@yandex.ru	Break on self.quitting line

This may also cause python-3.2 pdb test to error out.

3bf484de
2	0	tests/test_shells/postproc.py

--68b43c59	2015-02-21T18:53:32+03:00	ZyX	kp-pav@yandex.ru	Disable pdb PyPy tests completely

They currently fail for the reason that does not seem related to powerline
(though this problem did not occur before porting tests to pexpect, so this
should be somewhat related (somewhat: PyPy fails on code `return br'\u%04x'
% ord(c)` which is no a valid Python code (`%` can no longer be used with
`bytes()` obects), the whole situation only means that before using pexpect bug
in PyPy was not hit)).

68b43c59
1	1	tests/test_shells/test.sh

--0058919c	2015-02-21T18:44:01+03:00	ZyX	kp-pav@yandex.ru	Remove blank lines from pdb output

It is the problem that causes python-3.2 pdb tests to fail on travis.

0058919c
2	0	tests/test_shells/postproc.py

--9a89d4de	2015-02-21T18:20:20+03:00	ZyX	kp-pav@yandex.ru	Do not special-case PyPy+ipython

9a89d4de
0	4	tests/test_shells/test.sh

--74e81bf7	2015-02-21T18:17:23+03:00	ZyX	kp-pav@yandex.ru	Restore the timeout

There may be a reason for a test to take 3 minutes long, but there is no reason
for the test to take even half a minute long *without any output*.

74e81bf7
1	1	tests/test_shells/run_script.py

--678faed4	2015-02-21T18:15:39+03:00	ZyX	kp-pav@yandex.ru	Force destroying child after everything was done

Normally this line should not do anything useful.

678faed4
2	0	tests/test_shells/run_script.py

--b7c7d29a	2015-02-21T18:05:04+03:00	ZyX	kp-pav@yandex.ru	Use “non-blocking” read and stop on TIMEOUT and EOF

b7c7d29a
9	1	tests/test_shells/run_script.py

--deee4050	2015-02-21T17:56:13+03:00	ZyX	kp-pav@yandex.ru	Do not repeat `if` more times then needed

deee4050
5	5	tests/test_shells/postproc.py

--38a05b34	2015-02-21T17:55:49+03:00	ZyX	kp-pav@yandex.ru	Do not use “which ipython” in echo since it is no longer relevant

38a05b34
1	1	tests/test_shells/test.sh

--6a6991bc	2015-02-21T17:11:11+03:00	ZyX	kp-pav@yandex.ru	Use 3 minutes for timeout

6a6991bc
1	0	tests/test_shells/run_script.py

--7d98218b	2015-02-21T16:58:39+03:00	ZyX	kp-pav@yandex.ru	Do not wait, just .read()

.read() without arguments should read until EOF is received.

7d98218b
0	10	tests/test_shells/run_script.py

--0a87b558	2015-02-21T16:50:25+03:00	ZyX	kp-pav@yandex.ru	Do not use child.wait(), it hangs

0a87b558
9	1	tests/test_shells/run_script.py

--0710f276	2015-02-21T16:11:04+03:00	ZyX	kp-pav@yandex.ru	Open log as binary file for writing

Child output is binary.
0710f276
1	1	tests/test_shells/run_script.py

--d5361337	2015-02-21T16:08:50+03:00	ZyX	kp-pav@yandex.ru	Use script to test whether python zsh uses matches $PYTHON

d5361337
1	1	tests/test_shells/test.sh
9	0	tests/test_shells/zsh_test_script.zsh

--0f86bbf8	2015-02-21T15:54:44+03:00	ZyX	kp-pav@yandex.ru	In place of running ipython executable run IPython module

This should fix the problem with using wrong ipython for tests.

0f86bbf8
5	3	tests/test_shells/test.sh

--b2ecb8ca	2015-02-21T15:35:58+03:00	ZyX	kp-pav@yandex.ru	Do not append PYTHON to *_REPO paths

$PYTHON variable is sometimes a full path which makes everything fail. It is
also useless move since directories are destroyed after tests and running two
test.sh scripts in parallel is not supported in any case.

b2ecb8ca
3	3	tests/test_lib.py

--bb6342c1	2015-02-21T15:30:42+03:00	ZyX	kp-pav@yandex.ru	Tell tmux correct path to shell to use

bb6342c1
1	1	tests/test_in_vterm/test_tmux.py

--d53c7800	2015-02-21T15:18:59+03:00	ZyX	kp-pav@yandex.ru	Do not use absolute path for tmux socket

Absolute path is too long when using tests in ebuild.

d53c7800
2	2	tests/test_in_vterm/test_tmux.py

--1e85f5df	2015-02-21T15:09:41+03:00	ZyX	kp-pav@yandex.ru	Disable vterm tests for PyPy completely

1e85f5df
3	2	tests/test_in_vterm/test.sh

--22162a96	2015-02-21T14:03:34+03:00	ZyX	kp-pav@yandex.ru	Replace screen-based tests with pexpect-based tests

Currently works for all tests, but dash ones. Not much of a problem since dash
tests were disabled for being unstable.

22162a96
1	1	tests/install.sh
16	5	tests/test_shells/run_script.py
0	7	tests/test_shells/screenrc
4	6	tests/test_shells/test.sh

--8524ee35	2015-02-21T13:56:25+03:00	ZyX	kp-pav@yandex.ru	Ignore stderr from printf and env

socat may close pipe before they succeed to write something which results in

    env: write error: Broken pipe

(according to my experience leading printf’s always succeeds to write before
socat closes pipe).

8524ee35
1	1	client/powerline.sh
104	0	tests/test_shells/run_script.py
5	93	tests/test_shells/test.sh

--838a7c3b	2015-02-21T13:46:35+03:00	ZyX	kp-pav@yandex.ru	Fix the case when $0 is a path

I.e. something like /home/zyx/.vam/powerline/tests/shell/path/mksh.
838a7c3b
1	2	powerline/bindings/shell/powerline.sh

--e6b3bff5	2015-02-21T03:42:58+03:00	ZyX	kp-pav@yandex.ru	Rerun main() only after running finally block

e6b3bff5
3	1	tests/test_in_vterm/test_tmux.py

--5ecf50b4	2015-02-21T03:32:26+03:00	ZyX	kp-pav@yandex.ru	Use different $HOME

5ecf50b4
3	0	tests/test_shells/test.sh

--68369193	2015-02-21T02:21:11+03:00	ZyX	kp-pav@yandex.ru	Make sure that there is at least one blank line after full log

68369193
2	0	tests/test_shells/test.sh

--fb0fba6c	2015-02-21T02:00:13+03:00	ZyX	kp-pav@yandex.ru	Do not modify $PATH and $LD_LIBRARY_PATH unless on travis

fb0fba6c
2	0	tests/test.sh

--e7c381a6	2015-02-21T01:51:58+03:00	ZyX	kp-pav@yandex.ru	Make sure USER and HOME variables are defined

e7c381a6
5	0	tests/test.sh

--be3fd917	2015-02-21T01:29:10+03:00	ZyX	kp-pav@yandex.ru	Limit maximum amount of attempts to set register a

be3fd917
28	20	tests/test_shells/test.sh

--6343ff0d	2015-02-21T00:59:25+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1316 from ZyX-I/full-non-travis-tests

Make it possible to run the whole test suite outside of travis
6343ff0d
--75c5295a	2015-02-21T00:08:12+03:00	ZyX	kp-pav@yandex.ru	Adjust fish version tests for bot-ci-compiled fish

75c5295a
3	0	tests/test_shells/test.sh

--0a0af212	2015-02-20T23:48:26+03:00	ZyX	kp-pav@yandex.ru	Allow specifying path to libvterm from environment

Uses POWERLINE_LIBVTERM environment variable.
0a0af212
1	1	tests/test_in_vterm/test_tmux.py

--86299993	2015-02-20T23:47:18+03:00	ZyX	kp-pav@yandex.ru	Make sure that it is possible to use “system” libvterm.so

86299993
6	1	tests/test_in_vterm/test_tmux.py

--02b31f36	2015-02-20T23:37:13+03:00	ZyX	kp-pav@yandex.ru	Only run fish tests for development version or for 2.1.2 and higher

Currently tests also test Vi key bindings support, but it is not in any release 
yet.
02b31f36
13	2	tests/test_shells/test.sh

--b349d6e3	2015-02-20T23:16:01+03:00	ZyX	kp-pav@yandex.ru	Make sure that fish tests are not run for old fishes

b349d6e3
14	1	tests/test_shells/test.sh

--4d09f4fd	2015-02-20T22:39:50+03:00	ZyX	kp-pav@yandex.ru	Do not run Vim tests if Vim is not available, fallback to system Vim

4d09f4fd
7	0	tests/run_vim_tests.sh

--8fff21d7	2015-02-20T22:36:39+03:00	ZyX	kp-pav@yandex.ru	Set the default value for POWERLINE_TMUX_EXE

8fff21d7
2	0	tests/test_in_vterm/test.sh

--1445b5a6	2015-02-20T22:11:06+03:00	ZyX	kp-pav@yandex.ru	Merge branch 'update-qtile' into develop

1445b5a6
--6cad7b0a	2015-02-20T17:08:04+03:00	ZyX	kp-pav@yandex.ru	Add information about supported versions to documentation

6cad7b0a
7	0	docs/source/usage.rst

--479e6afb	2015-02-20T16:39:08+03:00	ZyX	kp-pav@yandex.ru	Do not recreate layout if not needed

479e6afb
3	0	powerline/bindings/qtile/widget.py

--5ee860ba	2015-02-20T16:36:07+03:00	ZyX	kp-pav@yandex.ru	Rename timeout to update_interval

5ee860ba
2	2	docs/source/usage/wm-widgets.rst
4	2	powerline/bindings/qtile/widget.py

--1742571b	2015-02-20T16:35:34+03:00	ZyX	kp-pav@yandex.ru	Use .timer_setup() to setup timer, fix error from cffi markup renderer

1. In qtile-0.9.1 .timeout_add() must be run after ._configure(). In qtile-0.8.0
   .timer_setup() is not run automatically.
2. New pango markup renderer (qtile-0.9.1) is not accepting unicode() objects,
   only str() ones as it converts them to cffi `char *`.

Fixes #1313

1742571b
9	2	powerline/bindings/qtile/widget.py

--86bb1616	2015-02-20T16:19:04+03:00	ZyX	kp-pav@yandex.ru	Use new name and two sides in example configuration in documentation

86bb1616
5	4	docs/source/usage/wm-widgets.rst

--bf228943	2015-02-20T16:15:21+03:00	ZyX	kp-pav@yandex.ru	Allow it to configure side

bf228943
3	2	powerline/bindings/qtile/widget.py

--eda9d0d6	2015-02-20T16:14:19+03:00	ZyX	kp-pav@yandex.ru	Move the closing parenthesis to the next line

eda9d0d6
2	1	powerline/bindings/qtile/widget.py

--83e459c5	2015-02-20T16:09:06+03:00	ZyX	kp-pav@yandex.ru	Do not use private classes for qtile, do not rename Powerline class

83e459c5
18	8	powerline/bindings/qtile/widget.py

--6c966811	2015-02-20T16:07:52+03:00	ZyX	kp-pav@yandex.ru	Update documentation

6c966811
5	1	docs/source/usage/wm-widgets.rst

--b09c7b79	2015-02-19T23:49:39+03:00	ZyX	kp-pav@yandex.ru	Merge branch 'update-requirements' into develop

b09c7b79
--98455c46	2015-02-19T23:08:25+03:00	ZyX	kp-pav@yandex.ru	Update Vim version requirements

98455c46
1	2	docs/source/usage.rst

--ffcd8f72	2015-02-19T23:06:33+03:00	ZyX	kp-pav@yandex.ru	Add information about fish requirements

ffcd8f72
8	0	docs/source/usage.rst
2	0	docs/source/usage/shell-prompts.rst

--9375b312	2015-02-19T12:28:03+03:00	ZyX	kp-pav@yandex.ru	Merge commit 'HEAD@{1}' into develop

9375b312
--3c596ca1	2015-02-19T12:27:46+03:00	ZyX	kp-pav@yandex.ru	Do not forget to push develop to upstream

3c596ca1
2	1	scripts/powerline-release.py

--ecc160cf	2015-02-19T12:25:42+03:00	ZyX	kp-pav@yandex.ru	Merge pull request #1312 from ZyX-I/stabilize-vterm-tests

Stabilize vterm tests

ecc160cf
--feb9a57d	2015-02-19T11:35:29+03:00	ZyX	kp-pav@yandex.ru	Move code that prints tmux logs to test_tmux.py

feb9a57d
0	12	tests/test_in_vterm/test.sh
16	3	tests/test_in_vterm/test_tmux.py

--3d8948c1	2015-02-19T11:27:18+03:00	ZyX	kp-pav@yandex.ru	Add missing newline in battery segment implementation

3d8948c1

--f8ba6b02	2015-02-19T11:19:38+03:00	ZyX	kp-pav@yandex.ru	Restart failed tmux vterm test a few times

f8ba6b02
8	2	tests/test_in_vterm/test_tmux.py

--abe9014e	2015-02-19T02:56:44+03:00	ZyX	kp-pav@yandex.ru	Merge branch 'release-2.1' into develop

abe9014e
--ceb0487f	2015-02-19T02:56:44+03:00	ZyX	kp-pav@yandex.ru	Update base version

ceb0487f
1	1	setup.py

--58876504	2015-02-19T02:56:15+03:00	ZyX	kp-pav@yandex.ru	Merge commit 'HEAD@{1}' into develop

58876504
--d5d4e956	2015-02-19T02:56:05+03:00	ZyX	kp-pav@yandex.ru	Fix typo in release script

d5d4e956
2	1	scripts/powerline-release.py

--389e01ff	2015-02-19T02:50:47+03:00	ZyX	kp-pav@yandex.ru	Merge branch 'fix-client-compiling' into develop

389e01ff
--4c6a2e3e	2015-02-15T01:25:25+03:00	ZyX	kp-pav@yandex.ru	Also check that MIME type matches during tests

MIME type names are inconsistent across different systems, so only first
component is used. For example, `file` in Travis Ubuntu detects Python scripts
as `text/x-java`, in Gentoo these are `text/x-python`.

Travis Ubuntu also uses magic file format different from the one
sys-apps/file-5.22 from Gentoo has, making it impossible to fix the issue by
just copying the files from my system.

4c6a2e3e
31	9	tests/test_shells/test.sh

--e233ca7a	2015-02-15T01:19:06+03:00	ZyX	kp-pav@yandex.ru	Fix compiling C client when using Python-2.6

`shlex.split` is inadequate when it receives Unicode strings: `u'-O3'` is split 
into a single argument that looks like `'-\x00O\x003\x00'`.
e233ca7a
1	1	setup.py

--c1bcaaad	2015-02-15T01:06:45+03:00	ZyX	kp-pav@yandex.ru	Merge branch 'pep440' into develop

c1bcaaad
--99830bad	2015-02-15T01:04:58+03:00	ZyX	kp-pav@yandex.ru	Use PEP440-compatible versions

Fixes #1310
99830bad
42	10	scripts/powerline-release.py
7	3	setup.py

--9823701a	2015-02-08T00:56:57+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1305 from sryze/patch-1

Fix link to colorschemes section
9823701a
--e112eb4e	2015-02-08T02:31:53+05:00	Sergey Zolotarev	sryze@users.noreply.github.com	Fix link to colorschemes section
e112eb4e
1	1	docs/source/configuration.rst

--fc7057c8	2015-02-07T22:08:05+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1300 from ZyX-I/stabilize-vterm-tests

Another attempt to stabilize vterm tests
fc7057c8
--04feda59	2015-02-07T18:51:18+03:00	ZyX	kp-pav@yandex.ru	Merge branch 'update-documentation' into develop

04feda59
--9e5bd5c1	2015-02-07T18:50:47+03:00	ZyX	kp-pav@yandex.ru	Replace obsolete advice to copy the entire configuration

9e5bd5c1
2	0	docs/source/commands/lint.rst
19	11	docs/source/configuration.rst

--66c6128b	2015-02-07T11:14:09+03:00	ZyX	kp-pav@yandex.ru	Wait less in vterm tmux tests

66c6128b
2	2	tests/test_in_vterm/test_tmux.py

--d5d138f8	2015-02-07T11:13:16+03:00	ZyX	kp-pav@yandex.ru	Do not bother with testing or setting POWERLINE_CONFIG_COMMAND

Instead just test whether using $POWERLINE_CONFIG_COMMAND succeeds and if it 
does not run just `powerline-config tmux setup`. Problem is that tests in vterm 
fail *not* because sleeping time is too short, but because `powerline-config 
tmux setup` for some reason is not launched at all. I am not sure whether this 
construct is going to fix things.

Also ref #875. I am very unsure this commit will fix the issue, but since I do 
not know what is the reason for this issue at all… who knows.

d5d138f8
1	1	powerline/bindings/tmux/powerline.conf

--e280313b	2015-02-07T05:13:57+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1299 from ZyX-I/stabilize-vterm-tests

Wait more before failing tmux vterm tests
e280313b
--92d4beff	2015-02-07T05:00:37+03:00	ZyX	kp-pav@yandex.ru	Wait more before failing tmux vterm tests

May fix random test failures.
92d4beff
55	46	tests/test_in_vterm/test_tmux.py

--43a9a255	2015-02-07T04:27:43+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1290 from ZyX-I/pdb

Add support for Python debugger
43a9a255
--b40e45a0	2015-02-05T07:25:07+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1297 from seanfisk/c-client-connect-size

Fix socket address size on non-Linux platforms.
b40e45a0
--17e0f74e	2015-02-04T02:28:44-05:00	Sean Fisk	sean@seanfisk.com	Fix socket address size on non-Linux platforms.

17e0f74e
21	1	client/powerline.c

--d57be832	2015-02-02T00:12:06+03:00	ZyX	kp-pav@yandex.ru	Do not alter the way keys are fed with PyPy

d57be832
3	1	tests/test_shells/test.sh

--f4e3c309	2015-02-01T12:13:56+03:00	ZyX	kp-pav@yandex.ru	Remove everything up until `class Foo(object):` in pdb tests

PyPy3 displays prompt two times on the line where `s` is present.
f4e3c309
0	2	tests/test_shells/pdb.module.ok
0	6	tests/test_shells/pdb.subclass.ok
5	4	tests/test_shells/postproc.py

--c3e541d1	2015-02-01T12:08:09+03:00	ZyX	kp-pav@yandex.ru	Remove empty lines

c3e541d1
2	0	tests/test_shells/postproc.py

--0db8154b	2015-01-31T21:32:16+03:00	ZyX	kp-pav@yandex.ru	Document how to pdb bindings with Python-2.6 and update tests

0db8154b
4	0	docs/source/usage/other.rst
6	2	tests/test_shells/test.sh

--e63a1c7c	2015-01-31T21:18:06+03:00	ZyX	kp-pav@yandex.ru	Display the log after long wait

e63a1c7c
10	0	tests/test_shells/test.sh

--d8252f66	2015-01-31T21:09:39+03:00	ZyX	kp-pav@yandex.ru	Move main() into powerline.bindings.pdb

d8252f66
19	0	powerline/bindings/pdb/__init__.py
1	21	powerline/bindings/pdb/__main__.py

--f9d65fb3	2015-01-31T20:25:40+03:00	ZyX	kp-pav@yandex.ru	Do not wait for too long in do_run_test

f9d65fb3
7	1	tests/test_shells/test.sh

--2ef51076	2015-01-31T20:23:10+03:00	ZyX	kp-pav@yandex.ru	Import overrides from environment in PDB prompts

2ef51076
6	0	docs/source/configuration/local.rst
2	0	docs/source/usage/other.rst
23	0	powerline/pdb.py
88	88	tests/test_shells/pdb.module.ok
88	88	tests/test_shells/pdb.subclass.ok

--5bc68b66	2015-01-31T18:49:41+03:00	ZyX	kp-pav@yandex.ru	Define all groups in both default and solarized colorschemes

5bc68b66
4	1	powerline/config_files/colorschemes/pdb/__main__.json
0	3	powerline/config_files/colorschemes/pdb/default.json
5	0	powerline/config_files/colorschemes/pdb/solarized.json

--f74320fb	2015-01-31T18:41:17+03:00	ZyX	kp-pav@yandex.ru	Add unit tests for pdb segments

f74320fb
47	1	tests/test_segments.py

--27291b5e	2015-01-31T18:30:26+03:00	ZyX	kp-pav@yandex.ru	Force ASCII-only prompt when using PyPy

27291b5e
4	1	docs/source/usage/other.rst
6	0	powerline/pdb.py
11	0	powerline/renderers/pdb.py

--682a9ab5	2015-01-31T18:21:33+03:00	ZyX	kp-pav@yandex.ru	Warn that PyPy is not supported

682a9ab5
2	0	docs/source/usage/other.rst

--deacb9ab	2015-01-31T18:21:20+03:00	ZyX	kp-pav@yandex.ru	Add some methods to PowerlineRenderResult

This is an attempt to fix PDB prompt on PyPy. Does not work.

deacb9ab
28	2	powerline/bindings/pdb/__init__.py

--ef02ab70	2015-01-31T18:10:19+03:00	ZyX	kp-pav@yandex.ru	Also test powerline.bindings.pdb module

ef02ab70
1	6	tests/test_shells/input.pdb
88	94	tests/test_shells/{pdb.ok => pdb.module.ok}
0	7	tests/test_shells/{pdb.ok => pdb.subclass.ok}
14	6	tests/test_shells/test.sh

--47dbdd57	2015-01-31T17:58:14+03:00	ZyX	kp-pav@yandex.ru	Add pdb integration tests

47dbdd57
94	0	tests/test_shells/input.pdb
24	0	tests/test_shells/pdb-main.py
38	0	tests/test_shells/pdb-script.py
230	0	tests/test_shells/pdb.ok
14	0	tests/test_shells/postproc.py
35	5	tests/test_shells/test.sh

--cac9754f	2015-01-31T13:43:24+03:00	ZyX	kp-pav@yandex.ru	Add pdb-specific segments and make default theme use them

cac9754f
6	0	docs/source/configuration/listers.rst
7	0	docs/source/configuration/segments/pdb.rst
9	0	docs/source/develop/segments.rst
5	0	powerline/config_files/colorschemes/pdb/__main__.json
8	0	powerline/config_files/colorschemes/pdb/default.json
15	9	powerline/config_files/themes/pdb/default.json
37	0	powerline/listers/pdb.py
5	0	powerline/renderers/pdb.py
61	0	powerline/segments/pdb.py

--b0d29530	2015-01-27T22:38:50+03:00	ZyX	kp-pav@yandex.ru	Add some hacks to make code compatible with pdbpp

b0d29530
91	7	powerline/bindings/pdb/__init__.py

--9bbec772	2015-01-27T22:15:26+03:00	ZyX	kp-pav@yandex.ru	Add support for pdb prompt

Note: pdbpp is not supported, it has lots of problems with unicode<-->str
conversion (either explicit or implicit).

9bbec772
6	0	docs/source/develop/segments.rst
27	0	docs/source/usage/other.rst
54	0	powerline/bindings/pdb/__init__.py
29	0	powerline/bindings/pdb/__main__.py
4	0	powerline/config_files/config.json
21	0	powerline/config_files/themes/pdb/default.json
19	0	powerline/pdb.py
34	0	powerline/renderers/pdb.py

--7250cd4b	2015-01-27T20:24:45+03:00	ZyX	kp-pav@yandex.ru	Use `:py:meth` for referring to methods

7250cd4b
8	5	powerline/renderer.py

--36d64bc3	2015-01-27T20:22:38+03:00	ZyX	kp-pav@yandex.ru	Remove unused `get_segment_info` method

36d64bc3
0	4	powerline/vim.py

--f5d96743	2015-01-27T20:13:19+03:00	ZyX	kp-pav@yandex.ru	Move IPython prompt and rcsh renderers into a separate module

Some applications that use readline use same variants of telling it where
highlighting starts and ends. This module will also be used for pdb.

f5d96743
1	1	powerline/bindings/rc/powerline.rc
3	3	powerline/renderers/ipython/__init__.py
2	7	powerline/renderers/shell/rcsh.py
5	3	powerline/renderers/shell/{rcsh.py => readline.py}

--cddfc364	2015-01-31T15:36:46+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1289 from ZyX-I/fix-lint-hl-groups

Fix highlight groups linting
cddfc364
--72d9b830	2015-01-31T15:10:06+03:00	ZyX	kp-pav@yandex.ru	Fix linter errors: add necessary highlight groups or fix docstrings

Fixes #1136

72d9b830
9	4	powerline/config_files/colorschemes/default.json
6	0	powerline/config_files/colorschemes/ipython/__main__.json
0	7	powerline/config_files/colorschemes/ipython/default.json
5	1	powerline/config_files/colorschemes/shell/__main__.json
0	3	powerline/config_files/colorschemes/shell/default.json
0	3	powerline/config_files/colorschemes/shell/solarized.json
20	4	powerline/config_files/colorschemes/solarized.json
4	0	powerline/segments/vim/plugin/commandt.py

--3b56cf74	2015-01-31T13:49:05+03:00	ZyX	kp-pav@yandex.ru	Fix linting of highlight groups

Currently checks for highlight group existence do not work. With this commit
tests will fail due to #1136.

3b56cf74
4	1	powerline/lint/__init__.py
33	14	powerline/lint/checks.py

--b22562b0	2015-01-26T20:39:49+03:00	ZyX	kp-pav@yandex.ru	Merge branch 'fix-1286' into develop

b22562b0
--c606db75	2015-01-26T20:38:56+03:00	ZyX	kp-pav@yandex.ru	Remove call to a removed function

Function was removed in a90b080 (“Remove all exports”), but call survived.

Fixes #1286

c606db75
0	1	powerline/bindings/fish/powerline-setup.fish

--edec4215	2015-01-25T19:20:09+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1285 from ZyX-I/fixed-1256

Add BAR support with i3 bindings
edec4215
--ff0631c6	2015-01-25T17:02:54+03:00	ZyX	kp-pav@yandex.ru	Make sure powerline class knows that it will use UTF-8

ff0631c6
16	9	powerline/bindings/bar/powerline-bar.py

--ea9eae67	2015-01-25T16:59:36+03:00	ZyX	kp-pav@yandex.ru	Always write UTF-8 string

ea9eae67
5	1	powerline/bindings/bar/powerline-bar.py
3	4	powerline/commands/main.py
25	0	powerline/lib/encoding.py
4	7	scripts/powerline-daemon
2	2	scripts/powerline-render

--1e7dc790	2015-01-25T12:51:19+03:00	ZyX	kp-pav@yandex.ru	Fix issues found in 1256 pull request

Ref #1256
1e7dc790
7	6	docs/source/usage/wm-widgets.rst
15	16	powerline/bindings/{i3 => bar}/powerline-bar.py
7	1	powerline/renderers/bar.py
16	9	tests/test_configuration.py

--dd77d420	2015-01-08T00:03:34+01:00	S0lll0s	s0lll0s@blinkenshell.org	Add BAR (bar ain't recursive) renderer and fitting i3 bindings

dd77d420
19	2	docs/source/usage/wm-widgets.rst
42	0	powerline/bindings/i3/powerline-bar.py
39	0	powerline/renderers/bar.py
43	0	tests/test_configuration.py

--9dfd40a6	2015-01-25T02:23:20+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1284 from ZyX-I/update-zpython

Update zpython bindings according to new zpython changes
9dfd40a6
--c0e5ef67	2015-01-25T02:11:39+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1283 from ZyX-I/fix-configuration-tests

When testing Vim do not rely on test order and do not save state

Ref #1256
c0e5ef67
--614c17d1	2015-01-25T02:08:36+03:00	ZyX	kp-pav@yandex.ru	Do not use `zsh.eval` to unset special value

614c17d1
1	1	powerline/bindings/zsh/__init__.py

--96571cc4	2015-01-25T02:06:35+03:00	ZyX	kp-pav@yandex.ru	Use new `zsh.expand` function in place of `zsh.eval`

96571cc4
14	6	powerline/bindings/zsh/__init__.py

--332a266d	2015-01-25T01:58:27+03:00	ZyX	kp-pav@yandex.ru	When testing Vim do not rely on test order and do not save state

This commit refactors `TestVim` test class in test_configuration so that

1. `test_environ_update` does not leave state (value of `powerline_config_paths` 
   global Vim variable) behind other tests can use.
2. `test_local_themes` does not rely on state left from `test_environ_update`, 
   instead using new facility for providing needed value of 
   `Powerline.get_config_paths` call. This facility will be used later in BAR 
   tests.

Ref #1256
332a266d
8	1	tests/lib/config_mock.py
3	3	tests/test_configuration.py

--ab4021a2	2015-01-25T01:24:05+03:00	ZyX	kp-pav@yandex.ru	Make sure that powerline.bindings.zsh is able to work with old zpython

ab4021a2
4	1	powerline/bindings/zsh/__init__.py

--8b17a19e	2015-01-18T16:12:45+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1277 from ZyX-I/update-tests

Update code according to the changes in deps repository
8b17a19e
--71322dfe	2015-01-18T04:43:46+03:00	ZyX	kp-pav@yandex.ru	Use st-256color terminal for tests

Reasoning:

1. vt* TERMs (used to be vt100 here) make tmux-1.9 use different and identical
   colors for inactive windows. This is not like tmux-1.6: foreground color is
   different from separator color and equal to (0, 102, 153) for some reason
   (separator has correct color). tmux-1.8 is fine, so are older versions
   (though tmux-1.6 and tmux-1.7 do not have highlighting for previously active
   window) and my system tmux-1.9a.
2. screen, xterm and some other non-256color terminals both have the same issue
   and make libvterm emit complains like `Unhandled CSI SGR 3231`.
3. screen-256color, xterm-256color and other -256color terminals make libvterm
   emit complains about unhandled escapes to stderr.
4. `st-256color` does not have any of the above problems, but it may be not
   present on the target system because it is installed with x11-terms/st and
   not with sys-libs/ncurses.

For the given reasons decision was made: to fix tmux-1.9 tests and not make
libvterm emit any data to stderr st-256color $TERM should be used, up until
libvterm has its own terminfo database entry (if it ever will). To make sure
that relevant terminfo entry is present on the target system it should be
distributed with powerline test package. To make distribution not require
modifying anything outside of powerline test directory TERMINFO variable is set.

71322dfe
-	-	tests/terminfo/s/screen
-	-	tests/terminfo/s/st-256color
2	0	tests/test_in_vterm/test.sh
29	1	tests/test_in_vterm/test_tmux.py

--25a56df9	2015-01-18T03:52:12+03:00	ZyX	kp-pav@yandex.ru	Remove irrelevant logs

25a56df9
3	1	tests/test_in_vterm/test.sh

--71d7e392	2015-01-18T03:50:12+03:00	ZyX	kp-pav@yandex.ru	Also supply LD_LIBRARY_PATH when killing server

71d7e392
1	0	tests/test_in_vterm/test_tmux.py

--c93a1b79	2015-01-18T02:47:38+03:00	ZyX	kp-pav@yandex.ru	Run tests for all tmux versions present in deps

c93a1b79
11	5	tests/test_in_vterm/test.sh

--2debb7c1	2015-01-18T02:20:32+03:00	ZyX	kp-pav@yandex.ru	Update code according to the changes in deps repository

2debb7c1
3	2	tests/install.sh
4	3	tests/run_vim_tests.sh
1	1	tests/test.sh

--e02e6dc1	2015-01-17T00:55:49+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1265 from ZyX-I/fix-1264

Fix tmux bindings and add functional test for tmux
e02e6dc1
--6f6c466b	2015-01-17T00:41:28+03:00	ZyX	kp-pav@yandex.ru	Make sure LD_LIBRARY_PATH and PYTHONPATH are exported

LD_LIBRARY_PATH is required for UCS2 CPython versions.
6f6c466b
2	0	tests/test_in_vterm/test_tmux.py

--f0d0ad1b	2015-01-17T00:25:46+03:00	ZyX	kp-pav@yandex.ru	Make sure PyPy3 is not used with vterm tests

f0d0ad1b
7	7	tests/test_in_vterm/test.sh

--1e25c5ec	2015-01-17T00:19:26+03:00	ZyX	kp-pav@yandex.ru	After failing tmux vterm tests run powerline-config

Its output may give some clue.

1e25c5ec
2	0	tests/test_in_vterm/test_tmux.py

--a0edccce	2015-01-16T23:01:51+03:00	ZyX	kp-pav@yandex.ru	Increase sleeping time

It appears that just one second is not enough for travis

a0edccce
1	1	tests/test_in_vterm/test_tmux.py

--44273f29	2015-01-16T22:50:36+03:00	ZyX	kp-pav@yandex.ru	Do not print the whole screen unles something went wrong

44273f29
3	3	tests/test_in_vterm/test_tmux.py

--c43bd06b	2015-01-16T22:50:18+03:00	ZyX	kp-pav@yandex.ru	Use `env` for running $POWERLINE_CONFIG_COMMAND

This way we are making sure that this variable is always treated as a single
path to executable which is not so in case of `eval`.

c43bd06b
1	1	powerline/bindings/tmux/powerline.conf

--faef4585	2015-01-16T22:44:34+03:00	ZyX	kp-pav@yandex.ru	Add support for old tmux versions in tests

Tmux-1.6 does not have special highlighting for previously active window. Other
then that view is identical.

faef4585
28	1	tests/test_in_vterm/test_tmux.py

--edb416f6	2015-01-16T22:44:16+03:00	ZyX	kp-pav@yandex.ru	Make sure tmux will run powerline-config *after* testing env var

It appears that old tmux *also* spawns `if-shell` tests in background
effectively making it impossible to use in config like it was used before.

edb416f6
1	3	powerline/bindings/tmux/powerline.conf

--b23daa25	2015-01-16T22:34:44+03:00	ZyX	kp-pav@yandex.ru	Join setenv and source actions into one

It appears that tmux-1.6 is not able to function properly. Most likely this is
because prior to some tmux version running shell commands in background is the
default and only option and starting from some version `run-shell` does not run
processes in background *by default*.

This means that `source` action is run while `setenv` action is running and
since `source` needs to load a bunch of configuration files, *including*
importing a bunch of modules when creating renderer `source` and corresponding
tmux actions are finished earlier.

It is only a guess though: I am not even seeing race condition: `source` *is*
run, `setenv` also *is*, but `source` is *always* before `setenv`.

b23daa25
5	0	powerline/bindings/config.py
1	6	powerline/bindings/tmux/powerline.conf
1	0	powerline/commands/config.py

--70b1e342	2015-01-16T22:26:12+03:00	ZyX	kp-pav@yandex.ru	Rename .bindings.config.init_environment to init_tmux_environment

Otherwise it is not clear what environment is initialised.

70b1e342
1	1	powerline/bindings/config.py
1	1	powerline/commands/config.py

--939b2ca0	2015-01-16T22:25:03+03:00	ZyX	kp-pav@yandex.ru	Replace empty attributes list with `none`

Tmux-1.6 also thinks that empty value for window-status-…-attr options is
invalid

939b2ca0
4	2	powerline/bindings/config.py

--9db1e7b7	2015-01-16T21:45:48+03:00	ZyX	kp-pav@yandex.ru	Use tmux executable from fake PATH for running tmux

Otherwise with system tmux present it may appear that subprocess.check_call will
use it instead.

9db1e7b7
4	2	tests/test_in_vterm/test_tmux.py

--d9ed3a31	2015-01-16T21:41:42+03:00	ZyX	kp-pav@yandex.ru	Do not use “no…” attributes in legacy options

Tmux-1.6 found in travis does not accept this.

d9ed3a31
4	1	powerline/bindings/config.py

--a4525c8b	2015-01-11T05:46:34+03:00	ZyX	kp-pav@yandex.ru	Remove invalid label and fix typo in Rcsh prompt documentation

a4525c8b
1	3	docs/source/usage/shell-prompts.rst

--93acec23	2015-01-11T03:09:14+03:00	ZyX	kp-pav@yandex.ru	Create vterm-based tests that will test tmux support

It is possible that they eventually will be used also for shells: at least this
makes using postproc.py with all its hacks not needed.

93acec23
1	1	tests/install.sh
59	0	tests/lib/terminal.py
178	0	tests/lib/vterm.py
8	0	tests/run_vterm_tests.sh
53	0	tests/test_in_vterm/test.sh
147	0	tests/test_in_vterm/test_tmux.py

--02aa123d	2015-01-15T20:53:38+03:00	ZyX	kp-pav@yandex.ru	Merge branch 'pull-1271' into develop

This is squashed version of six commits from PR that adds support for battery
status on cygwin platform.

Closes #1271

02aa123d
--59bd8537	2015-01-12T15:15:38-05:00	Michael Snead	aikeru@gmail.com	Change to ctypes, remove WMIC

59bd8537
11	31	powerline/segments/common/bat.py

--93295fd4	2015-01-11T17:32:59-05:00	aikeru	aikeru@gmail.com	Add support for cygwin battery status using WMIC

93295fd4
26	0	powerline/segments/common/bat.py

--761a0357	2015-01-12T07:54:04+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1270 from ZyX-I/fix-1268

Make sure python_to_vim function is able to format lists
761a0357
--f1aeb7a5	2015-01-11T18:19:16+03:00	ZyX	kp-pav@yandex.ru	Make sure python_to_vim function is able to format lists

Fixes #1268

f1aeb7a5
5	0	powerline/bindings/vim/__init__.py

--4abeab04	2015-01-11T00:34:54+03:00	ZyX	kp-pav@yandex.ru	Make ext a list

Ref #1264
4abeab04
1	1	powerline/bindings/config.py

--5d73ca81	2015-01-11T00:22:52+03:00	ZyX	kp-pav@yandex.ru	Add missing argument to os.environ

Fixes #1264
5d73ca81
1	1	powerline/bindings/config.py

--d562844a	2015-01-09T18:37:08+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1263 from ZyX-I/rc-remove-read-failed

When using `rc` remove “read() failed” messages
d562844a
--9511c45e	2015-01-09T17:42:20+03:00	ZyX	kp-pav@yandex.ru	Make sure to remove logs before retrying

9511c45e
5	0	tests/test_shells/test.sh

--0a8e94d0	2015-01-09T17:40:05+03:00	ZyX	kp-pav@yandex.ru	When using `rc` remove “read() failed” messages

0a8e94d0
3	0	tests/test_shells/postproc.py

--1a2e7413	2015-01-09T16:54:03+03:00	ZyX	kp-pav@yandex.ru	Merge branch 'now_playing-doc-fixes' into develop

1a2e7413
--435baf95	2015-01-09T16:52:01+03:00	ZyX	kp-pav@yandex.ru	Allow wrapping of RTD tables

435baf95
6	0	docs/source/_static/css/theme_overrides.css
9	0	docs/source/conf.py

--886c38c3	2015-01-08T19:55:22+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1260 from ZyX-I/doc-fixes

Some documentation changes
886c38c3
--7dbbc100	2015-01-08T18:24:09+03:00	ZyX	kp-pav@yandex.ru	Remove you from most of the documentation

7dbbc100
10	8	docs/source/configuration.rst
33	34	docs/source/configuration/local.rst
12	15	docs/source/configuration/reference.rst
2	2	docs/source/develop/extensions.rst
1	1	docs/source/develop/listers.rst
1	1	docs/source/develop/local-themes.rst
54	48	docs/source/develop/segments.rst
14	12	docs/source/installation.rst
35	33	docs/source/installation/linux.rst
12	12	docs/source/installation/osx.rst
13	14	docs/source/usage.rst
42	37	docs/source/usage/other.rst
14	14	docs/source/usage/shell-prompts.rst
8	7	docs/source/usage/wm-widgets.rst

--8f43fb6f	2015-01-08T18:22:48+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1259 from ZyX-I/replace-foreground

Allow --foreground to be used with --replace
8f43fb6f
--b00d7ee3	2015-01-08T17:08:25+03:00	ZyX	kp-pav@yandex.ru	Prettify --quiet daemon argument definition

b00d7ee3
9	1	powerline/commands/daemon.py

--99505751	2015-01-08T17:07:08+03:00	ZyX	kp-pav@yandex.ru	Add line breaks to powerline/commands/config.py

99505751
18	4	powerline/commands/config.py

--d37711a4	2015-01-08T17:05:18+03:00	ZyX	kp-pav@yandex.ru	Prettify powerline.commands.lint

d37711a4
12	2	powerline/commands/lint.py

--84b0fa02	2015-01-08T17:03:15+03:00	ZyX	kp-pav@yandex.ru	Enhance --renderer-module documentation

84b0fa02
5	2	powerline/commands/main.py

--2faa1584	2015-01-08T16:58:28+03:00	ZyX	kp-pav@yandex.ru	Format powerline/commands/main.py to make it more readable

2faa1584
76	12	powerline/commands/main.py

--afcd8e4f	2015-01-08T16:50:48+03:00	ZyX	kp-pav@yandex.ru	Fix typo in rcsh support documentation

afcd8e4f
1	1	docs/source/usage/shell-prompts.rst

--0c37948c	2015-01-08T16:47:56+03:00	ZyX	kp-pav@yandex.ru	Allow --foreground to be used with --replace

Fixes #1235

0c37948c
4	0	docs/source/powerline_automan.py
5	4	powerline/commands/daemon.py
4	1	scripts/powerline-daemon

--3547ed0d	2015-01-08T04:31:05+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1255 from ZyX-I/rc-shell

Add support for Byron Rakitzis’ rc shell reimplementation
3547ed0d
--c6bf5fb5	2015-01-08T01:46:16+03:00	ZyX	kp-pav@yandex.ru	Add support for Byron Rakitzis’ rc shell reimplementation

Fixes #1238

c6bf5fb5
6	2	docs/source/develop/segments.rst
21	0	docs/source/usage/shell-prompts.rst
84	0	powerline/bindings/rc/powerline.rc
10	2	powerline/commands/main.py
12	0	powerline/renderers/shell/rcsh.py
1	1	tests/install.sh
1	1	tests/test_cmdline.py
27	1	tests/test_segments.py
32	0	tests/test_shells/input.rc
24	0	tests/test_shells/rc.daemon.ok
24	0	tests/test_shells/rc.nodaemon.ok
21	4	tests/test_shells/test.sh

--0942b3d8	2015-01-08T00:12:48+03:00	ZyX	kp-pav@yandex.ru	Make sure that if client_id is None then width is not used

0942b3d8
3	2	powerline/renderers/shell/__init__.py

--3ba6948d	2015-01-08T03:28:46+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1257 from ZyX-I/ipython-fixes

Apply some fixes for IPython bindings
3ba6948d
--d6e0dc71	2015-01-08T02:30:03+03:00	ZyX	kp-pav@yandex.ru	Use more then one attempt to run shell tests

They are rather unstable, especially IPython + PyPy, but others also are.

d6e0dc71
10	1	tests/test_shells/test.sh

--652613a7	2015-01-08T03:02:36+03:00	ZyX	kp-pav@yandex.ru	Make Powerline.render respect output_width as well

652613a7
4	1	powerline/__init__.py

--2961e989	2015-01-08T02:55:44+03:00	ZyX	kp-pav@yandex.ru	Supply correct config_paths

2961e989
1	1	tests/test_shells/ipython_home/profile_default/ipython_config.py

--6b23430b	2015-01-08T02:47:48+03:00	ZyX	kp-pav@yandex.ru	Make sure client_id for IPython is not None

6b23430b
9	2	powerline/renderers/ipython/__init__.py

--eb026d38	2015-01-08T00:01:57+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1254 from ZyX-I/fix-zpython-bindings

Supply default_mode in zpython bindings
eb026d38
--594c6df6	2015-01-08T00:01:03+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1253 from ZyX-I/fix-lint

Fix powerline-lint
594c6df6
--25b66430	2015-01-07T21:30:24+03:00	ZyX	kp-pav@yandex.ru	Supply default_mode in zpython bindings

25b66430
5	0	powerline/bindings/zsh/__init__.py

--7eed352a	2015-01-07T21:25:46+03:00	ZyX	kp-pav@yandex.ru	Rewrite file loading code

Apparently old variant did not bother to check user configuration and in any 
case was unnecessary complex.
7eed352a
119	100	powerline/lint/__init__.py

--7d4440f3	2015-01-07T20:14:46+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1252 from ZyX-I/shell-vars

Remove all exports from shell bindings
7d4440f3
--7d6b9c5c	2015-01-07T20:02:25+03:00	ZyX	kp-pav@yandex.ru	Also save what was merged in

7d6b9c5c
7	0	powerline/lib/dict.py
17	5	powerline/lint/markedjson/error.py
6	0	powerline/lint/markedjson/markedvalue.py

--ee78221a	2015-01-07T19:55:00+03:00	ZyX	kp-pav@yandex.ru	Save information about old values of values

ee78221a
37	7	powerline/lint/markedjson/error.py
15	0	powerline/lint/markedjson/markedvalue.py

--347f20d4	2015-01-07T19:06:08+03:00	ZyX	kp-pav@yandex.ru	Refactor FSTree to not use reduce as it is not present in Python-3

I.e. it is not builtin and requires heavy variant with trying to import it from
functools.

347f20d4
7	4	tests/lib/fsconfig.py

--a90b0803	2015-01-07T18:52:55+03:00	ZyX	kp-pav@yandex.ru	Remove all exports

Fixes #1239

a90b0803
3	4	powerline/bindings/fish/powerline-setup.fish
7	5	powerline/bindings/zsh/powerline.zsh
2	2	powerline/commands/main.py
6	6	powerline/segments/shell.py

--c9d1b819	2015-01-07T18:36:12+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1249 from ZyX-I/refactor-overrides

Refactor overrides
c9d1b819
--0e75400a	2015-01-07T16:24:48+03:00	ZyX	kp-pav@yandex.ru	Make sure that overrides do not affect Vim and IPython

Fixes #1201

0e75400a
5	0	tests/run_vim_tests.sh
7	0	tests/test_shells/test.sh

--fbd529d4	2015-01-07T15:21:33+03:00	ZyX	kp-pav@yandex.ru	Merge branch 'update-documentation' into develop

fbd529d4
--3c21c0f4	2015-01-07T15:20:29+03:00	ZyX	kp-pav@yandex.ru	Fix Linux installation instructions

Fixes #1251
3c21c0f4
11	1	docs/source/installation/linux.rst

--bac851bc	2015-01-07T15:17:40+03:00	ZyX	kp-pav@yandex.ru	Add ``powerline-status`` to OS X installation documentation

bac851bc
13	3	docs/source/installation/osx.rst

--21e6e5ba	2015-01-07T15:15:31+03:00	ZyX	kp-pav@yandex.ru	Make installation docs mention powerline-status first, reword them

21e6e5ba
14	13	docs/source/installation.rst

--c3e6c2ae	2015-01-07T15:07:27+03:00	ZyX	kp-pav@yandex.ru	Make POWERLINE_COMMAND a single path without arguments

Ref #1201
c3e6c2ae
5	6	docs/source/configuration/local.rst
2	2	powerline/bindings/bash/powerline.sh
2	2	powerline/bindings/fish/powerline-setup.fish
2	2	powerline/bindings/shell/powerline.sh
6	3	powerline/bindings/tcsh/powerline.tcsh
1	1	powerline/bindings/tmux/powerline-base.conf
1	1	powerline/bindings/tmux/powerline_tmux_1.8_plus.conf
5	5	powerline/bindings/zsh/powerline.zsh
3	1	tests/test_shells/test.sh

--10300756	2015-01-07T05:14:41+03:00	ZyX	kp-pav@yandex.ru	Also do not allow empty paths in zpython bindings

10300756
5	1	powerline/bindings/zsh/__init__.py

--a01870c1	2015-01-07T05:13:48+03:00	ZyX	kp-pav@yandex.ru	Also use it in `get_config_paths`

a01870c1
3	3	powerline/__init__.py

--efecf408	2015-01-07T05:12:48+03:00	ZyX	kp-pav@yandex.ru	Use `powerline.lib.path.join` in `_find_config_files()`

efecf408
2	1	powerline/__init__.py

--76f5a60a	2015-01-07T05:02:08+03:00	ZyX	kp-pav@yandex.ru	Fix `TypeError` in Python-3.2

This code may raise

    TypeError: string argument without an encoding
76f5a60a
1	1	powerline/bindings/zsh/__init__.py

--df5f5e9a	2015-01-07T04:27:40+03:00	ZyX	kp-pav@yandex.ru	Ignore empty elements in POWERLINE_CONFIG_PATHS

Ref #1201
df5f5e9a
2	1	docs/source/configuration/local.rst
1	1	powerline/commands/main.py

--972a55af	2015-01-07T01:21:59+03:00	ZyX	kp-pav@yandex.ru	Make sure to add paths from `POWERLINE_CONFIG_PATHS` to args

972a55af
4	0	powerline/commands/main.py

--4d35167b	2015-01-07T00:17:56+03:00	ZyX	kp-pav@yandex.ru	Avoid using overrides in $POWERLINE_COMMAND

4d35167b
14	5	docs/source/configuration/local.rst
3	3	tests/test_shells/bash.daemon.ok
3	3	tests/test_shells/bash.nodaemon.ok
3	3	tests/test_shells/busybox.daemon.ok
3	3	tests/test_shells/busybox.nodaemon.ok
3	3	tests/test_shells/dash.daemon.ok
3	3	tests/test_shells/dash.nodaemon.ok
11	5	tests/test_shells/input.bash
11	5	tests/test_shells/input.busybox
11	5	tests/test_shells/input.dash
9	3	tests/test_shells/input.fish
11	5	tests/test_shells/input.mksh
2	1	tests/test_shells/input.tcsh
3	3	tests/test_shells/mksh.daemon.ok
3	3	tests/test_shells/mksh.nodaemon.ok
2	1	tests/test_shells/test.sh

--2b880c4a	2015-01-06T22:52:35+03:00	ZyX	kp-pav@yandex.ru	Suggest using old-style overrides for testing purposes only

2b880c4a
8	0	docs/source/configuration/local.rst

--98ae55c1	2015-01-06T22:52:08+03:00	ZyX	kp-pav@yandex.ru	Lower the priority of environment variables overrides

98ae55c1
2	2	powerline/commands/main.py

--a47a4863	2015-01-06T22:47:35+03:00	ZyX	kp-pav@yandex.ru	Make `powerline-config` also accept overrides from env variables

Ref #1201

a47a4863
12	2	powerline/bindings/config.py
16	0	powerline/commands/main.py
0	16	powerline/tmux.py

--87ebe41f	2015-01-06T22:30:49+03:00	ZyX	kp-pav@yandex.ru	Make zsh tests use new environment variables

87ebe41f
4	14	tests/test_shells/input.zsh

--07f82fed	2015-01-06T22:17:28+03:00	ZyX	kp-pav@yandex.ru	Use `zsh.environ` if possible

07f82fed
1	1	powerline/bindings/zsh/__init__.py

--4f268cb8	2015-01-06T22:12:56+03:00	ZyX	kp-pav@yandex.ru	Make zsh bindings support string override variants

Ref #1201

4f268cb8
8	2	powerline/bindings/zsh/__init__.py

--917dfed8	2015-01-06T22:05:51+03:00	ZyX	kp-pav@yandex.ru	Take overrides from environment variables

Ref #1201

917dfed8
72	1	docs/source/configuration/local.rst
1	1	powerline/bindings/zsh/__init__.py
14	10	powerline/commands/main.py
0	60	powerline/lib/__init__.py
23	5	powerline/lib/dict.py
18	26	powerline/lib/{__init__.py => overrides.py}
4	1	scripts/powerline-daemon
1	1	scripts/powerline-render
1	1	tests/test_cmdline.py

--1451b426	2015-01-06T21:02:13+03:00	ZyX	kp-pav@yandex.ru	Rename `paths` IPython override to `config_paths`

Fixes #1126

1451b426
1	1	docs/source/configuration/local.rst
1	1	powerline/bindings/ipython/post_0_11.py
2	2	powerline/bindings/ipython/pre_0_11.py
2	2	powerline/ipython.py
1	1	tests/test_provided_config_files.py

--de064558	2015-01-06T21:00:36+03:00	ZyX	kp-pav@yandex.ru	Rename `POWERLINE_THEME_CONFIG` to `POWERLINE_THEME_OVERRIDES`

Ref #1126

de064558
1	1	docs/source/configuration/local.rst
1	1	powerline/bindings/zsh/__init__.py
2	2	tests/test_shells/input.zsh

--45ccbee1	2015-01-06T20:58:46+03:00	ZyX	kp-pav@yandex.ru	Use singular --*-override form for command-line overrides

Ref #1126

45ccbee1
2	2	docs/source/configuration/local.rst
2	2	powerline/bindings/zsh/__init__.py
7	7	powerline/commands/main.py
4	4	powerline/shell.py
2	2	scripts/powerline-daemon
2	2	tests/lib/__init__.py
6	6	tests/test_cmdline.py
1	1	tests/test_provided_config_files.py

--4b496401	2015-01-07T00:19:42+03:00	ZyX	kp-pav@yandex.ru	Merge commit 'HEAD@{1}' into develop

4b496401
--2f885eb4	2015-01-07T00:19:33+03:00	ZyX	kp-pav@yandex.ru	Fix function name

Fixes #1248
2f885eb4
1	1	powerline/bindings/config.py

--4bae6c66	2015-01-06T20:57:45+03:00	ZyX	kp-pav@yandex.ru	Make `powerline-lint` also use dashes

Ref #1125
4bae6c66
1	1	powerline/commands/lint.py

--1c29ea3f	2015-01-06T20:48:39+03:00	ZyX	kp-pav@yandex.ru	Use g:powerline_theme_overrides dictionary in place of g:…overrides__

Ref #1126
1c29ea3f
5	5	docs/source/configuration/local.rst
8	5	powerline/vim.py
1	1	tests/test_local_overrides.vim

--28ec9a51	2015-01-06T20:34:40+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1247 from ZyX-I/remove-obsolete-segments

Remove obsolete segments
28ec9a51
--a583c17b	2015-01-06T16:40:21+03:00	ZyX	kp-pav@yandex.ru	Remove deprecation warning from powerline.lint.imp

Fixes #1117

a583c17b
0	6	powerline/lint/imp.py

--22ae6a60	2015-01-06T16:39:20+03:00	ZyX	kp-pav@yandex.ru	Remove `now_playing` data from top-level themes

Ref #1117

22ae6a60
0	10	powerline/config_files/themes/ascii.json
0	10	powerline/config_files/themes/powerline.json
0	10	powerline/config_files/themes/powerline_unicode7.json
0	10	powerline/config_files/themes/unicode.json
0	10	powerline/config_files/themes/unicode_terminus.json
0	10	powerline/config_files/themes/unicode_terminus_condensed.json

--52e1be94	2015-01-06T16:37:56+03:00	ZyX	kp-pav@yandex.ru	Remove `now_playing` highlight group from ….players.PlayerSegment

52e1be94
1	1	powerline/segments/common/players.py

--70ae1aa1	2015-01-06T16:36:41+03:00	ZyX	kp-pav@yandex.ru	Remove now_playing segment

Ref #1117

70ae1aa1
0	21	powerline/segments/common/players.py

--2528a2c5	2015-01-06T16:35:46+03:00	ZyX	kp-pav@yandex.ru	Remove deprecation warning from powerline.lint.imp

Fixes #1092

2528a2c5
0	6	powerline/lint/imp.py

--654d4690	2015-01-06T16:34:42+03:00	ZyX	kp-pav@yandex.ru	Remove all segments from powerline.segments.common

Ref #1092

654d4690
0	26	powerline/segments/common/__init__.py
1	2	tests/test_configuration.py
108	108	tests/test_segments.py

--4c717695	2015-01-06T16:43:23+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1246 from ZyX-I/consistency-changes

Create some incompatible consistency changes
4c717695
--09afbc46	2015-01-06T16:29:54+03:00	ZyX	kp-pav@yandex.ru	Replace underscores with dashes in long options

Fixes #1125
09afbc46
2	2	docs/source/configuration/local.rst
5	5	powerline/bindings/bash/powerline.sh
3	3	powerline/bindings/fish/powerline-setup.fish
5	5	powerline/bindings/shell/powerline.sh
3	3	powerline/bindings/tcsh/powerline.tcsh
7	7	powerline/bindings/zsh/powerline.zsh
1	1	powerline/commands/config.py
6	6	powerline/commands/main.py
1	1	powerline/segments/shell.py
10	10	tests/test_cmdline.py

--16bf1647	2015-01-06T16:19:47+03:00	ZyX	kp-pav@yandex.ru	Rename `POWERLINE_CONFIG` to `POWERLINE_CONFIG_OVERRIDES`

Fixes #1124
Ref #1126
16bf1647
5	4	docs/source/configuration/local.rst
1	1	powerline/bindings/zsh/__init__.py
3	3	tests/test_shells/input.zsh

--2a2da9d4	2015-01-06T16:17:51+03:00	ZyX	kp-pav@yandex.ru	Use `env` to run $POWERLINE_CONFIG_COMMAND in fish

Reasoning: everywhere else $POWERLINE_CONFIG_COMMAND specifies one command, not 
command with arguments. But with eval this is changed. `env` will receive this 
variable as one argument, so the meaning is consistent again.
2a2da9d4
3	3	powerline/bindings/fish/powerline-setup.fish

--b17d03e6	2015-01-06T16:16:39+03:00	ZyX	kp-pav@yandex.ru	Rename `POWERLINE_CONFIG` to `POWERLINE_CONFIG_COMMAND` where appropriate

Ref #1124
b17d03e6
3	3	docs/source/configuration/local.rst
6	6	powerline/bindings/bash/powerline.sh
6	6	powerline/bindings/fish/powerline-setup.fish
6	6	powerline/bindings/shell/powerline.sh
10	10	powerline/bindings/tcsh/powerline.tcsh
6	6	powerline/bindings/zsh/powerline.zsh

--983315b2	2015-01-06T16:11:17+03:00	ZyX	kp-pav@yandex.ru	Fix documentation of network_load segment

983315b2
12	9	powerline/segments/common/net.py

--79f6853f	2015-01-06T16:07:47+03:00	ZyX	kp-pav@yandex.ru	Rename `detect` to `auto` special values in network segments

Fixes #1205

79f6853f
8	8	powerline/segments/common/net.py
3	3	tests/test_segments.py

--33b44e8a	2015-01-06T15:54:09+03:00	ZyX	kp-pav@yandex.ru	Check function documentation for invalid identifiers

Fixes #1216

33b44e8a
2	2	powerline/lint/__init__.py
28	1	powerline/lint/checks.py

--d8f03049	2015-01-06T15:35:27+03:00	ZyX	kp-pav@yandex.ru	Make linter treat `a.b` highlight group names as not correct

Ref #1216

d8f03049
1	1	powerline/lint/__init__.py

--9d905520	2015-01-06T15:33:39+03:00	ZyX	kp-pav@yandex.ru	Rename highlight groups: `plugin.` to `plugin:`

Ref #1216

9d905520
2	2	powerline/config_files/themes/vim/plugin_gundo-preview.json
2	2	powerline/config_files/themes/vim/plugin_gundo.json
2	2	powerline/segments/vim/plugin/nerdtree.py
3	3	powerline/segments/vim/plugin/syntastic.py

--c868f9c2	2015-01-06T15:25:18+03:00	ZyX	kp-pav@yandex.ru	Rename `attr` to `attrs`

Fixes #1199

c868f9c2
1	1	docs/source/configuration/reference.rst
7	7	powerline/bindings/config.py
10	10	powerline/colorscheme.py
40	40	powerline/config_files/colorschemes/default.json
2	2	powerline/config_files/colorschemes/ipython/default.json
8	8	powerline/config_files/colorschemes/shell/default.json
5	5	powerline/config_files/colorschemes/shell/solarized.json
13	13	powerline/config_files/colorschemes/solarized.json
10	10	powerline/config_files/colorschemes/tmux/default.json
38	38	powerline/config_files/colorschemes/vim/default.json
59	59	powerline/config_files/colorschemes/vim/solarized.json
59	59	powerline/config_files/colorschemes/vim/solarizedlight.json
1	1	powerline/lint/__init__.py
3	3	powerline/renderer.py
1	1	powerline/renderers/i3bar.py
5	5	powerline/renderers/pango_markup.py
6	6	powerline/renderers/shell/__init__.py
15	15	powerline/renderers/tmux.py
20	20	powerline/renderers/vim.py
1	1	powerline/theme.py
5	5	tests/lib/config_mock.py
2	2	tests/test_config_merging.py
6	6	tests/test_config_reload.py
7	7	tests/test_configuration.py

--8d050038	2015-01-06T15:13:43+03:00	ZyX	kp-pav@yandex.ru	Rename `highlight_group` key to `highlight_groups`

Ref #1199

8d050038
4	4	docs/source/configuration/reference.rst
7	7	docs/source/develop/segments.rst
2	2	powerline/config_files/themes/ipython/in.json
1	1	powerline/config_files/themes/ipython/in2.json
2	2	powerline/config_files/themes/ipython/out.json
2	2	powerline/config_files/themes/ipython/rewrite.json
1	1	powerline/config_files/themes/shell/select.json
2	2	powerline/config_files/themes/vim/cmdwin.json
2	2	powerline/config_files/themes/vim/default.json
2	2	powerline/config_files/themes/vim/help.json
2	2	powerline/config_files/themes/vim/plugin_commandt.json
2	2	powerline/config_files/themes/vim/plugin_gundo-preview.json
2	2	powerline/config_files/themes/vim/plugin_gundo.json
1	1	powerline/config_files/themes/vim/plugin_nerdtree.json
3	3	powerline/config_files/themes/vim/quickfix.json
3	3	powerline/config_files/themes/vim/tabline.json
1	1	powerline/lint/__init__.py
3	3	powerline/lint/checks.py
6	6	powerline/segment.py
3	3	powerline/segments/common/bat.py
2	2	powerline/segments/common/env.py
2	2	powerline/segments/common/mail.py
1	1	powerline/segments/common/net.py
1	1	powerline/segments/common/players.py
2	2	powerline/segments/common/sys.py
1	1	powerline/segments/common/time.py
1	1	powerline/segments/common/vcs.py
2	2	powerline/segments/common/wthr.py
1	1	powerline/segments/i3wm.py
6	6	powerline/segments/shell.py
10	10	powerline/segments/vim/__init__.py
2	2	powerline/segments/vim/plugin/commandt.py
1	1	powerline/segments/vim/plugin/nerdtree.py
2	2	powerline/segments/vim/plugin/syntastic.py
1	1	tests/test_config_merging.py
4	4	tests/test_config_reload.py
2	2	tests/test_configuration.py
150	150	tests/test_segments.py

--4cef8669	2015-01-06T14:55:32+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1245 from ZyX-I/drop-ctrlp

Remove Control-P plugin support
4cef8669
--4e6b0a7e	2015-01-06T03:57:38+03:00	ZyX	kp-pav@yandex.ru	Remove Control-P plugin support

If somebody needs to readd it he should make better code, specifically:

- Functions and variables necessary for supporting Control-P need to be defined 
  in a separate initialiazation function that is only called if Control-P was 
  found.
- Segments that show different information must be defined as separate segments 
  that may be put into configuration file.
- Segment functions must not know side they are on.
- Segment functions must not emit `priority`, it must go to configuration file.
- Segment functions must have proper documentation.
- Segment functions must not emit `width` and `align` keys.
- String `Loading...` or the equivalent must be overridable from configuration, 
  same for other interface strings (e.g. what is shown  when `regex` is true).
- Segment functions must have names that make it clear what they emit.

Closes #1244
4e6b0a7e
0	6	docs/source/configuration/segments/vim.rst
0	1	powerline/config_files/config.json
0	28	powerline/config_files/themes/vim/plugin_ctrlp.json
0	33	powerline/matchers/vim/plugin/ctrlp.py
0	116	powerline/segments/vim/plugin/ctrlp.py
0	17	tests/test_ctrlp_plugin.vim
0	5	tests/test_provided_config_files.py
0	6	tests/vim.py

--8a09aba2	2015-01-06T03:36:54+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1230 from ZyX-I/integration-tests

Improve integration tests
8a09aba2
--de328b25	2015-01-06T03:24:44+03:00	ZyX	kp-pav@yandex.ru	Make VimVarHandler a new style class

Python-2.6 emits some strange problem:

    TypeError: super() argument 1 must be type, not classobj

. This means that in Python-2.6 `logging.Handler` is an old style class.

Ref http://stackoverflow.com/questions/1713038.
de328b25
1	1	powerline/vim.py

--733b09f7	2015-01-06T02:53:58+03:00	ZyX	kp-pav@yandex.ru	Revert "Add tagbar plugin tests": don’t know how to make it work

This reverts commit fb652d5126534f4a881473b9af5ad8db6b62dc53.

733b09f7
0	26	tests/test_tagbar_plugin.vim

--fb652d51	2015-01-06T01:38:45+03:00	ZyX	kp-pav@yandex.ru	Add tagbar plugin tests

fb652d51
26	0	tests/test_tagbar_plugin.vim

--548e330f	2015-01-06T01:13:48+03:00	ZyX	kp-pav@yandex.ru	Add NERDTree tests

548e330f
11	0	tests/test_nerdtree_plugin.vim
9	0	tests/vim_utils.vim

--2bd25d79	2015-01-06T01:04:49+03:00	ZyX	kp-pav@yandex.ru	Test Command-T plugin

2bd25d79
17	0	tests/test_commandt_plugin.vim

--d8307b03	2015-01-06T00:02:03+03:00	ZyX	kp-pav@yandex.ru	Create tests for CtrlP

d8307b03
9	0	tests/install.sh
18	0	tests/setup_statusline_catcher.py
17	0	tests/test_ctrlp_plugin.vim
78	0	tests/vim_utils.vim

--aa456e41	2015-01-05T23:53:37+03:00	ZyX	kp-pav@yandex.ru	Fix error present when trying to use CtrlP

Ref #1244

aa456e41
1	1	powerline/segments/vim/plugin/ctrlp.py

--e1e591fe	2015-01-05T23:52:18+03:00	ZyX	kp-pav@yandex.ru	Improve error reporting: do not fail on one segment in theme.py

e1e591fe
24	0	powerline/segment.py
15	3	powerline/theme.py

--dbc99488	2015-01-05T23:43:36+03:00	ZyX	kp-pav@yandex.ru	Also set prefix when processing segments in parsed_segments list

dbc99488
1	0	powerline/theme.py

--1c1d33db	2015-01-05T23:33:06+03:00	ZyX	kp-pav@yandex.ru	Create a way to log to the list in Vim

1c1d33db
6	0	docs/source/configuration/local.rst
2	0	docs/source/configuration/reference.rst
9	1	powerline/__init__.py
33	1	powerline/vim.py

--d51a5022	2015-01-03T00:19:20+03:00	ZyX	kp-pav@yandex.ru	Use $ROOT in place of $PWD in run_vim_tests, set $PYTHONPATH

Checking whether this fixes Python-2.6 build failure

d51a5022
10	3	tests/run_vim_tests.sh

--6b89c8e3	2015-01-03T00:07:07+03:00	ZyX	kp-pav@yandex.ru	Preserve old value of LD_LIBRARY_PATH

6b89c8e3
1	1	tests/install.sh
1	1	tests/test.sh

--e86ec8bf	2015-01-03T00:04:11+03:00	ZyX	kp-pav@yandex.ru	Make sure not to add colon unless required

e86ec8bf
1	1	tests/test.sh

--375a1698	2015-01-02T23:43:35+03:00	ZyX	kp-pav@yandex.ru	Install bc as it is required by test_shells/test.sh

375a1698
1	1	tests/install.sh

--c9e1dd8b	2015-01-02T22:46:43+03:00	ZyX	kp-pav@yandex.ru	Check whether specifying python==UCS2_PYTHON_VARIANT fixes Vim problem

c9e1dd8b
4	2	.travis.yml

--c7fe5dbb	2015-01-02T21:31:39+03:00	ZyX	kp-pav@yandex.ru	Use `set -e` for testing shells

c7fe5dbb
1	0	tests/test_shells/test.sh

--c01cc356	2015-01-02T17:45:09+03:00	ZyX	kp-pav@yandex.ru	Do not double-check exceptions

c01cc356
0	6	powerline/bindings/zsh/__init__.py

--4eb6ec85	2015-01-02T17:44:26+03:00	ZyX	kp-pav@yandex.ru	Also make sure that get_var_config uses unicode values

4eb6ec85
1	1	powerline/bindings/zsh/__init__.py

--3f5cedbb	2015-01-02T15:46:10+03:00	ZyX	kp-pav@yandex.ru	Make sure that mode value from zpython bindings is unicode

3f5cedbb
2	2	powerline/bindings/zsh/__init__.py

--9374d135	2015-01-02T15:02:13+03:00	ZyX	kp-pav@yandex.ru	Do not install pyuv watcher in Python-2.6

If pyuv watcher is installed then powerline.lib.vcs tests do not pass because
pyuv is missing notify events and INotify watcher is not available.

Ref #1041

9374d135
9	0	tests/install.sh

--6a339a3a	2015-01-02T13:40:04+03:00	ZyX	kp-pav@yandex.ru	Install built fish

6a339a3a
3	0	tests/install.sh
2	0	tests/test.sh

--f311f75d	2015-01-02T00:04:43+03:00	ZyX	kp-pav@yandex.ru	Install libssl1.0.0

Should be required for Python sha256 hash to work. Actually it should be
installed already.

f311f75d
1	0	tests/install.sh

--f2fd9206	2015-01-02T03:43:57+03:00	ZyX	kp-pav@yandex.ru	Add support for testing zsh with zpython bindings

f2fd9206
4	0	tests/test.sh
28	10	tests/test_shells/input.zsh
11	0	tests/test_shells/test.sh
4	4	tests/test_shells/zsh.daemon.ok
4	4	tests/test_shells/zsh.nodaemon.ok
4	4	tests/test_shells/{zsh.daemon.ok => zsh.zpython.ok}

--2be849de	2014-12-13T14:21:57+03:00	ZyX	kp-pav@yandex.ru	Add support for modes to zpython bindings

2be849de
6	0	powerline/bindings/zsh/__init__.py

--696793a8	2015-01-02T03:43:37+03:00	ZyX	kp-pav@yandex.ru	Remove inconsistent ShellPowerline.theme_option attribute

Other overrides are accessed via ShellPowerline.args.

696793a8
2	3	powerline/shell.py

--0898a692	2014-12-13T14:12:22+03:00	ZyX	kp-pav@yandex.ru	Add `powerline-reload-config` command

0898a692
5	0	powerline/bindings/zsh/__init__.py
5	0	powerline/bindings/zsh/powerline.zsh

--029dc92d	2014-12-13T14:11:38+03:00	ZyX	kp-pav@yandex.ru	Fix zpython overrides

029dc92d
2	1	powerline/bindings/zsh/__init__.py
27	7	powerline/lib/__init__.py

--7181c1d9	2014-12-13T13:42:46+03:00	ZyX	kp-pav@yandex.ru	Move some functions to powerline.lib.dict

Moved functions: `merge*` from `powerline.lib` and `mergeargs` from
`powerline.commands.main`.

7181c1d9
1	1	powerline/__init__.py
2	10	powerline/commands/main.py
1	1	powerline/ipython.py
1	43	powerline/lib/__init__.py
55	0	powerline/lib/dict.py
1	1	powerline/lint/__init__.py
1	1	powerline/shell.py
1	1	powerline/vim.py
1	1	tests/test_config_merging.py
2	1	tests/test_lib.py

--9ae76a99	2014-12-10T08:36:27+03:00	ZyX	kp-pav@yandex.ru	Use UCS2 Python versions for running tests

9ae76a99
6	0	.travis.yml
21	8	tests/install.sh
4	0	tests/run_vim_tests.sh
12	1	tests/test.sh
1	0	tests/test_shells/test.sh
1	1	tests/test_watcher.py

--ef3acefd	2014-12-09T21:26:37+03:00	ZyX	kp-pav@yandex.ru	Only run Vim tests if PYTHON_IMPLEMENTATION is CPython

ef3acefd
3	0	tests/run_vim_tests.sh

--f5e9ec38	2014-12-09T19:57:12+03:00	ZyX	kp-pav@yandex.ru	Use old Vim for tests, perform sanity test with empty &encoding

f5e9ec38
32	3	tests/run_vim_tests.sh
32	0	tests/test_empty_encoding.old.vim

--c79adfa6	2014-12-09T19:56:20+03:00	ZyX	kp-pav@yandex.ru	Support old Vims without +multibyte

c79adfa6
30	4	powerline/bindings/vim/__init__.py
2	2	powerline/renderers/vim.py
2	4	powerline/vim.py

--5d6caaee	2014-12-09T19:20:46+03:00	ZyX	kp-pav@yandex.ru	Use compiled Vim binaries for Vim tests

Part 1: use latest single-python Vim builds

5d6caaee
5	3	tests/run_vim_tests.sh

--104cea9a	2014-12-09T18:37:28+03:00	ZyX	kp-pav@yandex.ru	Install binary dependencies from powerline/deps

104cea9a
9	8	.travis.yml
16	23	tests/install.sh

--e3ee4ef9	2014-12-28T23:53:59+03:00	ZyX	kp-pav@yandex.ru	Merge pull request #1233 into develop

e3ee4ef9
--ff10b9e8	2014-12-28T23:51:45+03:00	ZyX	kp-pav@yandex.ru	Fix tests: handle must not be saved to .watches until it was started

Otherwise .is_watching() method does not return valid results.
ff10b9e8
1	1	powerline/lib/watcher/uv.py

--eb9c1409	2014-12-28T23:50:45+03:00	ZyX	kp-pav@yandex.ru	Readd support for 0.x

eb9c1409
22	3	powerline/lib/watcher/uv.py

--f9e4d0e4	2014-12-25T02:55:02+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1240 from AirbornePorcine/develop

Use status_delimiter as split character
f9e4d0e4
--7cfe347f	2014-12-23T16:43:11-07:00	Paul Kirby	pkirby@matrix-solutions.com	Use status_delimiter as split character

Newlines are not being used as a status delimiter in the applescript above, so don't use them.
7cfe347f
1	1	powerline/segments/common/players.py

--3474c0da	2014-12-12T09:44:31+01:00	Saúl Ibarra Corretgé	saghul@gmail.com	pyuv: adapt to 1.x API changes

3474c0da
3	6	powerline/lib/watcher/uv.py

--36737867	2014-12-12T09:41:53+01:00	Saúl Ibarra Corretgé	saghul@gmail.com	pyuv: make stopping the loop thread-safe

36737867
6	2	powerline/lib/watcher/uv.py

--f34ab66e	2014-12-11T21:27:05+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1226 from gladiac/cflags

Honor CFLAGS
f34ab66e
--e373b36d	2014-12-09T09:32:05+01:00	Andreas Schneider	asn@cryptomilk.org	setup: Honor CFLAGS set as environment variable

Distributions normally have their preferred set of CFLAGS so the
binaries are optimized and include debug symbols to create a debuginfo
package. For this we need to be able to set the CFLAGS via the
commandline and the setup.py should forward them to the compiler.

Signed-off-by: Andreas Schneider <asn@cryptomilk.org>

e373b36d
5	1	setup.py

--c3d4934c	2014-12-09T21:17:46+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1231 from ZyX-I/fix-1225

Some Vims that have vim.vvars do not accept unicode indexes
c3d4934c
--267ea058	2014-12-09T19:18:08+03:00	ZyX	kp-pav@yandex.ru	Some Vims that have vim.vvars do not accept unicode indexes

Fixes #1225

267ea058
1	1	powerline/bindings/vim/__init__.py

--35a83cac	2014-12-09T19:13:40+03:00	ZyX	kp-pav@yandex.ru	Merge commit 'HEAD@{1}' into develop

35a83cac
--bb3295d2	2014-12-09T19:13:31+03:00	ZyX	kp-pav@yandex.ru	Fix typo in battery segment implementation

Fixes #1229
bb3295d2
1	1	powerline/segments/common/bat.py

--3fadacae	2014-12-08T21:53:00+03:00	ZyX	kp-pav@yandex.ru	Merge commit 'HEAD@{1}' into develop

3fadacae
--6f999cb2	2014-12-08T21:52:54+03:00	ZyX	kp-pav@yandex.ru	Update list of supported python implementations in installation.rst

6f999cb2
2	2	docs/source/installation.rst

--5cfbcd48	2014-12-08T21:34:35+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1224 from ZyX-I/pypy3

Enable pypy3 tests
5cfbcd48
--9e454235	2014-12-08T21:15:39+03:00	ZyX	kp-pav@yandex.ru	Skip testing cpu_load_percent if psutil module is not available

9e454235
4	0	tests/test_segments.py

--c617dbe6	2014-12-08T20:00:46+03:00	ZyX	kp-pav@yandex.ru	Fall back to getuid if geteuid is not available

It appears to be missing in PyPy3
c617dbe6
6	1	powerline/segments/common/env.py

--8ae3d2ae	2014-12-08T08:42:08+03:00	ZyX	kp-pav@yandex.ru	Fix typo in install.sh

8ae3d2ae
1	1	tests/install.sh

--1871d458	2014-12-08T08:41:46+03:00	ZyX	kp-pav@yandex.ru	Enable pypy3 tests

1871d458
1	0	.travis.yml

--6633f27a	2014-12-08T08:37:39+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1223 from ZyX-I/move-powerline

Update various URLs: powerline has moved to github.com/powerline
6633f27a
--4a6445b2	2014-12-08T08:37:35+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1222 from ZyX-I/update-themes

Add unicode-7.0 theme and some small theme fixes
4a6445b2
--db5d87f9	2014-12-07T16:08:24+03:00	ZyX	kp-pav@yandex.ru	Update various URLs: powerline has moved to github.com/powerline

db5d87f9
4	5	CONTRIBUTING.rst
1	1	LICENSE
12	12	README.rst
4	4	docs/source/installation.rst
3	3	docs/source/installation/linux.rst
2	2	docs/source/installation/osx.rst
2	2	docs/source/license-and-credits.rst
1	1	docs/source/powerline_automan.py
3	3	docs/source/troubleshooting.rst
1	1	docs/source/troubleshooting/osx.rst
1	1	docs/source/usage/other.rst
2	2	setup.py

--cd4cae83	2014-12-07T03:20:03+03:00	ZyX	kp-pav@yandex.ru	Mention powerline_unicode7 in documentation

cd4cae83
1	0	docs/source/configuration/reference.rst

--38da7bb6	2014-12-06T19:32:04+03:00	ZyX	kp-pav@yandex.ru	Make all modes have equal width in all themes

38da7bb6
7	7	powerline/config_files/themes/ascii.json
7	7	powerline/config_files/themes/powerline.json
7	7	powerline/config_files/themes/unicode.json
7	7	powerline/config_files/themes/unicode_terminus.json

--0457ef40	2014-12-06T19:29:16+03:00	ZyX	kp-pav@yandex.ru	Alias `blustery` to `windy` and not `foggy`

0457ef40
1	1	powerline/segments/common/wthr.py

--e969f43f	2014-12-06T19:28:58+03:00	ZyX	kp-pav@yandex.ru	Add troubleshooting question about powerline_unicode7 player symbols

e969f43f
38	0	docs/source/troubleshooting/linux.rst

--f4c4c1e6	2014-12-06T19:15:40+03:00	ZyX	kp-pav@yandex.ru	Add theme with unicode-7.0 symbols

- All powerline symbols, except for dividers, were replaced with Unicode ones,
  mostly from Unicode-7.0.
- Player statuses are using U+23Fx symbols. I have found it only in Symbola font
  though, so one may need to tell fontconfig to use it using something like

      <?xml version="1.0"?>
      <!DOCTYPE fontconfig SYSTEM "fonts.dtd">

      <fontconfig>
      	<alias>
      		<family>Terminus</family>
      		<prefer><family>Symbola</family></prefer>
      	</alias>
      </fontconfig>

- Modified indicator is using two characters: floppy disk and diacritics
  character that crosses it (WHITE HARD SHELL FLOPPY DISK + COMBINING REVERSE 
  SOLIDUS OVERLAY). It is not always displayed correctly.
- Vim cannot currently correctly handle Unicode-7.0 characters. [See this
  thread][1].
- `powerline.segments.vim.mode` got strings with identical width.

[1]: https://groups.google.com/forum/#!topic/vim_dev/zgY0r9UbKT4
f4c4c1e6
156	0	powerline/config_files/themes/powerline_unicode7.json

--d2a1106c	2014-12-06T17:08:41+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1206 from ZyX-I/fbterm-support

Add support for fbterm
d2a1106c
--033422af	2014-12-06T16:53:00+03:00	ZyX	kp-pav@yandex.ru	Add tests for various shell escapes variants

033422af
108	0	tests/test_configuration.py

--3a175fec	2014-12-06T15:57:42+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1221 from ZyX-I/fix-lib-unicode

Fix some issues in powerline.lib.unicode
3a175fec
--7a6fc1ed	2014-12-06T15:05:46+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1219 from ZyX-I/limit-abstract-sockets-usage

Use sockets in abstract namespace only if running on linux
7a6fc1ed
--b80da891	2014-12-06T15:02:07+03:00	ZyX	kp-pav@yandex.ru	Add documentation for `register_strwidth_error` and `string` functions

b80da891
35	0	powerline/lib/unicode.py

--158b6d01	2014-12-06T15:01:14+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1220 from ZyX-I/fix-higher-unicode

Fix higher unicode characters
158b6d01
--f697d9ef	2014-12-06T14:48:31+03:00	ZyX	kp-pav@yandex.ru	Make FailedUnicode summary not too lengthy

f697d9ef
1	2	powerline/lib/unicode.py

--8707f35b	2014-12-06T14:47:53+03:00	ZyX	kp-pav@yandex.ru	Fix safe_unicode and string unicode library functions

8707f35b
10	0	powerline/lib/unicode.py
0	2	tests/test_lib.py

--87ca9bca	2014-12-06T14:38:42+03:00	ZyX	kp-pav@yandex.ru	Make unichr() work with characters above U+10000 in UCS-2 builds

87ca9bca
11	0	powerline/lib/unicode.py
0	1	tests/test_lib.py

--305b65f3	2014-12-06T14:23:21+03:00	ZyX	kp-pav@yandex.ru	Fix regex that searches for non-printable characters

305b65f3
7	3	powerline/lint/markedjson/error.py

--f0f6efcd	2014-12-06T00:52:17+03:00	ZyX	kp-pav@yandex.ru	Also have uname in $PATH

Travis uses Ubuntu, Ubuntu is debian-based and debian uses dash as /bin/sh, so 
$OSTYPE is not available.
.
f0f6efcd
1	0	tests/test_shells/test.sh

--aaf52c92	2014-12-06T00:05:25+03:00	ZyX	kp-pav@yandex.ru	Use sockets in abstract namespace only if running on linux

Also adds fallback to shell client which uses `uname -o` in place of `ostype`.

Closes #1215
aaf52c92
4	4	client/powerline.c
1	3	client/powerline.py
22	3	client/powerline.sh
1	2	scripts/powerline-daemon

--432cc503	2014-12-05T23:46:40+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1217 from ZyX-I/ucs-2-python

Add support for UCS-2 Python builds
432cc503
--ad998cfd	2014-12-05T23:18:24+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1218 from ZyX-I/fix-1214

Fix tmux colors and alignment
ad998cfd
--f8270a8e	2014-12-05T23:15:52+03:00	ZyX	kp-pav@yandex.ru	Skip some functions’ tests as they are buggy

They are buggy, but fixing them is out of the scope of this PR.
f8270a8e
2	0	tests/test_lib.py

--cdfe6f03	2014-12-05T23:09:21+03:00	ZyX	kp-pav@yandex.ru	Add support for running tests with debug Python versions

They are failing due to `[NNNN refs]` entries in daemon log and when switching 
modes in zsh without daemon, but who cares.
cdfe6f03
3	0	tests/test_shells/postproc.py
3	0	tests/test_shells/test.sh

--df14aaaa	2014-12-05T00:31:13+03:00	ZyX	kp-pav@yandex.ru	Add tests for unicode module

Note: east_asian_width does not accept surrrogate pairs in UCS-4 Python builds.

df14aaaa
100	1	tests/test_lib.py

--531d3e60	2014-12-05T22:24:13+03:00	ZyX	kp-pav@yandex.ru	Fix code: unichr on UCS-2 builds cannot emit surrogate pairs

531d3e60
1	5	powerline/lib/unicode.py

--6dc585b7	2014-12-04T23:56:40+03:00	ZyX	kp-pav@yandex.ru	Move strwidth function variants to powerline.lib.unicode

They can be tested thus.

6dc585b7
96	0	powerline/lib/unicode.py
5	31	powerline/renderer.py

--f3c84130	2014-12-04T22:57:15+03:00	ZyX	kp-pav@yandex.ru	Add a warning about UCS-2 builds to the documentation

f3c84130
9	0	docs/source/installation.rst

--b5b033d5	2014-12-04T22:43:46+03:00	ZyX	kp-pav@yandex.ru	Fix width calculations when using UCS-2 Python

b5b033d5
29	2	powerline/renderer.py

--9576738b	2014-12-04T22:34:00+03:00	ZyX	kp-pav@yandex.ru	When parsing JSON join surrogate pairs

Also closes #1211
9576738b
6	0	powerline/lib/unicode.py
26	3	powerline/lint/markedjson/scanner.py

--52f3c838	2014-12-04T21:44:33+03:00	ZyX	kp-pav@yandex.ru	Also add spaces to the end of the `window-status-format`

52f3c838
1	1	powerline/bindings/tmux/powerline-base.conf

--8d10664c	2014-12-04T21:42:48+03:00	ZyX	kp-pav@yandex.ru	In place of hardcoding spaces compute them

8d10664c
2	0	powerline/bindings/config.py
1	1	powerline/bindings/tmux/powerline-base.conf

--1e4dee6e	2014-12-04T21:26:01+03:00	ZyX	kp-pav@yandex.ru	Fix colors used in tmux left side

Fixes #1214
1e4dee6e
2	2	powerline/config_files/colorschemes/tmux/default.json

--f37efeac	2014-12-04T21:14:13+03:00	ZyX	kp-pav@yandex.ru	lint: Do not allow non-printable characters in configuration

f37efeac
7	7	powerline/lint/__init__.py
10	2	powerline/lint/markedjson/error.py
1	6	powerline/lint/markedjson/markedvalue.py
2	2	powerline/lint/markedjson/reader.py
30	1	powerline/lint/spec.py

--2656953f	2014-12-04T20:39:12+03:00	ZyX	kp-pav@yandex.ru	Move some calculations into a separate function

Also moves non-printable character translation *before* width calculations which
is correct.

2656953f
11	5	powerline/renderer.py

--3779ec5b	2014-12-04T20:30:53+03:00	ZyX	kp-pav@yandex.ru	Read the whole stream at once, not just 4096 characters

This may cause problems in case UTF-8 was read partially. Dunno how this code
survived in pyyaml.

3779ec5b
6	1	powerline/lint/markedjson/reader.py

--209d6be9	2014-12-04T20:23:37+03:00	ZyX	kp-pav@yandex.ru	Add support for UCS-2 Python versions

Fixes #1213

209d6be9
19	1	powerline/lint/markedjson/error.py
77	20	powerline/renderer.py

--61f05429	2014-12-03T08:26:40+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1210 from ZyX-I/fix-1207

Only convert clementine title and album if they are true
61f05429
--d061deb7	2014-12-03T07:45:49+03:00	ZyX	kp-pav@yandex.ru	Only convert clementine title and album if they are true

It appears that at least album may be None.

Fixes #1207
d061deb7
6	2	powerline/segments/common/players.py

--16ffd106	2014-12-03T07:30:16+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1208 from gladiac/shebang

lib: Remove wrong shebang from debug.py.
16ffd106
--9281f4a6	2014-12-02T20:39:21+01:00	Andreas Schneider	asn@cryptomilk.org	lib: Remove wrong shebang from debug.py.

9281f4a6
0	1	powerline/lib/debug.py

--af9420b8	2014-12-01T08:19:25+03:00	ZyX	kp-pav@yandex.ru	Mark term_escape_style setting as optional

af9420b8
1	1	powerline/lint/__init__.py

--97816440	2014-12-01T00:58:55+03:00	ZyX	kp-pav@yandex.ru	Merge commit 'HEAD@{1}' into develop

97816440
--e8a53ebd	2014-12-01T00:58:48+03:00	ZyX	kp-pav@yandex.ru	Fix typo in capslock_indicator docstring

e8a53ebd
1	1	powerline/segments/vim/plugin/capslock.py

--aeba94b0	2014-12-01T00:57:29+03:00	ZyX	kp-pav@yandex.ru	Add support for fbterm

No tests yet, also no tests for term_truecolor.
aeba94b0
23	0	docs/source/configuration/reference.rst
1	0	docs/source/usage.rst
2	0	powerline/__init__.py
1	0	powerline/lint/__init__.py
2	2	powerline/renderer.py
26	2	powerline/renderers/shell/__init__.py

--88c5f400	2014-11-30T19:34:37+03:00	ZyX	kp-pav@yandex.ru	Merge commit 'HEAD@{1}' into develop

88c5f400
--1af127b0	2014-11-30T19:34:27+03:00	ZyX	kp-pav@yandex.ru	CommandT has moved finders under CommandT::Finder module, respect this

1af127b0
5	1	powerline/segments/vim/plugin/commandt.py

--4618dab2	2014-11-30T04:27:02+03:00	ZyX	kp-pav@yandex.ru	Merge branch 'replace-1151' into develop

4618dab2
--ebe5fca3	2014-11-30T04:26:04+03:00	ZyX	kp-pav@yandex.ru	Reorder pip arguments in installation documentation

`--editable`/`-e` pip argument is accepting an argument, not specifying the
action.

ebe5fca3
1	1	docs/source/installation.rst

--3fc81358	2014-11-30T04:20:09+03:00	ZyX	kp-pav@yandex.ru	Merge branch 'powerline-release-forcepush' into develop

3fc81358
--88233184	2014-11-30T04:02:56+03:00	ZyX	kp-pav@yandex.ru	Force push to my fork of the overlay

88233184
1	1	scripts/powerline-release.py

--fe3b8a41	2014-11-30T03:50:41+03:00	ZyX	kp-pav@yandex.ru	Merge branch 'powerline-release-merge' into develop

fe3b8a41
--c9964a12	2014-11-30T03:46:30+03:00	ZyX	kp-pav@yandex.ru	Use `git mergetool` after error because `-c merge.tool` does not work

c9964a12
5	2	scripts/powerline-release.py

--508f8f5e	2014-11-30T03:42:17+03:00	ZyX	kp-pav@yandex.ru	Supply merge.tool option when merging

508f8f5e
1	1	scripts/powerline-release.py

--4624a1dc	2014-11-30T03:23:18+03:00	ZyX	kp-pav@yandex.ru	Merge commit 'HEAD@{1}' into develop

4624a1dc
--a9aef12c	2014-11-30T03:23:12+03:00	ZyX	kp-pav@yandex.ru	Remove unused test files

a9aef12c
0	4	tests/test_shells/input.tmux
0	2	tests/test_shells/tmux.conf

--bf8f4a14	2014-11-30T03:13:41+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1203 from ZyX-I/cache-tagbar

Add more precise caching for tagbar segment
bf8f4a14
--f7d7e274	2014-11-30T01:52:20+03:00	ZyX	kp-pav@yandex.ru	Implement caching for tagbar segment

Ref #700

f7d7e274
20	4	powerline/segments/vim/plugin/tagbar.py

--2304242c	2014-11-30T01:35:10+03:00	ZyX	kp-pav@yandex.ru	Remove unused code

2304242c
0	5	powerline/segments/vim/__init__.py

--8560e926	2014-11-30T01:29:38+03:00	ZyX	kp-pav@yandex.ru	Move code for checking existence and getting funcs into vim bindings

8560e926
24	2	powerline/bindings/vim/__init__.py
3	2	powerline/segments/vim/plugin/syntastic.py
12	7	powerline/segments/vim/plugin/tagbar.py
5	3	tests/vim.py

--7caf14f2	2014-11-30T00:37:40+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1202 from ZyX-I/fix-1051

Use dash hack for PyPy+IPython
7caf14f2
--1707f083	2014-11-30T00:30:35+03:00	ZyX	kp-pav@yandex.ru	Modify postproc to make pypy tests work

Note: modification to test.sh is there because if running test outside of 
a virtualenv postproc.py will behave incorrectly.
1707f083
27	0	tests/test_shells/postproc.py
1	1	tests/test_shells/test.sh

--3f0d5385	2014-11-29T21:40:06+03:00	ZyX	kp-pav@yandex.ru	Use dash hack for PyPy+IPython

Fixes #1051
Closes #919 (I hope so)
3f0d5385
0	2	tests/run_shell_tests.sh
7	1	tests/test_shells/test.sh

--b2c1bb9c	2014-11-29T20:58:29+03:00	ZyX	kp-pav@yandex.ru	Merge commit 'HEAD@{1}' into develop

b2c1bb9c
--aa18247f	2014-11-29T20:57:59+03:00	ZyX	kp-pav@yandex.ru	Add note about 70-no-bitmaps.conf fontconfig configuration file

Closes #1152
aa18247f
11	0	docs/source/troubleshooting/linux.rst

--3a3cc9b4	2014-11-29T20:15:20+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1200 from ZyX-I/tmux-colors

Obtain tmux colors and dividers from the configuration
3a3cc9b4
--0e814864	2014-11-29T19:29:36+03:00	ZyX	kp-pav@yandex.ru	Do not hardcode dividers in tmux configuration, use powerline-config

Fixes #817

0e814864
4	0	powerline/bindings/config.py
3	3	powerline/bindings/tmux/powerline-base.conf
1	1	powerline/bindings/tmux/powerline_tmux_1.8_plus.conf

--51469788	2014-11-29T19:22:25+03:00	ZyX	kp-pav@yandex.ru	Refactor some calls to run_tmux_command into a new function

51469788
8	21	powerline/bindings/config.py
16	0	powerline/bindings/tmux/__init__.py

--1348472f	2014-11-29T19:14:27+03:00	ZyX	kp-pav@yandex.ru	Rename setcolors to setenv, add documentation

1348472f
3	1	powerline/bindings/config.py
1	1	powerline/bindings/tmux/powerline.conf
2	2	powerline/commands/config.py

--d62336f7	2014-11-29T19:08:59+03:00	ZyX	kp-pav@yandex.ru	Add a way to specify configuration paths to powerline-config

One still cannot override various configuration options from the command-line.

d62336f7
3	2	powerline/bindings/config.py
1	0	powerline/commands/config.py
16	0	powerline/tmux.py
4	0	tests/test_shells/input.tmux
2	0	tests/test_shells/tmux.conf

--f3ba38e5	2014-11-29T13:32:54+03:00	ZyX	kp-pav@yandex.ru	Move all configuration to powerline-base.conf

Reasoning: for some reason it does not work after `powerline-config tmux
setcolors`.

Fixes #717

f3ba38e5
2	2	powerline/bindings/config.py
0	8	powerline/bindings/tmux/{powerline.conf => powerline-base.conf}
0	11	powerline/bindings/tmux/powerline.conf

--e6fc2911	2014-08-23T02:47:26+04:00	ZyX	kp-pav@yandex.ru	Get color configuration from variables exported by setcolors

e6fc2911
79	1	powerline/bindings/config.py
4	5	powerline/bindings/tmux/powerline.conf
1	1	powerline/bindings/tmux/powerline_tmux_1.8.conf
7	7	powerline/bindings/tmux/powerline_tmux_1.8_minus.conf
1	1	powerline/bindings/tmux/powerline_tmux_1.8_plus.conf
5	5	powerline/bindings/tmux/powerline_tmux_1.9_plus.conf
1	0	powerline/commands/config.py
7	0	powerline/config_files/colors.json
1	0	powerline/config_files/colorschemes/default.json
14	0	powerline/config_files/colorschemes/tmux/default.json
21	15	powerline/renderers/tmux.py

--ddac11a6	2014-11-28T23:16:55+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1198 from ZyX-I/fix-shell-unicode-error

Fix shell unicode error when current directory name is not ASCII
ddac11a6
--c8286e96	2014-11-28T23:03:06+03:00	ZyX	kp-pav@yandex.ru	Fix tcsh escaping

`!` gets expanded to the prompt count, so it needs to be escaped.
c8286e96
1	0	powerline/renderers/shell/tcsh.py

--c949f4ce	2014-11-28T23:02:12+03:00	ZyX	kp-pav@yandex.ru	Output list of failed shell tests

c949f4ce
11	2	tests/test_shells/test.sh

--c81ef95c	2014-11-28T23:01:19+03:00	ZyX	kp-pav@yandex.ru	Use newline for dash, not CR

c81ef95c
5	1	tests/test_shells/test.sh

--5c75bef1	2014-11-28T22:58:53+03:00	ZyX	kp-pav@yandex.ru	Add integration tests for unicode directory names

5c75bef1
3	2	tests/test_shells/bash.daemon.ok
3	2	tests/test_shells/bash.nodaemon.ok
3	2	tests/test_shells/busybox.daemon.ok
3	2	tests/test_shells/busybox.nodaemon.ok
3	2	tests/test_shells/dash.daemon.ok
3	2	tests/test_shells/dash.nodaemon.ok
8	7	tests/test_shells/fish.ok
1	0	tests/test_shells/input.bash
1	0	tests/test_shells/input.busybox
1	0	tests/test_shells/input.dash
1	0	tests/test_shells/input.fish
1	0	tests/test_shells/input.mksh
1	0	tests/test_shells/input.tcsh
1	0	tests/test_shells/input.zsh
3	2	tests/test_shells/mksh.daemon.ok
3	2	tests/test_shells/mksh.nodaemon.ok
4	0	tests/test_shells/screenrc
1	0	tests/test_shells/tcsh.ok
1	0	tests/test_shells/test.sh
2	1	tests/test_shells/zsh.daemon.ok
2	1	tests/test_shells/zsh.nodaemon.ok

--7b895332	2014-11-28T21:33:17+03:00	ZyX	kp-pav@yandex.ru	Fix UnicodeDecodeError in keyvaluesplit reported by @jottr

Ref #788
7b895332
15	3	powerline/commands/main.py
15	0	powerline/lib/encoding.py
11	2	powerline/renderer.py

--386d0f0d	2014-11-28T20:51:02+03:00	ZyX	kp-pav@yandex.ru	Merge branch 'troubleshooting' into develop

386d0f0d
--774ec6dd	2014-11-28T20:37:53+03:00	ZyX	kp-pav@yandex.ru	Add note about pip and $PATH

Closes #1189
774ec6dd
10	0	docs/source/troubleshooting.rst

--f1399dc5	2014-11-28T20:31:24+03:00	ZyX	kp-pav@yandex.ru	Add information about tmux green bar

f1399dc5
45	34	docs/source/troubleshooting.rst

--410dccd8	2014-11-28T20:25:07+03:00	ZyX	kp-pav@yandex.ru	Add warning about additional_escapes option

410dccd8
9	0	docs/source/troubleshooting.rst

--ef0e5039	2014-11-22T23:05:19+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1188 from ZyX-I/zsh-ZLE_PROMPT_INDENT

Support ZLE_RPROMPT_INDENT
ef0e5039
--b23ea832	2014-11-22T22:53:42+03:00	ZyX	kp-pav@yandex.ru	Support ZLE_RPROMPT_INDENT

Fixes #1145
b23ea832
5	1	powerline/bindings/zsh/__init__.py
1	1	powerline/bindings/zsh/powerline.zsh

--4bb4c3f5	2014-11-18T23:36:01+03:00	ZyX	kp-pav@yandex.ru	Merge commit 'HEAD@{1}' into develop

4bb4c3f5
--9fbd2560	2014-11-18T23:35:46+03:00	ZyX	kp-pav@yandex.ru	Update documentation regarding `powerline-status`

9fbd2560
2	3	docs/source/installation/linux.rst
2	3	docs/source/installation/osx.rst

--6b6245c5	2014-11-11T01:15:28+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1147 from ZyX-I/fix-1146

Use different fallback for old Vims
6b6245c5
--8afb35bd	2014-11-11T00:57:18+03:00	ZyX	kp-pav@yandex.ru	Use different fallback for old Vims

Reasoning: currently used fallback works well only if relatively recent patches 
are there: specifically the one that transforms Vim errors to Python exceptions.

This variant should work in any case, but it has a downside: it does not test 
whether function exists, it tests whether argument given to vim_func_exists 
denote some callable object (which may as well be global variable with the same 
name). When it comes to CapsLockStatusline I do not care much as I am using 
`vim.eval` to call it and not saving reference to this function somewhere.

Fixes #1146
8afb35bd
1	1	powerline/bindings/vim/__init__.py

--a6ba63a8	2014-11-10T01:19:08+03:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1144 from ZyX-I/vim-plugins

Add support for csv and capslock and Command-T vim plugins
a6ba63a8
--b845cc25	2014-11-10T01:08:37+03:00	ZyX	kp-pav@yandex.ru	Fix tests on python-2.6

csv module does not appear to work will with multiline strings in csv, 
especially incomplete.
b845cc25
24	4	powerline/segments/vim/__init__.py
2	0	tests/test_segments.py

--90ed3283	2014-11-10T00:40:12+03:00	ZyX	kp-pav@yandex.ru	Change powerline.segments.vim to not import *from* csv

One cannot really tell what are things like `Sniffer` or `reader`. It is better 
to use `csv` module directly rather than write `from csv import reader as 
csv_reader`.
90ed3283
7	9	powerline/segments/vim/__init__.py

--c9cb856a	2014-11-10T00:35:40+03:00	ZyX	kp-pav@yandex.ru	Add support for vim_func_exists to tests/vim.py

c9cb856a
6	0	tests/vim.py

--a4fddff1	2014-11-10T00:22:37+03:00	ZyX	kp-pav@yandex.ru	Improve documentation of Command-T support code

a4fddff1
6	0	docs/source/configuration/segments/vim.rst
13	2	powerline/segments/vim/plugin/commandt.py

--8cf2a866	2014-11-09T23:52:11+03:00	ZyX	kp-pav@yandex.ru	Add support for capslock plugin

8cf2a866
6	0	docs/source/configuration/segments/vim.rst
16	0	powerline/bindings/vim/__init__.py
1	0	powerline/config_files/colorschemes/vim/__main__.json
5	0	powerline/config_files/themes/vim/default.json
30	0	powerline/segments/vim/plugin/capslock.py

--d392cf33	2014-11-09T23:11:15+03:00	ZyX	kp-pav@yandex.ru	Add support for csv files

Equivalent to airline csv Christian Brabandt plugin integration, but uses Python
own facilities.

Note: filetype detection is out of the scope of the powerline responsibilities.
      CSV is supported by powerline, but only as long as filetype detection is
      done by Vim correctly. By default CSV files are neither detected nor
      highlighted.

Some known differences between powerline code and @chrisbra plugin with
corresponding airline integration:

1. Detection work differently. I cannot say which is better because I have not
   tested it much, but it is definitely different.
2. My variant is able to detect whether there is (no) header. (Of course,
   relying on Python code.) Airline is using a setting. (Both do not allow
   manual per-filetype setting.) Of course, user can force either variant (no
   headers at all or headers always).
3. My variant makes it possible to configure header output format, including
   truncating it at 15 characters (the default).
4. CSV plugin does not work with multiline CSV items (in some dialects one can
   use code like `abc;"I<CR>am<CR>multiline<CR>string"`). See `:h csv-column` on
   how to fix this if possible (will require also changing `<sid>WColumn`
   function because currently it only works with one line).
5. AFAIK Python does not such a thing as “fixed width CSV”. Thus I do not work
   with this, but CSV plugin does. Not sure whether it is different with
   space-separated CSV files though.

d392cf33
3	0	powerline/config_files/colorschemes/vim/__main__.json
4	0	powerline/config_files/themes/vim/default.json
100	0	powerline/segments/vim/__init__.py
3	3	powerline/segments/vim/plugin/commandt.py
67	0	tests/test_segments.py

--28435f05	2014-11-08T13:19:02+03:00	ZyX	kp-pav@yandex.ru	Add support for Command-T

28435f05
13	0	powerline/bindings/vim/__init__.py
6	1	powerline/config_files/colorschemes/vim/__main__.json
1	0	powerline/config_files/config.json
26	0	powerline/config_files/themes/vim/plugin_commandt.json
11	0	powerline/matchers/vim/plugin/commandt.py
78	0	powerline/segments/vim/plugin/commandt.py
4	1	tests/test_provided_config_files.py

--7139021c	2014-11-04T16:41:25+03:00	ZyX	kp-pav@yandex.ru	Merge commit 'HEAD@{1}' into develop

7139021c
--fe3bebc6	2014-11-04T16:41:16+03:00	ZyX	kp-pav@yandex.ru	Remove some debugging prints

fe3bebc6
0	2	powerline/bindings/config.py

--491ac113	2014-10-27T08:11:49+03:00	ZyX	kp-pav@yandex.ru	Merge commit 'HEAD@{1}' into develop

491ac113
--eb0b1986	2014-10-27T08:11:07+03:00	ZyX	kp-pav@yandex.ru	Fix location of the which function

eb0b1986
1	1	setup.py

--cf01f5c9	2014-10-26T14:19:45+03:00	ZyX	kp-pav@yandex.ru	Merge commit 'HEAD@{1}' into develop

cf01f5c9
--21f332bd	2014-10-26T14:19:32+03:00	ZyX	kp-pav@yandex.ru	Fix Debian and Wheezy first letters’ case

21f332bd
1	1	docs/source/installation/linux.rst

--53880b6a	2014-10-25T22:56:28+04:00	ZyX	kp-pav@yandex.ru	Merge branch 'reference-debian-package' into develop

53880b6a
--61c2a458	2014-10-25T22:55:59+04:00	ZyX	kp-pav@yandex.ru	Reference debian powerline package

Fixes #1129
61c2a458
4	0	docs/source/installation/linux.rst

--7e766f0e	2014-10-25T22:41:04+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1134 from ZyX-I/man

Generate manual pages

Replaces #1132
7e766f0e
--1dd4269b	2014-10-25T22:24:24+04:00	ZyX	kp-pav@yandex.ru	Update powerline-release script to use live ebuild as the base

Reasoning: I am going to add man pages support to the live ebuild, but it does 
not make sense to add this to the 1.0 ebuild previously used as the base. Since 
new features will likely continue to appear in the live ebuild powerline-release 
script was modified to do the right thing under new circumstances.
1dd4269b
35	3	scripts/powerline-release.py

--9b03ff69	2014-10-25T21:53:15+04:00	ZyX	kp-pav@yandex.ru	Also add documentation for `powerline-lint`

9b03ff69
12	0	docs/source/commands/lint.rst
11	0	powerline/commands/lint.py
2	9	scripts/powerline-lint

--bed2cc8d	2014-10-25T21:42:04+04:00	ZyX	kp-pav@yandex.ru	Add new documents to the main TOC tree

bed2cc8d
9	0	docs/source/commands.rst
5	0	docs/source/index.rst

--9c57255d	2014-10-25T21:31:23+04:00	ZyX	kp-pav@yandex.ru	Add `man` documentation target

Fixes #1131

9c57255d
6	1	docs/Makefile
12	0	docs/source/commands/config.rst
12	0	docs/source/commands/daemon.rst
12	0	docs/source/commands/main.rst
20	1	docs/source/conf.py
8	0	docs/source/license-and-credits.rst
384	0	docs/source/powerline_automan.py
1	0	powerline/commands/config.py
1	1	powerline/commands/main.py

--99e531ec	2014-10-25T17:07:50+04:00	ZyX	kp-pav@yandex.ru	Make all metavars uppercased

99e531ec
3	3	powerline/commands/config.py

--e58aa8f6	2014-10-25T17:06:48+04:00	ZyX	kp-pav@yandex.ru	Improve powerline-config help and require --shell argument

e58aa8f6
16	4	powerline/commands/config.py

--fadd1eec	2014-10-25T16:00:32+04:00	ZyX	kp-pav@yandex.ru	Move all parser definitions to powerline.commands.*.get_argparser()

Reasoning: they will be easier to reach there. It will also be possible to use
specific ArgumentParser class that will just collect data for sphinx.

fadd1eec
0	0	powerline/commands/__init__.py
15	27	scripts/powerline-config => powerline/commands/config.py
15	0	powerline/commands/daemon.py
70	0	powerline/commands/main.py
2	69	powerline/shell.py
5	57	scripts/powerline-config
7	10	scripts/powerline-daemon
4	5	scripts/powerline-render
1	1	tests/test_cmdline.py

--c2425f6a	2014-10-25T14:53:07+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1133 from ZyX-I/build-version

Record git hash in dev version
c2425f6a
--4a689ad6	2014-10-25T13:06:46+04:00	ZyX	kp-pav@yandex.ru	Strip trailing newline returned by rev-parse

4a689ad6
1	1	setup.py

--2106be40	2014-10-19T00:05:51+04:00	ZyX	kp-pav@yandex.ru	Save git hex revision in powerline version string if possible

Only useful for `pip install git+git://` or `pip install /some/directory` 
installations (note: commands come without `--editable`/`-e`).
2106be40
9	1	setup.py

--f0d2f288	2014-10-18T21:38:06+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1123 from ZyX-I/weather-diagnostics

Include raw_response in error message in weather segment
f0d2f288
--1350fbe8	2014-10-18T20:28:18+04:00	ZyX	kp-pav@yandex.ru	Include raw_response in error message in weather segment

Closes #1112
Ref #1119

1350fbe8
6	1	powerline/segments/common/wthr.py

--f5b9fc24	2014-10-18T20:16:39+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1122 from ZyX-I/fix-powerline-config

Make “powerline-config” without arguments show proper message (python-3*)
f5b9fc24
--cb877e75	2014-10-18T20:01:22+04:00	ZyX	kp-pav@yandex.ru	Make `powerline-config` without arguments show proper message

In Python-3* it used to show the following:

    Traceback (most recent call last):
    File "/usr/lib/python-exec/python3.3/powerline-config", line 66, in <module>
        args.function(pl, args)
    AttributeError: 'Namespace' object has no attribute 'function'

now it shows

    usage: powerline-config [-h] {tmux,shell} ...
    powerline-config: error: too few arguments

in both python-2.7 and -3.3.

Fixes #1120.

cb877e75
9	1	scripts/powerline-config

--a96b429b	2014-10-18T19:35:37+04:00	ZyX	kp-pav@yandex.ru	Make quotes in powerline-config --help same as in powerline --help

a96b429b
2	2	scripts/powerline-config

--f293d6ff	2014-10-12T19:38:26+04:00	ZyX	kp-pav@yandex.ru	Merge branch 'fix-latex-output' into develop

f293d6ff
--b307ad78	2014-10-12T19:33:09+04:00	ZyX	kp-pav@yandex.ru	Fix default value of SPHINXBUILD variable

b307ad78
1	1	docs/Makefile

--2e1df446	2014-10-12T19:37:58+04:00	ZyX	kp-pav@yandex.ru	Update Makefile: remove unused gh-pages target and add latexpdf & help

2e1df446
12	14	docs/Makefile

--80b50733	2014-10-12T19:37:15+04:00	ZyX	kp-pav@yandex.ru	Fix latex build: make some unicode characters found in help work

80b50733
10	0	docs/source/conf.py

--b378a4c3	2014-10-12T17:08:45+04:00	ZyX	kp-pav@yandex.ru	Merge branch 'release-script-2' into develop

b378a4c3
--09ca7aa6	2014-10-12T17:04:02+04:00	ZyX	kp-pav@yandex.ru	Merge commit 'HEAD@{1}' into develop

09ca7aa6
--26664914	2014-10-12T17:03:34+04:00	ZyX	kp-pav@yandex.ru	Document pyuv problem in troubleshooting section

Closes #5463

26664914
9	0	docs/source/troubleshooting/osx.rst

--5635eea2	2014-10-12T16:54:30+04:00	ZyX	kp-pav@yandex.ru	Merge branch 'enhance-now_playing' into develop

5635eea2
--425e8f74	2014-10-12T16:53:53+04:00	ZyX	kp-pav@yandex.ru	Remove self.STATE_SYMBOLS reference: there is no such attribute

425e8f74
0	1	powerline/segments/common/players.py

--b8a4d9b0	2014-10-12T16:33:34+04:00	ZyX	kp-pav@yandex.ru	Add some workarounds for powerline-lint

b8a4d9b0
18	0	docs/source/develop/segments.rst
6	1	powerline/lint/__init__.py
17	0	powerline/lint/checks.py
17	0	powerline/segments/common/players.py

--8551e51b	2014-10-12T15:16:26+04:00	ZyX	kp-pav@yandex.ru	Prioritize now_playing highlight group, but remove it from colorscheme

Reasoning for first: backwards compatibility. If user defined `now_playing`
highlight group it is what should be used.

Reasoning for second: it is useless there. If user has defined its own group its
effect will not be affected, if he has not then there is nothing to talk about.

8551e51b
0	1	powerline/config_files/colorschemes/default.json
1	1	powerline/segments/common/players.py

--dad11972	2014-10-12T15:09:57+04:00	ZyX	kp-pav@yandex.ru	Add `"player"` segment data

dad11972
10	0	powerline/config_files/themes/ascii.json
10	0	powerline/config_files/themes/powerline.json
10	0	powerline/config_files/themes/unicode.json
10	0	powerline/config_files/themes/unicode_terminus.json
10	0	powerline/config_files/themes/unicode_terminus_condensed.json

--cdb030ec	2014-10-12T15:05:28+04:00	ZyX	kp-pav@yandex.ru	Rename highlight groups

cdb030ec
2	1	powerline/config_files/colorschemes/default.json
6	1	powerline/segments/common/players.py

--f233c1f7	2014-10-12T14:58:48+04:00	ZyX	kp-pav@yandex.ru	Fix mpd support

f233c1f7
4	2	powerline/lib/shell.py
7	2	powerline/segments/common/players.py

--a37f9092	2014-10-12T14:56:11+04:00	ZyX	kp-pav@yandex.ru	Refactor powerline.segments.common.players to use multiple functions

Also adds documentation. Still have to update top-level themes.

Fixes #445

a37f9092
6	0	powerline/lint/imp.py
238	55	powerline/segments/common/players.py

--0eeab7fd	2014-10-12T00:55:49+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1114 from ZyX-I/fix-1104

Specify $TERM in place of assuming it is set to something working
0eeab7fd
--0d3609fb	2014-10-12T00:41:06+04:00	ZyX	kp-pav@yandex.ru	Specify $TERM in place of assuming it is set to something working

Ref #1104
0d3609fb
1	1	tests/test_shells/test.sh

--218f72e7	2014-10-12T00:39:00+04:00	ZyX	kp-pav@yandex.ru	Merge commit 'HEAD@{1}' into develop

218f72e7
--d1ac624c	2014-10-12T00:36:53+04:00	ZyX	kp-pav@yandex.ru	Fix broken tests

d1ac624c
1	1	tests/test_segments.py

--7b8bcbd5	2014-10-06T08:45:33+04:00	ZyX	kp-pav@yandex.ru	Merge commit 'HEAD@{1}' into develop

7b8bcbd5
--2607fddb	2014-10-06T08:45:13+04:00	ZyX	kp-pav@yandex.ru	Fix case in nerd tree matcher regex

Fixes #1105

2607fddb
1	1	powerline/matchers/vim/plugin/nerdtree.py

--271af253	2014-09-27T18:07:04+04:00	ZyX	kp-pav@yandex.ru	Merge branch 'fix-1097' into develop

271af253
--34e3aed0	2014-09-27T18:06:53+04:00	ZyX	kp-pav@yandex.ru	Add missing argument to get_tmux_output

Fixes #1097
34e3aed0
2	2	powerline/segments/tmux.py

--a0a02bfb	2014-09-26T00:44:52+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1096 from ZyX-I/no-untracked-dirty

Add a way to not mark repo as dirty when it only has untracked files
a0a02bfb
--8b1a502f	2014-09-26T00:34:32+04:00	ZyX	kp-pav@yandex.ru	Add ignore_statuses option to branch segments

Closes #1080
8b1a502f
15	3	powerline/segments/common/vcs.py
9	1	powerline/segments/vim/__init__.py
36	0	tests/test_segments.py

--3f2aabb7	2014-09-26T00:20:58+04:00	ZyX	kp-pav@yandex.ru	Refactor Vim and common branch segments to share code

3f2aabb7
20	7	powerline/segments/common/vcs.py
15	18	powerline/segments/vim/__init__.py
31	19	tests/test_segments.py

--0ecb6136	2014-09-22T07:44:59+04:00	ZyX	kp-pav@yandex.ru	Merge branch 'lower-virtual-nics' into develop

0ecb6136
--05cb1d2d	2014-09-22T07:42:42+04:00	ZyX	kp-pav@yandex.ru	Lower the priority of various VM bridge interfaces

Closes #1094

05cb1d2d
3	0	powerline/segments/common/net.py

--b6056927	2014-09-21T17:03:30+04:00	ZyX	kp-pav@yandex.ru	Update manifests

b6056927
6	1	scripts/powerline-release.py

--8c170e28	2014-09-21T16:27:05+04:00	ZyX	kp-pav@yandex.ru	Merge branch 'release-script' into develop

8c170e28
--3929ee17	2014-09-21T16:03:59+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1093 from ZyX-I/fix-tests

Some test fixes
3929ee17
--cd2703d7	2014-09-21T16:02:52+04:00	ZyX	kp-pav@yandex.ru	powerline-python got renamed to powerline-vim

cd2703d7
1	1	scripts/powerline-release.py

--c68eb56f	2014-09-21T15:52:58+04:00	ZyX	kp-pav@yandex.ru	Raise exceptions that are not intercepted when testing

Thus problems like in #1087 will result in build failure.

c68eb56f
4	0	powerline/__init__.py
3	2	powerline/ipython.py
36	12	tests/test_provided_config_files.py

--345025ed	2014-09-21T15:51:32+04:00	ZyX	kp-pav@yandex.ru	Fix UnboundLocalError in logger exceptions handling code

345025ed
6	14	powerline/__init__.py

--679b6646	2014-09-21T15:49:00+04:00	ZyX	kp-pav@yandex.ru	Fix WM bindings tests

679b6646
2	1	tests/test_provided_config_files.py

--1a3ff92a	2014-09-21T15:33:28+04:00	ZyX	kp-pav@yandex.ru	Join paths using more robust path joining function

Fixes #1087

1a3ff92a
3	2	powerline/lib/vcs/__init__.py
0	2	powerline/segments/common/env.py

--fcf5702b	2014-09-21T15:26:27+04:00	ZyX	kp-pav@yandex.ru	Use pwd.getpwuid or getpass.getuser to get current user name

fcf5702b
11	6	powerline/segments/common/env.py
10	6	tests/test_segments.py

--bb5977c8	2014-09-21T15:11:01+04:00	ZyX	kp-pav@yandex.ru	Fix tests with  <psutil-2.0

bb5977c8
1	1	tests/test_segments.py

--5660b353	2014-09-21T14:58:39+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1091 from ZyX-I/common-segments-split

Split powerline.segments.common module
5660b353
--080e3e54	2014-09-21T02:12:36+04:00	ZyX	kp-pav@yandex.ru	Add deprecation warning to powerline.segments.common

080e3e54
4	0	powerline/segments/common/__init__.py

--3c1d5c61	2014-09-21T02:10:13+04:00	ZyX	kp-pav@yandex.ru	Deprecate powerline.segments.common

Makes linter emit a warning
3c1d5c61
11	11	powerline/config_files/themes/ascii.json
1	2	powerline/config_files/themes/ipython/in.json
0	1	powerline/config_files/themes/ipython/in2.json
11	11	powerline/config_files/themes/powerline.json
4	5	powerline/config_files/themes/shell/default.json
4	5	powerline/config_files/themes/shell/default_leftonly.json
5	6	powerline/config_files/themes/tmux/default.json
11	11	powerline/config_files/themes/unicode.json
11	11	powerline/config_files/themes/unicode_terminus.json
11	11	powerline/config_files/themes/unicode_terminus_condensed.json
4	5	powerline/config_files/themes/wm/default.json
6	0	powerline/lint/imp.py

--26365a96	2014-09-21T02:00:37+04:00	ZyX	kp-pav@yandex.ru	Split powerline.segments.common into a number of modules

Note: some modules (i.e wthr and bat) have their names in order to avoid the 
situation when module name matches segment name:

    import powerline.segments.common.weather

will import weather segment because `powerline.segments.common` contains line 
`from powerline.segments.common.weather import weather`.

Fixes #1083
26365a96
52	1	docs/source/configuration/segments/common.rst
0	1476	powerline/segments/common.py
22	0	powerline/segments/common/__init__.py
222	0	powerline/segments/common/bat.py
165	0	powerline/segments/common/env.py
74	0	powerline/segments/common/mail.py
287	0	powerline/segments/common/net.py
270	0	powerline/segments/common/players.py
174	0	powerline/segments/common/sys.py
89	0	powerline/segments/common/time.py
33	0	powerline/segments/common/vcs.py
229	0	powerline/segments/common/wthr.py
1	1	powerline/segments/shell.py
244	209	tests/test_segments.py

--96f967f8	2014-09-21T00:49:49+04:00	ZyX	kp-pav@yandex.ru	Commit quote changes left from previous branch

96f967f8
6	6	powerline/lint/markedjson/constructor.py
1	1	powerline/lint/markedjson/reader.py

--9eb6f996	2014-09-20T20:10:25+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1090 from ZyX-I/update-documentation

Improve documentation
9eb6f996
--4826c434	2014-09-20T18:30:34+04:00	ZyX	kp-pav@yandex.ru	Update documentation regarding xterm

Closes #420
4826c434
9	1	docs/source/troubleshooting/linux.rst

--ca83c461	2014-09-20T18:12:39+04:00	ZyX	kp-pav@yandex.ru	Get rid of double quotes where possible

This commits replaces them either with Unicode quotes (“”) or single 
equivalents.
ca83c461
1	1	powerline/bindings/awesome/powerline-awesome.py
1	1	powerline/bindings/bash/powerline.sh
1	1	powerline/bindings/qtile/widget.py
73	73	powerline/bindings/vim/plugin/powerline.vim
2	2	powerline/bindings/zsh/powerline.zsh
8	8	powerline/lib/debug.py
5	5	powerline/lib/inotify.py
8	9	powerline/lib/shell.py
1	1	powerline/lib/vcs/__init__.py
2	2	powerline/lib/vcs/bzr.py
1	1	powerline/lib/vcs/git.py
5	5	powerline/lib/vcs/mercurial.py
1	1	powerline/lint/checks.py
1	1	powerline/lint/imp.py
6	4	powerline/lint/markedjson/__init__.py
4	4	powerline/lint/markedjson/composer.py
2	2	powerline/lint/markedjson/constructor.py
2	2	powerline/lint/markedjson/error.py
19	19	powerline/lint/markedjson/parser.py
13	13	powerline/lint/markedjson/scanner.py
2	2	powerline/lint/spec.py
7	7	powerline/renderers/i3bar.py
1	1	powerline/segments/common.py
2	2	powerline/segments/vim/__init__.py
1	1	powerline/vim.py

--77b0695c	2014-09-20T17:48:15+04:00	ZyX	kp-pav@yandex.ru	Replace all ASCII ' with Unicode ’ in comments and docstrings

77b0695c
1	1	docs/source/conf.py
2	2	powerline/bindings/tmux/powerline.conf
3	3	powerline/lib/debug.py
2	2	powerline/lib/shell.py
1	1	powerline/lib/threaded.py
1	1	powerline/lib/vcs/git.py
2	2	powerline/lint/markedjson/reader.py
5	5	powerline/lint/markedjson/scanner.py
1	1	powerline/renderer.py
1	1	powerline/renderers/i3bar.py
1	1	powerline/renderers/pango_markup.py
1	1	powerline/renderers/shell/__init__.py
1	1	powerline/renderers/tmux.py
2	2	powerline/renderers/vim.py
2	2	powerline/segments/common.py
1	1	powerline/segments/vim/__init__.py
1	1	powerline/theme.py
1	1	scripts/powerline-daemon
1	1	setup.py
1	1	tests/test_provided_config_files.py

--2b5e9e0d	2014-09-20T17:43:19+04:00	ZyX	kp-pav@yandex.ru	Replace all ASCII double quotes with Unicode quotes in documentation

2b5e9e0d
1	1	README.rst
1	1	docs/source/overview.rst
1	1	docs/source/troubleshooting/linux.rst
4	4	docs/source/troubleshooting/osx.rst

--b94cfd98	2014-09-20T17:40:33+04:00	ZyX	kp-pav@yandex.ru	Replace all ASCII apostrophs with Unicode ones in documentation

b94cfd98
5	5	README.rst
7	7	docs/source/configuration.rst
3	3	docs/source/configuration/reference.rst
1	1	docs/source/configuration/segments.rst
2	2	docs/source/installation.rst
8	8	docs/source/installation/linux.rst
1	1	docs/source/installation/osx.rst
5	5	docs/source/overview.rst
1	1	docs/source/tips-and-tricks.rst
2	2	docs/source/troubleshooting.rst
4	4	docs/source/troubleshooting/linux.rst
3	3	docs/source/troubleshooting/osx.rst
2	2	docs/source/usage.rst
1	1	docs/source/usage/other.rst

--32cc0c77	2014-09-20T14:48:59+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1089 from ZyX-I/fix-531

Raise an exception when git is not found
32cc0c77
--8587d145	2014-09-20T14:43:45+04:00	ZyX	kp-pav@yandex.ru	Link git executable to tests/shell/path

8587d145
1	0	tests/test_shells/test.sh

--c5be5c6f	2014-09-20T14:34:21+04:00	ZyX	kp-pav@yandex.ru	Raise an exception when git is not found

Fixes #531 as such exceptions are ignored in powerline.lib.vcs.guess.
c5be5c6f
6	0	powerline/lib/vcs/git.py

--2293657e	2014-09-20T14:11:50+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1088 from ZyX-I/weather-location

Fix weather segment
2293657e
--5bb993ca	2014-09-20T14:01:42+04:00	ZyX	kp-pav@yandex.ru	Use region_name in place of region_code

Closes #1081
5bb993ca
2	1	powerline/segments/common.py

--48e06cbf	2014-09-20T13:52:24+04:00	ZyX	kp-pav@yandex.ru	Refactor weather segment to use KwThreaded segment

Problem: weather segment used to set its state (i.e. user location) once and 
remember it forever.
48e06cbf
23	17	powerline/segments/common.py
3	0	tests/lib/__init__.py
11	0	tests/test_segments.py

--af962494	2014-09-20T00:54:22+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1086 from ZyX-I/better-troubleshooting

Improve troubleshooting routines
af962494
--aeb1a32a	2014-09-20T00:17:59+04:00	ZyX	kp-pav@yandex.ru	Document powerline.lint.check function

aeb1a32a
18	0	powerline/lint/__init__.py

--e9e53aa8	2014-09-20T00:13:27+04:00	ZyX	kp-pav@yandex.ru	Move auxilary functions before specifications

e9e53aa8
10	10	powerline/lint/__init__.py

--e9c9b651	2014-09-20T00:12:00+04:00	ZyX	kp-pav@yandex.ru	Document powerline.lint.spec.Spec object

e9c9b651
352	1	powerline/lint/spec.py

--b781c723	2014-09-19T22:40:13+04:00	ZyX	kp-pav@yandex.ru	Move list_sep to powerline.lint.checks

It is the only place where it is needed.

b781c723
4	1	powerline/lint/checks.py
0	1	powerline/lint/context.py
1	2	powerline/lint/spec.py

--4e3b62f5	2014-09-19T22:38:35+04:00	ZyX	kp-pav@yandex.ru	Remove unused new_context_item function

4e3b62f5
0	4	powerline/lint/context.py

--b333f9ec	2014-09-19T22:36:16+04:00	ZyX	kp-pav@yandex.ru	Forbid most operations for Context instances

b333f9ec
23	13	powerline/lint/context.py

--891a9cba	2014-09-19T22:20:01+04:00	ZyX	kp-pav@yandex.ru	Add Context.enter_item function for processing marked iterable items

891a9cba
3	0	powerline/lint/context.py
2	3	powerline/lint/spec.py

--02c913f3	2014-09-19T22:12:20+04:00	ZyX	kp-pav@yandex.ru	Replace new_context_item() with Context.enter_key()

02c913f3
2	2	powerline/lint/checks.py
3	0	powerline/lint/context.py
3	3	powerline/lint/spec.py

--479305e8	2014-09-19T22:09:32+04:00	ZyX	kp-pav@yandex.ru	Remove context_key, init_context and context_has_marks functions

479305e8
7	7	powerline/lint/__init__.py
23	27	powerline/lint/checks.py
21	8	powerline/lint/context.py
4	6	powerline/lint/imp.py
0	6	powerline/lint/selfcheck.py
6	6	powerline/lint/spec.py

--346c7ab4	2014-09-19T21:52:07+04:00	ZyX	kp-pav@yandex.ru	Split huge powerline.lint module into multiple files

346c7ab4
11	1197	powerline/lint/__init__.py
707	0	powerline/lint/checks.py
44	0	powerline/lint/context.py
52	0	powerline/lint/imp.py
31	0	powerline/lint/markedjson/error.py
22	0	powerline/lint/selfcheck.py
375	0	powerline/lint/spec.py

--afb897ec	2014-09-19T21:23:04+04:00	ZyX	kp-pav@yandex.ru	Run powerline-lint from powerline_troubleshoot function

afb897ec
16	1	powerline/bindings/vim/plugin/powerline.vim
21	2	powerline/lint/__init__.py
3	2	powerline/lint/markedjson/error.py

--8ff923b4	2014-09-17T08:38:53+04:00	ZyX	kp-pav@yandex.ru	Remove direct calls to `sys.stderr.write` from powerline.lint.check

8ff923b4
12	12	powerline/lint/__init__.py

--65499123	2014-09-17T08:12:49+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1079 from ZyX-I/better-encoding-support

Improve encoding support
65499123
--7f5c0d66	2014-09-16T23:59:11+04:00	ZyX	kp-pav@yandex.ru	Pop first path from sys.path

According to the `sys.path` documentation “As initialized upon program startup,
the first item of this list, path[0], is the directory containing the script
that was used to invoke the Python interpreter.” Since client is named
`powerline.py` it tries to use the client itself as powerline module and
obviously fails to import `lib` submodule.

7f5c0d66
3	0	client/powerline.py

--849fef9b	2014-09-16T20:51:39+04:00	ZyX	kp-pav@yandex.ru	Use powerline.lib.encoding* in place of sys.get*encoding/locale.get*

Fixes #1078

849fef9b
7	3	client/powerline.py
2	2	powerline/__init__.py
2	3	powerline/bindings/config.py
5	4	powerline/bindings/zsh/__init__.py
73	0	powerline/lib/encoding.py
3	1	powerline/lib/inotify.py
4	7	powerline/lib/shell.py
7	7	powerline/lib/unicode.py
3	3	powerline/lib/vcs/bzr.py
4	5	powerline/lib/vcs/git.py
2	3	powerline/lib/vcs/mercurial.py
2	2	powerline/lib/watcher/uv.py
2	2	scripts/powerline-daemon
3	3	scripts/powerline-render

--d76bf5ef	2014-09-16T20:52:42+04:00	ZyX	kp-pav@yandex.ru	Fix example in CONTRIBUTING.rst

d76bf5ef
2	0	CONTRIBUTING.rst

--558b608c	2014-09-16T20:08:51+04:00	ZyX	kp-pav@yandex.ru	Merge branch 'pull-1075' into develop

558b608c
--a092ebed	2014-09-16T20:07:54+04:00	ZyX	kp-pav@yandex.ru	Return None explicitly

a092ebed
1	1	powerline/segments/vim/plugin/tagbar.py

--4233e76c	2014-09-16T20:07:38+04:00	ZyX	kp-pav@yandex.ru	Improve documentation

4233e76c
5	5	powerline/segments/vim/plugin/tagbar.py

--d874c0aa	2014-09-12T15:07:14+02:00	Ivan Augustinović	ivan@it1.hr	Add flags argument to vim/plugin/tagbar

Tagbar plugin supports 3 different formats for displaying a tag string.
A flags arguments was added to current_tag function to support this
feature.

d874c0aa
16	2	powerline/segments/vim/plugin/tagbar.py

--2f81af5e	2014-09-14T20:07:49+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1077 from ZyX-I/fix-non-unicode-vim

Fix non-unicode strings and locales handling
2f81af5e
--92b75aa9	2014-09-14T18:07:28+04:00	ZyX	kp-pav@yandex.ru	Also catch INotifyError when testing tree watcher

92b75aa9
2	0	tests/test_watcher.py

--b596643a	2014-09-14T17:25:46+04:00	ZyX	kp-pav@yandex.ru	Allow powerline-lint and sphinx to run with fake vim object

b596643a
7	3	powerline/bindings/vim/__init__.py

--eae7d1ff	2014-09-14T17:09:36+04:00	ZyX	kp-pav@yandex.ru	Replace os.path.walk with os.walk

os.path.walk was removed in python-3

eae7d1ff
3	2	powerline/lib/watcher/uv.py

--4e91f189	2014-09-14T16:41:54+04:00	ZyX	kp-pav@yandex.ru	Run watcher tests with bytes() arguments

4e91f189
102	60	tests/test_watcher.py

--7dd65a00	2014-09-14T16:58:42+04:00	ZyX	kp-pav@yandex.ru	Allow bytes paths in watchers

7dd65a00
1	1	powerline/lib/inotify.py
2	0	powerline/lib/watcher/inotify.py
16	6	powerline/lib/watcher/uv.py

--be7056fd	2014-09-14T16:13:25+04:00	ZyX	kp-pav@yandex.ru	Allow bytes paths in VCS bindings

be7056fd
10	0	powerline/lib/path.py
10	3	powerline/lib/vcs/__init__.py
3	5	powerline/lib/vcs/bzr.py
9	6	powerline/lib/vcs/git.py
3	2	powerline/lib/vcs/mercurial.py
1	1	tests/test_lib.py

--8417fd25	2014-09-14T15:58:34+04:00	ZyX	kp-pav@yandex.ru	Fix overrides in Python-3

With bytes() keys they were not working well since in Python-3 bytes() is not
comparable with str().

8417fd25
4	1	powerline/bindings/vim/__init__.py

--af170eca	2014-09-14T15:53:29+04:00	ZyX	kp-pav@yandex.ru	Make vim_get_func handle rettype argument better

As usual it was not working well in Python-3

af170eca
71	29	powerline/bindings/vim/__init__.py
1	1	powerline/renderers/vim.py
4	6	powerline/segments/vim/__init__.py

--80db7df9	2014-09-14T15:44:46+04:00	ZyX	kp-pav@yandex.ru	Do not use vim_funcs['bufnr'] for modified_buffers segment

80db7df9
7	4	powerline/segments/vim/__init__.py

--e7d0c836	2014-09-14T15:08:47+04:00	ZyX	kp-pav@yandex.ru	Add code that will return bytes() from vim functions in Python-3

e7d0c836
34	5	powerline/bindings/vim/__init__.py
3	2	tests/test_segments.py

--f073437f	2014-09-14T14:28:52+04:00	ZyX	kp-pav@yandex.ru	Remove the only remaining reference to `u'` string prefix

f073437f
1	1	docs/source/conf.py

--f8b9ad4a	2014-09-14T14:05:01+04:00	ZyX	kp-pav@yandex.ru	Do not use segment_info['buffer'].name ever

This results in UnicodeDecodeErrors for non-unicode filenames

f8b9ad4a
2	2	powerline/segments/vim/__init__.py
16	9	powerline/vim.py

--a4e711da	2014-09-14T14:01:42+04:00	ZyX	kp-pav@yandex.ru	Add tests for invalid unicode filenames

Ref #1071

a4e711da
19	0	tests/test_invalid_unicode.vim

--4ed1a7e5	2014-09-14T13:53:31+04:00	ZyX	kp-pav@yandex.ru	Compare bytes() objects in matcher functions

Fixes #1071

4ed1a7e5
3	3	powerline/matchers/vim/__init__.py
6	3	powerline/matchers/vim/plugin/ctrlp.py
6	4	powerline/matchers/vim/plugin/gundo.py
7	2	powerline/matchers/vim/plugin/nerdtree.py

--d14aecbc	2014-09-14T13:45:19+04:00	ZyX	kp-pav@yandex.ru	Use proper encoding to convert values in various places

Fixes #1072

d14aecbc
4	0	docs/source/develop/segments.rst
15	8	powerline/bindings/vim/__init__.py
4	3	powerline/bindings/zsh/__init__.py
0	2	powerline/lib/inotify.py
3	2	powerline/lib/vcs/bzr.py
3	1	powerline/lib/vcs/git.py
3	1	powerline/lib/vcs/mercurial.py
5	4	powerline/renderers/vim.py
5	5	powerline/segments/vim/__init__.py
1	0	tests/vim.py

--fa217185	2014-09-14T13:18:11+04:00	ZyX	kp-pav@yandex.ru	Encode vim statusline to &encoding before returning

Partially fixes #1072

fa217185
17	0	powerline/lib/unicode.py
3	1	powerline/renderers/vim.py
3	3	tests/test_configuration.py

--fdf21fea	2014-09-10T08:33:39+04:00	ZyX	kp-pav@yandex.ru	Allow setting g:powerline_pyeval to PowerlinePyeval for testing

fdf21fea
7	8	powerline/vim.py

--257732bd	2014-09-09T00:22:33+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1069 from ZyX-I/workaround-1068

Do not use _POWERLINE_SHORTENED_PATH or unset it shortly after using
257732bd
--04a66ef8	2014-09-09T00:06:50+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1070 from ZyX-I/fix-daemon

Include args.config_path in the key
04a66ef8
--901d96e3	2014-09-09T00:04:56+04:00	ZyX	kp-pav@yandex.ru	Add tests

901d96e3
5	1	tests/test_shells/input.zsh
3	1	tests/test_shells/zsh.daemon.ok
3	1	tests/test_shells/zsh.nodaemon.ok

--d3b57f7c	2014-09-08T23:53:05+04:00	ZyX	kp-pav@yandex.ru	Include args.config_path in the key

Consider the following script:

    % powerline-daemon -s powerline-test
    % powerline --socket powerline-test -p/dev/null shell left
    Config file not found in search paths (/dev/null): config.json
    % powerline --socket powerline-test shell left
    Config file not found in search paths (/dev/null): config.json

Note the problem: second call to powerline does not use offending path, but it 
still emits the error “Config file not found in search paths”.
d3b57f7c
1	0	scripts/powerline-daemon
41	0	tests/run_daemon_tests.sh
4	4	tests/test_shells/test.sh

--c8b13349	2014-09-08T23:31:33+04:00	ZyX	kp-pav@yandex.ru	Do not use _POWERLINE_SHORTENED_PATH or unset it shortly after using

Fixes #1068
c8b13349
3	0	powerline/bindings/zsh/__init__.py
1	7	powerline/bindings/zsh/powerline.zsh

--9e686823	2014-09-07T23:30:40+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1067 from ZyX-I/fix-1066

Add proper errno attribute to exception raised by uv watcher
9e686823
--fb022b79	2014-09-07T23:23:23+04:00	ZyX	kp-pav@yandex.ru	Check that exception from watcher has errno attribute equal to ENOENT

fb022b79
5	0	tests/test_watcher.py

--9f7286e4	2014-09-07T23:20:49+04:00	ZyX	kp-pav@yandex.ru	Raise OSError with errno=ENOENT from uv watcher

Fixes #1066
9f7286e4
2	1	powerline/lib/watcher/uv.py

--5f37ab7e	2014-09-07T21:09:49+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1065 from ZyX-I/fix-1064

Fix some possible unicode errors
5f37ab7e
--becb3b13	2014-09-07T20:59:04+04:00	ZyX	kp-pav@yandex.ru	Convert shortened path to unicode

Fixes #1064
becb3b13
2	1	powerline/segments/shell.py

--a962f7ee	2014-09-07T20:56:35+04:00	ZyX	kp-pav@yandex.ru	Replace u() function with out_u for safer unicode conversion

a962f7ee
42	0	powerline/lib/unicode.py
6	6	powerline/segments/common.py

--05205260	2014-09-07T15:54:56+04:00	ZyX	kp-pav@yandex.ru	Add code to deal with raiagent overlay

05205260
76	7	scripts/powerline-release.py

--ab07e8f9	2014-09-07T14:06:01+04:00	ZyX	kp-pav@yandex.ru	Add ability to run only the given stages

ab07e8f9
28	8	scripts/powerline-release.py

--5f81c519	2014-09-05T22:57:22+04:00	ZyX	kp-pav@yandex.ru	Push to upstream and do not use `release-` prefix

5f81c519
5	3	scripts/powerline-release.py

--bfbb2426	2014-09-05T21:55:13+04:00	ZyX	kp-pav@yandex.ru	Add script that will be used for releasing powerline

bfbb2426
73	0	scripts/powerline-release.py

--c8baa553	2014-09-07T15:09:40+04:00	ZyX	kp-pav@yandex.ru	Merge branch 'manifest-docs' into develop

c8baa553
--1c34b482	2014-09-07T14:44:51+04:00	ZyX	kp-pav@yandex.ru	Include documentation in the sdist package

1c34b482
2	0	MANIFEST.in

--02b90717	2014-09-06T22:45:45+04:00	ZyX	kp-pav@yandex.ru	Merge commit 'HEAD@{1}' into develop

02b90717
--074966ae	2014-09-06T22:45:25+04:00	ZyX	kp-pav@yandex.ru	Replace “package” with “module” in a number of places

Ref #1059
074966ae
1	1	powerline/bindings/vim/plugin/powerline.vim
4	4	powerline/segments/common.py

--14b48d69	2014-09-05T22:37:02+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1061 from ZyX-I/powerline-vim-paths

Replace g:powerline_config_path Vim variable with …_paths list
14b48d69
--05cb133d	2014-09-05T22:13:51+04:00	ZyX	kp-pav@yandex.ru	Replace g:powerline_config_path Vim variable with …_paths list

This is for consistency with other powerline bindings that now all do have a way 
to specify a list of paths.
05cb133d
4	4	docs/source/configuration/local.rst
1	1	powerline/vim.py
1	1	tests/test_configuration.py
1	1	tests/test_local_overrides.vim
1	1	tests/test_plugin_file.vim
1	1	tests/test_provided_config_files.py
1	1	tests/test_tabline.vim

--682846dc	2014-09-05T20:41:03+04:00	ZyX	kp-pav@yandex.ru	Merge branch 'doc-fixes' into develop

682846dc
--41f57365	2014-09-05T20:40:09+04:00	ZyX	kp-pav@yandex.ru	Fix typo in label ID

41f57365
1	1	docs/source/configuration/reference.rst

--9eceaf3f	2014-09-05T20:39:40+04:00	ZyX	kp-pav@yandex.ru	Move docs/source/selectors* to the appropriate place

9eceaf3f
0	0	docs/source/{ => configuration}/selectors.rst
0	0	docs/source/{ => configuration}/selectors/vim.rst

--4bcb0e15	2014-09-05T20:39:22+04:00	ZyX	kp-pav@yandex.ru	Include tips-and-tricks for developers into develop.rst toctree

4bcb0e15
1	0	docs/source/develop.rst

--51e778cd	2014-09-05T20:36:09+04:00	ZyX	kp-pav@yandex.ru	Always use `code-block` to format code there

51e778cd
10	4	docs/source/installation.rst

--dc5969e8	2014-09-05T20:33:26+04:00	ZyX	kp-pav@yandex.ru	Mention `powerline-status` PyPI package in installation documentation

Fixes #1057
dc5969e8
6	0	docs/source/installation.rst

--e7ad1f57	2014-09-05T20:28:10+04:00	ZyX	kp-pav@yandex.ru	Merge commit 'HEAD@{1}' into develop

e7ad1f57
--c0459dbe	2014-09-05T20:27:52+04:00	ZyX	kp-pav@yandex.ru	Rename `beta` version to `dev`

c0459dbe
1	1	setup.py

--766efe37	2014-09-05T20:23:11+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1058 from ZyX-I/tabline-fixes

Improve tabline support
766efe37
--68263bee	2014-09-05T19:36:31+04:00	ZyX	kp-pav@yandex.ru	Show current buffer, window and tabpage number by default

Fixes #1048

68263bee
3	3	powerline/segments/vim/__init__.py
3	3	tests/test_tabline.vim

--42bd6198	2014-09-05T19:23:07+04:00	ZyX	kp-pav@yandex.ru	Remove `{module}.{function}` default highlighting group

It is both not documented and not supported by linter in any case.

42bd6198
1	1	powerline/segment.py

--f916fe81	2014-09-05T08:57:54+04:00	ZyX	kp-pav@yandex.ru	Use less precise algorythm for width computations under stress

Makes #1047 far less bad

f916fe81
18	6	powerline/renderer.py

--60fb3114	2014-09-05T08:35:20+04:00	ZyX	kp-pav@yandex.ru	Add a way to profile Vim bindings

60fb3114
21	0	docs/source/develop/tips-and-tricks.rst
20	0	powerline/bindings/vim/autoload/powerline/debug.vim

--d569c0b3	2014-09-05T08:13:35+04:00	ZyX	kp-pav@yandex.ru	Skip identical highlighting

Fixes #1049

d569c0b3
14	18	powerline/renderer.py
10	1	powerline/renderers/vim.py
3	3	tests/test_tabline.vim

--1a5bbbea	2014-09-04T22:20:21+04:00	ZyX	kp-pav@yandex.ru	Replace segment-local modes with highlight_group_prefix option

Fixes #1046

1a5bbbea
0	5	docs/source/develop/listers.rst
6	3	docs/source/develop/segments.rst
10	1	powerline/config_files/colorschemes/vim/__main__.json
3	39	powerline/config_files/colorschemes/vim/default.json
0	20	powerline/config_files/colorschemes/vim/solarized.json
0	20	powerline/config_files/colorschemes/vim/solarizedlight.json
12	14	powerline/listers/vim.py
15	12	powerline/segment.py
0	1	powerline/theme.py
3	3	tests/test_tabline.vim

--b7504c71	2014-09-04T22:08:36+04:00	ZyX	kp-pav@yandex.ru	Do not require using `priority_multiplier` key

b7504c71
1	1	powerline/segment.py

--667cd4bc	2014-09-04T21:21:46+04:00	ZyX	kp-pav@yandex.ru	Assume highlight group is always an iterable

According to the documentation and linter `'highlight_group': 'string'` was not
correct even at the current stage, but it worked. This commit fixes this
situation.

667cd4bc
2	10	powerline/colorscheme.py
1	1	powerline/segment.py
2	2	powerline/segments/common.py
9	3	powerline/segments/shell.py
6	6	tests/test_segments.py

--adc08d0c	2014-09-04T20:59:45+04:00	ZyX	kp-pav@yandex.ru	Filter subsegments for segment lister prior to using lister

adc08d0c
6	5	powerline/segment.py

--786543c9	2014-09-04T20:58:13+04:00	ZyX	kp-pav@yandex.ru	Filter None values when computing subsegments for segment listers

786543c9
3	0	powerline/segment.py

--54e12b15	2014-09-04T20:43:35+04:00	ZyX	kp-pav@yandex.ru	Use new functionality to replace tabbuflister and single_tab segment

54e12b15
1	0	docs/source/configuration.rst
17	0	docs/source/selectors.rst
6	0	docs/source/selectors/vim.rst
36	10	powerline/config_files/themes/vim/tabline.json
0	8	powerline/listers/vim.py
0	27	powerline/segments/vim/__init__.py
0	0	powerline/selectors/__init__.py
10	0	powerline/selectors/vim.py
0	13	tests/test_segments.py
36	0	tests/test_selectors.py

--c5ca1b23	2014-09-04T21:32:26+04:00	ZyX	kp-pav@yandex.ru	Use class setup/teardown methods to use vim module mock

c5ca1b23
4	4	tests/test_configuration.py
11	5	tests/test_provided_config_files.py
92	89	tests/test_segments.py

--7bf025ca	2014-09-04T20:34:06+04:00	ZyX	kp-pav@yandex.ru	Add `exclude_/include_function` support

This is first step towards fixing #1046.

7bf025ca
17	0	docs/source/configuration/reference.rst
9	3	docs/source/develop/segments.rst
32	8	powerline/lint/__init__.py
62	11	powerline/segment.py
1	3	powerline/theme.py
82	1	tests/test_configuration.py

--bc557bd6	2014-09-04T20:04:18+04:00	ZyX	kp-pav@yandex.ru	Use replace_item to add module `bar` to sys.modules

Tests should not leave modified environment.

bc557bd6
5	5	tests/test_configuration.py

--96b2cb8f	2014-09-04T19:51:10+04:00	ZyX	kp-pav@yandex.ru	Fix spaces-only line in configuration.rst

96b2cb8f

--9947bb30	2014-09-04T19:50:45+04:00	ZyX	kp-pav@yandex.ru	Reference sections where all segments are listed

9947bb30
2	0	docs/source/configuration/listers.rst
6	0	docs/source/configuration/reference.rst
2	0	docs/source/configuration/segments.rst

--ea2fd282	2014-09-04T19:38:22+04:00	ZyX	kp-pav@yandex.ru	Merge exclude_modes and include_modes documentation

ea2fd282
8	7	docs/source/configuration/reference.rst

--b5a551eb	2014-09-04T19:34:29+04:00	ZyX	kp-pav@yandex.ru	Fix typos in exclude/include_modes documentation

b5a551eb
2	2	docs/source/configuration/reference.rst

--479bc7fc	2014-09-04T19:09:15+04:00	ZyX	kp-pav@yandex.ru	Do not raise from gen_segment_getter

479bc7fc
2	1	powerline/segment.py

--bd719ba1	2014-09-04T19:05:30+04:00	ZyX	kp-pav@yandex.ru	Make too long line in segment.py more readable

bd719ba1
5	1	powerline/segment.py

--00d3dfbc	2014-09-04T18:27:15+04:00	ZyX	kp-pav@yandex.ru	Merge branch 'pypi' into develop

00d3dfbc
--1d4349ce	2014-09-04T09:13:08+04:00	ZyX	kp-pav@yandex.ru	Exclude *.pyc files in bindings directory

1d4349ce
1	0	MANIFEST.in

--a221e82a	2014-09-04T09:09:45+04:00	ZyX	kp-pav@yandex.ru	Also include client files in the distribution

a221e82a
1	0	MANIFEST.in

--2a515b78	2014-09-04T08:46:29+04:00	ZyX	kp-pav@yandex.ru	Use PyPI name in setup.py

2a515b78
1	1	setup.py

--2a73f031	2014-09-04T08:46:03+04:00	ZyX	kp-pav@yandex.ru	Add download_url, license and classifiers to setup.py

2a73f031
19	1	setup.py

--31ccd290	2014-09-04T08:42:04+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1056 from ZyX-I/vim-troubleshooting

Improve vim troubleshooting
31ccd290
--8588885b	2014-09-04T08:32:36+04:00	ZyX	kp-pav@yandex.ru	In vim tests check for printed messages

8588885b
9	0	tests/test_local_overrides.vim
8	0	tests/test_tabline.vim

--0bb14dbe	2014-09-04T08:28:47+04:00	ZyX	kp-pav@yandex.ru	Make it immune to the absense of powerline_appended_path

0bb14dbe
1	0	powerline/bindings/vim/plugin/powerline.vim

--a919b453	2014-09-04T08:27:36+04:00	ZyX	kp-pav@yandex.ru	Fix some errors in troubleshooting code

a919b453
4	2	powerline/bindings/vim/plugin/powerline.vim

--eda93c87	2014-09-04T08:19:17+04:00	ZyX	kp-pav@yandex.ru	Add default_log_stream Powerline attribute, make it sys.stdout in Vim

Reason for changes in VimPowerline:

    try
        python import sys; sys.stderr.write('abc')
    catch
        echomsg v:exception
    endtry

reports an exception. This should not happen because stack trace that ought to 
be printed by the logger will not be shown to the user, making it hard to 
determine the error and turning some recoverable errors to non-recoverable when 
using powerline.vim.
eda93c87
16	8	powerline/__init__.py
2	0	powerline/vim.py

--13fef508	2014-09-03T22:50:52+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1055 from magus424/develop

Corrects alignment issue between inactive and active windows in tmux.
13fef508
--c50838bd	2014-09-02T18:23:52-07:00	Collin Grady	collin@collingrady.com	Corrects alignment issue between inactive and active windows in tmux.

Adresses #1029

c50838bd

--77d311bd	2014-09-02T22:22:43+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1053 from ZyX-I/fix-uv-watcher

Some fixes for libuv-based watcher
77d311bd
--a2c6d79b	2014-09-02T22:09:07+04:00	ZyX	kp-pav@yandex.ru	Return False in place of None to indicate absense of changes

Fixes #1052: another part of it
a2c6d79b
1	0	powerline/lib/watcher/uv.py

--ad519b5e	2014-09-02T22:05:00+04:00	ZyX	kp-pav@yandex.ru	Add realpath() calls to Uv watchers where appropriate

ad519b5e
5	2	powerline/lib/watcher/uv.py

--c564b645	2014-09-02T22:01:50+04:00	ZyX	kp-pav@yandex.ru	Add `is_watching` method to UvWatcher class

Fixes #1052

c564b645
4	0	powerline/lib/watcher/uv.py

--b638a8e1	2014-09-02T21:58:42+04:00	ZyX	kp-pav@yandex.ru	Add tests for is_watching method

Currently they fail for uv-based watcher.
b638a8e1
34	0	tests/test_watcher.py

--64843412	2014-09-02T21:51:46+04:00	ZyX	kp-pav@yandex.ru	Rename `is_watched` method to `is_watching`

64843412
1	1	powerline/lib/vcs/__init__.py
1	1	powerline/lib/watcher/inotify.py
1	1	powerline/lib/watcher/stat.py

--986a6948	2014-09-02T21:49:23+04:00	ZyX	kp-pav@yandex.ru	Update documentation

986a6948
1	0	docs/source/configuration/reference.rst
2	0	docs/source/installation.rst
9	8	powerline/lib/watcher/__init__.py

--a4667c9a	2014-09-01T00:30:05+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1045 from ZyX-I/style-fixes

Improve coding style
a4667c9a
--8d00ba78	2014-08-31T23:01:40+04:00	ZyX	kp-pav@yandex.ru	Remove unneeded # NOQA comments

It appears that something has changed and it no longer complains about double
declaration in else or except blocks.

8d00ba78
9	9	powerline/bindings/vim/__init__.py
5	5	powerline/lib/monotonic.py
1	1	powerline/lib/shell.py
1	1	powerline/lib/unicode.py
2	2	powerline/lib/url.py
1	1	powerline/listers/vim.py
1	1	powerline/matchers/vim/plugin/ctrlp.py
1	1	powerline/renderers/vim.py
1	1	powerline/segments/__init__.py
9	9	powerline/segments/common.py
1	1	powerline/segments/vim/__init__.py
1	1	powerline/segments/vim/plugin/ctrlp.py
1	1	powerline/segments/vim/plugin/nerdtree.py
1	1	powerline/segments/vim/plugin/syntastic.py
1	1	powerline/segments/vim/plugin/tagbar.py
1	1	powerline/vim.py
1	1	scripts/powerline-config
1	1	scripts/powerline-render

--06211cbe	2014-08-31T22:55:26+04:00	ZyX	kp-pav@yandex.ru	Unify imports

Now imports follow the following structure:

1. __future__ line: exactly one line allowed:

        from __future__ import (unicode_literals, division, absolute_import, print_function)

   (powerline.shell is the only exception due to problems with argparse).
2. Standard python library imports in a form `import X`.
3. Standard python library imports in a form `from X import Y`.
4. and 5. 2. and 3. for third-party (non-python and non-powerline imports).
6. 3. for powerline non-test imports.
7. and 8. 2. and 3. for powerline testing module imports.

Each list entry is separated by exactly one newline from another import. If
there is module docstring it goes between `# vim:` comment and `__future__`
import. So the structure containing all items is the following:

    #!/usr/bin/env python
    # vim:fileencoding=utf-8:noet

    '''Powerline super module'''

    import sys

    from argparse import ArgumentParser

    import psutil

    from colormath.color_diff import delta_e_cie2000

    from powerline.lib.unicode import u

    import tests.vim as vim_module

    from tests import TestCase

.

06211cbe
59	0	CONTRIBUTING.rst
1	0	docs/source/conf.py
6	6	docs/source/powerline_autodoc.py
1	1	powerline/__init__.py
5	2	powerline/bindings/awesome/powerline-awesome.py
1	2	powerline/bindings/config.py
7	5	powerline/bindings/i3/powerline-i3.py
3	2	powerline/bindings/ipython/post_0_11.py
4	3	powerline/bindings/ipython/pre_0_11.py
1	0	powerline/bindings/qtile/widget.py
1	2	powerline/bindings/tmux/__init__.py
5	2	powerline/bindings/vim/__init__.py
3	3	powerline/bindings/zsh/__init__.py
3	4	powerline/colorscheme.py
2	1	powerline/config.py
1	0	powerline/ipython.py
4	1	powerline/lib/__init__.py
6	5	powerline/lib/config.py
1	0	powerline/lib/debug.py
3	0	powerline/lib/humanize_bytes.py
5	4	powerline/lib/inotify.py
2	0	powerline/lib/memoize.py
1	2	powerline/lib/monotonic.py
1	1	powerline/lib/path.py
3	3	powerline/lib/shell.py
1	2	powerline/lib/threaded.py
7	1	powerline/lib/unicode.py
1	0	powerline/lib/url.py
2	2	powerline/lib/vcs/__init__.py
1	1	powerline/lib/vcs/bzr.py
1	2	powerline/lib/vcs/git.py
1	1	powerline/lib/vcs/mercurial.py
2	3	powerline/lib/watcher/__init__.py
1	1	powerline/lib/watcher/inotify.py
1	1	powerline/lib/watcher/stat.py
1	1	powerline/lib/watcher/tree.py
3	3	powerline/lib/watcher/uv.py
1	0	powerline/lint/__init__.py
1	1	powerline/lint/inspect.py
3	3	powerline/lint/markedjson/__init__.py
24	20	powerline/lint/markedjson/composer.py
14	17	powerline/lint/markedjson/constructor.py
3	6	powerline/lint/markedjson/error.py
3	1	powerline/lint/markedjson/events.py
9	8	powerline/lint/markedjson/loader.py
3	6	powerline/lint/markedjson/markedvalue.py
4	0	powerline/lint/markedjson/nodes.py
35	34	powerline/lint/markedjson/parser.py
7	9	powerline/lint/markedjson/reader.py
10	9	powerline/lint/markedjson/resolver.py
19	26	powerline/lint/markedjson/scanner.py
4	0	powerline/lint/markedjson/tokens.py
3	4	powerline/listers/vim.py
4	0	powerline/matchers/__init__.py
2	2	powerline/matchers/vim/__init__.py
4	0	powerline/matchers/vim/plugin/__init__.py
12	6	powerline/matchers/vim/plugin/ctrlp.py
1	0	powerline/matchers/vim/plugin/gundo.py
1	0	powerline/matchers/vim/plugin/nerdtree.py
4	9	powerline/renderer.py
3	1	powerline/renderers/i3bar.py
1	0	powerline/renderers/ipython/__init__.py
3	2	powerline/renderers/pango_markup.py
1	2	powerline/renderers/shell/__init__.py
1	2	powerline/renderers/shell/bash.py
1	2	powerline/renderers/shell/ksh.py
1	2	powerline/renderers/shell/tcsh.py
1	2	powerline/renderers/shell/zsh.py
1	2	powerline/renderers/tmux.py
7	12	powerline/renderers/vim.py
1	1	powerline/segment.py
1	1	powerline/segments/__init__.py
2	3	powerline/segments/common.py
1	0	powerline/segments/i3wm.py
1	0	powerline/segments/ipython.py
1	0	powerline/segments/shell.py
1	1	powerline/segments/tmux.py
3	4	powerline/segments/vim/__init__.py
4	0	powerline/segments/vim/plugin/__init__.py
1	0	powerline/segments/vim/plugin/ctrlp.py
1	0	powerline/segments/vim/plugin/nerdtree.py
1	0	powerline/segments/vim/plugin/syntastic.py
1	0	powerline/segments/vim/plugin/tagbar.py
2	0	powerline/shell.py
3	2	powerline/theme.py
1	2	powerline/vim.py
3	0	scripts/powerline-config
6	1	scripts/powerline-lint
4	0	scripts/powerline-render
2	1	setup.py
3	0	tests/__init__.py
2	0	tests/lib/__init__.py
9	4	tests/lib/config_mock.py
1	1	tests/lib/fsconfig.py
2	0	tests/path/vim.py
8	4	tests/test_cmdline.py
9	6	tests/test_config_merging.py
1	1	tests/test_config_reload.py
1	1	tests/test_configuration.py
2	2	tests/test_lib.py
1	1	tests/test_lib_config.py
4	1	tests/test_provided_config_files.py
1	2	tests/test_segments.py
2	2	tests/test_shells/postproc.py
1	1	tests/test_watcher.py
4	1	tools/colors_find.py
8	7	tools/generate_gradients.py

--545bd6b5	2014-08-31T22:09:09+04:00	ZyX	kp-pav@yandex.ru	Fix some style errors reported by syntastic in .segments.plugin.ctrlp

545bd6b5

--d952b469	2014-08-31T21:44:18+04:00	ZyX	kp-pav@yandex.ru	Fix syntastic error in powerline.lib.memoize

d952b469

--aaed00e0	2014-08-31T21:33:56+04:00	ZyX	kp-pav@yandex.ru	Fix installation notes location.

These notes are parts of the list entries.
aaed00e0
13	10	docs/source/installation/osx.rst

--0e98bc2d	2014-08-31T21:29:03+04:00	ZyX	kp-pav@yandex.ru	Fix style in a number of places

- Fixes lines where line with N tab indent is followed by a line with N+2 tab 
  indent or greater (most of such lines were already fixed in 
  ae92d83eae5142322ff20b9aa81eb53b0b363575, but regex used there has one flow: 
  it does not catches lines where N=0 for which case first `\+` needs to be 
  replaced with `*`).
- Replace print(…, file=sys.stderr) with sys.stderr.write in powerline-daemon.
0e98bc2d
6	2	powerline/lib/watcher/inotify.py
2	2	powerline/lint/__init__.py
9	16	powerline/lint/markedjson/constructor.py
8	6	scripts/powerline-daemon

--a2b58370	2014-08-30T18:29:28+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1043 from ZyX-I/truncate-expand

Add segment.truncate and segment.expand attributes support
a2b58370
--2505d0b8	2014-08-30T18:19:56+04:00	ZyX	kp-pav@yandex.ru	Implement segment truncation

Closes #161 (requires implementation for specific segments though)

2505d0b8
15	4	docs/source/develop/segments.rst
12	3	powerline/renderer.py
5	1	powerline/segment.py
19	0	tests/test_configuration.py

--d6c603da	2014-08-30T17:54:46+04:00	ZyX	kp-pav@yandex.ru	Add support for `segment.expand`

Closes #154

d6c603da
11	1	docs/source/configuration/reference.rst
5	2	docs/source/develop/listers.rst
109	0	docs/source/develop/segments.rst
13	5	powerline/segment.py
1	1	powerline/theme.py
20	0	tests/test_configuration.py

--5b038dba	2014-08-30T17:10:30+04:00	ZyX	kp-pav@yandex.ru	Use `expand` key to fill segments

5b038dba
12	31	powerline/renderer.py
2	4	powerline/segment.py
27	0	powerline/theme.py

--bfa335d9	2014-08-30T17:08:32+04:00	ZyX	kp-pav@yandex.ru	Fix typo in test_configuration.py

bfa335d9
1	1	tests/test_configuration.py

--0da40f08	2014-08-30T16:50:23+04:00	ZyX	kp-pav@yandex.ru	Fix syntastic error

0da40f08

--875f8e98	2014-08-30T16:39:49+04:00	ZyX	kp-pav@yandex.ru	Update documentation

875f8e98
1	1	docs/source/configuration/reference.rst

--2b8e122b	2014-08-30T16:19:01+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1042 from ZyX-I/remove-filler-segment-type

Remove filler segment type
2b8e122b
--f320fb3d	2014-08-30T16:08:30+04:00	ZyX	kp-pav@yandex.ru	Remove filler segment type

It was replaced with `"width": "auto"` and is not used anywhere. I do not even 
know whether it works.
f320fb3d
2	2	docs/source/configuration/reference.rst
0	2	powerline/lint/__init__.py
3	3	powerline/renderer.py
0	5	powerline/segment.py

--d714fb0d	2014-08-30T16:01:07+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #906 from ZyX-I/uv-watcher

Add pyuv-based watcher
d714fb0d
--8d3376ce	2014-08-30T15:49:50+04:00	ZyX	kp-pav@yandex.ru	Ultimately disable pyuv watcher tests

8d3376ce
2	0	tests/test_watcher.py

--560600fc	2014-08-16T15:26:19+04:00	ZyX	kp-pav@yandex.ru	Use shutil.rmtree in tests

560600fc
2	6	tests/test_lib.py
7	8	tests/test_watcher.py

--0ee5293e	2014-06-29T11:17:23+04:00	ZyX	kp-pav@yandex.ru	Add tests for libuv-based watcher

Four possible results of running tests (first three are errors):

- “The change to inotify/file2 was not detected” on line 84: most common
- “Spurious change detected” at line 82 (uncommon, usually fixed by sleeping
  before running test in do_test_for_change)
- “The change to inotify was not detected” in tree watcher test (e.g. from line
  131) (very rare)
- All OK.

0ee5293e
36	5	tests/test_watcher.py

--ea3cd2c1	2014-06-29T00:52:23+04:00	ZyX	kp-pav@yandex.ru	Add libuv-based watcher

Fixes #821

ea3cd2c1
10	0	powerline/lib/watcher/__init__.py
7	0	powerline/lib/watcher/tree.py
167	0	powerline/lib/watcher/uv.py

--f5f85ab8	2014-08-30T15:43:10+04:00	ZyX	kp-pav@yandex.ru	Merge branch 'cyclic-references' into develop

f5f85ab8
--cee13ec0	2014-08-30T15:10:46+04:00	ZyX	kp-pav@yandex.ru	Add function that prints cyclic references to powerline.lib.debug

cee13ec0
97	0	powerline/lib/debug.py

--f076587e	2014-08-30T01:56:48+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1040 from ZyX-I/no-gradient-raise

Handle errors from Renderer._set_highlighting
f076587e
--acd55bbd	2014-08-26T19:25:32+04:00	ZyX	kp-pav@yandex.ru	Handle errors from Renderer._set_highlighting

It is done by moving appropriate get_highlighting calls into segment.py: here
errors from contents_func are handled as well.

This is a “fix” for #480 that will make such failures cause segment to disappear
with better header which should show segment which caused the error.

Closes #480

acd55bbd
4	3	powerline/__init__.py
1	25	powerline/renderer.py
42	7	powerline/segment.py
11	1	powerline/theme.py

--c488b2da	2014-08-30T00:17:05+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1039 from ZyX-I/function-key

Refactor function segments
c488b2da
--10e8d9bb	2014-08-29T23:21:19+04:00	ZyX	kp-pav@yandex.ru	Do not use &> in #!/bin/sh scripts

10e8d9bb
2	2	tests/test_shells/test.sh

--4f5a606c	2014-08-29T22:57:04+04:00	ZyX	kp-pav@yandex.ru	Use “time” for time segment name

4f5a606c
4	3	powerline/config_files/themes/ascii.json
4	3	powerline/config_files/themes/powerline.json
2	2	powerline/config_files/themes/tmux/default.json
4	3	powerline/config_files/themes/unicode.json
4	3	powerline/config_files/themes/unicode_terminus.json
4	3	powerline/config_files/themes/unicode_terminus_condensed.json
2	2	powerline/config_files/themes/wm/default.json

--41476544	2014-08-29T22:38:26+04:00	ZyX	kp-pav@yandex.ru	Replace `name` and `module` keys with `function` key

Fixes #1031

41476544
30	19	docs/source/configuration/reference.rst
2	3	powerline/config_files/themes/ipython/in.json
2	3	powerline/config_files/themes/ipython/out.json
2	2	powerline/config_files/themes/ipython/rewrite.json
1	1	powerline/config_files/themes/shell/continuation.json
8	12	powerline/config_files/themes/shell/default.json
7	10	powerline/config_files/themes/shell/default_leftonly.json
5	5	powerline/config_files/themes/tmux/default.json
19	21	powerline/config_files/themes/vim/default.json
3	3	powerline/config_files/themes/vim/help.json
2	2	powerline/config_files/themes/vim/plugin_ctrlp.json
1	1	powerline/config_files/themes/vim/plugin_nerdtree.json
2	2	powerline/config_files/themes/vim/quickfix.json
8	9	powerline/config_files/themes/vim/tabline.json
4	4	powerline/config_files/themes/wm/default.json
63	44	powerline/lint/__init__.py
33	27	powerline/segment.py
47	5	tests/test_configuration.py
1	0	tests/test_plugin_file.vim
9	0	tests/test_provided_config_files.py
1	0	tests/test_tabline.vim

--5bd543ae	2014-08-29T22:36:32+04:00	ZyX	kp-pav@yandex.ru	Do not run daemon when running with ONLY_TEST_TYPE=nodaemon

5bd543ae
3	3	tests/test_shells/test.sh

--9a0e100c	2014-08-29T22:32:42+04:00	ZyX	kp-pav@yandex.ru	Specify -p argument in run function when running shell tests

9a0e100c
0	1	tests/test_shells/input.bash
0	1	tests/test_shells/input.busybox
0	1	tests/test_shells/input.dash
0	1	tests/test_shells/input.fish
0	1	tests/test_shells/input.mksh
1	1	tests/test_shells/input.tcsh
6	7	tests/test_shells/input.zsh
1	1	tests/test_shells/test.sh
4	4	tests/test_shells/zsh.daemon.ok
4	4	tests/test_shells/zsh.nodaemon.ok

--4c95928c	2014-08-29T22:22:39+04:00	ZyX	kp-pav@yandex.ru	Split shell tests into files

I am mostly interested in running all python and vim tests separately from other 
tests.
4c95928c
7	0	tests/run_lint_tests.sh
9	0	tests/run_python_tests.sh
9	0	tests/run_shell_tests.sh
11	0	tests/run_vim_tests.sh
4	22	tests/test.sh

--c5d15ac8	2014-08-29T21:06:06+04:00	ZyX	kp-pav@yandex.ru	Merge branch 'non-unicode-errors' into develop

c5d15ac8
--d138c947	2014-08-29T21:05:54+04:00	ZyX	kp-pav@yandex.ru	Fix non-unicode error messages

Ref #645
d138c947
7	1	powerline/__init__.py

--d455cec3	2014-08-29T20:56:38+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1038 from ZyX-I/ascii-defaults

Use non-unicode defaults in Python code
d455cec3
--849c34ea	2014-08-29T20:47:44+04:00	ZyX	kp-pav@yandex.ru	Replace all unicode defaults with defaults from ASCII theme

Closes #1034
849c34ea
20	20	powerline/segments/common.py
8	8	powerline/segments/vim/__init__.py
38	34	tests/test_segments.py

--e808dd76	2014-08-29T20:35:40+04:00	ZyX	kp-pav@yandex.ru	Specify temp_format argument for weather segment in ascii theme

e808dd76
2	1	powerline/config_files/themes/ascii.json

--c8d052ad	2014-08-29T20:33:06+04:00	ZyX	kp-pav@yandex.ru	Add `unicode_text` argument for fuzzy_time to top-level themes

c8d052ad
5	0	powerline/config_files/themes/ascii.json
5	0	powerline/config_files/themes/powerline.json
5	0	powerline/config_files/themes/unicode.json
5	0	powerline/config_files/themes/unicode_terminus.json
5	0	powerline/config_files/themes/unicode_terminus_condensed.json

--9fe0b661	2014-08-29T20:25:51+04:00	ZyX	kp-pav@yandex.ru	Merge branch 'top-theme-extend' into develop

9fe0b661
--356cb43e	2014-08-29T20:11:26+04:00	ZyX	kp-pav@yandex.ru	Add `powerline_segment_datas` attribute

Fixes #1035

356cb43e
2	0	docs/source/configuration/reference.rst
11	0	docs/source/develop/segments.rst
5	3	powerline/__init__.py
16	3	powerline/segment.py
10	1	powerline/theme.py
53	4	tests/test_configuration.py

--67845dc9	2014-08-29T19:36:30+04:00	ZyX	kp-pav@yandex.ru	Add documentation for segment attributes

67845dc9
35	0	docs/source/develop/segments.rst

--cde39f00	2014-08-29T19:17:53+04:00	ZyX	kp-pav@yandex.ru	Fix errors reported by syntastic in powerline.lint.inspect

cde39f00
0	2	powerline/lint/inspect.py

--e273287e	2014-08-29T19:17:14+04:00	ZyX	kp-pav@yandex.ru	Check for presence of powerline_requires_* attributes

In powerline.lint.inspect their value is checked, while in other place `hasattr`
is used. This commit removes this inconsistency.

e273287e
2	2	powerline/lint/inspect.py

--96a0af90	2014-08-29T19:10:13+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1036 from ZyX-I/fix-1033

Fix width used for tabline
96a0af90
--af10fa1e	2014-08-29T18:40:43+04:00	ZyX	kp-pav@yandex.ru	Fix typo in mergedicts_copy docstring

af10fa1e
1	1	powerline/lib/__init__.py

--8fb09bd8	2014-08-29T18:40:25+04:00	ZyX	kp-pav@yandex.ru	Add mergedefaults function that does not override existing keys

8fb09bd8
15	1	powerline/lib/__init__.py

--125f3097	2014-08-29T18:32:58+04:00	ZyX	kp-pav@yandex.ru	Fix width used for tabline

Fixes #1033
125f3097
4	1	powerline/renderers/vim.py
13	1	tests/test_tabline.vim

--e609bdf5	2014-08-29T00:50:26+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1032 from ZyX-I/skip-vcs-tests

Refactor VCS tests
e609bdf5
--53ab31ee	2014-08-29T00:28:41+04:00	ZyX	kp-pav@yandex.ru	Use setUpClass/tearDownClass to deal with VCS repositories

53ab31ee
14	21	tests/test_lib.py

--70fabdc0	2014-08-28T23:59:47+04:00	ZyX	kp-pav@yandex.ru	Use SkipTest for skipping tests

70fabdc0
5	3	tests/test_lib.py

--323f0c4e	2014-08-28T23:58:22+04:00	ZyX	kp-pav@yandex.ru	Use __import__ checks for skipping bzr/mercurial

Closes #1015

323f0c4e
23	11	tests/test_lib.py

--305fd791	2014-08-28T00:00:09+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1030 from ZyX-I/locale-support

Improve locales support
305fd791
--9658e45e	2014-08-27T23:42:04+04:00	ZyX	kp-pav@yandex.ru	Use &encoding as powerline encoding in Vim

Among other benefits (i.e. correct fall back to ascii theme when Vim uses
non-unicode encoding) this should also fix travis tests: apparently travis is
not setting LANG or similar environment variables to some unicode locale, so
tests are failing.

9658e45e
9	3	powerline/__init__.py
3	1	powerline/bindings/config.py
9	2	powerline/vim.py
1	0	tests/test_local_overrides.vim
1	1	tests/test_plugin_file.vim
1	0	tests/test_tabline.vim
1	0	tests/vim.py

--8f708117	2014-08-27T22:33:14+04:00	ZyX	kp-pav@yandex.ru	Add another answer to troubleshooting section

8f708117
8	0	docs/source/troubleshooting.rst

--e0264756	2014-08-27T22:30:59+04:00	ZyX	kp-pav@yandex.ru	Move LANG setting to run function, remove useless BINDFILE variable

e0264756
2	1	tests/test_shells/test.sh

--fe6cd47b	2014-08-27T22:28:44+04:00	ZyX	kp-pav@yandex.ru	Also add “Shell issues” section

fe6cd47b
3	0	docs/source/troubleshooting.rst

--dfb08fad	2014-08-27T22:28:07+04:00	ZyX	kp-pav@yandex.ru	Separate some issues into “Vim issues” section in troubleshooting

dfb08fad
31	28	docs/source/troubleshooting.rst

--285a6aa3	2014-08-27T22:24:27+04:00	ZyX	kp-pav@yandex.ru	Fall back to ASCII-only theme in case of non-unicode locale

285a6aa3
2	1	docs/source/configuration/reference.rst
10	3	powerline/__init__.py

--289a08c5	2014-08-27T22:04:48+04:00	ZyX	kp-pav@yandex.ru	Replace .replace(' ', NBSP) call with self.escape call

Dividers need to be escaped as well.

Fixes #1027

289a08c5
1	1	powerline/renderer.py
2	1	tests/test_shells/bash.daemon.ok
2	1	tests/test_shells/bash.nodaemon.ok
2	1	tests/test_shells/busybox.daemon.ok
2	1	tests/test_shells/busybox.nodaemon.ok
2	1	tests/test_shells/dash.daemon.ok
2	1	tests/test_shells/dash.nodaemon.ok
1	0	tests/test_shells/input.bash
1	0	tests/test_shells/input.busybox
1	0	tests/test_shells/input.dash
1	0	tests/test_shells/input.mksh
1	0	tests/test_shells/input.zsh
10	10	tests/test_shells/ipython.ok
2	1	tests/test_shells/mksh.daemon.ok
2	1	tests/test_shells/mksh.nodaemon.ok
2	1	tests/test_shells/zsh.daemon.ok
2	1	tests/test_shells/zsh.nodaemon.ok

--d32b798c	2014-08-27T21:58:57+04:00	ZyX	kp-pav@yandex.ru	Add `use_non_breaking_spaces` theme option, use it in ascii theme

d32b798c
13	0	docs/source/configuration/reference.rst
1	0	powerline/config_files/themes/ascii.json
1	0	powerline/lint/__init__.py
6	4	powerline/renderer.py
1	1	tests/test_local_overrides.vim
10	10	tests/test_shells/ipython.ok

--7e7803f6	2014-08-27T21:44:29+04:00	ZyX	kp-pav@yandex.ru	Make powerline-render respect user locale as well

Closes #1023

7e7803f6
4	4	powerline/shell.py
3	3	scripts/powerline-daemon
7	6	scripts/powerline-render

--484b9af6	2014-08-27T21:36:19+04:00	ZyX	kp-pav@yandex.ru	Use the same function for getting encoding in Python client and daemon

484b9af6
4	1	client/powerline.py

--7871cfcd	2014-08-27T21:34:18+04:00	ZyX	kp-pav@yandex.ru	Use posix.environ in Python client if available

This way there will be no need in converting keys and values to bytes objects on
\*nix systems.

7871cfcd
6	2	client/powerline.py

--54348529	2014-08-27T21:33:07+04:00	ZyX	kp-pav@yandex.ru	A few style improvements in Python client

54348529
7	1	client/powerline.py

--70e7088b	2014-08-27T21:30:02+04:00	ZyX	kp-pav@yandex.ru	Do not replace ascii with UTF-8 in powerline-daemon and python client

Assuming ascii was expected to be used when LANG=C it did not work in any case:
in this case preferred encoding is “ANSI_X3.4-1968”. Same for
`sys.getfilesystemencoding()`.

70e7088b
0	2	client/powerline.py
0	2	scripts/powerline-daemon

--dc1d50bc	2014-08-26T21:35:19+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1026 from ZyX-I/no-daemon-zero-byte

Do not make daemon output zero byte
dc1d50bc
--d88d87f6	2014-08-26T21:13:56+04:00	ZyX	kp-pav@yandex.ru	Do not make daemon output zero byte

This byte is useless and can be seen in zsh output (strange that it did not 
cause bugs so far, at least none I know about). It may have been needed if any 
client was supposed to hold connection with daemon for a few runs, but all 
current clients work in “request → output response → exit” fashion without 
caring about terminating newline and definitely without preserving connection to 
daemon accross runs.
d88d87f6
1	1	scripts/powerline-daemon
-	-	tests/test_shells/zsh.daemon.ok

--83940662	2014-08-26T20:44:10+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1025 from ZyX-I/fix-vim-troubleshooting

Fix some issues in Vim troubleshooting code
83940662
--644dec76	2014-08-26T20:19:04+04:00	ZyX	kp-pav@yandex.ru	Move one if check into python code

Reason: this removes one useless indentation level that breaks “tabs for
indentation, spaces for alignment” rule.

644dec76
1	2	powerline/bindings/vim/plugin/powerline.vim

--39a7142c	2014-08-26T20:15:58+04:00	ZyX	kp-pav@yandex.ru	Normalize all paths before doing anything else

39a7142c
7	3	powerline/bindings/vim/plugin/powerline.vim

--c3ba6d0c	2014-08-26T20:13:12+04:00	ZyX	kp-pav@yandex.ru	Do not remove one component from directory path

c3ba6d0c
0	1	powerline/bindings/vim/plugin/powerline.vim

--e316c81f	2014-08-26T20:06:49+04:00	ZyX	kp-pav@yandex.ru	Do not emit a warning about symlinks when it is not the problem

e316c81f
6	3	powerline/bindings/vim/plugin/powerline.vim

--dcf442e8	2014-08-26T20:00:11+04:00	ZyX	kp-pav@yandex.ru	Balance error message text

dcf442e8
2	2	powerline/bindings/vim/plugin/powerline.vim

--81d8a9e1	2014-08-26T19:57:45+04:00	ZyX	kp-pav@yandex.ru	Explicitly print exception from :try block

Reason: :try takes any output to the stderr as the exception, so traceback is 
never printed even though nothing is caught.
81d8a9e1
5	0	powerline/bindings/vim/plugin/powerline.vim

--b6e8318c	2014-08-26T19:31:20+04:00	ZyX	kp-pav@yandex.ru	Merge branch 'osx-shell-client' into develop

b6e8318c
--37546f4a	2014-08-26T19:31:10+04:00	ZyX	kp-pav@yandex.ru	Update shell powerline client OSX requirements in documentation

37546f4a
5	0	docs/source/installation/osx.rst

--c4aa72fc	2014-08-26T10:37:32+01:00	Pierre Carru	pierre.carru@gmail.com	Make shell client work in OS X:

- use gnu env for `env -0`,
- use filesystem socket.

c4aa72fc
12	2	client/powerline.sh

--21b10ee7	2014-08-25T19:41:56+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1005 from ZyX-I/fix-1002

Fix incorrect use of partial
21b10ee7
--1d931bbb	2014-08-25T00:56:00+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1019 from ZyX-I/workaround-1017

Keep marks around in powerline-lint
1d931bbb
--aeea3331	2014-08-25T00:48:24+04:00	ZyX	kp-pav@yandex.ru	Fix python-2.6 support

It was calling __setitem__ from copy.deepcopy on an unitialized dictionary.
aeea3331
7	4	powerline/lint/markedjson/markedvalue.py

--9d7c5dd3	2014-08-25T00:38:32+04:00	ZyX	kp-pav@yandex.ru	Add marks where they were forgotten

9d7c5dd3
11	9	powerline/lint/__init__.py

--1cc1e356	2014-08-25T00:38:04+04:00	ZyX	kp-pav@yandex.ru	Check whether values have marks recursively

1cc1e356
10	6	powerline/lint/__init__.py

--f8bea417	2014-08-25T00:37:25+04:00	ZyX	kp-pav@yandex.ru	Add MarkedDict.keydict attribute

Useful for preserving marked keys

f8bea417
12	1	powerline/lint/markedjson/markedvalue.py

--3a608d83	2014-08-25T00:36:43+04:00	ZyX	kp-pav@yandex.ru	Record docstring marks

3a608d83
40	11	powerline/lint/__init__.py

--59e039ab	2014-08-24T23:24:32+04:00	ZyX	kp-pav@yandex.ru	Make error messages from context_has_marks and havemarks more verbose

59e039ab
3	3	powerline/lint/__init__.py

--721dadd5	2014-08-24T23:23:31+04:00	ZyX	kp-pav@yandex.ru	Use init_context to initialize config context

721dadd5
10	6	powerline/lint/__init__.py

--b5fae89d	2014-08-24T23:18:44+04:00	ZyX	kp-pav@yandex.ru	Check whether all values that should have mark attribute have it

b5fae89d
46	0	powerline/lint/__init__.py

--8b30e9d3	2014-08-24T23:06:30+04:00	ZyX	kp-pav@yandex.ru	Also in another place, just in case

8b30e9d3
2	1	powerline/lint/__init__.py

--26cc26a6	2014-08-24T23:04:50+04:00	ZyX	kp-pav@yandex.ru	Mark default value of default_module value

26cc26a6
2	1	powerline/lint/__init__.py

--242a6a0f	2014-08-24T22:19:10+04:00	ZyX	kp-pav@yandex.ru	Add `None` mark to module object

Applicable only when it fallbacks to the default value. This may output shown by
travis more informative. And in any case old code contained a bug.

242a6a0f
16	8	powerline/lint/__init__.py

--9ee8e697	2014-08-24T22:09:28+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1018 from ZyX-I/solarized-colors-names

Use color names specific to solarized
9ee8e697
--40701441	2014-08-24T22:01:10+04:00	ZyX	kp-pav@yandex.ru	Move solarized colors below other colors

40701441
10	10	powerline/config_files/colors.json

--9d63fb42	2014-08-24T22:00:36+04:00	ZyX	kp-pav@yandex.ru	Remove unneeded colors

9d63fb42
1	19	powerline/config_files/colors.json

--a70ec39a	2014-08-24T21:55:13+04:00	ZyX	kp-pav@yandex.ru	Make powerline-lint support `id:id` groups

a70ec39a
3	3	powerline/lint/__init__.py

--abc9c5ef	2013-04-20T21:14:32+02:00	pearofducks	pearofducks@gmail.com	Add a prefix to solarized color names

Conflicts:
	powerline/config_files/colors.json
	powerline/config_files/colorschemes/shell/solarized.json
	powerline/config_files/colorschemes/vim/solarized.json

abc9c5ef
17	0	powerline/config_files/colors.json
5	5	powerline/config_files/colorschemes/shell/solarized.json
13	13	powerline/config_files/colorschemes/solarized.json
77	77	powerline/config_files/colorschemes/vim/solarized.json
77	77	powerline/config_files/colorschemes/vim/solarizedlight.json

--2954a5c4	2014-08-24T21:19:04+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1016 from ZyX-I/tmux-attached_clients

Add segment with count of clients attached to tmux
2954a5c4
--69939f35	2014-08-24T21:08:20+04:00	ZyX	kp-pav@yandex.ru	Add __future__ import

69939f35
1	0	powerline/segments/tmux.py

--dc7f8c22	2014-08-24T21:07:46+04:00	ZyX	kp-pav@yandex.ru	Wrap docstring and add dot

dc7f8c22
2	1	powerline/segments/tmux.py

--e4565dd3	2014-08-24T21:07:19+04:00	ZyX	kp-pav@yandex.ru	Make attached_clients segment use provided tmux bindings

e4565dd3
6	20	powerline/segments/tmux.py
8	9	tests/test_segments.py

--eee150f9	2014-08-22T23:47:13+04:00	ZyX	kp-pav@yandex.ru	Move some functions to from bindings.config to bindings.tmux

eee150f9
2	45	powerline/bindings/config.py
53	0	powerline/bindings/tmux/__init__.py

--88515ab4	2013-09-08T10:29:21-05:00	Matthew M. Keeler	keelerm84@gmail.com	Show Count of Attached Tmux Sessions

- This segment displays the number of attached tmux clients to the
  currently running session.
- The minimum argument is used to specify a threshold for when the
  segment should be visible.

Fixes #661
Closes #662

Conflicts:
	docs/source/index.rst
	powerline/config_files/colorschemes/shell/default.json
	powerline/config_files/colorschemes/shell/solarized.json
	powerline/config_files/colorschemes/tmux/default.json
	powerline/config_files/colorschemes/vim/default.json
	powerline/config_files/colorschemes/vim/solarized.json
	powerline/config_files/colorschemes/wm/default.json
	tests/test_segments.py

88515ab4
6	0	docs/source/configuration/segments/tmux.rst
2	1	powerline/config_files/colorschemes/default.json
2	1	powerline/config_files/colorschemes/shell/default.json
2	1	powerline/config_files/colorschemes/solarized.json
1	0	powerline/config_files/colorschemes/vim/default.json
1	0	powerline/config_files/colorschemes/vim/solarized.json
34	0	powerline/segments/tmux.py
8	0	tests/lib/__init__.py
23	4	tests/test_segments.py

--48b575b6	2014-08-24T20:19:59+04:00	ZyX	kp-pav@yandex.ru	Merge branch 'rdio-mac-app-player' into develop

Closes #530

48b575b6
--a9c397e5	2014-08-24T20:19:28+04:00	ZyX	kp-pav@yandex.ru	Increase indentation of osascript code in spotify player

a9c397e5

--86c9e998	2014-08-24T20:17:47+04:00	ZyX	kp-pav@yandex.ru	Refactor player_rdio to use the same approach spotify uses

86c9e998
19	16	powerline/segments/common.py

--7f9eef4c	2013-05-30T10:50:04-07:00	Zero Cho	zcho@twitter.com	Add player support for Rdio Mac app

Conflicts:
	powerline/segments/common.py

7f9eef4c
35	0	powerline/segments/common.py

--d4525a80	2014-08-24T20:08:20+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1014 from ZyX-I/zsh-named-dirs

Add support for zsh named directories
d4525a80
--45d20530	2014-08-24T19:57:54+04:00	ZyX	kp-pav@yandex.ru	Do not specify $PYTHON when running python client

It is not needed: in the environment where it is run only python is the one
linked in tests/shell/path.

45d20530
1	1	tests/test_shells/test.sh

--d7a674de	2014-08-24T19:50:37+04:00	ZyX	kp-pav@yandex.ru	Add support for shell-specific path shortening

Fixes #502

d7a674de
1	0	powerline/bindings/zsh/__init__.py
7	0	powerline/bindings/zsh/powerline.zsh
5	5	powerline/config_files/themes/ascii.json
5	5	powerline/config_files/themes/powerline.json
1	1	powerline/config_files/themes/shell/__main__.json
1	0	powerline/config_files/themes/shell/default.json
1	0	powerline/config_files/themes/shell/default_leftonly.json
5	5	powerline/config_files/themes/unicode.json
5	5	powerline/config_files/themes/unicode_terminus.json
6	6	powerline/config_files/themes/unicode_terminus_condensed.json
41	0	powerline/segments/shell.py
116	0	tests/test_segments.py
2	0	tests/test_shells/input.zsh
-	-	tests/test_shells/zsh.daemon.ok
2	0	tests/test_shells/zsh.nodaemon.ok

--86c3768e	2014-08-24T19:19:12+04:00	ZyX	kp-pav@yandex.ru	Move with_docstring function to powerline.segments

86c3768e
0	5	powerline/lib/threaded.py
5	0	powerline/segments/__init__.py
2	2	powerline/segments/common.py

--f4e49e2e	2014-08-24T19:13:47+04:00	ZyX	kp-pav@yandex.ru	Make powerline autodoc add all Segments

f4e49e2e
2	2	docs/source/powerline_autodoc.py

--04c0030f	2014-08-24T19:07:59+04:00	ZyX	kp-pav@yandex.ru	Refactor cwd segment into a class and add shorten_home argument

04c0030f
51	23	powerline/segments/common.py
6	0	tests/test_segments.py

--7c07f242	2014-08-24T18:08:25+04:00	ZyX	kp-pav@yandex.ru	Merge branch 'clementine-dbus' into develop

7c07f242
--7c587f5c	2014-08-24T18:07:07+04:00	ZyX	kp-pav@yandex.ru	Add clementine media player support

Based on #438 by @printesoi

Fixes #422
Closes #438
7c587f5c
32	11	powerline/segments/common.py

--e7ef2d14	2014-08-24T18:02:50+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1013 from ZyX-I/fix-341

Catch errors from tree_status
e7ef2d14
--2d4897d5	2014-08-24T17:46:11+04:00	ZyX	kp-pav@yandex.ru	Catch errors from tree_status

Fixes #341
2d4897d5
4	0	powerline/segments/common.py

--10665f4c	2014-08-24T17:45:08+04:00	ZyX	kp-pav@yandex.ru	Do not format message before passing it to self.pl.warn

10665f4c
1	1	powerline/lib/vcs/__init__.py

--cd981180	2014-08-24T17:22:14+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1012 from ZyX-I/fish-vi-mode

Add fish vi mode support

Closes #879
Fixes #878
cd981180
--58057c95	2014-08-24T17:13:00+04:00	ZyX	kp-pav@yandex.ru	Add a directory that will make fish_update_completions not launch

58057c95
2	0	tests/test_shells/test.sh

--0af5e2d2	2014-08-24T17:09:40+04:00	ZyX	kp-pav@yandex.ru	Test mode support in fish

WARNING: Requires development version of fish. Since fish is not tested in
travis it is probably OK.

0af5e2d2
19	0	tests/test_shells/fish.ok
3	0	tests/test_shells/input.fish
6	2	tests/test_shells/postproc.py

--54672aac	2014-08-24T16:59:03+04:00	ZyX	kp-pav@yandex.ru	Make COMMAND_PATTERN consistent with other arguments

54672aac
1	0	tests/test_shells/input.fish
5	7	tests/test_shells/test.sh

--68ecd81e	2014-08-24T16:58:35+04:00	ZyX	kp-pav@yandex.ru	Wait until fish_update_completions finishes

68ecd81e
3	1	tests/test_shells/input.fish

--09b78884	2014-08-24T15:37:56+04:00	ZyX	kp-pav@yandex.ru	Set default mode in another function

09b78884
3	0	powerline/bindings/fish/powerline-setup.fish

--9be2a2e3	2014-05-24T03:17:14+08:00	Shen-Ta Hsieh	ibmibmibm.tw@gmail.com	add _POWERLINE_DEFAULT_MODE detection

9be2a2e3
5	0	powerline/bindings/fish/powerline-setup.fish

--04c293e4	2014-05-23T23:44:19+08:00	sthsieh	sthsieh@synology.com	Add fish shell vi-mode support

04c293e4
4	0	powerline/bindings/fish/powerline-setup.fish

--c2f35ca7	2014-08-24T13:57:08+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1011 from ZyX-I/old-vims

Improve Vim bindings
c2f35ca7
--5bc1f75b	2014-08-24T13:41:54+04:00	ZyX	kp-pav@yandex.ru	Add support for vim.eval('v:version') in test bindings

5bc1f75b
2	0	tests/vim.py

--6a8074a3	2014-08-24T13:35:22+04:00	ZyX	kp-pav@yandex.ru	Update information about Vim version

6a8074a3
3	1	docs/source/usage.rst

--767d0afa	2014-08-24T13:32:52+04:00	ZyX	kp-pav@yandex.ru	Make troubleshooting routine actually work

767d0afa
4	0	powerline/bindings/vim/plugin/powerline.vim

--6dde8f2f	2014-08-24T13:27:52+04:00	ZyX	kp-pav@yandex.ru	Move powerline setup under :try

Makes it benefit from troubleshooting below

6dde8f2f
7	10	powerline/bindings/vim/plugin/powerline.vim

--2c8932b0	2014-08-24T13:21:51+04:00	ZyX	kp-pav@yandex.ru	Do not call mode() with an argument on old Vims

2c8932b0
5	1	powerline/renderers/vim.py

--c2609e31	2014-08-24T13:21:09+04:00	ZyX	kp-pav@yandex.ru	Replace let s:pystr… with call s:rcmd(…)

Makes lines slightly shorter

c2609e31
47	37	powerline/bindings/vim/plugin/powerline.vim

--098dadad	2014-08-24T13:20:08+04:00	ZyX	kp-pav@yandex.ru	Add some unlets before calling :finish

098dadad
2	0	powerline/bindings/vim/plugin/powerline.vim

--4f07694e	2014-08-24T01:32:43+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1010 from ZyX-I/internal_ip

Add internal_ip segment

Closes #857
Fixes #826
4f07694e
--173c4d6e	2014-08-24T01:20:25+04:00	ZyX	kp-pav@yandex.ru	Add internal_ip segment

Closes #857
173c4d6e
1	0	powerline/config_files/colorschemes/default.json
68	0	powerline/segments/common.py
1	1	tests/install.sh
2	1	tests/lib/__init__.py
47	1	tests/test_segments.py

--d76df9f1	2014-08-23T19:09:42+04:00	ZyX	kp-pav@yandex.ru	Merge branch 'fix-reloading' into develop

d76df9f1
--483b2610	2014-08-23T19:09:28+04:00	ZyX	kp-pav@yandex.ru	When processing exception from _load do not allow overwriting it

If `self.loaded.pop` raises KeyError then this KeyError will be logged, not the 
initial exception from `self._load`.
483b2610
1	1	powerline/lib/config.py

--f6f8dd8a	2014-08-23T19:07:57+04:00	ZyX	kp-pav@yandex.ru	Make condition function return path as expected by lib.config

f6f8dd8a
3	1	powerline/__init__.py

--1a71ed3e	2014-08-23T16:30:59+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1009 from ZyX-I/fix-1008

Improve Python 3 compatibility when using daemon and client
1a71ed3e
--20e9575c	2014-08-23T16:24:16+04:00	ZyX	kp-pav@yandex.ru	Do not try to test ipython if it is not available

20e9575c
2	0	tests/test_shells/test.sh

--1b561796	2014-08-23T16:02:04+04:00	ZyX	kp-pav@yandex.ru	Disable dash tests in travis

1b561796
4	3	tests/test_shells/test.sh

--ebc98977	2014-08-23T15:18:00+04:00	ZyX	kp-pav@yandex.ru	Make test_shells/test.sh compatible with dash

ebc98977
4	5	tests/test_shells/test.sh

--9b7052bf	2014-08-23T15:16:30+04:00	ZyX	kp-pav@yandex.ru	Do not execute all tests in travis

9b7052bf
1	1	tests/test.sh
30	3	tests/test_shells/test.sh

--0232d321	2014-08-23T14:55:59+04:00	ZyX	kp-pav@yandex.ru	Add --socket argument to all clients

Makes it not needed to kill daemon for testing, but disables implicit
`powerline-config shell command` testing.

0232d321
10	2	client/powerline.c
6	1	client/powerline.py
6	0	client/powerline.sh
1	0	powerline/shell.py
28	14	scripts/powerline-daemon
14	9	tests/test_shells/test.sh

--77a7a267	2014-08-23T04:43:17+04:00	ZyX	kp-pav@yandex.ru	Do not require scripts/powerline

It may be immediately moved to bin/ sometimes or not compiled at all for some
reason.

77a7a267
7	0	tests/test_shells/test.sh

--042d5422	2014-08-23T03:52:09+04:00	ZyX	kp-pav@yandex.ru	Also test whether running daemon is successfull without arguments

042d5422
17	0	tests/test_shells/test.sh

--b9360a08	2014-08-23T03:28:51+04:00	ZyX	kp-pav@yandex.ru	Make tests test powerline daemon with valid python and all clients

b9360a08
1	1	tests/install.sh
4	3	tests/test_shells/postproc.py
1	1	tests/test_shells/screenrc
101	46	tests/test_shells/test.sh

--03c22e94	2014-08-23T04:30:22+04:00	ZyX	kp-pav@yandex.ru	Make tcsh check whether some variables are defined or empty

Makes it consistent with other shells

03c22e94
0	6	docs/source/configuration/local.rst
12	0	powerline/bindings/tcsh/powerline.tcsh

--8e77262f	2014-08-23T04:19:54+04:00	ZyX	kp-pav@yandex.ru	Perform shell word splitting in zsh bindings

This makes POWERLINE_COMMAND be consistent across various bindings.

8e77262f
3	5	docs/source/configuration/local.rst
6	6	powerline/bindings/zsh/powerline.zsh

--dc763969	2014-08-23T04:10:47+04:00	ZyX	kp-pav@yandex.ru	Solve encoding issues in powerline python client

dc763969
10	6	client/powerline.py

--74d147a0	2014-08-23T03:55:37+04:00	ZyX	kp-pav@yandex.ru	Use `open` to open file descriptors in place of `file`

Reason: there is no `file()` in Python 3.

Fix was originally presented by @kovidgoyal in [3deb69][1], but I cannot
cherry-pick this commit, because its commit message is highly undescriptive.

Fixes #1008

[1]: https://github.com/kovidgoyal/powerline-daemon/commit/3deb6988c8992d92ef43d9f03c7a725ac9836c20

74d147a0
3	3	scripts/powerline-daemon

--6e128c14	2014-08-22T22:04:29+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1007 from ZyX-I/tab-modified-indicator

Add tab_modified indicator
6e128c14
--5a45b7d2	2014-08-22T21:34:37+04:00	ZyX	kp-pav@yandex.ru	Move processing segment['mode'] to segment.py

5a45b7d2
23	9	powerline/segment.py
2	13	powerline/theme.py

--974ec17b	2014-08-22T21:03:27+04:00	ZyX	kp-pav@yandex.ru	Filter segments using mode in Theme.get_segments

974ec17b
13	15	powerline/renderer.py
17	2	powerline/theme.py

--6481f1b6	2014-08-22T20:39:31+04:00	ZyX	kp-pav@yandex.ru	Always specify all keys in segment_info

6481f1b6
4	8	powerline/renderers/vim.py
4	5	powerline/vim.py
1	1	tests/test_provided_config_files.py

--da48e9d8	2014-08-22T09:08:58+04:00	ZyX	kp-pav@yandex.ru	Add tests

da48e9d8
23	0	tests/test_segments.py

--5c4d75f9	2014-08-22T08:59:25+04:00	ZyX	kp-pav@yandex.ru	Make tab_modified_indicator work in old Vims

Closes #996

5c4d75f9
24	0	powerline/bindings/vim/__init__.py
5	7	powerline/segments/vim/__init__.py

--9cab9d6f	2014-08-22T08:40:11+04:00	ZyX	kp-pav@yandex.ru	Use tab_modified_indicator highlight group

9cab9d6f
3	1	powerline/segments/vim/__init__.py

--58b7e6c8	2014-08-22T08:38:56+04:00	ZyX	kp-pav@yandex.ru	Use spaces for alignment

58b7e6c8

--80c4856b	2014-08-22T08:38:38+04:00	ZyX	kp-pav@yandex.ru	Remove useless TODO

80c4856b
0	1	powerline/segments/vim/__init__.py

--96e297cc	2014-08-18T17:33:16+02:00	Jan Losinski	losinski@wh2.tu-dresden.de	Add tab_modified_indicator to the vim segments

This indicates in the tabline that any of the open buffers in a tab
page has unsaved modifications (like the default tabline do).

Signed-off-by: Jan Losinski <losinski@wh2.tu-dresden.de>

96e297cc
5	0	powerline/config_files/themes/vim/tabline.json
19	0	powerline/segments/vim/__init__.py

--14a68ef8	2014-08-22T08:17:27+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1006 from ZyX-I/vim-reload-local_themes

Fix Vim extension reloading when using .add_local_theme()
14a68ef8
--849a8664	2014-08-22T00:46:12+04:00	ZyX	kp-pav@yandex.ru	Fix Vim extension reloading when using .add_local_theme()

849a8664
5	4	powerline/__init__.py
12	3	powerline/vim.py

--abaac3f0	2014-08-22T00:32:17+04:00	ZyX	kp-pav@yandex.ru	Fix indentation error reported by syntastic

abaac3f0

--a50b4880	2014-08-22T00:30:29+04:00	ZyX	kp-pav@yandex.ru	Fix incorrect use of partial

Fixes #1002
a50b4880
4	4	powerline/segments/common.py

--0ea1cd6f	2014-08-21T23:52:36+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1004 from ZyX-I/fix-1003

Fix incorrect include/exclude_modes handling
0ea1cd6f
--075eb842	2014-08-21T23:31:48+04:00	ZyX	kp-pav@yandex.ru	Add tests

075eb842
44	0	tests/test_configuration.py

--95bdca87	2014-08-21T23:24:30+04:00	ZyX	kp-pav@yandex.ru	Fix syntastic warnings in powerline/__init__

95bdca87
0	1	powerline/__init__.py

--88a0b907	2014-08-21T23:17:15+04:00	ZyX	kp-pav@yandex.ru	Remove unused vim import

88a0b907
0	1	tests/test_configuration.py

--6b51d122	2014-08-21T23:10:54+04:00	ZyX	kp-pav@yandex.ru	Fix typo in renderer implementation

Fixes #1003

6b51d122
2	2	powerline/renderer.py

--b9573088	2014-08-20T21:38:58+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1001 from ZyX-I/workaround-997

Do not use some features in old Vims as they cause a crash
b9573088
--8262a0ec	2014-08-20T20:34:23+04:00	ZyX	kp-pav@yandex.ru	Do not use some features in old Vims as they cause a crash

Fixes #997
Closes #999

8262a0ec
28	22	powerline/bindings/vim/__init__.py

--e18251d5	2014-08-20T21:13:12+04:00	ZyX	kp-pav@yandex.ru	Merge branch 'fix-ipython-tests' into develop

e18251d5
--48aac906	2014-08-20T21:12:10+04:00	ZyX	kp-pav@yandex.ru	Fix ipython tests

48aac906
4	4	tests/test_provided_config_files.py

--f9e525bd	2014-08-19T23:56:55+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #1000 from ZyX-I/non-vim-reload

Add powerline reloading support to IPython and zsh with libzpython
f9e525bd
--28bcb013	2014-08-19T22:12:33+04:00	ZyX	kp-pav@yandex.ru	Update documentation

28bcb013
2	0	docs/source/develop/segments.rst
43	0	docs/source/tips-and-tricks.rst

--137fffc9	2014-08-19T21:29:32+04:00	ZyX	kp-pav@yandex.ru	Add `%powerline reload` IPython magic function

137fffc9
41	11	powerline/bindings/ipython/post_0_11.py
29	19	powerline/bindings/ipython/pre_0_11.py
3	2	powerline/ipython.py

--06175dcd	2014-08-19T19:54:54+04:00	ZyX	kp-pav@yandex.ru	Refactor IPython bindings

- Replaced two powerline objects with one powerline object utilizing
  RendererProxy proxy class that holds two Renderer instances.
- Made .setup() functions do something more meaningful.

06175dcd
13	18	powerline/bindings/ipython/post_0_11.py
32	17	powerline/bindings/ipython/pre_0_11.py
5	9	powerline/ipython.py
35	1	powerline/renderers/ipython/__init__.py
0	12	powerline/renderers/ipython/prompt.py
3	3	powerline/renderers/shell/__init__.py
2	2	tests/test_provided_config_files.py

--b93f8d9b	2014-08-19T19:44:07+04:00	ZyX	kp-pav@yandex.ru	Rename Ipython to IPython (two capital letters in place of one)

b93f8d9b
7	7	powerline/bindings/ipython/post_0_11.py
7	7	powerline/bindings/ipython/pre_0_11.py
6	6	powerline/ipython.py
3	3	powerline/renderers/ipython/__init__.py
3	3	powerline/renderers/ipython/prompt.py
2	2	tests/test_provided_config_files.py

--50160e98	2014-08-19T21:57:23+04:00	ZyX	kp-pav@yandex.ru	Add powerline-reload function for libzpython bindings

50160e98
5	0	powerline/bindings/zsh/powerline.zsh

--23a3dc8f	2014-08-19T19:05:49+04:00	ZyX	kp-pav@yandex.ru	Implement powerline reloading in libzpython bindings

23a3dc8f
30	17	powerline/bindings/zsh/__init__.py
1	1	powerline/bindings/zsh/powerline.zsh

--015a2160	2014-08-19T19:05:14+04:00	ZyX	kp-pav@yandex.ru	Import sys in reload() function

It may be None sometimes
015a2160
1	0	powerline/__init__.py

--ff78eaa3	2014-08-18T22:45:32+04:00	ZyX	kp-pav@yandex.ru	Do not override Powerline.setup(), use .do_setup() for this

Same reason as for `.__init__()` which was replaced by `.init()`
ff78eaa3
12	2	powerline/__init__.py
1	2	powerline/ipython.py
1	2	powerline/shell.py
1	2	powerline/vim.py

--696f4d23	2014-08-16T19:57:05+04:00	ZyX	kp-pav@yandex.ru	Merge branch 'less-terminus-spaces' into develop

696f4d23
--f88d6cde	2014-08-16T19:56:47+04:00	ZyX	kp-pav@yandex.ru	Fix typo in unicode_terminus theme: make it use one space

f88d6cde

--849bdb7d	2014-08-16T18:32:38+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #436 from ZyX-I/powerline-reload

Add support for reloading powerline
849bdb7d
--fe7aad76	2014-08-16T18:30:25+04:00	ZyX	kp-pav@yandex.ru	Update documentation for `Powerline.init`

fe7aad76
5	1	powerline/__init__.py

--94354475	2013-04-15T23:49:04+04:00	ZyX	kp-pav@ya.ru	Add support for full powerline reloading at runtime

Is not guaranteed to work in all cases.

94354475
42	2	powerline/__init__.py
2	2	powerline/bindings/ipython/post_0_11.py
2	2	powerline/bindings/ipython/pre_0_11.py
2	2	powerline/ipython.py
2	2	powerline/shell.py
2	2	powerline/vim.py

--ca13bc53	2013-04-15T08:31:02+04:00	ZyX	kp-pav@ya.ru	Add setup function

ca13bc53
8	0	powerline/__init__.py
2	2	powerline/bindings/ipython/post_0_11.py
2	2	powerline/bindings/ipython/pre_0_11.py
3	3	powerline/bindings/vim/plugin/powerline.vim
1	0	powerline/bindings/zsh/__init__.py
4	0	powerline/ipython.py
4	0	powerline/shell.py
56	49	powerline/vim.py

--3c1ec195	2013-04-15T08:30:21+04:00	ZyX	kp-pav@ya.ru	Record imported modules

3c1ec195
4	2	powerline/__init__.py

--10952571	2013-04-10T20:04:22+04:00	ZyX	kp-pav@ya.ru	Pop path from self.loaded on exception

10952571
4	0	powerline/lib/config.py

--85189e8b	2013-04-09T00:19:06+04:00	ZyX	kp-pav@ya.ru	Add set_event argument to .shutdown() method

85189e8b
12	3	powerline/__init__.py

--bbe3210b	2013-04-09T00:00:28+04:00	ZyX	kp-pav@ya.ru	Remove reference cycle

Switches from

    powerline ↔ get_module_attr (as a bound method it contains reference to
            │       ↑            self)
            └────> theme

to

            ┌────> pl, import_paths
            │       ↑
    powerline → get_module_attr
            │       ↑
            └────> theme

This is a separate commit because I am not sure whether it makes sense to bother
with this cycle.

bbe3210b
34	30	powerline/__init__.py

--446eb42e	2013-04-08T23:46:29+04:00	ZyX	kp-pav@ya.ru	Replace various __import__ calls with one Powerline.get_module_attr

Also makes some more errors non-fatal:
- Failure to import renderer class in case there is an existing renderer object
- Failure to import segment function
- Failure to import matcher function

One of the purposes: create a function that is able to collect all imported
modules to reload them (really purge out from `sys.modules` and let the python
do its job when reimporting powerline and recreating Powerline and other
objects).

446eb42e
37	5	powerline/__init__.py
0	19	powerline/matcher.py
6	9	powerline/segment.py
2	1	powerline/theme.py
17	6	powerline/vim.py

--c2c2d7ef	2014-08-16T15:16:51+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #994 from ZyX-I/refactor-watcher

Refactor watchers code
c2c2d7ef
--39251ce1	2014-08-16T15:00:49+04:00	ZyX	kp-pav@yandex.ru	Remove in-method imports from inotify

39251ce1
4	6	powerline/lib/inotify.py
1	2	powerline/lib/watcher/inotify.py

--cb99c060	2014-06-29T01:00:44+04:00	ZyX	kp-pav@yandex.ru	Move watcher tests into a separate file

cb99c060
2	95	tests/test_lib.py
130	0	tests/test_watcher.py

--2faa2a25	2014-06-28T22:59:46+04:00	ZyX	kp-pav@yandex.ru	Move tree_watcher to powerline/lib/watcher and split it

2faa2a25
0	217	powerline/lib/tree_watcher.py
11	9	powerline/lib/vcs/__init__.py
18	1	powerline/lib/watcher/__init__.py
126	0	powerline/lib/watcher/inotify.py
83	0	powerline/lib/watcher/tree.py
3	4	tests/test_lib.py

--cb41ce40	2014-06-28T22:38:36+04:00	ZyX	kp-pav@yandex.ru	Remove function that is not used anywhere

cb41ce40
0	4	powerline/lib/tree_watcher.py

--14608d1b	2014-06-28T22:37:05+04:00	ZyX	kp-pav@yandex.ru	Make naming consistent with tree_watcher

14608d1b
6	6	powerline/lib/watcher/__init__.py
3	3	powerline/lib/watcher/inotify.py
1	1	powerline/lib/watcher/stat.py

--61074fcd	2014-06-28T22:35:31+04:00	ZyX	kp-pav@yandex.ru	Refactor file_watcher.py into four files

61074fcd
1	1	powerline/lib/config.py
8	0	powerline/lib/path.py
1	1	powerline/lib/vcs/__init__.py
49	0	powerline/lib/watcher/__init__.py
4	105	powerline/lib/{file_watcher.py => watcher/inotify.py}
44	0	powerline/lib/watcher/stat.py
1	1	powerline/segment.py
1	1	tests/test_lib.py

--1ea3b96f	2014-08-16T14:44:44+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #993 from ZyX-I/listers

Some lister improvements

Fixes #989
Closes #972
Ref #614
1ea3b96f
--62e8e788	2014-08-16T14:36:48+04:00	ZyX	kp-pav@yandex.ru	Fix exclude_/include_modes support with new segment['mode'] key

62e8e788
5	3	powerline/renderer.py

--31731a93	2014-08-16T14:25:43+04:00	ZyX	kp-pav@yandex.ru	Add bufnr and modified_indicator segments to tabline

31731a93
1	1	powerline/config_files/colorschemes/vim/__main__.json
11	0	powerline/config_files/themes/vim/tabline.json
1	1	tests/test_tabline.vim

--a792fb0e	2014-08-16T14:25:12+04:00	ZyX	kp-pav@yandex.ru	Add support for `draw_inner_divider` in listers

a792fb0e
6	0	docs/source/develop/listers.rst
0	2	powerline/config_files/themes/vim/tabline.json
6	0	powerline/segment.py

--6106e914	2014-08-16T14:00:08+04:00	ZyX	kp-pav@yandex.ru	Remove duplicate documentation of draw_inner_divider

6106e914
2	0	docs/source/configuration/reference.rst
4	10	docs/source/develop/segments.rst

--407a8bca	2014-08-16T13:59:00+04:00	ZyX	kp-pav@yandex.ru	Fix incorrect description of draw_inner_divider

407a8bca
2	2	docs/source/develop/segments.rst

--096c4801	2014-08-16T13:51:26+04:00	ZyX	kp-pav@yandex.ru	Use buf_nc and tab_nc modes in listers

096c4801
38	0	powerline/config_files/colorschemes/vim/default.json
20	0	powerline/config_files/colorschemes/vim/solarized.json
20	0	powerline/config_files/colorschemes/vim/solarizedlight.json
1	1	powerline/config_files/themes/vim/tabline.json
1	1	powerline/lint/__init__.py
4	4	powerline/listers/vim.py

--ac7a9596	2014-08-16T13:46:14+04:00	ZyX	kp-pav@yandex.ru	Remove nonlocal image URLs from overview

ac7a9596
7	7	docs/source/overview.rst

--d1782d4a	2014-08-16T13:43:22+04:00	ZyX	kp-pav@yandex.ru	Add documentation about creating listers

d1782d4a
2	0	docs/source/configuration/listers.rst
1	0	docs/source/develop.rst
45	0	docs/source/develop/listers.rst

--a3324134	2014-08-16T13:33:59+04:00	ZyX	kp-pav@yandex.ru	Use generators in place of list comprehension in listers

a3324134
6	6	powerline/listers/vim.py

--c3099ce4	2014-08-16T13:22:31+04:00	ZyX	kp-pav@yandex.ru	Add lister reference

c3099ce4
1	0	docs/source/configuration.rst
21	0	docs/source/configuration/listers.rst
2	0	docs/source/develop/segments.rst

--402cc9e9	2014-08-16T13:21:46+04:00	ZyX	kp-pav@yandex.ru	Also show documentation for plugin-specific segments

402cc9e9
28	0	docs/source/configuration/segments/vim.rst

--24938e0b	2014-08-16T13:06:19+04:00	ZyX	kp-pav@yandex.ru	Remove duplicate information from configuration/segments.rst

24938e0b
1	7	docs/source/configuration/segments.rst

--ff2009d5	2014-08-16T13:03:40+04:00	ZyX	kp-pav@yandex.ru	Update mode in segment_info in tabpage lister

ff2009d5
6	5	powerline/listers/vim.py

--54f0537d	2014-08-16T12:57:34+04:00	ZyX	kp-pav@yandex.ru	Do not show unlisted buffers

Closes #972
54f0537d
22	6	powerline/listers/vim.py

--61fc73d9	2014-08-16T12:42:25+04:00	ZyX	kp-pav@yandex.ru	Make listers accept any number of keyword arguments

61fc73d9
5	5	powerline/listers/vim.py

--642ced97	2014-08-16T12:39:27+04:00	ZyX	kp-pav@yandex.ru	Move listers to powerline.listers.vim module

642ced97
1	0	powerline/config_files/themes/vim/tabline.json
0	0	powerline/listers/__init__.py
104	0	powerline/listers/vim.py
6	98	powerline/segments/vim/__init__.py

--cb598f1c	2014-08-16T11:56:30+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #992 from jarnett/develop

another workaround for _powerline_tmux_setenv() issue with bash-4.2.45
cb598f1c
--65dfc9f2	2014-08-15T23:17:00-04:00	Jesse	jesse.arnett@inbox.com	another workaround for _powerline_tmux_setenv() issue with bash-4.2.45

65dfc9f2
1	1	powerline/bindings/bash/powerline.sh

--9ba37d9a	2014-08-15T21:37:27+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #988 from ZyX-I/weather-icons

Add weather icons to top-level themes
9ba37d9a
--79a36298	2014-08-15T21:14:40+04:00	ZyX	kp-pav@yandex.ru	Replace foggy weather symbol with IDENTICAL TO

Closes #799
79a36298
1	1	powerline/config_files/themes/powerline.json
1	1	powerline/config_files/themes/unicode.json

--7ab8c30c	2014-08-15T21:13:17+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #987 from ZyX-I/style

Fix powerline style
7ab8c30c
--e2ffc806	2014-08-15T21:12:14+04:00	ZyX	kp-pav@yandex.ru	Add weather icons to various themes

e2ffc806
18	0	powerline/config_files/themes/ascii.json
18	0	powerline/config_files/themes/powerline.json
18	0	powerline/config_files/themes/unicode.json
18	0	powerline/config_files/themes/unicode_terminus.json
18	0	powerline/config_files/themes/unicode_terminus_condensed.json

--ae92d83e	2014-08-15T20:58:19+04:00	ZyX	kp-pav@yandex.ru	Fix powerline style

Specifically I searched for all lines that are more then one tab off compared to 
the previous line with

    BufGrep /\(^\t\+\)\S.*\n\1\t\t\+/

and replaced them with something more appropriate. Most of time this resulted in 
a few more newlines, but there are cases when I used mixed tabs/spaces 
indentation+alignment.
ae92d83e
3	0	.local.vimrc
12	6	powerline/__init__.py
12	5	powerline/bindings/vim/__init__.py
4	3	powerline/lib/inotify.py
7	4	powerline/lib/shell.py
4	2	powerline/lib/tree_watcher.py
5	4	powerline/lib/vcs/git.py
16	8	powerline/lint/__init__.py
9	11	powerline/lint/markedjson/composer.py
44	23	powerline/lint/markedjson/constructor.py
15	11	powerline/lint/markedjson/error.py
12	12	powerline/lint/markedjson/events.py
8	4	powerline/lint/markedjson/markedvalue.py
2	4	powerline/lint/markedjson/nodes.py
45	31	powerline/lint/markedjson/parser.py
9	6	powerline/lint/markedjson/reader.py
8	9	powerline/lint/markedjson/resolver.py
24	15	powerline/lint/markedjson/scanner.py
9	6	powerline/lint/markedjson/tokens.py
8	6	powerline/renderers/vim.py
4	2	powerline/segments/common.py
4	2	powerline/segments/vim/__init__.py
8	4	powerline/shell.py
12	7	powerline/vim.py
4	2	tests/lib/__init__.py
68	46	tests/test_segments.py
4	2	tests/vim.py
4	2	tools/colors_find.py
12	6	tools/generate_gradients.py

--cdd36aa7	2014-08-15T20:21:13+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #986 from ZyX-I/developer-documentation

Developer documentation and module layout refactoring
cdd36aa7
--cbfa64c7	2014-08-15T20:06:40+04:00	ZyX	kp-pav@yandex.ru	Mention long lines in CONTRIBUTING.rst

cbfa64c7
3	1	CONTRIBUTING.rst

--fa93d0a9	2014-08-15T20:04:12+04:00	ZyX	kp-pav@yandex.ru	Ignore E101 (“indentation contains mixed spaces and tabs”)

fa93d0a9
1	1	.local.vimrc
2	2	CONTRIBUTING.rst

--c316ef8e	2014-08-15T20:01:33+04:00	ZyX	kp-pav@yandex.ru	Fix some style problems

c316ef8e

--2f3d5688	2014-08-15T20:01:07+04:00	ZyX	kp-pav@yandex.ru	Drop unneeded ignores

2f3d5688
1	1	.local.vimrc
3	4	CONTRIBUTING.rst

--0848f7d8	2014-08-15T19:44:27+04:00	ZyX	kp-pav@yandex.ru	Document how to create extensions

Fixes #287
0848f7d8
1	0	docs/source/develop.rst
47	0	docs/source/develop/extensions.rst

--33562ab4	2014-08-15T19:41:15+04:00	ZyX	kp-pav@yandex.ru	Improve documentation

33562ab4
7	6	powerline/__init__.py

--4a8b81e6	2014-08-15T19:15:49+04:00	ZyX	kp-pav@yandex.ru	Rearrange renderers: move *_prompt modules one level up

Renames powerline.renderers.zsh_prompt to powerline.renderers.shell.zsh, same
for other *sh_prompt modules.

4a8b81e6
14	7	powerline/__init__.py
3	3	powerline/bindings/bash/powerline.sh
2	2	powerline/bindings/shell/powerline.sh
2	2	powerline/bindings/tcsh/powerline.tcsh
1	1	powerline/bindings/zsh/__init__.py
1	1	powerline/bindings/zsh/powerline.zsh
1	1	powerline/ipython.py
3	3	powerline/lint/__init__.py
0	0	powerline/renderers/{ipython.py => ipython/__init__.py}
0	0	powerline/renderers/{ipython_prompt.py => ipython/prompt.py}
0	0	powerline/renderers/{shell.py => shell/__init__.py}
0	0	powerline/renderers/{bash_prompt.py => shell/bash.py}
0	0	powerline/renderers/{ksh_prompt.py => shell/ksh.py}
1	1	powerline/renderers/{tcsh_prompt.py => shell/tcsh.py}
0	0	powerline/renderers/{zsh_prompt.py => shell/zsh.py}
1	1	powerline/shell.py
4	4	tests/test_cmdline.py
2	2	tests/test_provided_config_files.py

--b5b91afc	2014-08-15T18:41:55+04:00	ZyX	kp-pav@yandex.ru	Document how to create Vim local themes

b5b91afc
1	0	docs/source/develop.rst
59	0	docs/source/develop/local-themes.rst
2	0	docs/source/develop/segments.rst

--f0ccb2dc	2014-08-14T23:51:07+04:00	ZyX	kp-pav@yandex.ru	Fix path to __main__ theme

f0ccb2dc
1	1	docs/source/configuration/reference.rst

--1a1a8410	2014-08-14T23:33:44+04:00	ZyX	kp-pav@yandex.ru	Add information about shell and ipython local themes

1a1a8410
10	1	docs/source/configuration/reference.rst

--86ddb38b	2014-08-14T22:54:34+04:00	ZyX	kp-pav@yandex.ru	Add information about writing segments

Fixes #629
Ref #287

86ddb38b
8	0	docs/source/configuration/reference.rst
9	0	docs/source/develop.rst
276	0	docs/source/develop/segments.rst
1	0	docs/source/index.rst
18	0	powerline/__init__.py
8	1	powerline/segments/__init__.py

--df19fe27	2014-08-14T22:50:27+04:00	ZyX	kp-pav@yandex.ru	Mention `showtabline` option in Vim tips and tricks

df19fe27
1	0	docs/source/tips-and-tricks.rst

--63a376e9	2014-08-14T23:25:39+04:00	ZyX	kp-pav@yandex.ru	Alter plugin layout: move *.plugin to *.{ext}.plugin

I do not see why vim plugins should receive such a generic name as
`powerline.segments.plugin.gundo`: taking a name that clearly indicates that
`gundo` is a *vim* plugin is better.

63a376e9
4	4	powerline/config_files/config.json
2	2	powerline/config_files/themes/vim/default.json
1	1	powerline/config_files/themes/vim/plugin_ctrlp.json
1	1	powerline/config_files/themes/vim/plugin_nerdtree.json
1	1	powerline/matcher.py
0	0	powerline/matchers/{vim.py => vim/__init__.py}
0	0	powerline/matchers/{ => vim}/plugin/__init__.py
0	0	powerline/matchers/{ => vim}/plugin/ctrlp.py
0	0	powerline/matchers/{ => vim}/plugin/gundo.py
0	0	powerline/matchers/{ => vim}/plugin/nerdtree.py
2	1	powerline/segment.py
0	0	powerline/segments/{vim.py => vim/__init__.py}
0	0	powerline/segments/{ => vim}/plugin/__init__.py
0	0	powerline/segments/{ => vim}/plugin/ctrlp.py
0	0	powerline/segments/{ => vim}/plugin/nerdtree.py
0	0	powerline/segments/{ => vim}/plugin/syntastic.py
0	0	powerline/segments/{ => vim}/plugin/tagbar.py

--d66256ad	2014-08-15T18:28:51+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #985 from ZyX-I/fix-983

Check whether $COLUMNS is empty or zero, not only empty
d66256ad
--7789ed27	2014-08-15T18:20:54+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #984 from ZyX-I/fix-250

Call powerline.new_window early under certain conditions
7789ed27
--6c187d94	2014-08-15T18:00:09+04:00	ZyX	kp-pav@yandex.ru	Call powerline.new_window early under certain conditions

Fixes #250 for the GUI.
6c187d94
18	0	powerline/vim.py

--8523282a	2014-08-15T18:01:17+04:00	ZyX	kp-pav@yandex.ru	Check whether $COLUMNS is empty or zero, not only empty

Fixes #983
8523282a
6	3	powerline/bindings/fish/powerline-setup.fish

--23b43d83	2014-08-13T19:46:42+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #982 from gladiac/docs

docs: Fix building the docs without RTD theme.
23b43d83
--538a41b2	2014-08-13T17:37:11+02:00	Andreas Schneider	asn@cryptomilk.org	docs: Fix building the docs without RTD theme.

Signed-off-by: Andreas Schneider <asn@cryptomilk.org>

538a41b2
1	1	docs/source/conf.py

--7453e586	2014-08-13T07:56:43+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #979 from ZyX-I/fix-add_local_theme

Fix VimPowerline.add_local_theme
7453e586
--1afab26c	2014-08-12T20:48:49+04:00	ZyX	kp-pav@yandex.ru	Test that VimPowerline.add_local_theme works

1afab26c
2	1	powerline/vim.py
7	0	tests/matchers.py
28	0	tests/test_configuration.py

--da867b26	2014-08-12T20:33:03+04:00	ZyX	kp-pav@yandex.ru	Fix VimPowerline.add_local_theme

After #783 it started to fail as it made Theme require defining dividers in 
theme and add_local_theme did not merge in other themes (__main__ and top).
da867b26
25	10	powerline/__init__.py
10	1	powerline/vim.py

--b8c61c1d	2014-08-12T08:26:13+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #978 from ZyX-I/other-shell-local-themes

Add support for PS2 and PS3 prompts outside of zsh
b8c61c1d
--7882583d	2014-08-12T08:16:26+04:00	ZyX	kp-pav@yandex.ru	Update continuation segment tests

7882583d
17	13	tests/test_segments.py

--d658e080	2014-08-12T08:11:40+04:00	ZyX	kp-pav@yandex.ru	Merge branch 'fix-977' into develop

d658e080
--9e37648a	2014-08-12T08:11:15+04:00	ZyX	kp-pav@yandex.ru	Remove unneeded keyword argument to player function

Fixes #977
9e37648a
1	1	powerline/segments/common.py

--89afac44	2014-08-12T07:54:34+04:00	ZyX	kp-pav@yandex.ru	Add support for PS2 and PS3 prompts outside of zsh

89afac44
46	0	docs/source/usage/shell-prompts.rst
18	0	powerline/bindings/bash/powerline.sh
47	0	powerline/bindings/shell/powerline.sh
15	0	powerline/renderers/shell.py
0	15	powerline/renderers/zsh_prompt.py
8	4	powerline/segments/shell.py
28	0	tests/test_shells/bash.daemon.ok
28	0	tests/test_shells/bash.nodaemon.ok
0	18	tests/test_shells/bash.ok
27	0	tests/test_shells/busybox.daemon.ok
27	0	tests/test_shells/busybox.nodaemon.ok
0	17	tests/test_shells/busybox.ok
26	0	tests/test_shells/dash.daemon.ok
26	0	tests/test_shells/dash.nodaemon.ok
0	17	tests/test_shells/dash.ok
6	0	tests/test_shells/input.bash
6	0	tests/test_shells/input.busybox
6	0	tests/test_shells/input.dash
7	0	tests/test_shells/input.mksh
30	0	tests/test_shells/mksh.daemon.ok
30	0	tests/test_shells/mksh.nodaemon.ok
0	19	tests/test_shells/mksh.ok
5	0	tests/test_shells/postproc.py
12	2	tests/test_shells/test.sh

--1abe0ac1	2014-08-10T21:10:16+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #975 from ZyX-I/min_cursor_columns

Add cursor_space and cursor_columns options
1abe0ac1
--4f3a682d	2014-08-10T20:50:42+04:00	ZyX	kp-pav@yandex.ru	Add priorities to ipython and shell themes

4f3a682d
2	1	powerline/config_files/themes/ipython/in.json
14	7	powerline/config_files/themes/shell/default.json
14	7	powerline/config_files/themes/shell/default_leftonly.json

--eeb3b5a1	2014-08-10T20:35:56+04:00	ZyX	kp-pav@yandex.ru	Do not repeat renderer module argument more then once

eeb3b5a1
7	6	powerline/bindings/zsh/powerline.zsh

--547306e7	2014-08-10T20:24:02+04:00	ZyX	kp-pav@yandex.ru	Add cursor_space and cursor_columns configuration options

Fixes #815

547306e7
10	0	docs/source/configuration/reference.rst
1	1	powerline/bindings/bash/powerline.sh
6	6	powerline/bindings/ipython/post_0_11.py
14	12	powerline/bindings/ipython/pre_0_11.py
1	1	powerline/bindings/shell/powerline.sh
3	3	powerline/bindings/zsh/powerline.zsh
6	1	powerline/ipython.py
2	0	powerline/lint/__init__.py
40	16	powerline/renderers/shell.py
6	0	powerline/theme.py
2	2	tests/test_provided_config_files.py

--c97ab805	2014-08-10T19:05:53+04:00	ZyX	kp-pav@yandex.ru	Add output_width used for various shells

c97ab805
6	5	powerline/bindings/ipython/post_0_11.py
7	4	powerline/bindings/ipython/pre_0_11.py
50	22	powerline/renderer.py
4	0	powerline/renderers/ipython.py
5	5	powerline/renderers/shell.py

--72b7744b	2014-08-10T18:28:32+04:00	ZyX	kp-pav@yandex.ru	Split Renderer.render() into .render() and .do_render()

72b7744b
13	3	powerline/renderer.py

--fcc39710	2014-08-10T18:19:48+04:00	ZyX	kp-pav@yandex.ru	Wait for screen to initialize, based on screen exit status

Otherwise bash tests tend to fail randomly
fcc39710
6	2	tests/test_shells/test.sh

--50e4c1d1	2014-08-10T18:15:14+04:00	ZyX	kp-pav@yandex.ru	Move ZshPromptRenderer.render method to ShellRenderer

50e4c1d1
30	0	powerline/renderers/shell.py
0	28	powerline/renderers/zsh_prompt.py

--3c243e1a	2014-08-10T18:10:03+04:00	ZyX	kp-pav@yandex.ru	Rename top_theme_config to main_theme_config

Reason: preventing name conflict (top-level theme is a theme from #783).
3c243e1a
1	1	powerline/renderers/ipython.py
1	1	powerline/renderers/vim.py
1	1	powerline/renderers/zsh_prompt.py
3	3	powerline/theme.py

--498da536	2014-08-10T17:37:08+04:00	ZyX	kp-pav@yandex.ru	Add client_id renderer argument to all shell bindings

498da536
6	1	powerline/bindings/bash/powerline.sh
3	0	powerline/bindings/fish/powerline-setup.fish
6	1	powerline/bindings/shell/powerline.sh
3	3	powerline/bindings/tcsh/powerline.tcsh

--c8cc7e46	2014-08-10T17:20:27+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #974 from ZyX-I/shell-tests-improvements

Shell tests improvements
c8cc7e46
--fdd8f6df	2014-08-10T17:10:35+04:00	ZyX	kp-pav@yandex.ru	Wait for pid file to appear

Should fix some rare bash test failures
fdd8f6df
1	1	tests/test_shells/bash.ok
1	1	tests/test_shells/busybox.ok
1	1	tests/test_shells/dash.ok
1	1	tests/test_shells/input.bash
1	1	tests/test_shells/input.busybox
1	1	tests/test_shells/input.dash
1	1	tests/test_shells/input.fish
1	1	tests/test_shells/input.mksh
1	1	tests/test_shells/input.tcsh
1	1	tests/test_shells/input.zsh
1	1	tests/test_shells/mksh.ok
2	0	tests/test_shells/test.sh
4	0	tests/test_shells/waitpid.sh
-	-	tests/test_shells/zsh.daemon.ok
1	1	tests/test_shells/zsh.nodaemon.ok

--7ade6d1f	2014-07-28T03:15:36+04:00	ZyX	kp-pav@yandex.ru	Use busybox as shell name in place of bb

Conflicts:
	tests/test_shells/test.sh

7ade6d1f
0	0	tests/test_shells/{bb.ok => busybox.ok}
0	0	tests/test_shells/{input.bb => input.busybox}
3	11	tests/test_shells/test.sh

--01185eb9	2014-08-10T16:58:55+04:00	ZyX	kp-pav@yandex.ru	Use bgscript.sh in place of direct bash call

01185eb9
2	2	tests/test_shells/bash.ok
2	2	tests/test_shells/bb.ok
5	0	tests/test_shells/bgscript.sh
2	2	tests/test_shells/dash.ok
1	1	tests/test_shells/input.bash
1	1	tests/test_shells/input.bb
1	1	tests/test_shells/input.dash
1	1	tests/test_shells/input.fish
1	1	tests/test_shells/input.mksh
1	1	tests/test_shells/input.tcsh
1	1	tests/test_shells/input.zsh
1	1	tests/test_shells/mksh.ok
1	0	tests/test_shells/test.sh
-	-	tests/test_shells/zsh.daemon.ok
2	2	tests/test_shells/zsh.nodaemon.ok

--60c9f8b5	2014-08-10T16:44:09+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #973 from ZyX-I/ext-components

Add components configuration option
60c9f8b5
--5313e61f	2014-08-10T16:32:27+04:00	ZyX	kp-pav@yandex.ru	Fix name conflict in vim bindings

5313e61f
2	2	powerline/vim.py

--9d1392fa	2014-08-10T16:17:22+04:00	ZyX	kp-pav@yandex.ru	Fix vim emulation module

9d1392fa
10	1	tests/vim.py

--b8049fab	2014-08-10T16:01:57+04:00	ZyX	kp-pav@yandex.ru	Add ext.*.components configuration support

Also fixes various problems in shell bindings.

Closes #969

b8049fab
6	6	docs/source/configuration/local.rst
22	0	docs/source/configuration/reference.rst
19	1	powerline/__init__.py
13	11	powerline/bindings/bash/powerline.sh
25	2	powerline/bindings/config.py
11	7	powerline/bindings/fish/powerline-setup.fish
13	10	powerline/bindings/shell/powerline.sh
10	7	powerline/bindings/tcsh/powerline.tcsh
12	8	powerline/bindings/zsh/powerline.zsh
3	0	powerline/lint/__init__.py
14	5	powerline/vim.py
14	1	scripts/powerline-config

--f51134de	2014-08-10T16:01:03+04:00	ZyX	kp-pav@yandex.ru	Run shell tests in an isolated environment

f51134de
2	2	tests/test_shells/input.tcsh
55	3	tests/test_shells/test.sh
-	-	tests/test_shells/zsh.daemon.ok

--3c032405	2014-08-10T16:00:00+04:00	ZyX	kp-pav@yandex.ru	Remove tests/shell iff there are no failures

3c032405
1	1	tests/test_shells/test.sh

--99c9f730	2014-08-10T15:59:32+04:00	ZyX	kp-pav@yandex.ru	Do not omit running tests without ONLY_SHELL set

99c9f730
1	1	tests/test_shells/test.sh

--6f550fce	2014-08-10T15:56:32+04:00	ZyX	kp-pav@yandex.ru	Write zero after writing current working directory in powerline.c

6f550fce
3	1	client/powerline.c

--310af9ae	2014-08-10T15:46:43+04:00	ZyX	kp-pav@yandex.ru	Prefer powerline bindings directory over fish_function_path

310af9ae
1	1	tests/test_shells/input.fish

--5c5407cf	2014-08-10T15:35:57+04:00	ZyX	kp-pav@yandex.ru	Make libzpython bindings accept multiple paths when using overrides

5c5407cf
5	4	docs/source/configuration/local.rst
7	1	powerline/bindings/zsh/__init__.py

--17b32b17	2014-08-10T15:28:30+04:00	ZyX	kp-pav@yandex.ru	Make ipython accept paths, not a single path

17b32b17
2	2	docs/source/configuration/local.rst
1	1	powerline/bindings/ipython/post_0_11.py
2	2	powerline/bindings/ipython/pre_0_11.py
2	2	powerline/ipython.py
1	1	tests/test_provided_config_files.py
2	0	tests/test_shells/ipython_home/profile_default/ipython_config.py

--8de14c1f	2014-08-10T14:51:38+04:00	ZyX	kp-pav@yandex.ru	Do not use os.environ for write_output

This is required for daemon to work properly
8de14c1f
2	4	powerline/shell.py

--11168bf7	2014-08-09T15:26:30+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #968 from mreinhardt/feature/fix-now-playing-spotify-comma-error

Fix NowPlaying segment when comma in artist or title
11168bf7
--e64811c6	2014-08-09T13:04:30+04:00	ZyX	kp-pav@yandex.ru	Add vim_getoption and vim_setoption functions

e64811c6
13	0	powerline/bindings/vim/__init__.py

--757e5632	2014-08-09T12:18:04+04:00	ZyX	kp-pav@yandex.ru	Place labels before labeled key name, not before the description

757e5632
15	15	docs/source/configuration/reference.rst

--f8974420	2014-08-09T12:13:00+04:00	ZyX	kp-pav@yandex.ru	Improve linter coding style

f8974420
3	8	powerline/lint/__init__.py

--91826e44	2014-08-07T13:00:45-07:00	Mike Reinhardt	mike.reinhardt@demandmedia.com	Fix NowPlaying segment when comma in artist/title

91826e44
5	9	powerline/segments/common.py

--6cc86c82	2014-08-06T22:52:38+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #967 from ZyX-I/handle-write-errors

Handle errors from write()
6cc86c82
--660925f0	2014-08-06T22:32:39+04:00	ZyX	kp-pav@yandex.ru	Use do_write function in place of self-written replacement

660925f0
1	24	client/powerline.c

--0a6bb9ce	2014-08-06T22:31:16+04:00	ZyX	kp-pav@yandex.ru	Some style fixes

0a6bb9ce
16	13	client/powerline.c

--ae2ac05c	2014-08-06T22:04:15+04:00	ZyX	kp-pav@yandex.ru	Handle errors from write()

Fixes #964

ae2ac05c
24	1	client/powerline.c

--0853f603	2014-08-06T18:31:43+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #963 from ZyX-I/ipython-tests

Add ipython shell tests
0853f603
--c3e23589	2014-08-06T18:12:59+04:00	ZyX	kp-pav@yandex.ru	Also install ipython on Python-3.3+

c3e23589
6	0	tests/install.sh

--863264cd	2014-08-06T18:09:57+04:00	ZyX	kp-pav@yandex.ru	Disable virtualenv segment, also test config_overrides

863264cd
10	10	tests/test_shells/ipython.ok
14	0	tests/test_shells/ipython_home/profile_default/ipython_config.py

--accb174b	2014-08-06T18:06:54+04:00	ZyX	kp-pav@yandex.ru	Do not install ipython when using python-2.6

accb174b
5	1	tests/install.sh

--3e43995d	2014-08-06T17:21:01+04:00	ZyX	kp-pav@yandex.ru	Use pip to install ipython, not apt-get

I am very unsure that it will install ipython for all required python versions
3e43995d
2	2	tests/install.sh

--c403eef4	2014-08-06T17:18:42+04:00	ZyX	kp-pav@yandex.ru	Add ipython shell tests

c403eef4
1	1	tests/install.sh
7	0	tests/test_shells/input.ipython
14	0	tests/test_shells/ipython.ok
3	0	tests/test_shells/ipython_home/profile_default/ipython_config.py
4	0	tests/test_shells/postproc.py
8	0	tests/test_shells/test.sh

--42a9a5a5	2014-08-06T16:56:56+04:00	ZyX	kp-pav@yandex.ru	Merge branch 'ipython-rewrite' into develop

42a9a5a5
--ea6e28a0	2014-08-06T16:56:20+04:00	ZyX	kp-pav@yandex.ru	Use the same hack for post_0_11 rewrite prompt

IPython again tries to leave us without unicode in rewrite prompt. But in 
Python, one needs to be more serious than that to be actually able to do this.
ea6e28a0
6	2	powerline/bindings/ipython/post_0_11.py
2	25	powerline/bindings/ipython/pre_0_11.py
18	0	powerline/ipython.py
7	0	powerline/lib/unicode.py

--ac6b9af2	2014-08-06T15:09:23+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #961 from ZyX-I/fix-664

Do not output \x01/\x02 symbols for non-prompts in ipython
ac6b9af2
--ed70cc2e	2014-08-06T13:47:11+04:00	ZyX	kp-pav@yandex.ru	Fix tests

ed70cc2e
7	2	tests/test_provided_config_files.py

--85ea44b1	2014-08-06T13:38:45+04:00	ZyX	kp-pav@yandex.ru	Do not output \x01/\x02 symbols for non-prompts in ipython

Should fix #664
85ea44b1
24	10	powerline/bindings/ipython/post_0_11.py
14	11	powerline/bindings/ipython/pre_0_11.py
6	2	powerline/ipython.py
0	3	powerline/renderers/ipython.py
12	0	powerline/renderers/ipython_prompt.py

--faceb598	2014-08-06T13:10:55+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #902 from ZyX-I/battery

Improve battery support
faceb598
--22fdc105	2014-08-06T13:04:50+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #958 from ZyX-I/theme-hierarchy

Implement theme hierarchy
22fdc105
--1a870063	2014-08-06T12:52:52+04:00	ZyX	kp-pav@yandex.ru	Refactor powerline.lint.inspect: do not special-case *ThreadedSegment

Fixes now_playing segment handling in python-3.4
1a870063
31	3	powerline/lib/threaded.py
40	49	powerline/lint/inspect.py
2	2	powerline/segment.py
49	0	powerline/segments/__init__.py
2	1	powerline/segments/common.py

--d4735c87	2014-08-06T12:48:17+04:00	ZyX	kp-pav@yandex.ru	Fix labels in configuration/reference.rst

d4735c87
2	0	docs/source/configuration/reference.rst

--c3e63292	2014-08-06T03:09:31+04:00	ZyX	kp-pav@yandex.ru	Add description of shipped themes to documentation

c3e63292
12	1	docs/source/configuration/reference.rst

--2b5734c7	2014-08-06T03:03:56+04:00	ZyX	kp-pav@yandex.ru	Add unicode_terminus_condensed theme

2b5734c7
109	0	powerline/config_files/themes/unicode_terminus_condensed.json

--cd576f0d	2014-08-06T02:47:33+04:00	ZyX	kp-pav@yandex.ru	Add unicode_terminus top-level theme

This one contains only glyphs present in terminus font.

cd576f0d
108	0	powerline/config_files/themes/unicode_terminus.json

--3c93ac2f	2014-08-06T02:25:07+04:00	ZyX	kp-pav@yandex.ru	Add unicode-only theme

3c93ac2f
108	0	powerline/config_files/themes/unicode.json

--625aa243	2014-08-06T02:10:29+04:00	ZyX	kp-pav@yandex.ru	Use ascii theme in local overrides

625aa243
1	1	tests/test_local_overrides.vim

--fa5c1e8c	2014-08-06T02:04:58+04:00	ZyX	kp-pav@yandex.ru	Add ASCII-only theme

fa5c1e8c
108	0	powerline/config_files/themes/ascii.json

--39d1f4e1	2014-08-06T02:16:49+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #959 from aledovsky/bug/weather_segment_fix

Fix weather segment display
39d1f4e1
--48254ea6	2014-08-06T01:33:37+04:00	ZyX	kp-pav@yandex.ru	Use more precise error messages in test_tabline.vim

48254ea6
2	2	tests/test_tabline.vim

--75d2c62f	2014-08-05T23:52:34+03:00	Aleksandrs Ļedovskis	aleksandrs@ledovskis.lv	Fix weather segment display

Most likely a change on GitHub/Yahoo servers made it crash, when
non-robot ready result page started to appear inside YQL processor.
Using "raw.githubusercontent.com" URL helps and weather icon is again visible.

Closes: Lokaltog/powerline#949

Signed-off-by: Aleksandrs Ļedovskis <aleksandrs@ledovskis.lv>

75d2c62f
1	1	powerline/segments/common.py

--0255df2f	2014-08-06T00:01:35+04:00	ZyX	kp-pav@yandex.ru	Allow checking NowPlayingSegment

0255df2f
12	2	powerline/lint/inspect.py

--416a0efd	2014-08-06T00:00:15+04:00	ZyX	kp-pav@yandex.ru	Copy a number of unicode values to powerline.json

416a0efd
64	0	powerline/config_files/themes/powerline.json

--b0093c6b	2014-08-05T23:43:31+04:00	ZyX	kp-pav@yandex.ru	Implement single-level merging of “args” dictionaries

b0093c6b
8	3	docs/source/configuration/reference.rst
1	1	powerline/config_files/themes/shell/__main__.json
46	14	powerline/segment.py

--759b42a8	2014-08-05T23:24:16+04:00	ZyX	kp-pav@yandex.ru	Make now_playing segment accept state symbols from arguments

759b42a8
6	9	powerline/segments/common.py

--37b1f967	2014-08-05T22:55:01+04:00	ZyX	kp-pav@yandex.ru	Move all unicode characters from themes to powerline.json

37b1f967
32	1	powerline/config_files/themes/powerline.json
14	0	powerline/config_files/themes/shell/__main__.json
1	18	powerline/config_files/themes/shell/default.json
1	18	powerline/config_files/themes/shell/default_leftonly.json
2	9	powerline/config_files/themes/tmux/default.json
10	0	powerline/config_files/themes/vim/__main__.json
0	15	powerline/config_files/themes/vim/default.json
3	4	powerline/config_files/themes/wm/default.json

--bdde4ae9	2014-08-05T20:29:03+04:00	ZyX	kp-pav@yandex.ru	Implement theme hierarchy

Fixes #783

bdde4ae9
7	1	docs/source/configuration.rst
41	11	docs/source/configuration/reference.rst
60	37	powerline/__init__.py
1	12	powerline/config_files/config.json
13	0	powerline/config_files/themes/powerline.json
166	76	powerline/lint/__init__.py
2	2	powerline/theme.py
36	32	tests/test_config_merging.py
59	27	tests/test_config_reload.py
105	20	tests/test_configuration.py

--145e1c20	2014-08-05T19:36:33+04:00	ZyX	kp-pav@yandex.ru	Only check that all colorschemes have theme, but not the opposite

145e1c20
1	1	powerline/lint/__init__.py

--b1a2b44d	2014-08-05T23:16:05+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #957 from ZyX-I/better-visual-range

Improve visual_range segment
b1a2b44d
--f4b5c6a6	2014-08-05T23:03:59+04:00	ZyX	kp-pav@yandex.ru	Add fix for old Vims where getpos does not return list of integers

f4b5c6a6
2	2	powerline/segments/vim.py

--117661e1	2014-08-05T22:49:53+04:00	ZyX	kp-pav@yandex.ru	Add tests for visual_range

117661e1
44	2	tests/test_segments.py
28	2	tests/vim.py

--702f4385	2014-08-05T22:44:29+04:00	ZyX	kp-pav@yandex.ru	Do not use “rows” and “cols” in text

Reason: string “1 rows” is incorrect and I do not want to implement proper 
number handling (*proper* handling is *not* limited to plural/singular form like
in English).
702f4385
1	1	powerline/segments/vim.py

--97978eaf	2014-08-05T22:18:28+04:00	ZyX	kp-pav@yandex.ru	Improve visual_range segment

97978eaf
1	1	powerline/config_files/themes/vim/default.json
50	19	powerline/segments/vim.py

--c95b2885	2014-08-05T14:05:23+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #923 from ZyX-I/merge-config

Implement configuration merging
c95b2885
--0f4e1baf	2014-08-05T13:39:01+04:00	ZyX	kp-pav@yandex.ru	Refactor config_mock module to not use globals and fix tests

0f4e1baf
90	51	tests/lib/config_mock.py
2	1	tests/test_cmdline.py
2	0	tests/test_config_merging.py
71	79	tests/test_config_reload.py
39	45	tests/test_configuration.py

--66e09991	2014-07-13T23:27:44+04:00	ZyX	kp-pav@yandex.ru	Document configuration merging

66e09991
18	0	docs/source/configuration.rst

--01585ede	2014-07-13T23:15:10+04:00	ZyX	kp-pav@yandex.ru	Fix errors reported by linter, allow running it during tests

01585ede
13	3	tests/test_config_merging.py

--2fd04348	2014-07-13T23:11:25+04:00	ZyX	kp-pav@yandex.ru	Fix name regex: allow single-letter names

2fd04348
1	1	powerline/lint/__init__.py

--27db44ac	2014-07-13T23:02:05+04:00	ZyX	kp-pav@yandex.ru	Implement configuration merging

Fixes #418

27db44ac
33	21	powerline/__init__.py
2	2	powerline/bindings/config.py
20	13	powerline/lint/__init__.py
1	1	tests/lib/config_mock.py
251	0	tests/test_config_merging.py

--3d77306c	2014-07-13T00:01:38+04:00	ZyX	kp-pav@yandex.ru	Some style fixes in powerline.lint

3d77306c
228	89	powerline/lint/__init__.py

--b043749d	2014-07-12T23:22:28+04:00	ZyX	kp-pav@yandex.ru	Add support for pickle

b043749d
13	0	powerline/lint/markedjson/markedvalue.py

--22962900	2014-07-12T23:21:16+04:00	ZyX	kp-pav@yandex.ru	Add MarkedList type

22962900
13	3	powerline/lint/markedjson/markedvalue.py

--f482eea8	2014-08-05T00:18:09+04:00	ZyX	kp-pav@yandex.ru	Merge branch 'quiet-tmux' into develop

f482eea8
--0c3e380f	2014-08-05T00:17:58+04:00	ZyX	kp-pav@yandex.ru	Set all options quietly

Requires tmux 1.7 or later, so `-q` is not used in 1.8 and earlier configuration 
file.

Closes #942
0c3e380f
1	1	powerline/bindings/tmux/powerline_tmux_1.8.conf
1	1	powerline/bindings/tmux/powerline_tmux_1.8_plus.conf
5	5	powerline/bindings/tmux/powerline_tmux_1.9_plus.conf

--7286e787	2014-08-05T00:07:32+04:00	ZyX	kp-pav@yandex.ru	Merge branch 'tmux-refresh' into develop

7286e787
--4bb217a0	2014-08-05T00:07:25+04:00	ZyX	kp-pav@yandex.ru	Run refresh-client in tmux not depending on POWERLINE_COMMAND

Ref #942
4bb217a0

--d5964bc2	2014-08-04T03:55:52+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #955 from ZyX-I/faster-powerline_daemon

Do not use argparge for parsing environment
d5964bc2
--203a374b	2014-08-04T02:59:02+04:00	ZyX	kp-pav@yandex.ru	Do not use argparge for parsing --env and --cwd

It took 2/3 of do_render call according to profiler. New variant takes only 1/6.

WARNING: This commit will break all powerline installations with running daemon
because it changes communication protocol. You must kill and restart all your
powerline daemons for powerline to function properly.

Highlight @kovidgoyal

203a374b
10	7	client/powerline.c
6	5	client/powerline.py
3	2	client/powerline.sh
12	8	scripts/powerline-daemon

--da45adb9	2014-08-04T02:21:44+04:00	ZyX	kp-pav@yandex.ru	Make it compile without warnings with -Wconversion

da45adb9
8	7	client/powerline.c

--a5037a81	2014-08-04T02:11:19+04:00	ZyX	kp-pav@yandex.ru	Fix powerline.c styling

Also makes it compile with -std=c89 (except for snprintf) or just -std=c99,
-Wall, -pedantic.

a5037a81
54	44	client/powerline.c

--088d1f0f	2014-08-04T00:18:03+04:00	ZyX	kp-pav@yandex.ru	Merge branch 'strip-renderer_arg-key' into develop

088d1f0f
--cfb10772	2014-08-04T00:17:41+04:00	ZyX	kp-pav@yandex.ru	Exclude renderer_arg from daemon powerline objects cache

It may easily change between runs from one client and only affects segment_info 
which is regenerated always.
cfb10772
0	1	scripts/powerline-daemon

--4343e4ed	2014-08-04T00:12:22+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #954 from ZyX-I/file-scheme

Add file_scheme segment
4343e4ed
--50703f1c	2014-08-04T00:07:30+04:00	ZyX	kp-pav@yandex.ru	Fix unicode/bytes handling for python-3

50703f1c
1	1	powerline/segments/vim.py
1	1	tests/vim.py

--74a3c9a0	2014-08-03T23:58:34+04:00	ZyX	kp-pav@yandex.ru	Add file_scheme segment

Fixes #207
74a3c9a0
1	0	powerline/config_files/colorschemes/vim/__main__.json
4	0	powerline/config_files/themes/vim/default.json
48	4	powerline/segments/vim.py
17	0	tests/test_segments.py
3	0	tests/vim.py

--e89832be	2014-08-03T22:47:41+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #953 from ZyX-I/powerline-shell-help

Make powerline --help more useful
e89832be
--3d1f9bfb	2014-08-03T22:20:01+04:00	ZyX	kp-pav@yandex.ru	Allow multiple arguments to `powerline[-lint] --config_path`

3d1f9bfb
2	2	powerline/lint/__init__.py
2	5	powerline/shell.py
1	1	scripts/powerline-lint
1	1	tests/test_cmdline.py

--780c919d	2014-08-03T22:04:09+04:00	ZyX	kp-pav@yandex.ru	Add documentation for `powerline --help`

780c919d
12	11	powerline/shell.py

--4f94afd6	2014-08-03T18:56:30+04:00	ZyX	kp-pav@yandex.ru	Merge branch '946-troubleshooting' into develop

4f94afd6
--ead7e3f0	2014-08-03T18:56:14+04:00	ZyX	kp-pav@yandex.ru	Add troubleshooting information discovered in #946

ead7e3f0
25	0	docs/source/troubleshooting.rst

--3983e9f7	2014-08-03T13:38:45+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #950 from ZyX-I/bufwinnr-segments

Add buffer and window number segments
3983e9f7
--120a9cc8	2014-08-03T13:23:13+04:00	ZyX	kp-pav@yandex.ru	Add winnr segment

Closes #705

120a9cc8
1	0	powerline/config_files/colorschemes/vim/__main__.json
12	0	powerline/segments/vim.py
6	0	tests/test_segments.py

--f877516e	2014-08-03T13:18:56+04:00	ZyX	kp-pav@yandex.ru	Add bufnr segment

Ref #705

f877516e
1	0	powerline/config_files/colorschemes/vim/__main__.json
12	0	powerline/segments/vim.py
6	0	tests/test_segments.py

--1cc46c71	2014-08-03T13:24:26+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #948 from ZyX-I/tabline

Add tabline support
1cc46c71
--1b8c092a	2014-08-03T13:13:49+04:00	ZyX	kp-pav@yandex.ru	Make dividers unicode

Fixes travis problem with old vim
1b8c092a
5	0	powerline/theme.py

--43acf07c	2014-08-03T12:49:18+04:00	ZyX	kp-pav@yandex.ru	Modify test_tabline to also test bufline

43acf07c
15	0	tests/test_tabline.vim

--6cf0c485	2014-08-03T12:43:41+04:00	ZyX	kp-pav@yandex.ru	Add single_tab segment

6cf0c485
2	0	powerline/config_files/colorschemes/vim/__main__.json
5	0	powerline/config_files/themes/vim/tabline.json
26	0	powerline/segments/vim.py
13	0	tests/test_segments.py
29	5	tests/vim.py

--2acefc9a	2014-08-03T12:18:52+04:00	ZyX	kp-pav@yandex.ru	Add tabbuflister and buflister listers

2acefc9a
2	1	powerline/config_files/themes/vim/tabline.json
47	0	powerline/segments/vim.py

--85f25265	2014-08-03T12:05:03+04:00	ZyX	kp-pav@yandex.ru	Add tabnr segment

85f25265
2	1	powerline/config_files/colorschemes/vim/__main__.json
6	0	powerline/config_files/themes/vim/tabline.json
16	0	powerline/segments/vim.py
6	0	tests/test_segments.py
1	1	tests/test_tabline.vim
3	0	tests/vim.py

--f02399b6	2014-08-03T12:03:44+04:00	ZyX	kp-pav@yandex.ru	Add tabpage and tabnr arguments to segment_info

f02399b6
76	3	powerline/bindings/vim/__init__.py
3	1	powerline/renderers/vim.py
5	2	powerline/segment.py
7	36	powerline/segments/vim.py

--1907708e	2014-08-03T12:00:05+04:00	ZyX	kp-pav@yandex.ru	Add support for has_key(gettabwinvar()) in vim test module

1907708e
10	3	tests/vim.py

--0403f7af	2014-08-03T11:56:41+04:00	ZyX	kp-pav@yandex.ru	Fix renderer length computation

Current sum() of once computed _len’s is completely inappropriate in case
removal of the segment caused change in divider lengths: addition or removal of
dividers or change of the divider type when dividers have different length.

Also contains some optimizations: first of all _render_segments is called only
once always, same for strwidth() function for each string. Space is considired
to always have length 1. And do not bother computing any length if no width was
specified.

0403f7af
105	33	powerline/renderer.py

--3148acfe	2014-08-03T10:13:44+04:00	ZyX	kp-pav@yandex.ru	Set __bool__ to __nonzero__ in DelayedEchoErr

Method __nonzero__ was renamed to __bool__ in Python-3

3148acfe
2	0	powerline/lint/__init__.py

--b99ad390	2014-08-03T10:12:54+04:00	ZyX	kp-pav@yandex.ru	Remove some __nonzero__ methods in tests/vim.py

Just __len__ is good enough here

b99ad390
0	8	tests/vim.py

--07c533d1	2014-08-03T09:16:30+04:00	ZyX	kp-pav@yandex.ru	Test tabline in test_tabline.vim file

07c533d1
3	1	tests/test_plugin_file.vim
18	0	tests/test_tabline.vim

--ff91ff7f	2014-08-03T09:07:31+04:00	ZyX	kp-pav@yandex.ru	Update tests to work with new functionality

Still no tests for new functionality.

ff91ff7f
1	0	powerline/segments/vim.py
3	1	tests/test_provided_config_files.py
147	106	tests/vim.py

--70ae12b5	2014-08-03T07:45:03+04:00	ZyX	kp-pav@yandex.ru	Added tabline support

No tests for it yet

70ae12b5
10	1	docs/source/configuration/reference.rst
2	0	powerline/config_files/config.json
32	0	powerline/config_files/themes/vim/tabline.json
12	5	powerline/lint/__init__.py
1	1	powerline/renderer.py
24	14	powerline/renderers/vim.py
106	2	powerline/segment.py
75	0	powerline/segments/vim.py
2	48	powerline/theme.py
6	1	powerline/vim.py

--0ecd10ff	2014-08-03T04:49:01+04:00	ZyX	kp-pav@yandex.ru	Add ability to copy recursive specifications

0ecd10ff
10	4	powerline/lint/__init__.py

--23ec5efb	2014-08-03T04:48:27+04:00	ZyX	kp-pav@yandex.ru	Fix required keys handling: do not require more keys then required

23ec5efb
2	3	powerline/lint/__init__.py

--fc40c80b	2014-08-03T10:40:01+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #947 from magus424/feature/556-line_count-segment

Added line_count segment for vim.

Closes #556
fc40c80b
--f615d851	2014-08-03T03:34:00+00:00	Collin Grady	collin@collingrady.com	Added line_count segment for vim.

Returns total number of lines in current buffer.

Addresses #556

f615d851
1	0	powerline/config_files/colorschemes/vim/__main__.json
6	0	powerline/segments/vim.py
11	0	tests/test_segments.py

--da6667bd	2014-08-03T03:40:26+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #945 from ZyX-I/update-docs

Update documentation
da6667bd
--d5081acf	2014-08-03T03:21:39+04:00	ZyX	kp-pav@yandex.ru	Add note about minibufexpl

Closes #230

d5081acf
28	0	docs/source/troubleshooting.rst

--5173246a	2014-08-03T03:04:47+04:00	ZyX	kp-pav@yandex.ru	Add note about automatic vimrc resourcing

Ref #297
Ref #296
Closes #213

5173246a
25	0	docs/source/troubleshooting.rst

--2e34e191	2014-08-03T02:52:14+04:00	ZyX	kp-pav@yandex.ru	Add code for Vundle installations and related warning

Ref #414
Closes #378

2e34e191
27	6	docs/source/usage/other.rst

--74d19b4f	2014-08-03T02:43:13+04:00	ZyX	kp-pav@yandex.ru	Add font installation instructions

74d19b4f
32	0	docs/source/installation.rst
66	0	docs/source/installation/linux.rst
10	0	docs/source/installation/osx.rst
2	0	docs/source/tips-and-tricks.rst
2	0	docs/source/usage.rst

--62a815bd	2014-08-03T02:42:38+04:00	ZyX	kp-pav@yandex.ru	Fix segment_data key description in configuration reference

62a815bd
4	4	docs/source/configuration/reference.rst

--29a46769	2014-08-03T02:22:16+04:00	ZyX	kp-pav@yandex.ru	Fix styling of rxvt-unicode tips

29a46769
20	14	docs/source/tips-and-tricks.rst

--14f2beea	2013-04-23T08:02:39-07:00	esn89	evan.sin.ng@gmail.com	Added Source Code Pro documentation.rst

Added a short blurb on Source Code Pro and how to make the glyphs show up.

Closes #460

14f2beea
13	0	docs/source/tips-and-tricks.rst

--207c24a9	2014-08-03T02:04:53+04:00	ZyX	kp-pav@yandex.ru	Add note about `https://` protocol

Closes #881

207c24a9
6	0	docs/source/installation.rst

--963823d6	2014-08-03T01:59:14+04:00	ZyX	kp-pav@yandex.ru	Increase depth to 3

Reason: this way I have anything I want in one click. Less precise toctree is in
any case present in the side bar.

963823d6
1	1	docs/source/index.rst

--a7d3fdd3	2014-08-03T00:12:14+04:00	ZyX	kp-pav@yandex.ru	Add note about ``tmux -2``

Closes #847

a7d3fdd3
4	3	docs/source/troubleshooting.rst

--b6be3047	2014-08-03T00:10:34+04:00	ZyX	kp-pav@yandex.ru	Remove timeout tip

Closes #808
Closes #266

b6be3047
0	20	docs/source/tips-and-tricks.rst

--cbcfd317	2014-08-03T00:08:00+04:00	ZyX	kp-pav@yandex.ru	Update terminal support matrix

Fixes #763
Closes #660

cbcfd317
6	5	docs/source/usage.rst

--c043fa5e	2014-08-02T23:51:20+04:00	ZyX	kp-pav@yandex.ru	Copy documentation from old variant

Note: fontpatcher documentation was removed.

Closes #632
Closes #769

c043fa5e
0	15	docs/source/configuration-and-customization.rst
0	3	docs/source/configuration-reference.rst
112	0	docs/source/configuration.rst
154	0	docs/source/configuration/local.rst
367	0	docs/source/configuration/reference.rst
32	0	docs/source/configuration/segments.rst
0	0	docs/source/{segment-reference => configuration/segments}/common.rst
0	0	docs/source/{segment-reference => configuration/segments}/shell.rst
0	0	docs/source/{segment-reference => configuration/segments}/vim.rst
1	1	docs/source/index.rst
47	0	docs/source/installation.rst
24	4	docs/source/installation/linux.rst
37	4	docs/source/installation/osx.rst
0	8	docs/source/segment-reference.rst
143	0	docs/source/troubleshooting.rst
18	0	docs/source/troubleshooting/linux.rst
58	0	docs/source/troubleshooting/osx.rst
56	2	docs/source/usage.rst
96	2	docs/source/usage/other.rst
61	8	docs/source/usage/shell-prompts.rst
59	4	docs/source/usage/wm-widgets.rst

--c2379df5	2014-01-25T16:19:47+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Remove old docs and update documentation structure

Most of the files are empty and need to be copied or rewritten from the
old docs. Font patching docs have been removed entirely and will be
moved to the powerline-fontpatcher repo.

Ref #769

c2379df5
15	0	docs/source/configuration-and-customization.rst
3	0	docs/source/configuration-reference.rst
0	636	docs/source/configuration.rst
0	142	docs/source/font-installation.rst
0	136	docs/source/fontpatching.rst
6	13	docs/source/index.rst
8	0	docs/source/installation.rst
3	100	docs/source/installation/linux.rst
4	120	docs/source/installation/osx.rst
0	136	docs/source/installation/troubleshooting-common.rst
0	65	docs/source/introduction.rst
1	7	docs/source/{license-credits.rst => license-and-credits.rst}
61	327	docs/source/overview.rst
8	0	docs/source/segment-reference.rst
0	0	docs/source/{segments => segment-reference}/common.rst
0	0	docs/source/{segments => segment-reference}/shell.rst
0	0	docs/source/{segments => segment-reference}/vim.rst
3	3	docs/source/{tipstricks.rst => tips-and-tricks.rst}
8	0	docs/source/troubleshooting.rst
3	0	docs/source/troubleshooting/linux.rst
3	0	docs/source/troubleshooting/osx.rst
15	0	docs/source/usage.rst
6	0	docs/source/usage/other.rst
15	0	docs/source/usage/shell-prompts.rst
9	0	docs/source/usage/wm-widgets.rst

--ecb3b690	2013-08-28T10:41:03+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add updated font installation docs

ecb3b690
142	0	docs/source/font-installation.rst

--151b3f11	2014-01-25T16:20:06+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Use readthedocs theme for docs

151b3f11
12	2	docs/source/conf.py
1	0	setup.py

--1d696d3d	2014-08-02T22:37:03+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #944 from ZyX-I/feature/daemon

Add powerline-daemon

Closes #827
Fixes #616
Closes #170
1d696d3d
--8bc5bb3f	2014-08-02T22:24:23+04:00	ZyX	kp-pav@yandex.ru	Update documentation

8bc5bb3f
1	6	docs/source/installation/troubleshooting-common.rst
21	0	docs/source/overview.rst

--4ddac2a2	2014-08-02T22:27:58+04:00	ZyX	kp-pav@yandex.ru	Do not run `set-environment` in tmux if POWERLINE_COMMAND is set

4ddac2a2
1	0	powerline/bindings/config.py

--ea7f3b65	2014-08-02T22:20:06+04:00	ZyX	kp-pav@yandex.ru	Add powerline-daemon --quiet

ea7f3b65
11	4	scripts/powerline-daemon

--44cca975	2014-08-02T22:03:22+04:00	ZyX	kp-pav@yandex.ru	Check whether daemon log is as empty as it should

44cca975
7	0	tests/test_shells/test.sh

--28aee92c	2014-08-02T21:56:37+04:00	ZyX	kp-pav@yandex.ru	Fix zsh daemon tests: disable hostname and user before testing select

Reason: hostname and user do not have stable width and select prompt width with 
daemon depends on previous prompt width.
28aee92c
9	7	tests/test_shells/input.zsh
-	-	tests/test_shells/zsh.daemon.ok
11	9	tests/test_shells/{zsh.ok => zsh.nodaemon.ok}

--9da3e04b	2014-08-02T21:27:31+04:00	ZyX	kp-pav@yandex.ru	Do not hardcode scripts/powerline in input.*

9da3e04b
4	3	tests/test_shells/input.bash
3	2	tests/test_shells/input.bb
3	2	tests/test_shells/input.dash
4	3	tests/test_shells/input.fish
3	2	tests/test_shells/input.mksh
3	2	tests/test_shells/input.tcsh
5	4	tests/test_shells/input.zsh
2	0	tests/test_shells/test.sh

--f3d97284	2014-08-02T21:10:15+04:00	ZyX	kp-pav@yandex.ru	Fall back to powerline-render when using powerline.sh

f3d97284
5	1	client/powerline.sh

--fed43e8a	2014-08-02T21:02:26+04:00	ZyX	kp-pav@yandex.ru	Run shell tests with and without daemon

fed43e8a
4	3	tests/test_shells/postproc.py
1	1	tests/test_shells/screenrc
40	20	tests/test_shells/test.sh
-	-	tests/test_shells/zsh.daemon.ok

--9290c2a2	2014-08-02T20:35:23+04:00	ZyX	kp-pav@yandex.ru	Make daemon work with aboveleft shell key

9290c2a2
25	0	powerline/shell.py
23	16	scripts/powerline-daemon
4	22	scripts/powerline-render

--8374a66c	2014-08-02T20:16:38+04:00	ZyX	kp-pav@yandex.ru	Also use the same code for tmux

8374a66c
23	10	powerline/bindings/config.py
0	1	powerline/bindings/tmux/powerline.conf

--05384e31	2014-08-02T20:07:55+04:00	ZyX	kp-pav@yandex.ru	Add `powerline-config shell command` and use it in all shell bindings

05384e31
3	5	powerline/bindings/bash/powerline.sh
35	2	powerline/bindings/config.py
4	5	powerline/bindings/fish/powerline-setup.fish
5	6	powerline/bindings/shell/powerline.sh
3	5	powerline/bindings/tcsh/powerline.tcsh
6	5	powerline/bindings/zsh/powerline.zsh
2	1	powerline/config.py
69	0	powerline/lib/shell.py
13	0	scripts/powerline-config

--925d3eb0	2014-08-02T19:48:07+04:00	ZyX	kp-pav@yandex.ru	Show exception in setup.py and try to fall back to powerline.sh

925d3eb0
20	4	setup.py

--95dcef8b	2014-08-02T19:47:03+04:00	ZyX	kp-pav@yandex.ru	Some style fixes

95dcef8b

--3b060562	2014-08-02T19:46:04+04:00	ZyX	kp-pav@yandex.ru	Fix UnicodeDecodeError in Python version of powerline client

3b060562
1	1	client/powerline.py

--e37b13cc	2014-08-02T18:56:44+04:00	ZyX	kp-pav@yandex.ru	Remove compiled binary from repository

e37b13cc
2	0	.gitignore
-	-	client/powerline

--e613beb8	2013-11-23T13:54:23+04:00	ZyX	kp-pav@ya.ru	Add shell version of powerline-client

Note: this shell script is still faster then client/powerline.py. `time` reports 
      0.00, 0.01, 0.02÷0.03 for powerline, powerline.sh and powerline.py 
      respectively (run with `./client/powerline* tmux right`).

Note: does not work in busybox as env there does not support -0 argument. 
      Requires sed, id (for dash as $UID is not available there), env, printf 
      and socat. Is not currently handled by setup.py.
e613beb8
13	0	client/powerline.sh

--7db42866	2013-11-23T13:20:05+04:00	ZyX	kp-pav@ya.ru	Get rid of modeline E518 error


7db42866
2	1	client/powerline.c

--a27f90df	2013-11-22T20:31:04+04:00	ZyX	kp-pav@ya.ru	Add a note about not fully working --editable to linux.rst

a27f90df
5	0	docs/source/installation/linux.rst
5	0	docs/source/installation/osx.rst

--21ee641a	2013-11-22T20:23:56+04:00	ZyX	kp-pav@ya.ru	Do not use scripts=[] to install powerline at all.


21ee641a
20	6	setup.py

--75536825	2013-11-20T23:34:15+04:00	ZyX	kp-pav@ya.ru	Use powerline/powerline-render pair in place of powerline-client/powerline


75536825
5	4	powerline/bindings/bash/powerline.sh
3	3	powerline/bindings/fish/powerline-setup.fish
3	3	powerline/bindings/tcsh/powerline.tcsh
1	1	powerline/bindings/tmux/powerline.conf
3	3	powerline/bindings/zsh/powerline.zsh

--c1d290b5	2013-11-20T23:30:35+04:00	ZyX	kp-pav@ya.ru	Use data_files on python-3


c1d290b5
6	8	setup.py

--a122e73b	2013-07-31T22:15:35+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add files from @kovidgoyal's powerline-daemon repo

Minor changes have been applied:

- Removed copyright info and GPL 3 license since Powerline is MIT (needs
  confirmation from kovidgoyal before merge)
- The `powerline-client` script is renamed to `powerline`, and calls the
  daemon or `powerline-render` (the previous `powerline`) to render
  a statusline
- Minor coding style corrections to match the rest of the project
- Python 3 support is removed for now due to setuptools failing with
  binary scripts

Todo:

- Automatically attempt to launch powerline-daemon the first time
  powerline is run if the daemon isn't already running?
- pip install -e fails with binary files (it appears that pip recodes
  the powerline binary to ASCII, the compiled powerline script must be
  copied manually to ~/.local/bin after pip install -e has been run)

a122e73b
-	-	client/powerline
115	0	client/powerline.c
77	0	client/powerline.py
1	0	scripts/.gitignore
395	0	scripts/powerline-daemon
0	0	scripts/{powerline => powerline-render}
32	4	setup.py

--6430877e	2014-08-02T18:42:10+04:00	ZyX	kp-pav@yandex.ru	Merge branch 'trailing-whitespace-warning' into develop

Closes #943

6430877e
--9e8c115e	2014-08-02T18:22:45+04:00	ZyX	kp-pav@yandex.ru	Add trailing whitespace segment

Note: by default this segment is disabled. Until #923 it may only be enabled by
copying the whole file and changing "enabled" to "true". After #923 it may be
enabled by having `~/.config/powerline/themes/vim/default.json` with the
following contents:

    {
        "segment_data": {
            "trailing_whitespace": {
                "display": true
            }
        }
    }

Fixes #388

9e8c115e
27	0	powerline/bindings/vim/__init__.py
6	0	powerline/config_files/themes/vim/default.json
59	1	powerline/segments/vim.py
16	2	powerline/vim.py
20	0	tests/test_segments.py
48	2	tests/vim.py

--16c01e8d	2014-07-12T23:39:45+04:00	ZyX	kp-pav@yandex.ru	Add support for display option

16c01e8d
11	4	docs/source/configuration.rst
11	1	powerline/lint/__init__.py
3	0	powerline/segment.py
1	0	powerline/theme.py
10	0	tests/test_configuration.py

--90f3ca5a	2014-07-29T16:24:50+04:00	ZyX	kp-pav@yandex.ru	Merge branch 'update-powerline.vim-error' into develop

90f3ca5a
--8cb478f8	2014-07-29T16:24:38+04:00	ZyX	kp-pav@yandex.ru	Add information about g:powerline_pycmd to error message

8cb478f8
4	0	powerline/bindings/vim/plugin/powerline.vim

--074e118d	2014-07-29T16:14:38+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #938 from ZyX-I/noloadpython

Do not let powerline trigger loading wrong python
074e118d
--191c71cf	2014-07-29T14:48:26+04:00	ZyX	kp-pav@yandex.ru	Do not let powerline trigger loading wrong python

Used python version is controlled by `g:powerline_pycmd`. User configuration now
has top priority: if `g:powerline_pyeval` is set powerline will not try to use
`pyeval()` emulation in old Vim versions.

Closes #937 as WONTFIX

191c71cf
19	0	docs/source/overview.rst
40	5	powerline/bindings/vim/plugin/powerline.vim
3	2	powerline/vim.py

--c91a0fa7	2014-07-29T14:31:17+04:00	ZyX	kp-pav@yandex.ru	Remove note about Gentoo ebuild

It is not hosted in this repo any longer.
c91a0fa7
0	3	docs/source/overview.rst

--68ba8a27	2014-07-28T03:36:38+04:00	ZyX	kp-pav@yandex.ru	Merge commit '6a08168' into develop

68ba8a27
--6a081685	2014-07-28T03:36:15+04:00	ZyX	kp-pav@yandex.ru	Fix “syntax error near unexpected token `fi'” error

6a081685
1	0	tests/test_shells/test.sh

--9e023d14	2014-07-28T03:31:01+04:00	ZyX	kp-pav@yandex.ru	Merge branch 'disable-dash-tests' into develop

9e023d14
--d1b62eba	2014-07-28T03:30:51+04:00	ZyX	kp-pav@yandex.ru	Disable dash tests

Temporary fix for #931
d1b62eba
2	1	tests/test_shells/test.sh

--8c7908c1	2014-07-28T03:23:52+04:00	ZyX	kp-pav@yandex.ru	Merge commit 'HEAD@{2}' (PR #802, squashed) into develop

Closes #935
Ref #302
Closes #300
Merges #802
Ref #769

8c7908c1
--9a02f82d	2014-07-26T01:58:39+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #934 from ZyX-I/fix-932

Ignore IOErrors in ConfigLoader.update
9a02f82d
--d0c4d4e2	2014-07-26T01:25:32+04:00	ZyX	kp-pav@yandex.ru	Ignore IOError’s in ConfigLoader.update

Fixes #932

d0c4d4e2
4	1	powerline/lib/config.py
80	0	tests/lib/fsconfig.py
51	0	tests/test_lib_config.py

--a279ea23	2014-07-25T16:25:50+04:00	ZyX	kp-pav@yandex.ru	Also check error messages

a279ea23
12	0	tests/test_configuration.py

--5cb897dd	2014-07-26T01:11:18+04:00	ZyX	kp-pav@yandex.ru	Merge branch 'fix-933' into develop

5cb897dd
--cd5c6fe7	2014-07-26T01:09:56+04:00	ZyX	kp-pav@yandex.ru	Make sure arguments in `args` are only strings

Required for python-2.6

Fixes #933
cd5c6fe7
1	1	powerline/segment.py

--5f7fbda2	2014-07-23T01:48:09+04:00	ZyX	kp-pav@yandex.ru	Merge branch 'fix-powerline-config' into develop

Ref #930

5f7fbda2
--1447be1d	2014-07-23T01:47:46+04:00	ZyX	kp-pav@yandex.ru	Add missing imports in powerline-config

They matter when script is used without properly installing powerline, so that 
importing `powerline.bindings.config` does not work.
1447be1d
2	0	scripts/powerline-config

--e72ca9d7	2014-07-20T02:07:20+04:00	ZyX	kp-pav@yandex.ru	Merge branch 'sh-support' into develop

Closes #928

e72ca9d7
--97e4ee67	2014-07-20T02:04:44+04:00	ZyX	kp-pav@yandex.ru	Document why `stuff` and waiting are used for dash

97e4ee67
6	0	tests/test_shells/test.sh

--855e3327	2014-07-20T02:00:56+04:00	ZyX	kp-pav@yandex.ru	Fix travis build: on travis “Terminated…” message is truncated

855e3327
1	1	tests/test_shells/mksh.ok
5	0	tests/test_shells/postproc.py

--5425c064	2014-07-20T01:49:30+04:00	ZyX	kp-pav@yandex.ru	Add tests for new functionality

5425c064
1	1	tests/install.sh
1	1	tests/test.sh
17	0	tests/test_shells/bb.ok
17	0	tests/test_shells/dash.ok
23	0	tests/test_shells/input.bb
23	0	tests/test_shells/input.dash
23	0	tests/test_shells/input.mksh
19	0	tests/test_shells/mksh.ok
52	4	tests/test_shells/test.sh

--b2406d98	2014-07-20T00:43:19+04:00	ZyX	kp-pav@yandex.ru	Disable libzpython support in zsh

b2406d98
5	0	tests/test_shells/input.zsh

--82e43390	2014-07-20T00:32:16+04:00	ZyX	kp-pav@yandex.ru	Fix shell tests: VIRTUAL_ENV is not accessible by powerline by default

82e43390
1	1	tests/test_shells/input.bash
3	3	tests/test_shells/input.fish
1	1	tests/test_shells/input.zsh

--a8da67e2	2014-07-20T00:24:12+04:00	ZyX	kp-pav@yandex.ru	Add various other shell implementations support

Tested in busybox, mksh, ksh and dash. Ksh has issues described in 
troubleshooting.
a8da67e2
7	0	docs/source/installation/troubleshooting-common.rst
32	0	docs/source/overview.rst
181	0	powerline/bindings/shell/powerline.sh
20	0	powerline/renderers/ksh_prompt.py

--3d12662f	2014-07-19T21:38:49+04:00	ZyX	kp-pav@yandex.ru	Refactor _powerline_init_tmux_support

- Move _powerline_tmux* functions definitions out of
  _powerline_init_tmux_support.
- Do not touch PROMPT_COMMAND unless tmux support is to be added.
3d12662f
8	11	powerline/bindings/bash/powerline.sh

--d8606443	2014-07-19T20:34:39+04:00	ZyX	kp-pav@yandex.ru	Rename some bash powerline functions

Renamed `_powerline_prompt` to `_powerline_set_prompt` and `_run_powerline` to 
`_powerline_prompt.`

Reason: name `_run_powerline` is not consistent with other names used in shell 
bindings.
d8606443
5	5	powerline/bindings/bash/powerline.sh

--402554a1	2014-07-19T20:19:58+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #927 from ZyX-I/move-POWERLINE_COMMAND

Do not define POWERLINE_COMMAND when not using prompt
402554a1
--face1717	2014-07-19T19:59:36+04:00	ZyX	kp-pav@yandex.ru	Do not define POWERLINE_COMMAND when not using prompt

To be consistent with fish and bash
face1717
6	5	powerline/bindings/tcsh/powerline.tcsh
10	10	powerline/bindings/zsh/powerline.zsh

--8f0bbd37	2014-07-19T20:06:44+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #926 from ZyX-I/fix-cygwin-COLUMNS

Use `stty size` or zero as a fallback for $COLUMNS
8f0bbd37
--f92e6eb5	2014-07-19T19:56:31+04:00	ZyX	kp-pav@yandex.ru	Use `stty size` or zero as a fallback for $COLUMNS

Fixes #924
f92e6eb5
14	2	powerline/bindings/bash/powerline.sh
22	3	powerline/bindings/fish/powerline-setup.fish
14	2	powerline/bindings/zsh/powerline.zsh

--12a93c57	2014-07-12T14:35:49+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #921 from ZyX-I/colorschemes-hierarchy

Implement colorschemes hierarchy

Fixes #770.
12a93c57
--f5735148	2014-07-12T14:22:23+04:00	ZyX	kp-pav@yandex.ru	Add group aliasing and colorscheme hierarchy tests

f5735148
137	1	tests/test_configuration.py

--3ebf9c1a	2014-07-12T14:08:05+04:00	ZyX	kp-pav@yandex.ru	Use highlighted_string function to define segments

3ebf9c1a
13	18	tests/test_configuration.py

--576971c5	2014-07-12T13:48:04+04:00	ZyX	kp-pav@yandex.ru	Fix test class name in test_configuration

576971c5
1	1	tests/test_configuration.py

--9af78344	2014-07-12T13:46:28+04:00	ZyX	kp-pav@yandex.ru	Disable shell tests in PyPy

Do not let PyPy SEGVs result in failed build.
9af78344
2	0	tests/test.sh

--621eb841	2014-03-17T19:54:29+04:00	ZyX	kp-pav@ya.ru	Fix tests

621eb841
8	2	tests/test_config_reload.py

--ba63965a	2014-02-20T21:33:49+04:00	ZyX	kp-pav@ya.ru	Refactor some vim colorschemes to use group aliases

ba63965a
15	0	powerline/config_files/colorschemes/vim/__main__.json
2	9	powerline/config_files/colorschemes/vim/default.json
2	9	powerline/config_files/colorschemes/vim/solarized.json
2	9	powerline/config_files/colorschemes/vim/solarizedlight.json

--2d27f821	2014-07-12T12:03:26+04:00	ZyX	kp-pav@yandex.ru	Make lint checker work

2d27f821
204	61	powerline/lint/__init__.py

--8ded14c3	2014-07-12T12:03:08+04:00	ZyX	kp-pav@yandex.ru	Add mergedicts_copy: non-modifying mergedicts

8ded14c3
15	0	powerline/lib/__init__.py

--4d9157d7	2014-07-12T12:01:32+04:00	ZyX	kp-pav@yandex.ru	Add MarkedDict class, add special code for .copy() in Marked

4d9157d7
15	1	powerline/lint/markedjson/markedvalue.py

--ee71eac7	2014-07-12T12:02:14+04:00	ZyX	kp-pav@yandex.ru	Check for dictionaries using isinstance(), not is

ee71eac7
1	1	powerline/lib/__init__.py

--7f945833	2014-07-12T11:58:59+04:00	ZyX	kp-pav@yandex.ru	Make attr colorscheme group key required

7f945833
3	2	docs/source/configuration.rst
29	29	powerline/config_files/colorschemes/default.json
2	2	powerline/config_files/colorschemes/ipython/default.json
5	5	powerline/config_files/colorschemes/shell/default.json
3	3	powerline/config_files/colorschemes/shell/solarized.json
9	9	powerline/config_files/colorschemes/solarized.json
29	29	powerline/config_files/colorschemes/vim/default.json
45	45	powerline/config_files/colorschemes/vim/solarized.json
46	46	powerline/config_files/colorschemes/vim/solarizedlight.json

--d72e4f50	2014-02-05T09:12:04+04:00	ZyX	kp-pav@ya.ru	Update documentation

d72e4f50
21	7	docs/source/configuration.rst
2	0	powerline/__init__.py

--e79eada2	2014-02-05T08:56:26+04:00	ZyX	kp-pav@ya.ru	Move some color defintions to colorscheme/*.json

e79eada2
42	0	powerline/config_files/colorschemes/default.json
0	1	powerline/config_files/colorschemes/ipython/default.json
6	0	powerline/config_files/colorschemes/shell/__main__.json
1	12	powerline/config_files/colorschemes/shell/default.json
1	14	powerline/config_files/colorschemes/shell/solarized.json
17	0	powerline/config_files/colorschemes/solarized.json
0	32	powerline/config_files/colorschemes/tmux/default.json
1	1	powerline/config_files/colorschemes/vim/solarized.json
1	1	powerline/config_files/colorschemes/vim/solarizedlight.json
0	26	powerline/config_files/colorschemes/wm/default.json

--97266b7f	2014-02-04T21:37:42+04:00	ZyX	kp-pav@ya.ru	Initial support for #770

What was done:
- Implemented loading using configuration hierarhy as proposed in the issue
- Implemented group aliasing

What was not:
- Some tests (config_reload) are failing
- Other (test_configuration) are spamming console with unexpected messages
- No support for powerline-lint
- No tests for new functionality
- Specifically I have not checked whether group aliasing actually works
- Colorschemes were not ported

Some other things: I have named this branch `config-ng` because I have other
ideas about configuration and it would be good to include them making only one
possibly backwards-incompatible merge commit instead of many. Specifically I am
going to rebase `merge-config` branch here.

97266b7f
55	1	powerline/__init__.py
26	13	powerline/colorscheme.py
18	13	tests/test_config_reload.py

--2d1a964e	2014-07-10T23:40:26+04:00	ZyX	kp-pav@yandex.ru	Merge branch 'disable-virtualenv-prompt' into develop

2d1a964e
--ff7be9ac	2014-07-10T23:40:15+04:00	ZyX	kp-pav@yandex.ru	Set VIRTUAL_ENV_DISABLE_PROMPT to 1

Otherwise powerline prompt is being prefixed by `(virtualenv-name)` in zsh which 
looks rather ugly. In bash prompt is always overridden by PROMPT_COMMAND, thus 
there is no actual need to set this variable.
ff7be9ac
1	0	powerline/bindings/bash/powerline.sh
1	0	powerline/bindings/zsh/powerline.zsh

--0fb5405a	2014-07-10T23:30:53+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #920 from ZyX-I/fix-not-implemented-tests

Improve vim tests
0fb5405a
--93c3b287	2014-07-10T23:18:16+04:00	ZyX	kp-pav@yandex.ru	Use better type converted for python-3*

Converter already existed, just needed to make it used by getbufvar

93c3b287
15	10	powerline/bindings/vim/__init__.py

--12892145	2014-07-10T23:08:59+04:00	ZyX	kp-pav@yandex.ru	Correct _construct_result for Python-3

12892145
6	3	tests/vim.py

--a92d72b5	2014-07-10T22:54:27+04:00	ZyX	kp-pav@yandex.ru	Respect the fact that vim.eval in Vim returns str instances

a92d72b5
19	0	tests/vim.py

--3ac75eec	2014-07-10T22:32:41+04:00	ZyX	kp-pav@yandex.ru	Add window_title tests

3ac75eec
7	0	tests/test_segments.py

--f9af4250	2014-07-10T22:32:07+04:00	ZyX	kp-pav@yandex.ru	Add missing winnr key to segments_dictionary

f9af4250
1	0	tests/vim.py

--e436bdbb	2014-07-10T22:26:14+04:00	ZyX	kp-pav@yandex.ru	Remove failing _index, use (self.number - 1) instead

e436bdbb
1	5	tests/vim.py

--3f8c8c94	2014-07-10T22:22:24+04:00	ZyX	kp-pav@yandex.ru	Prefix _Windows.{append,insert,pop} methods with underscore

There are no such methods in Vim.

3f8c8c94
6	6	tests/vim.py

--0ab80742	2014-07-10T22:21:29+04:00	ZyX	kp-pav@yandex.ru	Add _with('wvars')

0ab80742
2	0	tests/vim.py

--a3e29a6c	2014-07-10T22:12:08+04:00	ZyX	kp-pav@yandex.ru	Get rid of lots of NotImplementedError’s in travis log

a3e29a6c
18	2	tests/vim.py

--497ddc97	2014-07-10T21:34:56+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #917 from ZyX-I/fix-powerline-config-shell

Refactor powerline to create loggers and use run_cmd in powerline-config
497ddc97
--44ce483e	2014-07-10T21:13:39+04:00	ZyX	kp-pav@yandex.ru	Use powerline.shell.run_cmd to get tmux version

Closes #912

44ce483e
18	6	powerline/bindings/config.py
4	2	scripts/powerline-config

--3d8ce55e	2014-07-10T21:11:35+04:00	ZyX	kp-pav@yandex.ru	Move code that sets config.json/common defaults to a separate function

3d8ce55e
30	14	powerline/__init__.py

--8f442ac0	2014-07-10T21:04:33+04:00	ZyX	kp-pav@yandex.ru	Move some code from Powerline.create_renderer to create_logger

8f442ac0
37	29	powerline/__init__.py

--0fc7856b	2014-07-10T20:45:28+04:00	ZyX	kp-pav@yandex.ru	Rename create_renderer_kwargs to cr_kwargs for consistency

0fc7856b
10	10	powerline/__init__.py
1	1	tests/lib/config_mock.py

--c891d75c	2014-07-10T20:43:50+04:00	ZyX	kp-pav@yandex.ru	Move _load_config body to a separate function

c891d75c
36	8	powerline/__init__.py

--768e64bc	2014-07-10T20:32:39+04:00	ZyX	kp-pav@yandex.ru	Add generate_config_finder function

768e64bc
18	2	powerline/__init__.py
5	4	powerline/lint/__init__.py

--28909436	2014-07-10T20:27:24+04:00	ZyX	kp-pav@yandex.ru	Rename find_config_file to _find_config_file

28909436
3	3	powerline/__init__.py
1	1	powerline/lint/__init__.py
2	2	tests/lib/config_mock.py

--c36e14fd	2014-07-10T20:23:41+04:00	ZyX	kp-pav@yandex.ru	Move get_config_paths out from Powerline class

c36e14fd
22	9	powerline/__init__.py

--58515346	2014-07-10T20:19:11+04:00	ZyX	kp-pav@yandex.ru	Replace on_*_change with callbacks generator

58515346
20	30	powerline/__init__.py

--0810f394	2014-07-10T20:00:59+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #909 from ZyX-I/pypy-support

Enable pypy tests in .travis.yml
0810f394
--871ce572	2014-07-10T19:49:37+04:00	ZyX	kp-pav@yandex.ru	Set use_mercurial and use_bzr to False in PyPy

871ce572
3	1	tests/test_lib.py

--19195159	2014-07-10T19:29:56+04:00	ZyX	kp-pav@yandex.ru	Only install mercurial and bazaar if using CPython

19195159
2	0	tests/install.sh

--6c0018b7	2014-07-10T19:16:27+04:00	ZyX	kp-pav@yandex.ru	Purge use_errno argument from function prototype calls

- It is already contained in prototype definition.
- PyPy is not able to run code with use_errno there.
6c0018b7
3	3	powerline/lib/inotify.py

--d478c239	2014-07-06T22:49:47+04:00	ZyX	kp-pav@yandex.ru	Enable pypy tests in .travis.yml

d478c239
1	0	.travis.yml

--d770a412	2014-07-10T19:06:29+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #915 from ZyX-I/better-line_percent_gradient

Default line_percent_gradient to (light|dark)_green_gray gradients
d770a412
--e2a49417	2014-07-08T18:09:21+04:00	ZyX	kp-pav@yandex.ru	Default line_percent_gradient to (light|dark)_green_gray gradients

dark_green_gray gradient was generated with

    tools/generate_gradients.py 70 247

. It is used for non-insert modes in the current window. light_green_gray
gradient was generated with

    ./tools/generate_gradients.py 148 250

. It is used for insert mode in the current window.

e2a49417
8	0	powerline/config_files/colors.json
4	3	powerline/config_files/colorschemes/vim/default.json
1	1	tests/test_local_overrides.vim

--ce75d057	2014-07-10T18:55:06+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #914 from ZyX-I/better-battery-colors

Improve battery segment colors
ce75d057
--af2d73ad	2014-07-07T20:37:07+04:00	ZyX	kp-pav@yandex.ru	Regenerate gui colors for white_red gradient

Command used to generate colors:

    tools/generate_gradients.py -C 231 255 223 216 209 202 196 --weights='1 1 1 1 1 1 3'

af2d73ad
1	1	powerline/config_files/colors.json

--551c9f8b	2014-07-07T20:00:33+04:00	ZyX	kp-pav@yandex.ru	Add two more colors to white_red gradient cterm colors

Picked up with

    tools/generate_gradients.py 231 223 216 209 196

551c9f8b
1	1	powerline/config_files/colors.json

--a0a5b441	2014-07-07T19:57:28+04:00	ZyX	kp-pav@yandex.ru	Use battery_full and battery_empty for displaying hearts

Red hearts for battery full are still more optimal in case white hearts are for
empty (though I do not understand why they have to be red). Cannot agree about
per cents though: red is better for empty then white is if there are no related
parts to compare.

a0a5b441
2	0	powerline/config_files/colorschemes/tmux/default.json
12	5	powerline/segments/common.py
4	4	tests/test_segments.py

--2f7c44c2	2014-07-07T19:38:12+04:00	ZyX	kp-pav@yandex.ru	Document how to create gradient colors

2f7c44c2
3	0	docs/source/configuration.rst

--39316c42	2014-07-07T19:37:59+04:00	ZyX	kp-pav@yandex.ru	Reverse the gradient in battery segment

Closes #910

39316c42
7	3	powerline/segments/common.py
7	7	tests/test_segments.py

--cbcab959	2014-07-10T18:22:42+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #913 from ZyX-I/improve-generate_gradients

Improve generate_gradients.py script
cbcab959
--a68e01ac	2014-07-08T18:12:54+04:00	ZyX	kp-pav@yandex.ru	Reverse JSON output and add trailing comma

Makes it easier to copy-paste output to colors.json.

a68e01ac
6	6	tools/generate_gradients.py

--ca0a8a26	2014-07-07T20:22:07+04:00	ZyX	kp-pav@yandex.ru	Refactor generate_gradients.py

ca0a8a26
60	44	tools/generate_gradients.py

--d1c2980c	2014-07-07T20:12:25+04:00	ZyX	kp-pav@yandex.ru	Add a way to omit computing colors for terminal

d1c2980c
4	0	tools/generate_gradients.py

--97cd66b6	2014-07-06T22:42:53+04:00	ZyX	kp-pav@yandex.ru	Merge branch 'fix-vim-overrides-test' into develop

97cd66b6
--473f647f	2014-07-06T22:42:28+04:00	ZyX	kp-pav@yandex.ru	Fix test_local_overrides.vim test broken by better-gradient branch

473f647f
1	1	tests/test_local_overrides.vim

--184df196	2014-07-06T11:57:49+04:00	ZyX	kp-pav@yandex.ru	Merge branch 'better-gradients' into develop

184df196
--8b084bf6	2014-07-06T11:55:54+04:00	ZyX	kp-pav@yandex.ru	Also use CIE2000 in colors_find

8b084bf6
34	15	tools/colors_find.py

--e74ca293	2014-07-06T11:22:30+04:00	ZyX	kp-pav@yandex.ru	Use new script to regenerate dark_GREEN_Orange_red

Used command was

    tools/generate_gradients.py 22 58 94 52 --weights '60 15 10 2'

as earlier.

e74ca293
2	2	powerline/config_files/colors.json

--2e5c66c2	2014-07-06T10:17:14+04:00	ZyX	kp-pav@yandex.ru	Use CIE2000 to determine color distances, compute gradients in Lab

Slow

2e5c66c2
40	23	tools/generate_gradients.py

--7879142a	2014-06-28T22:20:39+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #905 from ZyX-I/fix-876

Fix support for .git git symlinks
7879142a
--623395a0	2014-06-28T22:18:45+04:00	ZyX	kp-pav@yandex.ru	Remove outdated comment

623395a0
0	2	tests/test_lib.py

--d7d81082	2014-06-28T21:54:21+04:00	ZyX	kp-pav@yandex.ru	Fix error in python-3* that happens while checking branch name

d7d81082
1	1	tests/test_lib.py

--4d4da568	2014-06-28T21:46:12+04:00	ZyX	kp-pav@yandex.ru	Check whether it runs fine in travis

4d4da568
0	2	tests/test_lib.py

--317f4be4	2014-06-28T21:45:24+04:00	ZyX	kp-pav@yandex.ru	Add tests for git symlinks

317f4be4
21	0	tests/test_lib.py

--803963af	2014-06-28T21:45:08+04:00	ZyX	kp-pav@yandex.ru	Fix git symlink handling

803963af
3	2	powerline/lib/vcs/git.py

--abb4ed4e	2014-06-28T21:28:45+04:00	ZyX	kp-pav@yandex.ru	Support .git files with newline at the end

Fixes #876
abb4ed4e
2	0	powerline/lib/vcs/git.py

--13861141	2014-06-28T21:17:32+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #904 from ZyX-I/disable-inotify-option

Add watcher option
13861141
--c570a980	2014-06-28T19:01:12+04:00	ZyX	kp-pav@yandex.ru	Add watcher option

Ref #818

c570a980
13	0	docs/source/configuration.rst
31	13	powerline/__init__.py
39	2	powerline/lib/config.py
30	12	powerline/lib/file_watcher.py
21	15	powerline/lib/vcs/__init__.py
16	4	powerline/lib/vcs/bzr.py
41	46	powerline/lib/vcs/git.py
17	5	powerline/lib/vcs/mercurial.py
3	2	powerline/lint/__init__.py
2	0	powerline/lint/inspect.py
9	3	powerline/segment.py
4	3	powerline/segments/common.py
7	5	powerline/segments/vim.py
6	1	powerline/theme.py
6	1	tests/lib/config_mock.py
1	0	tests/test_config_reload.py
2	1	tests/test_configuration.py
14	9	tests/test_lib.py
39	21	tests/test_segments.py

--71ddacec	2014-06-28T19:30:04+04:00	Nikolai Aleksandrovich Pavlov	kp-pav@yandex.ru	Merge pull request #903 from ZyX-I/patchable-config

Add patchable file powerline/config.py with system-dependent variables
71ddacec
--27003bc0	2014-06-28T19:20:06+04:00	ZyX	kp-pav@yandex.ru	Move all variables that should be replaced to powerline/config.py

27003bc0
1	3	powerline/__init__.py
2	2	powerline/bindings/config.py
8	0	powerline/config.py

--95a2bef8	2014-06-28T19:03:50+04:00	ZyX	kp-pav@yandex.ru	Take directory setting from TMUX_CONFIG_DIRECTORY

95a2bef8
3	1	powerline/bindings/config.py

--1f6ed8ef	2014-06-28T17:37:04+04:00	ZyX	kp-pav@yandex.ru	Merge branch 'fix-901' into develop

1f6ed8ef
--43ca0e82	2014-06-28T17:36:41+04:00	ZyX	kp-pav@yandex.ru	Fix documentation

43ca0e82
1	1	docs/source/overview.rst

--070bfab3	2014-06-28T17:36:05+04:00	ZyX	kp-pav@yandex.ru	Fix quotes in powerline.conf

Fixes #901
070bfab3
1	1	powerline/bindings/tmux/powerline.conf

--699f04d5	2014-06-27T19:22:10+04:00	ZyX	kp-pav@yandex.ru	Improve battery support:

- Use dbus+UPower if available (code taken from kovidgoyal@7f73453 and
  refactored).
- Use any battery from /sys/class/power_supply: replace hardcoded BAT0/BAT1 with
  cycle.
- Use pmset.
- Use win32com.client with Win32_Battery object (code taken from an [SO
  question][1] and refactored).
- Use ctypes + GetSystemPowerStatus (from [the same question][1]).

Completely untested (only know that syntax is correct), will probably have to
hear replies from users to merge.

[1]: http://stackoverflow.com/a/21083571/273566

Closes #677.
Fixes #820.

699f04d5
138	13	powerline/segments/common.py

--828c953f	2014-06-25T21:58:04+04:00	ZyX-I	kp-pav@yandex.ru	Merge pull request #880 from ZyX-I/powerline-config-script

[RFC] Powerline config script
828c953f
--eb44c615	2014-06-25T21:40:50+04:00	ZyX-I	kp-pav@yandex.ru	Merge pull request #899 from ZyX-I/fix-tests

Set tmux PWD after PROMPT_COMMAND, do not require it at the start
eb44c615
--17469f05	2014-06-25T21:34:57+04:00	ZyX	kp-pav@yandex.ru	Set tmux PWD after PROMPT_COMMAND, do not require it at the start

Should fix failing bash bindings test
17469f05
2	2	powerline/bindings/bash/powerline.sh

--c6d56327	2014-06-25T21:28:06+04:00	ZyX-I	kp-pav@yandex.ru	Merge pull request #898 from ZyX-I/fix-inotify-watcher

Fix inotify tree watcher bug

Fixes #874
c6d56327
--f4c62b8f	2014-06-25T21:27:15+04:00	ZyX-I	kp-pav@yandex.ru	Merge pull request #897 from ZyX-I/shell

Shell: some refactoring and Windows hack
f4c62b8f
--1d9cdc8f	2014-06-25T21:18:46+04:00	ZyX	kp-pav@yandex.ru	Fix inotify tree watcher bug

Change made by @kovidgoyal. Comment:

Fix a bug in the inotify tree watcher that incorrectly marked a tree as 
unchanged if an ignored event happens after a non-ignored event. This allows an 
optimisation in the git backed to be used (ignoring changes to .git/index.lock).

--

Not including actual commit as I do not think removing pygit2 backend is a good 
idea. Worse, removing pygit2 backend in the same commit fix is added is 
definitely bad idea.
1d9cdc8f
2	1	powerline/lib/tree_watcher.py
13	11	powerline/lib/vcs/git.py

--685161fc	2014-06-25T21:05:58+04:00	ZyX	kp-pav@yandex.ru	Incorporate Windows hack found by @kovidgoyal

Ref #36
Fixes #498
685161fc
8	0	powerline/lib/shell.py

--afa6b838	2014-06-25T21:00:38+04:00	ZyX	kp-pav@yandex.ru	Explicitly specify shell=False when using powerline.lib.shell.run_cmd

afa6b838
1	1	powerline/lib/shell.py

--ed267933	2014-06-25T21:00:12+04:00	ZyX	kp-pav@yandex.ru	Add documentation for powerline.lib.shell.run_cmd

ed267933
11	0	powerline/lib/shell.py

--1498fc71	2014-06-25T20:59:39+04:00	ZyX	kp-pav@yandex.ru	Move readlines function to powerline.lib.shell

1498fc71
23	2	powerline/lib/shell.py
1	9	powerline/lib/vcs/git.py

--7f5c4968	2014-06-25T20:42:39+04:00	ZyX	kp-pav@yandex.ru	Merge branch 'fix-467' into develop

7f5c4968
--fc8ad831	2014-06-25T20:40:24+04:00	ZyX	kp-pav@yandex.ru	Update tmux data even when prompt is disabled

Fixes #467
fc8ad831
2	1	powerline/bindings/bash/powerline.sh

--1dd5f42b	2014-06-25T20:15:04+04:00	ZyX-I	kp-pav@yandex.ru	Merge pull request #896 from ZyX-I/fix-vim-environment

Fix typo in VimRenderer.render

Ref jmcantrell/vim-virtualenv#26.
1dd5f42b
--6f6c1fb9	2014-06-25T19:55:20+04:00	ZyX	kp-pav@yandex.ru	Add tests

6f6c1fb9
2	2	powerline/vim.py
11	4	tests/lib/config_mock.py
46	1	tests/test_configuration.py
7	0	tests/vim.py

--46d58d39	2014-06-25T19:27:21+04:00	ZyX	kp-pav@yandex.ru	Fix typo in VimRenderer.render

segment_info should have been initialized with self.segment_info, not updated: 
new values must have priority. Refactored the result so that static values are 
defined in VimRenderer.segment_info.
46d58d39
6	4	powerline/renderers/vim.py

--35522b15	2014-06-24T23:50:03+04:00	ZyX-I	kp-pav@yandex.ru	Merge pull request #893 from ZyX-I/multiline-prompt

Multiline prompt support

Fixes #462
35522b15
--515df615	2014-06-24T23:36:50+04:00	ZyX	kp-pav@yandex.ru	Add some basic tests

515df615
23	0	tests/lib/config_mock.py
2	14	tests/test_config_reload.py
138	0	tests/test_configuration.py

--f02807ff	2014-06-24T20:36:45+04:00	ZyX	kp-pav@yandex.ru	Rename test_configuration to test_provided_config_files

f02807ff
0	0	tests/{test_configuration.py => test_provided_config_files.py}

--9a4e1edf	2014-06-23T20:03:24+04:00	ZyX	kp-pav@yandex.ru	Update documentation

9a4e1edf
27	2	docs/source/configuration.rst

--f718719a	2014-06-23T19:56:09+04:00	ZyX	kp-pav@yandex.ru	Update lint checker

f718719a
23	16	powerline/lint/__init__.py

--8849f9d3	2014-06-23T20:43:29+04:00	ZyX	kp-pav@yandex.ru	Support multiline prompt in fish

Note: fish does not accept prompt strings that have width identical to the
terminal width: it makes prompt be reduced to just `>`.

8849f9d3
22	2	powerline/bindings/fish/powerline-setup.fish

--5df7b36c	2014-06-24T21:22:09+04:00	ZyX	kp-pav@yandex.ru	Support multiline prompt in tcsh

Notes:

- I had to launch script twice because tcsh does not actually support multiline
  prompt: it squashes everything into one line.
- Thus I had to add POWERLINE_TCSH_NO_ABOVE_PROMPT: running python twice is not
  nice for performance.
- Due to 1) tcsh shifting rprompt by 1 and 2) tcsh not accepting %{%}-escaped
  color section at the very end of rprompt (actually it is accepting it, just
  makes user input colored as that section) I had to reduce computed width by 2.
- As running powerline command in precmd modifies status code I had to use
  POWERLINE_STATUS variable to save status.
- As tcsh does not accept names that start with underscore non-API powerline
  variables do not start with underscore.

5df7b36c
9	3	powerline/bindings/tcsh/powerline.tcsh

--3b4a2b35	2014-06-23T08:52:46+04:00	ZyX	kp-pav@yandex.ru	Support multiline prompt in zsh

Notes:

- Unlike fish zsh outputs right prompt shifted by one to the left. Which means
  I have to subtract 1 from computed width.
- PS2 and PS3 produce too lengthy prompts when fed with real width. Thus they
  are fed with PS1 prompt width like in ipython (out prompts).

3b4a2b35
17	7	powerline/bindings/zsh/__init__.py
12	6	powerline/bindings/zsh/powerline.zsh

--eb014efd	2014-06-23T08:48:54+04:00	ZyX	kp-pav@yandex.ru	Support multiline prompt in bash

eb014efd
7	1	powerline/bindings/bash/powerline.sh

--61006d8f	2014-06-23T08:39:05+04:00	ZyX	kp-pav@yandex.ru	Add support for above lines as described in #462

Support is not mirrored in shell bindings yet

61006d8f
19	0	powerline/__init__.py
18	2	powerline/renderer.py
1	1	powerline/shell.py
25	9	powerline/theme.py
18	4	scripts/powerline

--e3a27e0c	2014-06-23T21:09:27+04:00	ZyX	kp-pav@yandex.ru	Merge branch 'readd-zpython' into develop

e3a27e0c
--90afccb2	2014-06-23T21:09:15+04:00	ZyX	kp-pav@yandex.ru	Add note about lags to troubleshooting-common.rst

90afccb2
14	0	docs/source/installation/troubleshooting-common.rst

--a65ea01d	2014-06-15T11:16:16+04:00	ZyX-I	kp-pav@yandex.ru	Merge pull request #890 from ZyX-I/fix-zpython-bindings

Fix zpython bindings
a65ea01d
--62601ad6	2014-06-15T11:09:09+04:00	ZyX	kp-pav@yandex.ru	Fix pipestatus segment in case of zsh+zpython

62601ad6
10	10	powerline/bindings/zsh/__init__.py
6	1	powerline/bindings/zsh/powerline.zsh

--641b0e08	2014-06-15T11:08:25+04:00	ZyX	kp-pav@yandex.ru	Junk double _POWERLINE_JOBNUM set

_POWERLINE_JOBNUM was already set in precmd, no need to do this again.
641b0e08
0	1	powerline/bindings/zsh/__init__.py

--edbcb5a1	2014-06-13T03:51:09+04:00	ZyX	kp-pav@yandex.ru	Merge branch 'new-zpython-name' into develop

edbcb5a1
--2c210bb6	2014-06-13T03:49:42+04:00	ZyX	kp-pav@yandex.ru	Zpython got renamed to libzpython

Not that I wanted this: cmake cannot be told I do not want `lib` prefix. `zsh/` 
prefix in any case should have been removed: zpython is not pretending it is 
a part of zsh now. Keeping old name for those who are still using zpython branch 
(i.e. nearly everybody since zpython got moved less then an hour ago).
2c210bb6
1	1	powerline/bindings/zsh/powerline.zsh

--b145b706	2014-06-01T21:51:28+04:00	ZyX-I	kp-pav@ya.ru	Merge pull request #888 from ZyX-I/run_cmd-unicode

Decode stdout in shell.run_cmd
b145b706
--17d12027	2014-06-01T20:00:36+04:00	ZyX	kp-pav@ya.ru	Decode stdout in shell.run_cmd

Closes #885
17d12027
3	0	powerline/lib/shell.py

--7ac27170	2014-05-27T05:44:08+04:00	ZyX	kp-pav@ya.ru	Merge branch 'fix-883' into develop

7ac27170
--7c65ee97	2014-05-27T05:43:55+04:00	ZyX	kp-pav@ya.ru	Catch NotImplementedError when importing module

Fixes #883
7c65ee97
5	1	powerline/segments/common.py

--e3bebcc5	2014-05-26T20:54:37+04:00	ZyX-I	kp-pav@ya.ru	Merge pull request #882 from Determinant/develop

[tmux] Make battery segment use BAT1 if BAT0 was not found
e3bebcc5
--88400285	2014-05-25T20:40:33+08:00	Teddy	ted.sybil@gmail.com	[tmux] Make battery segment use BAT1 if BAT0 was not found

88400285
8	2	powerline/segments/common.py

--49039867	2014-05-24T13:59:20+04:00	ZyX	kp-pav@ya.ru	Update documentation

Closes #872
49039867
0	5	docs/source/installation/troubleshooting-common.rst
7	5	docs/source/overview.rst

--c08340e0	2014-05-24T13:59:04+04:00	ZyX	kp-pav@ya.ru	Use POWERLINE_CONFIG_COMMAND environment variable

c08340e0
2	1	powerline/bindings/tmux/powerline.conf

--7b1d7bbb	2014-05-24T13:44:58+04:00	ZyX	kp-pav@ya.ru	Use scripts/powerline-config to source tmux configuration

Ref #872

7b1d7bbb
107	0	powerline/bindings/config.py
1	17	powerline/bindings/tmux/powerline.conf
0	0	powerline/bindings/tmux/{powerline_tmux_legacy_common.conf => powerline_tmux_1.8_minus.conf}
33	0	scripts/powerline-config
1	0	setup.py

--316609ff	2014-05-12T08:28:52+04:00	ZyX-I	kp-pav@ya.ru	Merge pull request #873 from frewsxcv/patch-1

Enable testing on Python 3.4
316609ff
--43941e4d	2014-05-11T20:22:48-07:00	Corey Farwell	coreyf@rwell.org	Enable testing on Python 3.4
43941e4d
1	0	.travis.yml

--f39b1dcf	2014-05-05T22:45:43-05:00	Austin Beam	austinbeam@gmail.com	tmux: Enhance version checking for tmux

tmux configuration has become very fragmented between versions due to a
combination of new features and deprecation of older options. As such,
version checking for tmux became a requirement to allow maximum
functionality along with version-appropriate configuration. However,
wrapping nearly every line with `if-shell` is tedious and becomes
virtually unreadable.

This enhancement to tmux version-checking creates a logical
configuration file structure that reflects the development of tmux. As
additional configurations are added and tmux development continues, this
structure can be leveraged appropriately and extended as needed.

Rather than having multiple `if-shell` checks for the same version, each
version or version group with specific requirements can be checked only
once. This leads to simpler and fewer `if-shell` version checks. It also
reduces the ambiguity introduced by complex `if-shell` commands that
include an 'else' conditional.

A caveat to adding this enhancement is the additional requirement of the
end user to add a tmux variable definition (`POWERLINE_BINDINGS_DIR`) to
his/her `~/.tmux.conf` file. For existing tmux users leveraging
powerline, this may prove to be a slight one-time nuisance immediately
after upgrading. Without this definition, there is no way to determine
the location of the additional tmux powerline config files that have
been added with this enhancement. The docs have also been updated in
this commit to reflect this initial configuration requirement change.
Also added are some additional troubleshooting notes that point to
definition of this variable as a potential issue. Powerline will
continue to work without the definition of `POWERLINE_BINDINGS_DIR`, but
some of the functionality will be reduced and the appearance incomplete
(i.e. colors).

Ultimately, the caveat above is a small price to pay in exchange for a
framework that can be leveraged for proper version-appropriate
configuration of tmux going forward.

f39b1dcf
6	0	docs/source/installation/troubleshooting-common.rst
8	3	docs/source/overview.rst
24	14	powerline/bindings/tmux/powerline.conf
5	0	powerline/bindings/tmux/powerline_tmux_1.8.conf
5	0	powerline/bindings/tmux/powerline_tmux_1.8_plus.conf
8	0	powerline/bindings/tmux/powerline_tmux_1.9_plus.conf
11	0	powerline/bindings/tmux/powerline_tmux_legacy_common.conf

--9e7c6cf0	2014-05-04T17:50:24+04:00	ZyX	kp-pav@ya.ru	Merge branch 'ipython-in-out-same-width' into develop

9e7c6cf0
--413edbc4	2014-05-04T17:50:00+04:00	ZyX	kp-pav@ya.ru	Add space after `In` string in ipython

Thus `In ` and `Out` have the same width
413edbc4

--a7d92a65	2014-05-04T13:31:06+04:00	ZyX	kp-pav@ya.ru	Merge branch 'allow-disabling-prompt-support' into develop

a7d92a65
--032a363b	2014-05-04T13:30:43+04:00	ZyX	kp-pav@ya.ru	Allow disabling prompt and/or tmux support in shells

Fixes #849
032a363b
25	5	docs/source/configuration.rst
17	11	powerline/bindings/bash/powerline.sh
4	0	powerline/bindings/fish/powerline-setup.fish
5	1	powerline/bindings/tcsh/powerline.tcsh
5	1	powerline/bindings/zsh/powerline.zsh

--850d6c2e	2014-05-04T13:07:59+04:00	ZyX-I	kp-pav@ya.ru	Merge pull request #871 from ZyX-I/fix-853

Add support for omitting VALUE
850d6c2e
--be2fe98a	2014-05-04T12:58:09+04:00	ZyX	kp-pav@ya.ru	Add support for omitting VALUE

This will remove error reported in #853, but not its cause

be2fe98a
6	0	docs/source/configuration.rst
8	1	powerline/lib/__init__.py
1	2	powerline/shell.py
2	0	tests/test_cmdline.py
3	1	tests/test_lib.py

--5d03fdeb	2014-05-04T12:12:39+04:00	ZyX	kp-pav@ya.ru	Merge branch 'add-editorconfig' into develop

5d03fdeb
--34b92809	2014-05-04T12:10:32+04:00	ZyX	kp-pav@ya.ru	Move some settings from .local.vimrc to .editorconfig

Closes #865 as WONTFIX. It is better to have one .editorconfig then a number of 
editor-specific files.
34b92809
20	0	.editorconfig
0	4	.local.vimrc

--f6cdb446	2014-05-04T11:52:32+04:00	ZyX-I	kp-pav@ya.ru	Merge pull request #870 from austinbeam/feature/869-tmux-version-checking

tmux version checking (Issue #869)
f6cdb446
--20d326fd	2014-05-03T17:58:43-05:00	Austin Beam	austinbeam@gmail.com	tmux: Check version for last window indication

Last active window indication feature introduced by pull request #864
causes undesired behavior on older versions of tmux. Add version
checking to determine which method for feature implementation to use,
dropping the feature entirely for tmux versions less that v1.8. For tmux
v1.9, use the newer 'window-status-last-style' option rather than the
deprecated (starting with v1.9) 'window-status-last-fg' option. Ideally,
the other `foo-{attr,fg,bg}` options used in the `tmux` powerline config
file should also be version checked and replaced with the corresponding
`foo-style` option as well.

20d326fd
4	1	powerline/bindings/tmux/powerline.conf

--478e4977	2014-05-03T17:57:13-05:00	Austin Beam	austinbeam@gmail.com	tmux: Check version for prefix active colorization

Prefix active colorization feature introduced by pull request #863
causes undesired behavior on older versions of tmux. Add version
checking and revert to old powerline configuration if the tmux version
is less than v1.8. tmux v1.8 was the first version to support the
client_prefix format variable.

478e4977
4	1	powerline/bindings/tmux/powerline.conf

--7937ab98	2014-05-03T17:55:10-05:00	Austin Beam	austinbeam@gmail.com	tmux: Shell variable definition for tmux version

Add variables for tmux major and minor version numbers. These can
subsequently be used to test for tmux version compatibility.

7937ab98
2	0	powerline/bindings/tmux/powerline.conf

--9d4100af	2014-05-03T13:10:49+04:00	ZyX-I	kp-pav@ya.ru	Merge pull request #863 from austinbeam/feature/tmux-indicate-prefix

tmux: Change session block color if prefix pressed
9d4100af
--06c2f00c	2014-05-03T13:10:21+04:00	ZyX-I	kp-pav@ya.ru	Merge pull request #864 from austinbeam/feature/tmux-colorize-last-window

tmux: Colorize the last active window FG
06c2f00c
--7e637d25	2014-05-03T13:06:21+04:00	ZyX-I	kp-pav@ya.ru	Merge pull request #867 from ZyX-I/fix-shutdown

Fix shutdown function being always None
7e637d25
--d759a0a8	2014-05-03T13:03:57+04:00	ZyX	kp-pav@ya.ru	Undo renaming args to kwargs

d759a0a8
7	7	powerline/segment.py

--e9852fec	2014-05-03T12:44:00+04:00	ZyX	kp-pav@ya.ru	Fix shutdown function being always None

Problem reported by @IvanMalison
e9852fec
19	10	powerline/segment.py

--59b090e8	2014-05-01T00:21:12-05:00	Austin Beam	austinbeam@gmail.com	tmux: Colorize the last active window FG

Use a feature of tmux v1.8+ to change the FG color of the last active
window to blue. This uses the foo-{attr,bg,fg} format, which is
deprecated (although still available) starting with tmux v1.9 in favor
of the corresponding foo-style variable. However, tmux v1.9 is not yet
ubiquitous enough to move to the foo-style variables. For example, the
latest Ubuntu LTS (14.04) only has tmux v1.8 available in its
repositories, so the foo-{attr,bg,fg} variables prove to be more
'compatible' for now.

For future reference, here is the modification that should be made once
tmux v1.8 is deemed old enough to drop support for (or whenever the
deprecated foo-{attr,bg,fg} variables go away in the latest version of
tmux):

-set -g window-status-last-fg colour31
+set -g window-status-last-style fg=colour31

It might be appropriate to add version checking around some of these
types of options for maximum compatibility, but my initial attempt to
explore version checking in the tmux config file got extremely messy in
a hurry.

59b090e8
1	0	powerline/bindings/tmux/powerline.conf

--4d85e9a9	2014-05-01T00:02:37-05:00	Austin Beam	austinbeam@gmail.com	tmux: Change session block color if prefix pressed

This modification to the tmux powerline binding allows the user to
easily identify when the prefix has been sent. When the prefix has
been sent, the session block changes from white to blue (matching the
color of the active window). This is accomplished using the conditional
functionality of tmux format strings and the 'client_prefix' format
variable. Unfortunately, the tmux parser fails to properly parse out
comma-separated format strings inside a format conditional, so those
have been split out into individual segments as well. Attempting to
re-combine the formats inside the conditionals will break this feature.

4d85e9a9
1	1	powerline/bindings/tmux/powerline.conf

--fa502281	2014-04-23T06:42:46+04:00	ZyX	kp-pav@ya.ru	Merge branch 'fix-git_directory' into HEAD

fa502281
--c6034108	2014-04-23T06:36:24+04:00	ZyX	kp-pav@ya.ru	Do not use .strip(), add two check git has

c6034108
7	2	powerline/lib/vcs/git.py

--ba45a002	2014-04-23T06:31:42+04:00	ZyX	kp-pav@ya.ru	Decode bytes before using os.path.join

Otherwise it will raise TypeError when trying to join str() and bytes() instance 
in python-3.3.

Fixes #654
Closes #655
ba45a002
4	1	powerline/lib/vcs/git.py

--c100c90b	2014-04-05T03:53:37+04:00	ZyX-I	kp-pav@ya.ru	Merge pull request #855 from afflux/feature/fix-zsh-mode-display

fix default mode display in zsh bindings
c100c90b
--96d89ae8	2014-04-04T13:11:37+02:00	Kjell Braden	afflux@pentabarf.de	fix default mode in zsh bindings

96d89ae8
3	2	powerline/bindings/zsh/powerline.zsh

--b856fa5a	2014-03-28T08:57:24+04:00	ZyX	kp-pav@ya.ru	Merge branch 'fix-no-clients-error' into develop

b856fa5a
--45cc73aa	2014-03-28T08:56:04+04:00	ZyX	kp-pav@ya.ru	Use “tmux refresh -S” to check for tmux presence

Reason: tmux may be launched and $TMUX set, but current shell still not under 
tmux (and most likely there are no active session). In this case `tmux refresh 
-S` may fail with “no clients” message, which is annoying.
45cc73aa
1	1	powerline/bindings/bash/powerline.sh
1	1	powerline/bindings/fish/powerline-setup.fish
1	1	powerline/bindings/tcsh/powerline.tcsh
1	1	powerline/bindings/zsh/powerline.zsh

--f9764b9c	2014-03-21T19:33:40+04:00	ZyX	kp-pav@ya.ru	Merge branch 'fix-tmux-support' into develop

Ref #672

f9764b9c
--36e18540	2014-03-21T19:28:41+04:00	ZyX	kp-pav@ya.ru	Fix tmux guard

36e18540
1	2	powerline/bindings/bash/powerline.sh
3	1	powerline/bindings/fish/powerline-setup.fish
1	1	powerline/bindings/tcsh/powerline.tcsh
1	2	powerline/bindings/zsh/powerline.zsh

--b9a04441	2014-03-17T19:27:21+04:00	ZyX	kp-pav@ya.ru	Merge branch 'more-powerline-symbols-fonts' into develop

b9a04441
--e094e3c5	2014-03-17T19:26:43+04:00	ZyX	kp-pav@ya.ru	Add more Droid Sans Mono families

Fixes #830
e094e3c5
12	0	font/10-powerline-symbols.conf

--c5692bf9	2014-03-15T00:33:24+03:00	ZyX-I	kp-pav@ya.ru	Merge pull request #841 from ZyX-I/no-pl-unicode-exceptions

Do not allow unicode-related exceptions inside logger
c5692bf9
--839038d5	2014-03-15T01:27:10+04:00	ZyX	kp-pav@ya.ru	Also move FailedUnicode to powerline/lib/unicode

839038d5
1	14	powerline/__init__.py
13	0	powerline/lib/unicode.py

--d8562256	2014-03-13T23:41:25+04:00	ZyX	kp-pav@ya.ru	Do not allow unicode-related exceptions inside logger

Fixes #421
d8562256
2	21	powerline/__init__.py
32	0	powerline/lib/unicode.py

--7965134e	2014-03-13T23:27:17+04:00	ZyX	kp-pav@ya.ru	Merge branch 'fix-intro' into develop

7965134e
--993402fe	2014-03-13T23:27:06+04:00	ZyX	kp-pav@ya.ru	Do not use :redrawstatus!: it makes intro disappear

It seems that old fix for old code is no longer needed. At least I do not see 
any problems with

    vim -u NONE -S ~/.vam/powerline/powerline/bindings/vim/plugin/powerline.vim --cmd 'set ls=2'

.

Fixes #250
993402fe
0	1	powerline/vim.py

--b4644ffd	2014-03-13T21:14:20+04:00	ZyX	kp-pav@ya.ru	Add fix for old vims

Old vim versions did not support both unicode() and str() in python2 bindings in 
a number of places.

Fixes #829
b4644ffd
1	1	powerline/bindings/vim/__init__.py

--820b5ec4	2014-03-13T20:12:12+03:00	ZyX-I	kp-pav@ya.ru	Merge pull request #840 from ZyX-I/review-res-fixes

Fixes #819.
820b5ec4
--94155405	2014-03-13T20:55:00+04:00	ZyX	kp-pav@ya.ru	Suggest URIs under query_url description

94155405
3	3	powerline/segments/common.py

--e51d7a9d	2014-03-13T20:54:07+04:00	ZyX	kp-pav@ya.ru	Add fuzzy_time(unicode_text) argument

e51d7a9d
20	4	powerline/segments/common.py
6	2	tests/test_segments.py

--3cf3fb8f	2014-03-13T20:48:19+04:00	ZyX	kp-pav@ya.ru	Document istime date argument

3cf3fb8f
2	0	powerline/segments/common.py

--3f1e621f	2014-03-13T20:47:06+04:00	ZyX	kp-pav@ya.ru	Add ellipsis argument to cwd segment

3f1e621f
10	4	powerline/segments/common.py
14	0	tests/test_segments.py

--c3b4654b	2014-02-26T08:49:25+04:00	ZyX	kp-pav@ya.ru	Fix flake8 complaints

c3b4654b
1	1	powerline/lib/file_watcher.py
3	3	powerline/lib/humanize_bytes.py
3	3	powerline/lib/tree_watcher.py
17	10	powerline/lib/vcs/__init__.py
4	2	powerline/lib/vcs/bzr.py
0	1	powerline/lib/vcs/git.py
6	6	powerline/renderers/vim.py
0	1	powerline/segments/vim.py
1	1	powerline/theme.py
1	1	tests/test_cmdline.py
2	2	tests/test_segments.py
0	1	tests/vim.py
2	2	tools/generate_gradients.py

--076134a7	2014-03-13T20:37:12+04:00	ZyX	kp-pav@ya.ru	Merge branch 'bash-keep-status' into develop

076134a7
--2b5b6af0	2014-03-13T20:35:20+04:00	ZyX	kp-pav@ya.ru	Put _powerline_prompt at the start

Reason: $? may be overridden by the previous commands in PROMPT_COMMAND that do 
not keep it like _powerline_prompt does (see `return $last_exit_code`). 
(@ascrane)

Closes #836
2b5b6af0
2	2	powerline/bindings/bash/powerline.sh

--534b0434	2014-03-13T19:32:39+03:00	ZyX-I	kp-pav@ya.ru	Merge pull request #838 from ZyX-I/new-psutil-fixes

New psutil fixes
534b0434
--55858e1a	2014-03-13T20:05:52+04:00	ZyX	kp-pav@ya.ru	Fix tests for new psutil

55858e1a
12	1	tests/test_segments.py

--678d47c6	2014-03-13T19:41:59+04:00	ZyX	kp-pav@ya.ru	Switch comments

678d47c6
2	2	powerline/segments/common.py

--ecf26dfb	2014-03-13T19:38:05+04:00	ZyX	kp-pav@ya.ru	Update powerline for new psutil

Fixes #835

ecf26dfb
6	0	powerline/segments/common.py

--70a94ee7	2014-02-26T07:28:45+03:00	ZyX-I	kp-pav@ya.ru	Merge pull request #822 from ZyX-I/threaded-fixes

Some fixes for powerline.lib.threaded

Fixes #813
70a94ee7
--7df8918b	2014-02-26T08:24:56+04:00	ZyX	kp-pav@ya.ru	Make code compatible with python-2.6

In python 2.6 Event.wait() always returns None making condition always True.
7df8918b
4	1	powerline/lib/threaded.py

--acff89a8	2014-02-26T08:15:26+04:00	ZyX	kp-pav@ya.ru	Remove useless lock

acff89a8
0	2	tests/test_lib.py

--c0834600	2014-02-23T15:37:13+04:00	ZyX	kp-pav@ya.ru	Add after_update argument to prevent infinite recursion

Just in case.

c0834600
12	2	powerline/lib/threaded.py

--e1eecea3	2014-02-23T15:34:15+04:00	ZyX	kp-pav@ya.ru	Do not use drop_interval

e1eecea3
1	2	powerline/lib/threaded.py

--ba41cecb	2014-02-23T14:36:08+04:00	ZyX	kp-pav@ya.ru	Add powerline.lib.threaded tests

ba41cecb
2	1	tests/lib/__init__.py
331	0	tests/test_lib.py

--68a6fd05	2014-02-23T14:35:11+04:00	ZyX	kp-pav@ya.ru	Use monotonic() in place of time.time()

68a6fd05
11	9	tests/test_lib.py

--b1dba591	2014-02-23T14:32:55+04:00	ZyX	kp-pav@ya.ru	Do not recompute key

b1dba591
6	4	powerline/lib/threaded.py

--5111d9ba	2014-02-23T12:21:38+04:00	ZyX	kp-pav@ya.ru	If update_first is False make it first wait and then update

Reason: otherwise it is likely that two updating processes are being run
simultaneously. With the current code it is not impossible as well, but less
likely.

5111d9ba
11	6	powerline/lib/threaded.py

--66a20874	2014-02-22T18:01:23+04:00	ZyX	kp-pav@ya.ru	Use only get/set_update_value functions to access update_value

Also rename .skip to .crashed

66a20874
17	14	powerline/lib/threaded.py

--725ff69b	2014-02-22T17:24:21+04:00	ZyX	kp-pav@ya.ru	Refactor KwThreadedSegment

Fixes #813
725ff69b
26	17	powerline/lib/threaded.py

--84765838	2014-02-16T20:26:29+03:00	ZyX-I	kp-pav@ya.ru	Merge pull request #809 from ZyX-I/zsh-local-themes

Add support for [R]PS2 and PS3 prompts
84765838
--19da7b28	2014-02-16T21:25:49+04:00	ZyX	kp-pav@ya.ru	Add powerline-lint support for new local themes

19da7b28
8	0	powerline/lint/__init__.py

--58d5d6b0	2014-02-16T21:22:05+04:00	ZyX	kp-pav@ya.ru	Remove failing test

58d5d6b0
0	1	tests/test_cmdline.py

--22b1c743	2014-02-16T21:19:44+04:00	ZyX	kp-pav@ya.ru	Also update solarized colorscheme

22b1c743
2	0	powerline/config_files/colorschemes/shell/solarized.json

--a86c66f4	2014-02-16T21:15:57+04:00	ZyX	kp-pav@ya.ru	Update zsh tests

Note: to make prompt fancy enough powerline-daemon should be used. Otherwise 
continuation prompt length is different from what was expected:

With daemon:

    user > env > path > if true ; then
                 then > fi

Without:

    user > env > path > if true ; then
    then > fi

Fixes #771 as I do not want to touch tcsh any longer
a86c66f4
6	0	tests/test_shells/input.zsh
9	1	tests/test_shells/zsh.ok

--cf0d0944	2014-02-16T21:11:37+04:00	ZyX	kp-pav@ya.ru	Add zpython support

cf0d0944
23	10	powerline/bindings/zsh/__init__.py

--5c33de7a	2014-02-16T20:52:22+04:00	ZyX	kp-pav@ya.ru	Also test zsh local themes

5c33de7a
10	2	tests/test_configuration.py

--7eed06f1	2014-02-16T20:52:02+04:00	ZyX	kp-pav@ya.ru	Make themes/shell/select.json look better

7eed06f1
2	2	powerline/config_files/themes/shell/select.json

--8718bf76	2014-02-16T20:41:01+04:00	ZyX	kp-pav@ya.ru	Add tests for continuation segment

8718bf76
97	0	tests/test_segments.py

--1f4c77db	2014-02-16T20:40:40+04:00	ZyX	kp-pav@ya.ru	Do not take number of subsegments into account, work without parser_state

1f4c77db
3	4	powerline/segments/shell.py

--772a09d0	2014-02-16T20:28:59+04:00	ZyX	kp-pav@ya.ru	Make PS2 display something more meaningful: add continuation segment

772a09d0
3	2	powerline/bindings/zsh/powerline.zsh
2	1	powerline/config_files/colorschemes/shell/default.json
2	5	powerline/config_files/themes/shell/continuation.json
45	0	powerline/segments/shell.py

--aff028e4	2014-02-16T20:06:32+04:00	ZyX	kp-pav@ya.ru	Add support for zsh local themes

Still missing: parser state

Ref #771
aff028e4
3	1	powerline/bindings/zsh/__init__.py
4	0	powerline/bindings/zsh/powerline.zsh
1	0	powerline/config_files/colorschemes/shell/default.json
5	1	powerline/config_files/config.json
15	0	powerline/config_files/themes/shell/continuation.json
13	0	powerline/config_files/themes/shell/select.json
5	1	powerline/renderers/ipython.py
43	0	powerline/renderers/zsh_prompt.py
7	0	powerline/shell.py

--01ef2635	2014-02-16T19:59:06+04:00	ZyX	kp-pav@ya.ru	Fix renderer_arg metavar

01ef2635
1	1	powerline/shell.py

--0d49c068	2014-02-16T19:17:06+04:00	ZyX	kp-pav@ya.ru	Allow more then one -R be effective

0d49c068
3	1	powerline/shell.py

--3aec6844	2014-02-16T16:44:01+04:00	ZyX	kp-pav@ya.ru	Use tuple in place of single-element list

3aec6844
1	1	powerline/shell.py

--cf4c1e05	2014-02-16T03:30:35+03:00	ZyX-I	kp-pav@ya.ru	Merge pull request #365 from kierun/develop

Added terminus font and urxvt documentation.
cf4c1e05
--9328cec3	2014-02-16T03:37:21+04:00	ZyX	kp-pav@ya.ru	Merge branch 'no-exception-format' into develop

9328cec3
--70a9da61	2014-02-16T03:36:02+04:00	ZyX	kp-pav@ya.ru	Format in PowerlineLogger._log, not in pl.exception arguments

70a9da61
1	1	powerline/lib/shell.py

--08a2e752	2014-02-16T02:55:05+04:00	ZyX	kp-pav@ya.ru	Merge branch 'fix-449' into develop

08a2e752
--84836837	2014-02-16T02:53:51+04:00	ZyX	kp-pav@ya.ru	Make virtcol_current_gradient background color match line_current color

Fixes #449
84836837
1	1	powerline/config_files/colorschemes/vim/solarized.json

--2f400e90	2014-02-16T01:25:18+04:00	ZyX	kp-pav@ya.ru	Merge branch 'realpath' into develop

2f400e90
--25212a7d	2014-02-16T01:25:10+04:00	ZyX	kp-pav@ya.ru	Use os.path.realpath() before os.path.abspath()

Closes #454
Fixes #413
25212a7d
1	2	scripts/powerline

--1faf118f	2014-02-15T23:43:04+03:00	ZyX-I	kp-pav@ya.ru	Merge pull request #807 from ZyX-I/improved-troubleshooting

Improved troubleshooting
1faf118f
--7ab74ab7	2014-02-16T00:41:44+04:00	ZyX	kp-pav@ya.ru	Remove duplicate troubleshooting question

7ab74ab7
0	26	docs/source/installation/troubleshooting-common.rst

--f384055f	2014-02-16T00:40:22+04:00	ZyX	kp-pav@ya.ru	A few style fixes

f384055f
9	9	powerline/bindings/vim/plugin/powerline.vim

--d6f7f114	2014-02-16T00:38:36+04:00	ZyX	kp-pav@ya.ru	Add more spaces so that python indentation will be correct

d6f7f114

--7e65332d	2014-02-16T00:37:17+04:00	ZyX	kp-pav@ya.ru	Remove outdated information from troubleshooting

7e65332d
0	14	docs/source/installation/troubleshooting-common.rst

--13df3d37	2013-10-14T18:32:56+04:00	ZyX	kp-pav@ya.ru	More improved troubleshooting

13df3d37
26	0	docs/source/installation/troubleshooting-common.rst
4	2	docs/source/overview.rst
40	0	powerline/bindings/vim/plugin/powerline.vim

--536427f4	2013-07-07T19:06:11+04:00	ZyX	kp-pav@ya.ru	Make powerline.vim work in compatible mode


536427f4
22	20	powerline/bindings/vim/plugin/powerline.vim

--1fbd92bb	2014-02-15T20:05:41+03:00	ZyX-I	kp-pav@ya.ru	Merge pull request #806 from ZyX-I/shell-fixes

Shell fixes: TMUX support for su[do] and modes on old zsh
1fbd92bb
--adaefddd	2014-02-15T21:06:51+04:00	ZyX	kp-pav@ya.ru	Merge branch 'i3-fixes' into develop

adaefddd
--dfdc12b4	2014-02-15T21:04:40+04:00	ZyX	kp-pav@ya.ru	Move i3bgbar.py to i3bar.py

dfdc12b4
1	1	powerline/bindings/i3/powerline-i3.py
6	5	powerline/renderers/{i3bgbar.py => i3bar.py}

--8041ea09	2014-02-15T21:01:14+04:00	ZyX	kp-pav@ya.ru	Some style fixes

8041ea09
8	5	docs/source/overview.rst
3	1	powerline/bindings/i3/powerline-i3.py
8	3	powerline/renderers/i3bgbar.py
11	5	powerline/segments/i3wm.py

--1add2b63	2014-02-15T20:47:20+04:00	ZyX	kp-pav@ya.ru	Disable mode support on <=zsh-4.3.10

Fixes #800
1add2b63
50	26	powerline/bindings/zsh/powerline.zsh

--6c157113	2014-02-15T20:21:09+04:00	ZyX	kp-pav@ya.ru	Check for TMUX only once, check whether $TMUX is writeable

Fixes #801

6c157113
19	9	powerline/bindings/bash/powerline.sh
2	2	powerline/bindings/fish/powerline-setup.fish
1	1	powerline/bindings/tcsh/powerline.tcsh
21	10	powerline/bindings/zsh/powerline.zsh

--4e6cd080	2014-02-15T20:10:07+04:00	ZyX	kp-pav@ya.ru	In fish also check for presence of powerline in $PATH

4e6cd080
3	1	powerline/bindings/fish/powerline-setup.fish

--bf89ac66	2014-02-13T22:49:13-06:00	Josh Turmel	jturmel@gmail.com	Update font patching documentation

Update reference to where fontpatcher.py is located
bf89ac66
2	1	docs/source/fontpatching.rst

--97c93fc7	2014-02-09T15:46:35+03:00	ZyX-I	kp-pav@ya.ru	Merge pull request #782 from S0lll0s/feature/i3

Add i3 bindings, segments and renderer
97c93fc7
--def68a2d	2014-02-09T12:45:01+01:00	S0lll0s	S0lll0s@blinkenshell.org	Update documentation to include i3 instructions

def68a2d
17	0	docs/source/overview.rst

--9548c441	2014-02-09T12:10:18+01:00	S0lll0s	S0lll0s@blinkenshell.org	Fix highlighting groups for workspaces segment

9548c441
3	2	powerline/segments/i3wm.py

--8cb11d89	2014-02-09T12:03:26+01:00	S0lll0s	S0lll0s@blinkenshell.org	Adapt to python3 / __future__ print statement

8cb11d89
5	4	powerline/bindings/i3/powerline-i3.py

--c5df55e2	2014-02-09T11:11:57+01:00	S0lll0s	s0lll0s@blinkenshell.org	Remove dead code from renderers/i3bgbar.py
c5df55e2
1	10	powerline/renderers/i3bgbar.py

--7d89ff2b	2014-02-09T11:10:49+01:00	S0lll0s	s0lll0s@blinkenshell.org	Fix docstring for i3wm.workspaces segment
7d89ff2b
2	2	powerline/segments/i3wm.py

--999fad58	2014-02-09T12:48:32+03:00	ZyX-I	kp-pav@ya.ru	Merge pull request #792 from ZyX-I/improved-battery

Improved battery segment:

Closes #791.
999fad58
--66d98e7d	2014-02-09T13:44:06+04:00	ZyX	kp-pav@ya.ru	Improved battery segment:

- Ignore `steps` if gamify is False.
- Add `full_heart` and `empty_heart` keywords.
- Document `format` keyword.
- Replace `draw_soft_divider` with `draw_inner_divider`.
66d98e7d
20	14	powerline/segments/common.py
22	8	tests/test_segments.py

--cce6d266	2014-02-09T02:38:52+04:00	ZyX	kp-pav@ya.ru	Merge branch 'osx-battery' into HEAD

cce6d266
--c4fb09a4	2014-02-08T14:48:20-07:00	Joshua Perry	josh@6bit.com	Update tests to support parameter on _get_capacity()

c4fb09a4
1	1	tests/test_segments.py

--18f4fdaa	2014-02-08T14:41:30-07:00	Joshua Perry	josh@6bit.com	Revert change to segment parameter default value

18f4fdaa
1	1	powerline/segments/common.py

--f62d749f	2014-02-08T12:51:13-07:00	Joshua Perry	josh@6bit.com	Refactored OSX battery code

f62d749f
8	9	powerline/segments/common.py

--9accbdd9	2014-02-07T11:10:43-07:00	Joshua Perry	josh@6bit.com	Added OSX battery support

9accbdd9
7	0	powerline/segments/common.py

--b5c14553	2014-02-09T00:31:44+03:00	ZyX-I	kp-pav@ya.ru	Merge pull request #790 from ZyX-I/tests-fix

Fix travis CI build
b5c14553
--773d6a66	2014-02-09T01:25:18+04:00	ZyX	kp-pav@ya.ru	Also use --allow-unverified

773d6a66
1	1	tests/install.sh

--5e4daed7	2014-02-09T01:16:48+04:00	ZyX	kp-pav@ya.ru	Install bazaar with --allow-external

5e4daed7
2	1	tests/install.sh

--4e350074	2014-02-09T01:16:29+04:00	ZyX	kp-pav@ya.ru	Home may be None, respect it

4e350074
2	1	powerline/segments/common.py

--173159ae	2014-02-08T23:43:49+04:00	ZyX	kp-pav@ya.ru	Merge branch 'fix-788' into develop

173159ae
--9e8471be	2014-02-08T23:39:02+04:00	ZyX	kp-pav@ya.ru	Fix non-ASCII directories processing

Fixes #788

9e8471be
13	0	powerline/lib/unicode.py
3	2	powerline/segments/common.py
2	14	powerline/theme.py

--faeab131	2014-02-08T23:41:33+04:00	ZyX	kp-pav@ya.ru	Merge branch 'common-imports' into develop

faeab131
--7a90e6d6	2014-02-08T23:31:45+04:00	ZyX	kp-pav@ya.ru	Cleanup import in segments.common:

- move `import re` to top
- if import is in a `try` block and there is some processing before it and
  `except` move this to `else`.

7a90e6d6
16	16	powerline/segments/common.py

--21319fc8	2014-02-07T13:14:56+01:00	S0lll0s	S0lll0s@blinkenshell.org	Use 'with' instead of lock.acquire/release()

21319fc8
1	2	powerline/bindings/i3/powerline-i3.py

--253ad02c	2014-02-04T10:50:44+01:00	S0lll0s	S0lll0s@blinkenshell.org	Add i3 bindings and segments

253ad02c
40	0	powerline/bindings/i3/powerline-i3.py
38	0	powerline/renderers/i3bgbar.py
18	0	powerline/segments/i3wm.py

--03594f2d	2014-02-04T00:10:28+04:00	ZyX	kp-pav@ya.ru	Merge branch 'local.vimrc' into develop

Ref #314

03594f2d
--4a2fbb09	2014-02-04T00:10:16+04:00	ZyX	kp-pav@ya.ru	Add &ts setting and comment regarding .local.vimrc usage

4a2fbb09
9	0	.local.vimrc

--116af44b	2014-02-03T22:36:49+04:00	ZyX	kp-pav@ya.ru	Merge branch 'vim-window-title' into develop

Closes #703

116af44b
--52d182f0	2014-02-03T22:34:14+04:00	ZyX	kp-pav@ya.ru	Add window_title group to solarizedlight colorschem

52d182f0
1	0	powerline/config_files/colorschemes/vim/solarizedlight.json

--d7589bc8	2014-02-03T22:26:34+04:00	ZyX	kp-pav@ya.ru	Make window_title work in older vims

d7589bc8
15	6	powerline/bindings/vim/__init__.py
2	2	powerline/segments/vim.py

--7f1abf14	2013-11-14T01:40:40+01:00	Daniel Hahler	git@thequod.de	Vim: add window_title function, used in quickfix theme

This is used to display the window title of the quickfix window. Both
Syntastic and Vim use this. See w:quickfix_title.

7f1abf14
1	0	powerline/config_files/colorschemes/vim/default.json
1	0	powerline/config_files/colorschemes/vim/solarized.json
4	1	powerline/config_files/themes/vim/quickfix.json
14	0	powerline/segments/vim.py

--7187df20	2014-02-03T09:59:09-08:00	ZyX-I	kp-pav@ya.ru	Merge pull request #781 from ZyX-I/segment-calls

Recreate args dictionary with str() arguments, use closures
7187df20
--5071f127	2014-02-03T21:56:16+04:00	ZyX	kp-pav@ya.ru	Recreate args dictionary with str() arguments, use closures

Fixes #776
5071f127
20	3	powerline/segment.py
2	6	powerline/theme.py

--2ade819a	2014-02-03T21:26:14+04:00	ZyX	kp-pav@ya.ru	Merge branch 'lib-shell' into develop

2ade819a
--5db02bba	2014-02-03T21:23:42+04:00	ZyX	kp-pav@ya.ru	Check for asrun() returning None

5db02bba
3	1	powerline/segments/common.py

--f26eb24e	2014-02-03T21:21:22+04:00	ZyX	kp-pav@ya.ru	Remove asquote function for it being used nowhere

f26eb24e
0	7	powerline/lib/shell.py
1	1	powerline/segments/common.py

--44083581	2014-02-03T21:20:53+04:00	ZyX	kp-pav@ya.ru	Move NowPlaying._run_cmd to powerline.lib.shell.run_cmd, make asrun use it

44083581
0	13	powerline/lib/apple_script_runner.py
26	0	powerline/lib/shell.py
5	16	powerline/segments/common.py

--079a750d	2014-02-03T21:09:54+04:00	ZyX	kp-pav@ya.ru	Merge branch 'no-sys.stderr' into develop

079a750d
--a975ece4	2014-02-03T21:09:33+04:00	ZyX	kp-pav@ya.ru	Do not use sys.stderr for logging

a975ece4
6	6	powerline/segments/common.py

--86eae3af	2014-02-03T21:04:54+04:00	ZyX	kp-pav@ya.ru	Merge branch 'ericboehs-develop' into develop

Fixes #778

86eae3af
--6e0fe442	2014-01-29T22:41:24-06:00	Eric	ericboehs@gmail.com	Port spotify mac script from tmux-powerline

6e0fe442
2	1	powerline/config_files/colorschemes/tmux/default.json
13	0	powerline/lib/apple_script_runner.py
57	1	powerline/segments/common.py

--0bbe9517	2014-02-03T08:47:22-08:00	ZyX-I	kp-pav@ya.ru	Merge pull request #780 from pshchelo/cpu-load-tmux

Add cpu_load_percent colors to tmux
0bbe9517
--78f236b7	2014-01-31T12:46:40+02:00	Pavlo Shchelokovskyy	shchelokovskyy@gmail.com	Add cpu_load_percent colors to tmux

Definitions for cpu_load_percent segment colors and gradient where missing
from default tmux color definitions, rendering this segment unusable for tmux
"out-of-the-box".

78f236b7
2	0	powerline/config_files/colorschemes/tmux/default.json

--44064982	2014-01-29T21:09:28-08:00	ZyX-I	kp-pav@ya.ru	Merge pull request #777 from ZyX-I/reload-tests-fix

Fix test_config_reload race conditions

Fixes #772.
44064982
--d85ae963	2014-01-30T09:00:33+04:00	ZyX	kp-pav@ya.ru	Sleep more

d85ae963
8	1	tests/test_config_reload.py

--c184c4c8	2014-01-30T08:46:36+04:00	ZyX	kp-pav@ya.ru	Merge branch 'shell-fixes-2' into develop

c184c4c8
--8096f2e8	2014-01-30T08:46:22+04:00	ZyX	kp-pav@ya.ru	Also rename variables in python files

8096f2e8
3	3	powerline/segments/shell.py
1	1	scripts/powerline

--79c7a006	2014-01-30T00:49:27+04:00	ZyX	kp-pav@ya.ru	Merge branch 'shell-fixes' into develop

79c7a006
--bcd7bb34	2014-01-30T00:45:00+04:00	ZyX	kp-pav@ya.ru	Do the same for bash bindings

bcd7bb34
3	3	powerline/bindings/bash/powerline.sh

--bc856987	2014-01-30T00:44:32+04:00	ZyX	kp-pav@ya.ru	Add underscore to non-API functions and variables

bc856987
10	10	powerline/bindings/zsh/powerline.zsh

--dc33c360	2014-01-30T00:42:56+04:00	ZyX	kp-pav@ya.ru	Fix case when widget was defined with `zle -N widget`

Fixes #774

dc33c360
3	0	powerline/bindings/zsh/powerline.zsh

--b1e81707	2014-01-30T00:31:50+04:00	ZyX	kp-pav@ya.ru	Change warning level to debug

b1e81707
1	1	powerline/segments/shell.py

--ac04a180	2014-01-26T12:24:48-08:00	ZyX-I	kp-pav@ya.ru	Merge pull request #773 from ZyX-I/tcsh

Add tcsh support

Fixes #762.
ac04a180
--c648178b	2014-01-27T00:22:38+04:00	ZyX	kp-pav@ya.ru	Strip anything but prompt from tcsh tests

There are some problems with a number of spaces on travis: it differs. Cannot 
use the same code as for fish because output looks like

    {prompt}{spaces}^[0m ^[[{number}D

and both `{spaces}` and `{number}` differ on my machine and in travis.
c648178b
7	0	tests/test_shells/postproc.py
16	19	tests/test_shells/tcsh.ok

--fe99e252	2014-01-26T23:52:06+04:00	ZyX	kp-pav@ya.ru	Add tcsh tests

fe99e252
1	1	tests/install.sh
2	2	tests/test_shells/bash.ok
1	1	tests/test_shells/input.bash
1	1	tests/test_shells/input.fish
21	0	tests/test_shells/input.tcsh
1	1	tests/test_shells/input.zsh
18	17	tests/test_shells/{bash.ok => tcsh.ok}
4	0	tests/test_shells/test.sh
2	2	tests/test_shells/zsh.ok

--219b81d2	2014-01-27T00:00:25+04:00	ZyX	kp-pav@ya.ru	Fix tcsh escaping

219b81d2
2	2	powerline/bindings/tcsh/powerline.tcsh
16	0	powerline/renderers/tcsh_prompt.py

--a2e11ef9	2014-01-26T23:39:25+04:00	ZyX	kp-pav@ya.ru	Add space to rprompt

According to tcsh documentation `%{%}` must not be the last segment.

Note: this means that right prompt has *two* characters between its end and 
terminal emulator border.
a2e11ef9

--3ecbeb8c	2014-01-23T21:44:11+04:00	ZyX	kp-pav@ya.ru	Add powerline.tcsh

Ref #762
3ecbeb8c
21	0	powerline/bindings/tcsh/powerline.tcsh

--a4e8f36f	2014-01-26T10:43:16-08:00	ZyX-I	kp-pav@ya.ru	Merge pull request #706 from ZyX-I/better-errors

Better error handling
a4e8f36f
--bb343765	2014-01-26T22:45:11+04:00	ZyX	kp-pav@ya.ru	Add powerline: exception prefix

bb343765
3	3	tests/test_config_reload.py

--e18a2e62	2014-01-26T10:38:19-08:00	ZyX-I	kp-pav@ya.ru	Merge pull request #709 from ZyX-I/zsh-vi-mode

Add support for modes to shell bindings
e18a2e62
--6ba13c1d	2014-01-26T22:35:02+04:00	ZyX	kp-pav@ya.ru	Modify appropriate theme

6ba13c1d
1	1	tests/test_shells/input.zsh
5	5	tests/test_shells/zsh.ok

--89846471	2014-01-26T22:26:29+04:00	ZyX	kp-pav@ya.ru	Add tests

89846471
5	0	tests/test_shells/input.zsh
7	1	tests/test_shells/zsh.ok

--36c00705	2013-11-17T01:36:16+04:00	ZyX	kp-pav@ya.ru	Omit any non-vi* mode by default

36c00705
4	0	powerline/bindings/zsh/powerline.zsh
5	2	powerline/segments/shell.py

--34d4877a	2013-11-17T00:12:40+04:00	ZyX	kp-pav@ya.ru	Some fixes for powerline.zsh:

- Replace main and other linked modes with modes they link to
- Add proper keymap initialization

Ref #508

34d4877a
12	13	powerline/bindings/zsh/powerline.zsh

--becc8ee5	2013-06-22T23:48:05+04:00	ZyX	kp-pav@ya.ru	Support zsh “modes” (different keymaps like when using vicmd/viins pair)

Fixes #508
becc8ee5
41	0	powerline/bindings/zsh/powerline.zsh
9	1	powerline/config_files/colorschemes/shell/default.json
9	1	powerline/config_files/colorschemes/shell/solarized.json
4	0	powerline/config_files/themes/shell/default.json
23	3	powerline/lint/__init__.py
3	2	powerline/renderer.py
1	1	powerline/renderers/ipython.py
2	1	powerline/renderers/tmux.py
1	1	powerline/renderers/vim.py
28	0	powerline/segments/shell.py
1	0	scripts/powerline

--417884a3	2014-01-26T10:04:30-08:00	ZyX-I	kp-pav@ya.ru	Merge pull request #725 from ZyX-I/fix-fname-special-chars

Handle non-printable characters properly
417884a3
--a571f49b	2014-01-26T21:59:33+04:00	ZyX	kp-pav@ya.ru	Get rid of printf

a571f49b
2	2	tests/test_shells/bash.ok
2	2	tests/test_shells/input.bash
2	2	tests/test_shells/input.fish
2	2	tests/test_shells/input.zsh
4	2	tests/test_shells/test.sh
2	2	tests/test_shells/zsh.ok

--48043433	2014-01-26T21:45:02+04:00	ZyX	kp-pav@ya.ru	Add tests for special characters escaping

48043433
9	1	tests/test_shells/bash.ok
8	0	tests/test_shells/fish.ok
8	0	tests/test_shells/input.bash
8	0	tests/test_shells/input.fish
8	0	tests/test_shells/input.zsh
7	0	tests/test_shells/test.sh
9	1	tests/test_shells/zsh.ok

--9edee8ad	2014-01-26T21:44:32+04:00	ZyX	kp-pav@ya.ru	Remove backslash escaping on zsh and fish

9edee8ad
1	0	powerline/renderers/bash_prompt.py
0	1	powerline/renderers/shell.py

--e3bf63e5	2014-01-26T21:30:01+04:00	ZyX	kp-pav@ya.ru	Do not do needless copying in test_shells/test.sh

e3bf63e5
4	6	tests/test_shells/postproc.py
1	1	tests/test_shells/screenrc
8	9	tests/test_shells/test.sh

--e7820efe	2013-12-01T19:25:19+04:00	ZyX	kp-pav@ya.ru	Make powerline work with non-utf filenames

Fixes #281
e7820efe
31	0	powerline/bindings/vim/__init__.py
1	1	powerline/segments/common.py
14	10	powerline/segments/vim.py
8	0	tests/test_segments.py
44	5	tests/vim.py

--693ba8a5	2013-12-01T15:46:13+04:00	ZyX	kp-pav@ya.ru	Use .copy() on character_translations before modifying


693ba8a5
1	1	powerline/renderers/bash_prompt.py
1	1	powerline/renderers/shell.py
1	1	powerline/renderers/tmux.py
1	1	powerline/renderers/vim.py
1	1	powerline/renderers/zsh_prompt.py

--ecff2813	2013-12-01T15:42:57+04:00	ZyX	kp-pav@ya.ru	Handle non-printable characters properly

Fixes #723
ecff2813
24	4	powerline/renderer.py
5	3	powerline/renderers/bash_prompt.py
5	4	powerline/renderers/shell.py
6	0	powerline/renderers/tmux.py
10	5	powerline/renderers/vim.py
4	3	powerline/renderers/zsh_prompt.py

--48a076f6	2014-01-25T01:16:17-08:00	ZyX-I	kp-pav@ya.ru	Merge pull request #768 from ZyX-I/tbsh-update-trouble

Add troubleshooting questions regarding updating
48a076f6
--ba41b1f7	2014-01-25T13:08:13+04:00	ZyX	kp-pav@ya.ru	Add troubleshooting questions regarding updating

ba41b1f7
64	5	docs/source/installation/troubleshooting-common.rst

--c631ecbd	2014-01-24T10:42:53+04:00	ZyX	kp-pav@ya.ru	Merge branch 'no-PROMPT_COMMAND-colon' into develop

c631ecbd
--bf688d45	2014-01-24T10:38:18+04:00	ZyX	kp-pav@ya.ru	Use nothing on right side of `_powerline_prompt`

It should be more robust in case every PROMPT_COMMAND setter cares about
previous commands

Closes #765

bf688d45
1	1	powerline/bindings/bash/powerline.sh

--9eb6550b	2014-01-23T11:05:24-08:00	ZyX-I	kp-pav@ya.ru	Merge pull request #764 from fitztrev/syntastic-update

Use hasErrorsOrWarningsToDisplay for Syntastic
9eb6550b
--bb37e349	2014-01-23T13:50:30-05:00	Trevor Fitzgerald	fitztrev@gmail.com	Use hasErrorsOrWarningsToDisplay for Syntastic

Reverts PR #759 based on feedback from @lcd047 in scrooloose/syntastic#950

bb37e349
1	1	powerline/segments/plugin/syntastic.py

--ec7d8080	2014-01-23T19:40:52+04:00	ZyX	kp-pav@ya.ru	Merge branch 'fish-ebuild-fixes' into develop

ec7d8080
--e489e549	2014-01-23T19:32:19+04:00	ZyX	kp-pav@ya.ru	Move setup to powerline-setup.fish

This file is supposed to be placed in /usr/share/fish/functions.
e489e549
2	1	docs/source/overview.rst
1	2	powerline/bindings/fish/{powerline.fish => powerline-setup.fish}
2	1	tests/test_shells/input.fish

--64e23d34	2014-01-23T18:45:46+04:00	ZyX	kp-pav@ya.ru	Merge branch 'patch-1' into develop

Fixes #724

64e23d34
--b75d2b53	2014-01-23T18:45:09+04:00	ZyX	kp-pav@ya.ru	Add tests

b75d2b53
16	0	tests/test_segments.py

--79c4d378	2014-01-23T06:36:58-08:00	ZyX-I	kp-pav@ya.ru	Merge pull request #696 from ZyX-I/fish

Add powerline/bindings/fish/powerline.fish
79c4d378
--9fcfd54d	2014-01-23T18:33:33+04:00	ZyX	kp-pav@ya.ru	Disable fish tests on travis

9fcfd54d
3	1	tests/install.sh
2	0	tests/test_shells/test.sh

--b3794023	2014-01-23T16:41:29+04:00	ZyX	kp-pav@ya.ru	Also print shell version string

b3794023
1	0	tests/test_shells/test.sh

--d75f47a0	2014-01-23T16:32:18+04:00	ZyX	kp-pav@ya.ru	Use `.` for sourcing in fish

It appears that travis uses fish version without this command. Though `.` is 
deprecated on new versions it is still supported for backwards compatibility, 
thus may be used here.
d75f47a0
1	1	tests/test_shells/input.fish

--8b341c62	2014-01-23T16:14:32+04:00	ZyX	kp-pav@ya.ru	Make XDG_CONFIG_HOME point to writeable location

8b341c62
2	1	tests/test_shells/test.sh

--12aa69a0	2014-01-23T15:58:52+04:00	ZyX	kp-pav@ya.ru	Also output full.log

Hope it will give some hints about why fish tests fail on travis
12aa69a0
12	1	tests/test_shells/test.sh

--04d2e439	2014-01-23T03:51:42-08:00	ZyX-I	kp-pav@ya.ru	Merge pull request #750 from EinfachToll/feature/539-position-segment

New (fixed) segment showing position of current view
04d2e439
--10cd7b78	2014-01-23T09:23:53+01:00	EinfachToll	istjanichtzufassen@googlemail.com	More test cases for position segment

10cd7b78
11	3	tests/test_segments.py
4	2	tests/vim.py

--60044039	2014-01-23T07:45:35+04:00	ZyX	kp-pav@ya.ru	Another attempt to fix fish on travis

60044039
1	1	tests/test_shells/postproc.py

--2f98276e	2014-01-23T07:36:54+04:00	ZyX	kp-pav@ya.ru	Make postproc.py only leave fish prompt

Should fix fish tests
2f98276e
8	10	tests/test_shells/fish.ok
9	0	tests/test_shells/postproc.py
1	1	tests/test_shells/test.sh

--166f827c	2014-01-23T07:36:08+04:00	ZyX	kp-pav@ya.ru	Improve test_shells/test.sh:

- Add argument that makes it run only one shell
- Make this argument also force skipping removal of tests/shell directory
- Make it copy logs to tests/shell before and after processing
166f827c
12	16	tests/test_shells/test.sh

--0ffe3c9e	2014-01-22T19:08:00-08:00	ZyX-I	kp-pav@ya.ru	Merge pull request #759 from fitztrev/syntastic-errors

Fix Syntastic deprecation warning
0ffe3c9e
--cab33623	2014-01-22T15:35:15-05:00	Trevor Fitzgerald	fitztrev@gmail.com	Fix Syntastic deprecation warning

`hasErrorsOrWarningsToDisplay` has been deprecated in Syntastic.
See: https://github.com/scrooloose/syntastic/commit/d629be9

This fixes the warning that appears when opening a new file:
"syntastic: warning: function hasErrorsOrWarningsToDisplay() is
deprecated, please use !isEmpty() instead"

cab33623
1	1	powerline/segments/plugin/syntastic.py

--11f86e77	2014-01-22T08:33:43+04:00	ZyX	kp-pav@ya.ru	Add fish tests

11f86e77
1	1	tests/install.sh
10	0	tests/test_shells/fish.ok
15	0	tests/test_shells/input.fish
12	5	tests/test_shells/test.sh

--ae53f992	2014-01-21T20:18:05-08:00	ZyX-I	kp-pav@ya.ru	Merge pull request #729 from bricewge/develop

Add Meslo fonts to the fontconfig file
ae53f992
--fee1b3b3	2014-01-21T21:25:29+01:00	bricewge	brice.wge@gmail.com	Fix the identation of 10-powerline-symbols.conf
fee1b3b3

--90132fe3	2014-01-21T15:48:05+01:00	EinfachToll	istjanichtzufassen@googlemail.com	Small fixes for new position segment

- use vim_funcs
- use a dictionary instead of a tuple for translation strings

90132fe3
9	8	powerline/segments/vim.py
1	1	tests/test_segments.py
9	4	tests/vim.py

--45e4650d	2014-01-21T15:40:05+01:00	EinfachToll	istjanichtzufassen@googlemail.com	Merge branch 'develop' into feature/539-position-segment

45e4650d
--461c4f4d	2014-01-19T17:51:48+04:00	ZyX	kp-pav@ya.ru	Add support for number of jobs to fish bindings

461c4f4d
3	2	powerline/bindings/fish/powerline.fish

--972bd45c	2013-11-04T23:07:49+04:00	ZyX	kp-pav@ya.ru	Make fish bindings feature complete, add documentation

Added features:
- Updating TMUX_PWD_* when PWD variable changes
- Updating TMUX_COLUMNS_* when WINCH signal is received
972bd45c
10	0	docs/source/overview.rst
16	1	powerline/bindings/fish/powerline.fish

--38f24852	2013-06-22T19:18:34+04:00	ZyX	kp-pav@ya.ru	Add powerline/bindings/fish/powerline.fish


38f24852
20	0	powerline/bindings/fish/powerline.fish

--5c700b8b	2014-01-19T05:31:49-08:00	ZyX-I	kp-pav@ya.ru	Merge pull request #754 from ZyX-I/improve-bash-bindings

Improve bash bindings
5c700b8b
--a590e100	2014-01-19T17:26:31+04:00	ZyX	kp-pav@ya.ru	Fix functional shell tests in travis

Hostname in travis contains random numbers meaning that it occasionally may 
contain a PID as well. Thus it must be replaced first.
a590e100
1	1	tests/test_shells/postproc.py

--49d83768	2014-01-19T16:27:12+04:00	ZyX	kp-pav@ya.ru	Document problem found when exploring #749

49d83768
12	0	docs/source/installation/troubleshooting-common.rst

--c6324afb	2014-01-19T16:19:23+04:00	ZyX	kp-pav@ya.ru	Replace `jobs` with `jobs -p`


If some long shell code is run in the background it may be shown as more then 
one job:

    bash-4.2$ {
    > echo abc | while read line ; do
    > sleep 1s
    > sleep 1s
    > done
    > } &
    [1] 9401
    bash-4.2$ jobs
    [1]+  Running                 { echo abc | while read line; do
        sleep 1s; sleep 1s;
    done; } &

`jobs -p` print exactly one job in this case.
c6324afb
1	1	powerline/bindings/bash/powerline.sh

--1a841a4a	2014-01-19T16:15:40+04:00	ZyX	kp-pav@ya.ru	Replace POWERLINE_OLD_PROMPT_COMMAND with the code used by [z][1]

Does not fix anything, but is three lines less and is probably the way other 
tools expect us to do.

[1]: https://github.com/rupa/z
1a841a4a
1	4	powerline/bindings/bash/powerline.sh

--8af99819	2014-01-19T11:57:27+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge branch 'remove-fontpatcher' into develop

8af99819
--43e199b4	2014-01-19T11:56:48+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Remove fontpatcher and symbol font

The package has been moved to
https://github.com/Lokaltog/powerline-fontpatcher

43e199b4
0	235	font/fontpatcher-symbols.sfd
0	115	font/fontpatcher.py

--4a0b7e29	2014-01-19T11:20:23+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge branch 'remove-packages' into develop

4a0b7e29
--9de9bc79	2014-01-19T11:20:15+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Remove archlinux packages

9de9bc79
0	5	packages/archlinux/python-powerline-git/.gitignore
0	74	packages/archlinux/python-powerline-git/PKGBUILD
0	13	packages/archlinux/python-powerline-git/fontpatcher.py.patch
0	48	packages/archlinux/python-powerline-git/powerline.install
0	5	packages/archlinux/python2-powerline-git/.gitignore
0	75	packages/archlinux/python2-powerline-git/PKGBUILD
0	13	packages/archlinux/python2-powerline-git/fontpatcher.py.patch
0	43	packages/archlinux/python2-powerline-git/powerline.install

--7cf3171a	2014-01-17T14:13:49-08:00	ZyX-I	kp-pav@ya.ru	Merge pull request #753 from ZyX-I/fix-functional-tests-diff-2

Try to workaround problems with last line in travis
7cf3171a
--2b171cff	2014-01-18T01:59:19+04:00	ZyX	kp-pav@ya.ru	Try to workaround problems with last line in travis

2b171cff
0	2	tests/test_shells/bash.ok
1	0	tests/test_shells/input.bash
1	0	tests/test_shells/input.zsh
2	0	tests/test_shells/postproc.py
0	1	tests/test_shells/zsh.ok

--2a525ae4	2014-01-17T10:20:25-08:00	ZyX-I	kp-pav@ya.ru	Merge pull request #667 from kovidgoyal/fix-git-branch-name

Fix git branch name sometimes getting stuck with inotify
2a525ae4
--5c7e8040	2014-01-17T09:55:05-08:00	ZyX-I	kp-pav@ya.ru	Merge pull request #707 from wsnyders/develop

Update dependanceies for Arch packages.
5c7e8040
--1dbdc672	2014-01-17T21:34:57+04:00	ZyX	kp-pav@ya.ru	Merge branch 'fix-functional-tests-diff' into develop

1dbdc672
--56ef7982	2014-01-17T21:34:18+04:00	ZyX	kp-pav@ya.ru	On travis there are differences in CRs for some reason

This commit strips CRs from *.ok files and test output. Test failure used to be 
not recognized due to pipe: `cat -v` always succeeds meaning that `if ! diff 
… | cat -v` always succeeds too.
56ef7982
3	0	tests/test_shells/postproc.py
13	2	tests/test_shells/test.sh

--0c0b4282	2014-01-17T09:16:40-08:00	ZyX-I	kp-pav@ya.ru	Merge pull request #708 from ZyX-I/fix-finish_args-typo

Fix finish args typo
0c0b4282
--b531ffa2	2014-01-17T08:56:20-08:00	ZyX-I	kp-pav@ya.ru	Merge pull request #751 from mrrcollins/rc

A lowercase f for the unit caused the weather segment to silently fail. ...
b531ffa2
--ac9703e0	2014-01-17T20:54:47+04:00	ZyX	kp-pav@ya.ru	Also check for jobnum

ac9703e0
3	0	tests/test_cmdline.py

--a71c49d9	2013-11-17T01:27:20+04:00	ZyX	kp-pav@ya.ru	Add tests

a71c49d9
14	8	tests/lib/__init__.py
120	0	tests/test_cmdline.py

--40fe3cf9	2014-01-17T00:15:37-05:00	Ryan Collins	github@ryancollins.org	A lowercase f for the unit caused the weather segment to silently fail. Putting in a capital F works correctly

40fe3cf9
1	1	docs/source/configuration.rst

--7aa978fd	2014-01-15T10:32:04+01:00	EinfachToll	istjanichtzufassen@googlemail.com	New fixed segment showing position of current view

Solves #539
Fixed version of #540 and #579
Works now for split windows and wrapped lines.

7aa978fd
2	0	powerline/config_files/colorschemes/vim/default.json
4	0	powerline/config_files/colorschemes/vim/solarized.json
4	0	powerline/config_files/colorschemes/vim/solarizedlight.json
38	0	powerline/segments/vim.py
13	0	tests/test_segments.py
4	0	tests/vim.py

--31f85800	2014-01-14T23:42:22+04:00	ZyX	kp-pav@ya.ru	Merge branch 'kruton-develop' into develop

Fixes #748

31f85800
--aa3e86b9	2014-01-14T23:38:34+04:00	ZyX	kp-pav@ya.ru	Rewrite documentation string

aa3e86b9
1	1	powerline/segments/common.py

--c33d56e7	2014-01-10T13:00:25-08:00	Kenny Root	kenny@the-b.org	Add arg to optionally suppress user segment

This adds the option to common.user to suppress display if the username
matches the given string in the new "hide_user" argument.

c33d56e7
6	1	powerline/segments/common.py
4	0	tests/test_segments.py

--057ff37c	2014-01-13T12:32:11-08:00	ZyX-I	kp-pav@ya.ru	Merge pull request #747 from ZyX-I/more-functional-tests

More functional tests
057ff37c
--2e713269	2014-01-14T00:18:34+04:00	ZyX	kp-pav@ya.ru	Always show hostname (travis is ssh), fix jobnum in zsh

2e713269
18	15	powerline/bindings/zsh/powerline.zsh
9	11	tests/test_shells/bash.ok
2	2	tests/test_shells/input.bash
4	3	tests/test_shells/input.zsh
3	1	tests/test_shells/test.sh
9	11	tests/test_shells/zsh.ok

--0f0a5e92	2014-01-13T22:37:33+04:00	ZyX	kp-pav@ya.ru	Replace sed with python script

sed escaping is wrong: e.g. re.escape() will escape `+`, but with BRE escaped 
plus is quantifier
0f0a5e92
32	0	tests/test_shells/postproc.py
2	6	tests/test_shells/test.sh

--03245f19	2014-01-13T22:11:52+04:00	ZyX	kp-pav@ya.ru	Also replace $USER with USER

03245f19
11	11	tests/test_shells/bash.ok
1	0	tests/test_shells/test.sh
11	11	tests/test_shells/zsh.ok

--b1694329	2014-01-13T22:04:44+04:00	ZyX	kp-pav@ya.ru	Add missing zsh.ok

b1694329
13	0	tests/test_shells/zsh.ok

--d1793fac	2014-01-13T21:48:09+04:00	ZyX	kp-pav@ya.ru	Run apt-get with sudo and -qq like suggested in travis documentation

Documentation though suggests using before_install. Not sure why.
d1793fac
1	1	tests/install.sh

--b55c5da3	2014-01-13T19:48:12+04:00	ZyX	kp-pav@ya.ru	Also install screen

b55c5da3
1	1	tests/install.sh

--d9c62d47	2014-01-13T19:47:58+04:00	ZyX	kp-pav@ya.ru	Add zsh functional tests

d9c62d47
1	0	tests/install.sh
14	0	tests/test_shells/input.zsh
7	1	tests/test_shells/test.sh

--6c275062	2014-01-13T01:07:13+04:00	ZyX	kp-pav@ya.ru	Move tests/test_shells/input.sh to tests/test_shells/input.bash

6c275062
0	0	tests/test_shells/{input.sh => input.bash}
7	3	tests/test_shells/test.sh

--6996896b	2014-01-13T00:53:38+04:00	ZyX	kp-pav@ya.ru	Made it use screen for testing

6996896b
14	0	tests/test_shells/bash.ok
14	0	tests/test_shells/input.sh
3	0	tests/test_shells/screenrc
21	43	tests/test_shells/test.sh

--55957ec3	2014-01-12T23:45:17+04:00	ZyX	kp-pav@ya.ru	Move shell testing to tests/test_shells/test.sh

55957ec3
1	1	tests/test.sh
0	0	tests/{test_shells.sh => test_shells/test.sh}

--bb9034ad	2014-01-11T13:52:07+04:00	ZyX	kp-pav@ya.ru	Replace zyx-desktop with HOSTNAME

bb9034ad
3	3	tests/test_shells.sh

--ed99b09e	2014-01-11T13:36:02+04:00	ZyX	kp-pav@ya.ru	Use get_output function

ed99b09e
11	7	tests/test_shells.sh

--301dbf2b	2014-01-11T13:31:57+04:00	ZyX	kp-pav@ya.ru	Add a few empty lines, rename bash directory to 3rd

301dbf2b
20	15	tests/test_shells.sh

--f20792bb	2014-01-11T13:16:25+04:00	ZyX	kp-pav@ya.ru	Add bash functional tests

f20792bb
6	0	tests/test.sh
56	0	tests/test_shells.sh

--fb00a958	2014-01-11T12:50:50+04:00	ZyX	kp-pav@ya.ru	Fix copy-paste typo in shell.py

fb00a958
1	1	powerline/shell.py

--bd4173eb	2014-01-11T12:43:13+04:00	ZyX	kp-pav@ya.ru	Add jobnum segment to default_leftonly theme

bd4173eb
4	0	powerline/config_files/themes/shell/default_leftonly.json

--73d7b0db	2014-01-11T11:51:58+04:00	ZyX	kp-pav@ya.ru	Add functional tests for plugin themes

73d7b0db
9	1	tests/test_configuration.py
16	1	tests/vim.py

--e8b20548	2014-01-11T11:51:41+04:00	ZyX	kp-pav@ya.ru	Make nerdtree segment use bufvar_exists

e8b20548
12	0	powerline/bindings/vim/__init__.py
3	4	powerline/segments/plugin/nerdtree.py

--64a32a91	2014-01-11T11:50:28+04:00	ZyX	kp-pav@ya.ru	Add window_cached decorator for ctrlp segment

64a32a91
2	0	powerline/segments/plugin/ctrlp.py

--54e7fe91	2014-01-10T14:13:25-08:00	Kenny Root	kenny@the-b.org	Fix common.user test

The username was being cached from previous tests, so clear it before
running this test.

54e7fe91
1	0	tests/test_segments.py

--0d64b5eb	2014-01-10T13:55:55-08:00	ZyX-I	kp-pav@ya.ru	Merge pull request #745 from cyberdork33/patch-1

Update powerline.sh
0d64b5eb
--01f445bd	2014-01-10T15:25:20-06:00	cyberdork33	cyberdork33@gmail.com	Update powerline.sh

I think this was a typo. broke my system.
01f445bd

--1587f262	2014-01-10T11:42:41-08:00	ZyX-I	kp-pav@ya.ru	Merge pull request #744 from ZyX-I/fix-tests

Fix tests
1587f262
--e152ecfa	2014-01-10T23:22:54+04:00	ZyX	kp-pav@ya.ru	Add missing groups to solarizedlight

e152ecfa
5	1	powerline/config_files/colorschemes/vim/solarizedlight.json

--4f804686	2014-01-10T23:17:06+04:00	ZyX	kp-pav@ya.ru	Fix tests broken due to jobnum introduction

4f804686
2	2	tests/test_configuration.py

--4d408c7c	2014-01-10T11:00:58-08:00	ZyX-I	kp-pav@ya.ru	Merge pull request #743 from ZyX-I/fix-742

Add Args.jobnum property
4d408c7c
--e56bf360	2014-01-10T23:01:32+04:00	ZyX	kp-pav@ya.ru	Add Args.jobnum property

Fixes #742
e56bf360
5	0	powerline/bindings/zsh/__init__.py

--759bf043	2014-01-10T09:55:11-08:00	ZyX-I	kp-pav@ya.ru	Merge pull request #528 from phunehehe/feature/527-zsh-bash-relative-path

Feature/527 zsh bash relative path
759bf043
--7b3e9354	2014-01-10T09:47:05-08:00	ZyX-I	kp-pav@ya.ru	Merge pull request #694 from Apsu/patch-1

Fix weather geoip lookups
7b3e9354
--483ed5d0	2014-01-10T09:38:12-08:00	ZyX-I	kp-pav@ya.ru	Merge pull request #671 from jarnett/develop

workaround for _powerline_tmux_setenv() issue with bash-4.2.45
483ed5d0
--0a0f9714	2014-01-10T09:36:43-08:00	ZyX-I	kp-pav@ya.ru	Merge pull request #679 from pdf/feature/678-fix-infinite-recursion-in-powerline_old_prompt_command

Avoid infinite recursion in `POWERLINE_OLD_PROMPT_COMMAND`
0a0f9714
--d5720bff	2014-01-10T09:35:32-08:00	ZyX-I	kp-pav@ya.ru	Merge pull request #682 from toresbe/patch-1

Make clearer the naming conflict in PyPI (closes #681)
d5720bff
--76027fb0	2014-01-10T09:30:35-08:00	ZyX-I	kp-pav@ya.ru	Merge pull request #716 from metaphox/develop

add Solarized Light colour theme for Vim
76027fb0
--47fdff94	2014-01-10T09:23:36-08:00	ZyX-I	kp-pav@ya.ru	Merge pull request #715 from ZyX-I/no-run_once-watches

Reduce number of inotify watches
47fdff94
--a145b11d	2014-01-10T09:20:34-08:00	ZyX-I	kp-pav@ya.ru	Merge pull request #697 from ZyX-I/zsh-bindings-small-update-1

A few fixes to zsh bindings
a145b11d
--a6af95a8	2014-01-10T09:19:01-08:00	ZyX-I	kp-pav@ya.ru	Merge pull request #712 from ZyX-I/shell-jobs

Add jobnum segment
a6af95a8
--84d2b46e	2014-01-10T09:17:17-08:00	ZyX-I	kp-pav@ya.ru	Merge pull request #695 from ZyX-I/powerline-lint-fix

Fix powerline-lint tests
84d2b46e
--67a809e2	2014-01-10T09:16:48-08:00	ZyX-I	kp-pav@ya.ru	Merge pull request #722 from ZyX-I/raiagent-overlay

Remove Gentoo ebuild and reference raiagent overlay
67a809e2
--24d4d74e	2013-12-12T20:32:06+01:00	Brice Waegeneire	brice.wge@gmail.com	Add Meslo fonts to the fontconfig file

24d4d74e
24	0	font/10-powerline-symbols.conf

--c97bc824	2013-12-01T12:35:12+01:00	Glandos	bugs-github@antipoul.fr	Fix display for home directory
c97bc824
4	2	powerline/segments/common.py

--fb7eec29	2013-12-01T12:11:53+01:00	Glandos	bugs-github@antipoul.fr	Don't show '//' when using path separator

Currently, the cwd segment is showing //etc when we are in /etc and / when we are in the root file.
This small patch fix this
fb7eec29
2	2	powerline/segments/common.py

--ccf070cb	2013-12-01T14:23:29+04:00	ZyX	kp-pav@ya.ru	Remove Gentoo ebuild and reference raiagent overlay


ccf070cb
1	1	docs/source/installation/linux.rst
0	1	packages/gentoo/app-misc/powerline/Manifest
0	139	packages/gentoo/app-misc/powerline/powerline-9999.ebuild

--4836cbb4	2013-11-21T16:03:58+01:00	Tao Wu	foxisme@gmail.com	Update solarizedlight.json

Update name to "Solarized Light".
4836cbb4
1	1	powerline/config_files/colorschemes/vim/solarizedlight.json

--1e0f13ae	2013-11-21T14:23:14+01:00	Tao Wu	tao.wu@booxware.de	add Solarized Light colour theme for Vim

1e0f13ae
94	0	powerline/config_files/colorschemes/vim/solarizedlight.json

--bb0d9028	2013-11-21T00:23:25+04:00	ZyX	kp-pav@ya.ru	Make sure watcher is not used


bb0d9028
5	3	tests/lib/config_mock.py
5	5	tests/test_config_reload.py

--95d13a33	2013-11-21T00:18:34+04:00	ZyX	kp-pav@ya.ru	Test that nothing is reloaded with run_once=True


95d13a33
17	1	tests/lib/config_mock.py
17	1	tests/test_config_reload.py

--6a4b8bc4	2013-11-20T23:51:26+04:00	ZyX	kp-pav@ya.ru	Pass run_once to ConfigLoader, make it respect run_once

It only respects run_once by using DummyWatcher instead of a watcher doing 
something potentially useful

Ref #711
6a4b8bc4
1	1	powerline/__init__.py
12	1	powerline/lib/config.py

--2ef0d441	2013-11-19T01:01:49+04:00	ZyX	kp-pav@ya.ru	Add jobnum segment

Replaces #596. Differences:
- Tests and metavar.
- Uses “jobnum” name in place of “jobs”.
- Does not use subshell for zsh. Also counts jobs correctly in zsh.
- Adds an option to force showing jobnum segment even if there are no jobs.
2ef0d441
1	1	powerline/bindings/bash/powerline.sh
16	2	powerline/bindings/zsh/powerline.zsh
1	0	powerline/config_files/colorschemes/shell/default.json
1	0	powerline/config_files/colorschemes/shell/solarized.json
4	0	powerline/config_files/themes/shell/default.json
15	0	powerline/segments/shell.py
1	0	powerline/shell.py
11	0	tests/test_segments.py

--a06fe3ad	2013-11-17T16:40:15+04:00	ZyX	kp-pav@ya.ru	Do not double pl.exception() call, record used pl in variable instead


a06fe3ad
1	4	powerline/__init__.py

--f0476f99	2013-11-15T11:55:55-08:00	William Snyders	william.snyders@rightscale.com	Update dependanceies for Arch packages.

f0476f99
1	1	packages/archlinux/python-powerline-git/PKGBUILD
1	1	packages/archlinux/python2-powerline-git/PKGBUILD

--37465484	2013-11-04T23:16:45+04:00	ZyX	kp-pav@ya.ru	Do not mention zpython branch

It is not usable due to some bugs, not maintained and replaced by 
powerline-client
37465484
0	3	docs/source/overview.rst

--8d36f422	2013-11-04T23:15:51+04:00	ZyX	kp-pav@ya.ru	Set TMUX_PWD_* on startup

Ref #672
8d36f422
1	0	powerline/bindings/zsh/powerline.zsh

--9446ac91	2013-11-03T02:15:24+04:00	ZyX	kp-pav@ya.ru	Make sure flake8 does not show any errors in powerline/lint/**/*.py files


9446ac91
2	1	.local.vimrc
0	1	powerline/lint/__init__.py
4	4	powerline/lint/markedjson/error.py
2	2	powerline/lint/markedjson/resolver.py

--b5f051f7	2013-11-03T00:54:32+04:00	ZyX	kp-pav@ya.ru	Fix powerline-lint tests

Some notes on the commit:

1. As external_ip and email_imap_alert segments seem to be removed corresponding
   segment_data keys also were removed.
2. Various files that import vim module now have the usual workaround that sets
   vim local to dummy object on error.
3. Syntastic check was failing because it did not specify which highlighting
   groups it uses in documentation. I made it specify them and also moved format
   strings to keywords. Same for some other plugin-local themes.
4. powerline-lint script got --debug argument. Pretty useless currently though:
   it only makes it output traceback for ImportError when failing to import
   module to stderr.
5. Moved themes/vim/plugin/*.json to themes/vim/plugin_*.json.
6. Fixed powerline-lint that ignored problems from values.

b5f051f7
4	4	powerline/config_files/config.json
0	10	powerline/config_files/themes/tmux/default.json
0	0	powerline/config_files/themes/vim/{plugin/ctrlp.json => plugin_ctrlp.json}
0	1	powerline/config_files/themes/vim/{plugin/gundo-preview.json => plugin_gundo-preview.json}
0	1	powerline/config_files/themes/vim/{plugin/gundo.json => plugin_gundo.json}
0	0	powerline/config_files/themes/vim/{plugin/nerdtree.json => plugin_nerdtree.json}
35	10	powerline/lint/__init__.py
3	0	powerline/matchers/plugin/ctrlp.py
24	0	powerline/segments/plugin/ctrlp.py
7	0	powerline/segments/plugin/nerdtree.py
18	5	powerline/segments/plugin/syntastic.py
3	0	powerline/segments/plugin/tagbar.py
2	1	scripts/powerline-lint

--c293b621	2013-11-01T00:57:33-05:00	Evan Callicoat	apsu@propter.net	Fix weather geoip lookups

- _external_ip() isn't necessary with freegeoip.net as it does this for you when unspecified.
- region_name/country_name make Yahoo's weather API unhappy whereas region_code/country_code work for me (TX/US)
c293b621
3	3	powerline/segments/common.py

--561b7158	2013-10-16T01:42:07+02:00	Tore Sinding Bekkedal	toresbe@gmail.com	Make clearer the naming conflict in PyPI (closes #681)
561b7158
4	0	docs/source/overview.rst

--1d385f87	2013-10-15T21:21:12+11:00	Peter Fern	github@obfusc8.org	Avoid infinite recursion in `POWERLINE_OLD_PROMPT_COMMAND`

Fixes #678

1d385f87
1	1	powerline/bindings/bash/powerline.sh

--a810e37f	2013-10-05T03:31:34-04:00	Jesse	jesse.arnett@inbox.com	workaround for _powerline_tmux_setenv() issue with bash-4.2.45

a810e37f
1	1	powerline/bindings/bash/powerline.sh

--7423b55c	2013-09-25T10:27:48+05:30	Kovid Goyal	kovid@kovidgoyal.net	Fix git branch name sometimes getting stuck with inotify

If you try to checkout the already current branch in git, git creates
HEAD.lock and renames it to HEAD. This causes the inode of HEAD to
change and so the inotify file watcher stops tracking HEAD.

The fix is to re-create the inotify watch when the file attributes
change. This is a bit of a performance penalty as most of the time the
attribute changes are simple last modified time/size changes, but since
inotify provides no way to know specifically when the inode has changed,
this is the best we can do.

7423b55c
17	0	powerline/lib/file_watcher.py
10	1	powerline/lib/vcs/__init__.py
9	1	tests/test_lib.py

--db80fc95	2013-08-27T10:22:04+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge branch 'fix/error-info-string-format' into develop

db80fc95
--4f1c26aa	2013-08-21T01:58:32+08:00	Wang Xuerui	idontknw.wang@gmail.com	Make extra error info string

Fixes #645

4f1c26aa
1	1	powerline/lib/inotify.py

--c278c2d9	2013-08-21T10:02:48+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge branch 'fix/cs-syntax-error' into develop

c278c2d9
--9314ed99	2013-08-21T10:02:26+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add missing comma in solarized colorscheme

9314ed99
1	1	powerline/config_files/colorschemes/vim/solarized.json

--ebc2d4f4	2013-08-20T17:59:49+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge branch 'update-readme' into develop

ebc2d4f4
--f12bb705	2013-08-20T17:59:41+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add links to Google Groups

f12bb705
10	5	README.rst

--fbe6a50e	2013-08-20T17:40:53+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge branch 'fix/remove-inet-segments' into develop

fbe6a50e
--6e8318ac	2013-08-20T17:40:26+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Remove long-running segments from tmux

The segments will be re-added when the daemon is merged and the docs
are updated.

6e8318ac
0	16	powerline/config_files/themes/tmux/default.json

--44a37b01	2013-08-20T17:29:02+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge branch 'feature/plugin-statuslines' into develop

Refs #3, #524, #470
Closes #377
Closes #451

44a37b01
--d0429ac0	2013-08-20T17:26:36+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add Tagbar current tag segment

d0429ac0
2	1	powerline/config_files/colorschemes/vim/default.json
1	0	powerline/config_files/colorschemes/vim/solarized.json
9	1	powerline/config_files/themes/vim/default.json
12	0	powerline/segments/plugin/tagbar.py

--0fc79d28	2013-08-20T17:14:24+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Center align CtrlP current segment

0fc79d28
1	0	powerline/segments/plugin/ctrlp.py

--3d3450d8	2013-08-20T17:07:18+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add Gundo statuslines

3d3450d8
3	1	powerline/config_files/config.json
19	0	powerline/config_files/themes/vim/plugin/gundo-preview.json
19	0	powerline/config_files/themes/vim/plugin/gundo.json
13	0	powerline/matchers/plugin/gundo.py

--1fe98e1c	2013-08-20T17:01:08+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update CtrlP config to match segment changes

1fe98e1c
8	2	powerline/config_files/themes/vim/plugin/ctrlp.json

--8a0e1f27	2013-08-20T16:51:06+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'aschrab/trailing_whitespace' into develop

8a0e1f27
--7ec4cb9b	2013-08-20T16:50:48+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'aschrab/gitfile' into develop

7ec4cb9b
--fabc45f1	2013-08-20T16:50:27+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'aschrab/no_python_warning' into develop

fabc45f1
--74d4ee96	2013-08-20T16:48:49+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update tests

Unit tests are not run on external segments. When external segments are
moved out of the core repo the extra test code won't be needed.

74d4ee96
9	2	tests/test_configuration.py
5	0	tests/vim.py

--e19a63aa	2013-08-20T16:48:36+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update plugin segments to use bindings

e19a63aa
5	11	powerline/matchers/plugin/ctrlp.py
5	11	powerline/segments/plugin/ctrlp.py
2	1	powerline/segments/plugin/nerdtree.py

--6baf1f8e	2013-08-20T16:05:56+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add Syntastic statusline

Refs #376, #639.
Closes #451.

6baf1f8e
5	0	powerline/config_files/themes/vim/default.json
28	0	powerline/segments/plugin/syntastic.py

--7aee4c1d	2013-08-20T16:05:10+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Align default vim colorscheme attributes

7aee4c1d

--2a127cdb	2013-08-20T16:04:06+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add error/warning HL groups for vim

2a127cdb
3	1	powerline/config_files/colorschemes/vim/default.json
3	1	powerline/config_files/colorschemes/vim/solarized.json

--ed28bb50	2013-08-20T09:35:42-04:00	Aaron Schrab	aaron@schrab.com	ignore trailing whitespace errors in .rst files

Use a .gitattributes file to tell git to not highlight trailing
whitespace as an error in .rst files when showing diffs.  A trailing
space is used on many lines in those files to indicate that the
paragraph continues onto the next line.

ed28bb50
1	0	.gitattributes

--0ffe6da4	2013-08-20T00:06:31-04:00	Aaron Schrab	aaron@schrab.com	Option to suppress error in python-less vim

If the g:powerline_no_python_error variable is set don't issue an error
message even if vim doesn't have the required Python support.  This
allows a common set of configuration files to be used across systems
where some of the copies of vim don't meet the requirements.

0ffe6da4
4	0	docs/source/configuration.rst
2	0	powerline/bindings/vim/plugin/powerline.vim

--0b5b8177	2013-08-20T15:29:09+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add Control-P statuslines

This hacks around the way CtrlP handles statuslines. Powerline will
always override the statusline, but CtrlP doesn't make its details
available as buffer variables so separate functions assign the details
to buffer variables each statusline redraw.

Currently this statusline only uses a couple of highlight groups,
colorschemes should add the HL groups to make this prettier.

0b5b8177
2	1	powerline/config_files/config.json
22	0	powerline/config_files/themes/vim/plugin/ctrlp.json
27	0	powerline/matchers/plugin/ctrlp.py
94	0	powerline/segments/plugin/ctrlp.py

--2e38ab56	2013-08-20T13:41:53+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add NERDTree statusline

2e38ab56
3	1	powerline/config_files/config.json
17	0	powerline/config_files/themes/vim/plugin/nerdtree.json
9	0	powerline/matchers/plugin/nerdtree.py
17	0	powerline/segments/plugin/nerdtree.py

--42ea2bf5	2013-08-20T13:40:36+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Create shared namespaces for powerline.{matchers,segments}.plugin

42ea2bf5
2	0	powerline/matchers/__init__.py
2	0	powerline/matchers/plugin/__init__.py
2	0	powerline/segments/__init__.py
2	0	powerline/segments/plugin/__init__.py

--d67e929f	2013-08-20T13:30:22+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge branch 'fix-621' into develop

d67e929f
--f94ed682	2013-08-07T16:58:27+05:30	Kovid Goyal	kovid@kovidgoyal.net	Fix #621

f94ed682
2	1	powerline/lib/config.py

--db27dd37	2013-08-20T13:26:21+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'dbrodie/fix_625' into develop

db27dd37
--9c566e41	2013-08-20T13:24:13+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'dbrodie/unicode_path_fix' into develop

9c566e41
--5cc65551	2013-08-20T13:21:24+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'kovidgoyal/fix-638' into develop

5cc65551
--20ad1001	2013-08-20T13:08:50+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'aschrab/include_modes' into develop

20ad1001
--5330c487	2013-08-20T13:08:08+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge branch 'fix-setup-unicode-error' into develop

5330c487
--f107494d	2013-08-20T13:07:56+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Make author name ASCII

f107494d
1	1	setup.py

--28c1c0df	2013-08-20T09:28:11+05:30	Kovid Goyal	kovid@kovidgoyal.net	More informative error message. Fixes #638

28c1c0df
4	1	powerline/lib/inotify.py

--9aee39e4	2013-08-16T21:52:28-04:00	Aaron Schrab	aaron@schrab.com	Handle gitfiles when retrieving branch name

Move code to parse a .git file from the do_status method to a new method
shared with get_branch_name so that branch name can be retreived from
repositories which use a .git file.

Closes #634.

9aee39e4
11	12	powerline/lib/vcs/git.py

--51a5b430	2013-04-08T13:51:24-04:00	Aaron Schrab	aaron@schrab.com	Fix handling of segment include_modes

Segments should only be included if rules for both inclusion and
exclusion are satisfied, satisfying one or the other is not sufficient.

If the include_modes list for a segment is missing or empty consider all
modes to be included so that users do not need to supply an exhaustive
list, since there isn't much point in actually wanting an empty include
list.  Actually check for mode name in the list rather than mistakenly
checking for the segment object.

51a5b430
1	1	powerline/renderer.py

--e58cb30d	2013-08-13T11:05:04+03:00	Daniel Brodie	daniel@lacoon.com	Fix UnicodeDecodeError when dir_limit_depth and dir_shorten_len are set
e58cb30d
3	3	powerline/segments/common.py

--f15bb19c	2013-08-08T19:53:34+03:00	Daniel Brodie	daniel@lacoon.com	Don't let the vcs detection cross mount point boundaries
Fixes issue 625

f15bb19c
2	0	powerline/lib/vcs/__init__.py

--70e279af	2013-08-06T11:09:11+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge branch 'feature/visual-range-segment' into develop

70e279af
--ab614013	2013-08-06T10:34:14+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add visual_range segment

Returns a value similar to `showcmd`.

TODO: Make proper test case.

ab614013
1	0	powerline/config_files/colorschemes/vim/default.json
1	0	powerline/config_files/colorschemes/vim/solarized.json
5	0	powerline/config_files/themes/vim/default.json
26	0	powerline/segments/vim.py
4	0	tests/test_segments.py
8	1	tests/vim.py

--aa05f226	2013-08-05T10:56:27+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update README

aa05f226
42	5	README.rst

--0b3e354c	2013-07-31T16:13:05+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge branch 'fix-archlinux-aur-issues' into develop

0b3e354c
--ad4a1b54	2013-07-31T16:11:20+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Fix Arch Linux AUR package upload issues

Some workarounds have been added so that AUR correctly parses the
package name and dependencies when the package is uploaded.

ad4a1b54
10	8	packages/archlinux/python-powerline-git/PKGBUILD
11	9	packages/archlinux/python2-powerline-git/PKGBUILD

--225ac48c	2013-07-31T15:28:54+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'tmurph/feature/504-battery-segment' into develop

Conflicts:
	powerline/config_files/colorschemes/tmux/default.json

225ac48c
--432fb81e	2013-07-31T15:26:15+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge branch 'improve-archlinux-packages' into develop

432fb81e
--99e0cf57	2013-07-31T15:24:40+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Improve Arch Linux packages

Use simplified syntax and messages, fix package names, ref
HalosGhost/patch-{2,3}.

99e0cf57
8	10	packages/archlinux/python-powerline-git/PKGBUILD
8	10	packages/archlinux/python2-powerline-git/PKGBUILD

--0ff02f7b	2013-07-31T14:37:10+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'mmlb/add-fontpatcher-to-PKGBUILD' into develop

0ff02f7b
--35364ecb	2013-07-31T14:34:59+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'HalosGhost/patch-3' into develop

35364ecb
--4ea9dcb6	2013-07-31T14:34:33+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'HalosGhost/patch-2' into develop

4ea9dcb6
--5c88c0ae	2013-07-31T14:30:31+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'doitian/tmux-activity-bell-fg' into develop

5c88c0ae
--b4ee3604	2013-07-31T14:28:03+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'kovidgoyal/fix-578' into develop

b4ee3604
--69db1a90	2013-07-31T08:11:55+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'kovidgoyal/fix-latest-psutil-network' into develop

69db1a90
--9fd64f2d	2013-07-31T08:03:45+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'kovidgoyal/fix-unicode-in-setup' into develop

9fd64f2d
--d1cdf860	2013-07-20T18:44:18+05:30	Kovid Goyal	kovid@kovidgoyal.net	Fix #604

d1cdf860
2	2	setup.py

--d66806e5	2013-07-14T15:04:34+05:30	Kovid Goyal	kovid@kovidgoyal.net	Fix latest psutil breaking network segment

d66806e5
3	0	powerline/segments/common.py

--24cda1d9	2013-05-08T23:28:24-04:00	Trevor Murphy	trevor.m.murphy@gmail.com	Add a battery info segment.

Default colors range from red (full battery) to white (no battery) but can be changed via the
`battery' and `battery_gradient' settings.

Default presentation is a formatted percentage string (with keyword `batt').  The `gamify' setting
changes this to a sequence of video game hearts.

Number of steps from 100% to 0% / number of video game heart icons is controlled by the `steps'
setting (default 5).

24cda1d9
4	0	powerline/config_files/colors.json
3	1	powerline/config_files/colorschemes/tmux/default.json
51	0	powerline/segments/common.py
36	0	tests/test_segments.py

--82842e01	2013-07-09T09:32:01+08:00	Ian Yang	me@iany.me	Set different window name foreground based on activity and bell status.

82842e01
6	1	powerline/bindings/tmux/powerline.conf

--52c6bff6	2013-07-03T09:40:05+05:30	Kovid Goyal	kovid@kovidgoyal.net	Dont log inotify missing error when using branch coloring

The error message about inotify being missing when branch coloring is
enabled was being logged for every directory and for every invocation
of powerline in a shell, without powerline-daemon. Dont log it, since
the log is printed to stderr when using powerline in a shell without
powerline-daemon. Also improve the error message on OS X. Fixes #578

52c6bff6
2	0	powerline/lib/inotify.py
1	1	powerline/lib/tree_watcher.py

--2be3059e	2013-07-02T08:49:09-04:00	Manuel Mendez	mmendez@srtrl.com	arch: update pkgrel to 2.

2be3059e
2	2	packages/archlinux/python-powerline-git/PKGBUILD
2	2	packages/archlinux/python2-powerline-git/PKGBUILD

--4083cf4c	2013-07-02T08:38:04-04:00	Manuel Mendez	mmendez@srtrl.com	arch: break package() into separate packages.

4083cf4c
16	8	packages/archlinux/python-powerline-git/PKGBUILD
16	8	packages/archlinux/python2-powerline-git/PKGBUILD

--01560ae7	2013-06-28T22:53:02-04:00	Manuel Mendez	mmendez@srtrl.com	arch: add fontpatcher to archlinux/python-powerline.

01560ae7
1	0	packages/archlinux/python-powerline-git/.gitignore
13	0	packages/archlinux/python-powerline-git/PKGBUILD
13	0	packages/archlinux/python-powerline-git/fontpatcher.py.patch

--ffb29d60	2013-06-28T22:49:22-04:00	Manuel Mendez	mmendez@srtrl.com	arch: add fontpatcher to archlinux/python2-powerline.

ffb29d60
1	0	packages/archlinux/python2-powerline-git/.gitignore
13	0	packages/archlinux/python2-powerline-git/PKGBUILD
13	0	packages/archlinux/python2-powerline-git/fontpatcher.py.patch

--79e7640b	2013-06-28T23:10:36-04:00	Manuel Mendez	mmendez@srtrl.com	arch: add provides=('powerline') to PKGBUILDs.

79e7640b
1	0	packages/archlinux/python-powerline-git/PKGBUILD
1	0	packages/archlinux/python2-powerline-git/PKGBUILD

--b0c5c059	2013-06-28T10:48:01-05:00	Sam Stuewe	Samuel.Stuewe@gmail.com	Clean up package function for python3

``|| return 1`` is very old syntax and is no longer needed. And, the ``install`` command can handle directory creation and file installation in the same command which cuts a great deal of unnecessary commands out.

Also, remember, ``msg2`` in the package function will be printed during the making of the package, not during the installation. Thus, instead of ``msg2`` (as they really serve only as documentation), comments should be preferred.
b0c5c059
12	18	packages/archlinux/python-powerline-git/PKGBUILD

--1970d078	2013-06-28T10:43:12-05:00	Sam Stuewe	Samuel.Stuewe@gmail.com	Clean up package function for python2

The "|| return 1" is very old syntax and is no longer needed. And, the ``install`` command can handle directory creation and file installation in the same command which cuts a great deal of unnecessary commands out.

Also, remember, msg2s in the package function will be printed during the making of the package, not during the installation. Thus, instead of msg2s (as this really would serve only as documentation), comments should be preferred.
1970d078
12	18	packages/archlinux/python2-powerline-git/PKGBUILD

--c1ae7f35	2013-06-28T14:26:33+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'zyx-i/fix-516' into develop

c1ae7f35
--67dff293	2013-06-28T14:15:07+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge branch 'feature/update-archlinux-packages' into develop

67dff293
--8d9fa137	2013-06-28T14:13:57+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update Arch Linux packages to use updated VCS syntax

Closes #479

8d9fa137
12	24	packages/archlinux/python-powerline-git/PKGBUILD
12	24	packages/archlinux/python2-powerline-git/PKGBUILD

--4ee5072c	2013-06-28T13:55:37+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge branch 'fix/docs-fontpatcher-path' into develop

4ee5072c
--17435ecf	2013-06-10T15:33:27-04:00	mwcz	mwc@clayto.com	Fix documented path to fontpatcher.py

17435ecf
1	1	docs/source/fontpatching.rst

--5dd095a8	2013-06-28T13:54:03+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'michaelbeaumont/fix/issue-543' into develop

5dd095a8
--f00f1ace	2013-06-28T13:50:41+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge branch 'feature/git-improve-detached-head' into develop

f00f1ace
--72b082a5	2013-06-18T16:46:46-07:00	Jack Zhou	jack.zhou@hulu.com	Change [DETACHED HEAD] message to a short hash of the detached head.

72b082a5
1	1	powerline/lib/vcs/git.py
9	1	tests/test_lib.py

--afe415a3	2013-06-28T13:47:25+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'kovidgoyal/fix-482' into develop

Conflicts:
	powerline/lib/vcs/git.py

afe415a3
--fc6d8521	2013-06-28T13:37:50+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'zyx-i/fix-567' into develop

fc6d8521
--bb6c9593	2013-06-28T13:36:38+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'zyx-i/powerline-list-expanduser' into develop

bb6c9593
--13e0c899	2013-06-28T13:36:11+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'zyx-i/fix-545' into develop

13e0c899
--3cf04f3a	2013-06-27T19:24:28+04:00	ZyX	kp-pav@ya.ru	Support low values of line2byte

Fixes #567
3cf04f3a
2	0	powerline/segments/vim.py

--5ccf8d2c	2013-06-22T20:30:53+04:00	ZyX	kp-pav@ya.ru	Support ~/ directories in powerline-lint


5ccf8d2c
4	2	powerline/lint/__init__.py

--a85d9017	2013-06-22T19:32:56+04:00	ZyX	kp-pav@ya.ru	In place of failure create new window ID in case of duplicate ID

Fixes #545
Fixes #537
a85d9017
3	3	powerline/vim.py

--987376ae	2013-06-22T19:14:07+04:00	ZyX	kp-pav@ya.ru	Fix tests


987376ae
1	0	tests/vim.py

--79b842ec	2013-06-22T19:12:57+04:00	ZyX	kp-pav@ya.ru	Remove uneeded code


79b842ec
11	20	powerline/bindings/vim/__init__.py

--31c86486	2013-06-22T19:00:56+04:00	ZyX	kp-pav@ya.ru	Disable vim.bindeval support for vim_getwar for old vim versions


31c86486
3	9	powerline/bindings/vim/__init__.py

--a03035dd	2013-06-14T13:45:13+05:30	Kovid Goyal	kovid@kovidgoyal.net	Remove obsolete comment

a03035dd
0	5	powerline/lib/vcs/__init__.py

--14bec211	2013-06-14T13:38:24+05:30	Kovid Goyal	kovid@kovidgoyal.net	Various performance improvements for the vcs backend

1) Fix a bug where watching a directory would also report the directory
as changed if any files inside it were changed. This would causes
excessive polling by the branch segment

2) Fix a bug where the watch for the repo dir in the branch segment
was being continually recreated, again causing excessive polling. This
was particularly noticeable with the patch to fix fugitive file status
updates.

3) Improve the performance of branch coloring for git repos by ignoring
change events for the index.lock file. This file is created/deleted
every time git access the index and would cause the entire working tree
status to be re-queried every time.

14bec211
8	0	powerline/lib/file_watcher.py
8	7	powerline/lib/tree_watcher.py
16	6	powerline/lib/vcs/__init__.py
10	3	powerline/lib/vcs/git.py

--8de2a9ab	2013-06-12T11:09:50+02:00	michaelbeaumont	mjboamail@gmail.com	Fix infinite add_watches loop with symbolic links

Added a check to ensure that add_watches doesn't run on the same folder over and over again. This occurs at least when circular symbolic links are present.

Fix #543

8de2a9ab
4	0	powerline/lib/tree_watcher.py

--2758c349	2013-06-10T11:53:40+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Revert "Fix committing with fugitive => stuck file status"

This reverts commit 0435d44984d06f4fada20e3d6df9b5bd2f601f16.

The commit introduces a huge performance penalty and is removed for now.

2758c349
2	6	powerline/lib/vcs/git.py

--441f1746	2013-05-30T11:12:24+07:00	Hoang Xuan Phu	phunehehe@gmail.com	detect script directory to make bash and zsh usable without having `powerline` in `$PATH`

441f1746
4	1	powerline/bindings/bash/powerline.sh
3	1	powerline/bindings/zsh/powerline.zsh

--540b076a	2013-06-02T15:43:26+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'kovidgoyal/fix-482' into develop

540b076a
--0435d449	2013-05-30T07:29:04+05:30	Kovid Goyal	kovid@kovidgoyal.net	Fix committing with fugitive => stuck file status

Fixes #482 (I hope)

0435d449
6	2	powerline/lib/vcs/git.py

--669327df	2013-05-27T13:40:34+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'kovidgoyal/fix-417' into develop

669327df
--291832d7	2013-05-27T13:40:27+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'zyx-i/auto-use-powerline-client' into develop

291832d7
--baa44475	2013-05-24T07:21:40+04:00	ZyX	kp-pav@ya.ru	Add note about POWERLINE_COMMAND to documentation


baa44475
15	0	docs/source/configuration.rst

--374da156	2013-05-24T07:18:03+04:00	ZyX	kp-pav@ya.ru	Use eval in tmux/powerline.conf

fish does not support variables used as commands
374da156
2	2	powerline/bindings/tmux/powerline.conf

--884a8b0d	2013-05-24T06:25:48+04:00	ZyX	kp-pav@ya.ru	Use powerline-client if possible


884a8b0d
9	1	powerline/bindings/bash/powerline.sh
4	2	powerline/bindings/tmux/powerline.conf
10	2	powerline/bindings/zsh/powerline.zsh

--5bb32fad	2013-05-23T19:03:40+04:00	ZyX	kp-pav@ya.ru	Use fallback logger if normal one is not available


5bb32fad
27	3	powerline/__init__.py

--d882d312	2013-05-01T21:18:08+04:00	ZyX	kp-pav@ya.ru	Fix Powerline.exception

d882d312
4	2	powerline/__init__.py

--1977a012	2013-05-01T20:31:04+04:00	ZyX	kp-pav@ya.ru	Remove cache before running self.exception, not after

1977a012
1	1	powerline/lib/config.py

--82e2ea10	2013-04-23T19:29:31+04:00	ZyX	kp-pav@ya.ru	Replace self.pl.exception with self.exception

New function is checking for self.pl being set before using logger and also
removes the need of specifying explicit prefix="powerline".

Conflicts:
	powerline/__init__.py

82e2ea10
18	6	powerline/__init__.py

--201175d3	2013-04-10T20:04:22+04:00	ZyX	kp-pav@ya.ru	Pop path from self.loaded on exception

201175d3
4	0	powerline/lib/config.py

--f389c43e	2013-04-10T18:09:34+04:00	ZyX	kp-pav@ya.ru	Use `try/except KeyError` in place of `if in dict/else`

f389c43e
2	2	powerline/segments/common.py

--716f7617	2013-04-10T08:52:33+04:00	ZyX	kp-pav@ya.ru	Return exception string in place of throwing an exception

Big bunch of `AttributeError`s when renderer failed to be created that renders
vim unusable in case of some of the errors (e.g. invalid configuration) is
annoying.

Conflicts:
	powerline/__init__.py

716f7617
47	2	powerline/__init__.py

--9080a34e	2013-05-23T18:22:49+04:00	ZyX	kp-pav@ya.ru	Fix problems with merging vim.Dictionary

Also add tests

Fixes #516

9080a34e
2	0	.gitignore
22	2	powerline/bindings/vim/__init__.py
6	1	tests/test.sh
38	0	tests/test_local_overrides.vim
4	1	tests/test_plugin_file.vim
4	0	tests/vim.py

--75bf6ac7	2013-05-23T10:42:51+05:30	Kovid Goyal	kovid@kovidgoyal.net	Fix #417

75bf6ac7
5	4	powerline/segments/common.py

--23a59ba9	2013-05-22T13:58:26+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'zyx-i/fix-511' into develop

23a59ba9
--795b9874	2013-05-22T00:09:58+04:00	ZyX	kp-pav@ya.ru	Add missing import

Also add tests

Fixes #511

795b9874
1	0	powerline/bindings/vim/plugin/powerline.vim
3	0	tests/test.sh
16	0	tests/test_plugin_file.vim

--1581d9be	2013-05-21T10:12:50+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'jacobwalker0814/feature/477-environment-segment' into develop

1581d9be
--4037c3be	2013-05-21T10:11:49+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'inducer/patch-1' into develop

4037c3be
--5710b7b3	2013-05-21T10:10:11+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'zyx-i/less-viml' into develop

5710b7b3
--516642c7	2013-05-21T10:08:46+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge branch 'fix-git-errors' into develop

516642c7
--bb4bc52c	2013-05-14T21:43:33+05:30	Kovid Goyal	kovid@kovidgoyal.net	Fix path issue

bb4bc52c
1	1	powerline/lib/vcs/git.py

--79e44dd2	2013-05-19T13:28:29+04:00	ZyX	kp-pav@ya.ru	Check self.theme_option before using

Fixes #493
79e44dd2
1	1	powerline/shell.py

--ea3c9393	2013-05-11T13:13:31+04:00	ZyX	kp-pav@ya.ru	Fix tests on python3


ea3c9393
2	2	powerline/bindings/vim/__init__.py

--5c2c47aa	2013-05-11T13:13:31+04:00	ZyX	kp-pav@ya.ru	Make .shutdown work if renderer was not created

Fixes #486

5c2c47aa
3	0	powerline/__init__.py

--962a1b6f	2013-05-19T13:17:30+04:00	ZyX	kp-pav@ya.ru	Fix tests


962a1b6f
1	1	tests/test_configuration.py
2	0	tests/vim.py

--ad35b489	2013-05-19T13:06:57+04:00	ZyX	kp-pav@ya.ru	Add VimEnviron object


ad35b489
18	0	powerline/bindings/vim/__init__.py
2	1	powerline/renderers/vim.py

--dfaf8c3b	2013-05-19T12:57:33+04:00	ZyX	kp-pav@ya.ru	Fix messages


dfaf8c3b
3	6	tests/test_configuration.py

--07a130ab	2013-05-19T12:56:30+04:00	ZyX	kp-pav@ya.ru	Use vim.vars and *.options if possible


07a130ab
32	15	powerline/bindings/vim/__init__.py
3	3	powerline/matchers/vim.py
8	8	powerline/segments/vim.py
17	21	powerline/vim.py

--f10729f6	2013-05-19T12:14:06+04:00	ZyX	kp-pav@ya.ru	Add some new features to tests/vim.py


f10729f6
27	33	tests/vim.py

--ebd122d4	2013-05-17T08:51:33+04:00	ZyX	kp-pav@ya.ru	Unfinished attempt to adapt tests to new code


ebd122d4
19	10	tests/test_configuration.py
38	0	tests/vim.py

--9060e2b4	2013-05-16T07:04:14+04:00	ZyX	kp-pav@ya.ru	Fix non-bindeval fallback


9060e2b4
3	1	powerline/vim.py

--658232a1	2013-05-15T00:33:13+04:00	ZyX	kp-pav@ya.ru	Update documentation


658232a1
16	2	docs/source/overview.rst

--35e723e0	2013-05-15T00:15:02+04:00	ZyX	kp-pav@ya.ru	Move code to powerline.vim.setup


35e723e0
6	24	powerline/bindings/vim/plugin/powerline.vim
50	6	powerline/vim.py

--0823f29f	2013-05-15T00:02:11+04:00	ZyX	kp-pav@ya.ru	Remove unused purgeonevents_reg and launchevent


0823f29f
0	7	powerline/bindings/vim/plugin/powerline.vim
0	23	powerline/segments/vim.py

--9f20fb1f	2013-05-14T09:01:04+04:00	ZyX	kp-pav@ya.ru	Move some functions from VimL to python code

Should be faster with new interfaces, but that is not the case

Should remove zero that can be viewed temporary in place of statusline in new 
windows

Target: ressurect setup function like source_plugin (but in place of sourcing 
something code is moved to python) to make it possible to do the following 
sequence:

1. Install powerline via pip
2. Add a line to the vimrc like

        py from powerline.vim import setup as setup_powerline; setup_powerline(); del setup_powerline

3. See new fancy statusline

Currently there are no convenient options to use powerline installed by pip in 
vim. powerline/bindings/vim/plugin/powerline.vim will do what it does: check for 
appropriate python versions available, fix sys.path and so on, but it won’t 
create autocommands, set options or define PowerlinePyeval function.

Note: may be rebased on top of the develop.
9f20fb1f
3	29	powerline/bindings/vim/plugin/powerline.vim
4	3	powerline/renderers/vim.py
53	0	powerline/vim.py

--e3ed3aba	2013-05-15T14:36:48+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge branch 'fix-git-errors' into develop

e3ed3aba
--459370d7	2013-05-14T14:42:51+05:30	Kovid Goyal	kovid@kovidgoyal.net	Fix #489

459370d7
1	1	powerline/lib/vcs/__init__.py
1	1	powerline/lib/vcs/git.py

--235d6d36	2013-05-14T14:33:17+05:30	Kovid Goyal	kovid@kovidgoyal.net	Fix #494

235d6d36
4	1	powerline/lib/vcs/__init__.py

--4c4b7a2b	2013-05-13T03:56:55-03:00	Andreas Klöckner	inform@tiker.net	Make docs match actual default.
4c4b7a2b
1	1	powerline/segments/common.py

--72ea6730	2013-05-06T17:20:05+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'zyx-i/zsh-emulate' into develop

72ea6730
--f83ca080	2013-05-06T19:13:31+04:00	ZyX	kp-pav@ya.ru	Fix typo in scripts/powerline

f83ca080
1	1	scripts/powerline

--ee48836f	2013-05-02T12:59:50+04:00	ZyX	kp-pav@ya.ru	Always return true in install.sh


ee48836f
1	0	tests/install.sh

--f3d7a639	2013-05-02T01:23:04+04:00	ZyX	kp-pav@ya.ru	decode takes no keyword arguments in python-2.6


f3d7a639
1	1	powerline/bindings/zsh/__init__.py

--ba33c327	2013-05-01T23:56:49+04:00	ZyX	kp-pav@ya.ru	Add __contains__ method

Fixes #471
ba33c327
8	0	powerline/bindings/zsh/__init__.py

--98b7ed29	2013-05-01T23:39:19+04:00	ZyX	kp-pav@ya.ru	Reset emulate call:

- only emulate -L causes options to be restore after function call
- using setopt outside of functions does not reintroduce #342
98b7ed29
3	3	powerline/bindings/zsh/powerline.zsh

--4d5d92dd	2013-05-06T15:37:44+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'zyx-i/powerline-daemon' into develop

4d5d92dd
--1527da10	2013-05-06T15:33:08+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'kovidgoyal/vcs' into develop

1527da10
--cdbe85bb	2013-05-04T09:43:17+05:30	Kovid Goyal	kovid@kovidgoyal.net	Add a debug() function to allow command line debugging of the vcs code

cdbe85bb
20	0	powerline/lib/vcs/__init__.py

--41783344	2013-05-04T08:21:28+05:30	Kovid Goyal	kovid@kovidgoyal.net	Turn off status colors by default in vim as well

41783344
1	1	powerline/segments/vim.py

--af018120	2013-05-03T10:50:57+05:30	Kovid Goyal	kovid@kovidgoyal.net	Forgot to move the import to module level

af018120
1	2	powerline/segments/common.py

--7b495aff	2013-05-03T10:34:50+05:30	Kovid Goyal	kovid@kovidgoyal.net	Fix tests failing if inotify not available

7b495aff
1	2	powerline/segments/vim.py
4	0	tests/test_segments.py

--ed65d34e	2013-05-02T09:35:13-05:00	Jacob Walker	jacob@tortugas-llc.com	Segment to Print Environment Variables

 - Added segment function to powerline.segments.common.
 - Added test to check return values.
 - Added default colorschemes for everything but iPython.

Ref #477

ed65d34e
2	1	powerline/config_files/colorschemes/shell/default.json
2	1	powerline/config_files/colorschemes/shell/solarized.json
2	1	powerline/config_files/colorschemes/tmux/default.json
2	1	powerline/config_files/colorschemes/vim/default.json
2	1	powerline/config_files/colorschemes/vim/solarized.json
2	1	powerline/config_files/colorschemes/wm/default.json
10	0	powerline/segments/common.py
9	0	tests/test_segments.py

--495f87a5	2013-05-02T16:06:52+04:00	ZyX	kp-pav@ya.ru	Remove debugging lines


495f87a5
0	2	powerline/renderers/tmux.py

--467bc535	2013-05-02T16:01:44+04:00	ZyX	kp-pav@ya.ru	Also fix bash tests


467bc535
1	1	tests/test_configuration.py

--b78a8cea	2013-05-02T15:47:05+04:00	ZyX	kp-pav@ya.ru	Fix tmux tests


b78a8cea
1	1	tests/lib/__init__.py

--26ad0682	2013-05-02T15:19:56+04:00	ZyX	kp-pav@ya.ru	Fix tmux cwd segment

Fixes #467

Still needs colors for cwd:current_folder, cwd and cwd:divider
26ad0682
8	1	powerline/bindings/bash/powerline.sh
1	1	powerline/bindings/tmux/powerline.conf
2	1	powerline/bindings/zsh/powerline.zsh
4	0	powerline/lib/__init__.py
12	0	powerline/renderers/tmux.py
1	0	powerline/shell.py
4	1	scripts/powerline

--a2020722	2013-05-01T20:19:36+04:00	ZyX	kp-pav@ya.ru	Use deepcopy in powerline.lib.config

a2020722
4	3	powerline/lib/config.py

--4c426df5	2013-05-02T14:13:43+04:00	ZyX	kp-pav@ya.ru	Move --config and --theme_option processing to finish_args


4c426df5
16	6	powerline/shell.py
3	2	scripts/powerline

--ad55daf9	2013-05-02T11:13:54+05:30	Kovid Goyal	kovid@kovidgoyal.net	Make vcs segments *much* faster

Do not call vcs status unless the relevant files have changed.
Uses inotify, if available, otherwise falls back to stat() based
monitoring. Fixes #396

ad55daf9
22	9	powerline/lib/file_watcher.py
16	5	powerline/lib/tree_watcher.py
171	1	powerline/lib/vcs/__init__.py
42	13	powerline/lib/vcs/bzr.py
72	43	powerline/lib/vcs/git.py
24	5	powerline/lib/vcs/mercurial.py
15	72	powerline/segments/common.py
23	108	powerline/segments/vim.py
77	3	tests/test_lib.py
9	15	tests/test_segments.py

--7ccab8e4	2013-04-21T21:28:50+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'zyx-i/readd-pl-argument' into develop

7ccab8e4
--6ecba94b	2013-04-21T00:38:26+04:00	ZyX	kp-pav@ya.ru	Added missing pl argument

It is a problem with git automatic merging.
6ecba94b
1	1	powerline/segment.py
1	1	powerline/theme.py

--18a05b44	2013-04-20T17:00:52+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'zyx-i/record-last_exit_code' into develop

18a05b44
--51d64b76	2013-04-20T16:58:07+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'zyx-i/improved-generate_gradients' into develop

51d64b76
--02eee6f5	2013-04-20T16:57:37+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'zyx-i/virtcol-current-gradient' into develop

Conflicts:
	tests/vim.py

02eee6f5
--badc2cf8	2013-04-20T16:56:43+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'zyx-i/doc-lint' into develop

badc2cf8
--1df447eb	2013-04-18T07:40:31+04:00	ZyX	kp-pav@ya.ru	Record last exit code before running anything

Otherwise powerline receieves value from the previous command in 
_powerline_prompt function.
1df447eb
2	1	powerline/bindings/bash/powerline.sh

--2a6a4a07	2013-04-16T07:58:24+04:00	ZyX	kp-pav@ya.ru	Replace {path} with {repository_root}

Closes #429
2a6a4a07
13	13	docs/source/overview.rst

--18579d70	2013-04-14T13:23:25+04:00	ZyX	kp-pav@ya.ru	Fix TypeError seen in older vim versions


18579d70
1	1	powerline/segments/vim.py

--bd0546d6	2013-04-13T19:28:34+04:00	ZyX	kp-pav@ya.ru	Add virtcol_current textwidth-based gradient

bd0546d6
1	0	powerline/config_files/colorschemes/vim/default.json
1	0	powerline/config_files/colorschemes/vim/solarized.json
13	5	powerline/segments/vim.py
6	2	tests/test_segments.py

--cce79fda	2013-04-13T19:28:19+04:00	ZyX	kp-pav@ya.ru	Add support for getbufvar('%') and &textwidth option to vim emulation

cce79fda
3	0	tests/vim.py

--1ffa8a47	2013-04-13T19:16:35+04:00	ZyX	kp-pav@ya.ru	Add GREEN_Orange_red gradient for solarized

1ffa8a47
4	0	powerline/config_files/colors.json

--a5210d80	2013-04-13T18:50:32+04:00	ZyX	kp-pav@ya.ru	Add dark_GREEN_Orange_red gradient

Generated with

    ./tools/generate_gradients.py 22 58 94 52 --weights '60 15 10 2'
. For use in virtcol_current.

a5210d80
4	0	powerline/config_files/colors.json

--2d036c0d	2013-04-13T19:21:11+04:00	ZyX	kp-pav@ya.ru	Fix indentation of dictionaries

2d036c0d

--b883ac6e	2013-04-13T18:51:49+04:00	ZyX	kp-pav@ya.ru	Use same modeline in scripts/* as in other files

b883ac6e
1	1	scripts/powerline
1	1	scripts/powerline-lint

--9e518ab6	2013-04-13T18:48:07+04:00	ZyX	kp-pav@ya.ru	Improve generate_gradients tool

Changes:

- Port argument parsing to argparse
- Add weights support
- Add ability to specify cterm palette
- Purge out first 16 colors from color choosing by default
- Improve different scales and different preview length support

9e518ab6
96	54	tools/generate_gradients.py

--a4c59ded	2013-04-13T15:44:08+04:00	ZyX	kp-pav@ya.ru	Make tests more verbose and catch first KeyboardInterrupt


a4c59ded
1	1	tests/test.sh

--25627363	2013-04-13T15:16:45+04:00	ZyX	kp-pav@ya.ru	Do not use second argument to itertools.count in other place


25627363
3	3	powerline/lint/inspect.py

--4449489e	2013-04-13T15:08:27+04:00	ZyX	kp-pav@ya.ru	Do not use second argument to itertools.count


4449489e
4	4	powerline/lint/inspect.py
1	0	powerline/segments/vim.py

--5e93d20f	2013-04-13T15:05:39+04:00	ZyX	kp-pav@ya.ru	Do not sort segments that are always included


5e93d20f
1	1	powerline/renderer.py

--ae691b7c	2013-04-13T14:47:39+04:00	ZyX	kp-pav@ya.ru	Improve shown errors


ae691b7c
3	1	powerline/lint/__init__.py
3	0	powerline/lint/markedjson/error.py
56	2	powerline/lint/markedjson/markedvalue.py

--fee32866	2013-04-13T14:20:54+04:00	ZyX	kp-pav@ya.ru	Improve arguments checks


fee32866
146	30	powerline/lint/__init__.py

--7e57010c	2013-04-13T00:09:00+04:00	ZyX	kp-pav@ya.ru	Move some code from powerline_autodoc to powerline.lib.inspect

To make it available later in lint checker.
7e57010c
5	55	docs/source/powerline_autodoc.py
59	0	powerline/lint/inspect.py

--4dd9c519	2013-04-12T23:38:44+04:00	ZyX	kp-pav@ya.ru	Respect segment.py highlight group handling in powerline-lint

Either `highlight_group` or `name` key is enough to determine highlight group
for non-function segments, but powerline-lint requires `highlight_group`.

4dd9c519
14	5	powerline/lint/__init__.py

--c7946cda	2013-04-09T08:38:04+04:00	ZyX	kp-pav@ya.ru	Use different default for functions

This makes it look up `powerline.segments.vim.virtualenv` in addition to
virtualenv in colorscheme like it does with `segment_data`.

c7946cda
11	1	powerline/segment.py

--a8eb0a24	2013-04-09T08:18:37+04:00	ZyX	kp-pav@ya.ru	Special-case None priority in place of -1

This extends priorities in both directions, uses slightly faster `is None`
check, makes it consistent with `interval` special-casing also to `None` and
makes lint able to use one simple `.type()` check in place of `.either()` one.

a8eb0a24
5	6	docs/source/configuration.rst
1	1	powerline/lint/__init__.py
1	1	powerline/renderer.py
1	1	powerline/segment.py

--49618fc4	2013-04-08T22:59:14+04:00	ZyX	kp-pav@ya.ru	Rename PowerlineState to PowerlineLogger

49618fc4
2	2	powerline/__init__.py
1	1	powerline/renderer.py

--587789eb	2013-04-07T19:09:03+04:00	ZyX	kp-pav@ya.ru	Fix documentation for ThreadedSegment classes with @staticmethod’s

587789eb
1	1	docs/source/powerline_autodoc.py

--9250d794	2013-04-07T14:32:20+04:00	ZyX	kp-pav@ya.ru	Remove `pl` argument and first argument to `render*` from docs

9250d794
4	2	docs/source/powerline_autodoc.py

--ac88a094	2013-04-07T14:03:45+04:00	ZyX	kp-pav@ya.ru	Add renderer docstrings.

ac88a094
114	3	powerline/renderer.py

--3ce068db	2013-04-10T20:18:03+04:00	ZyX	kp-pav@ya.ru	Make vim and ipython ext configurations optional

3ce068db
2	2	powerline/lint/__init__.py

--40973ea5	2013-04-12T23:45:42+04:00	ZyX	kp-pav@ya.ru	Alter indentation

40973ea5

--6439800d	2013-04-12T21:19:19+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge branch 'fix-quickfix-buffer-highlighting' into develop

6439800d
--d81d6f16	2013-04-12T21:19:06+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	vim: Fix missing qf buffer highlighting

d81d6f16
3	2	powerline/config_files/themes/vim/quickfix.json

--ceeef4ab	2013-04-12T20:29:16+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge branch 'fix-archlinux-packages' into develop

ceeef4ab
--79fcdc63	2013-04-12T20:29:07+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update Arch Linux optdepends and conflicts

79fcdc63
5	3	packages/archlinux/python-powerline-git/PKGBUILD
4	2	packages/archlinux/python2-powerline-git/PKGBUILD

--a1f37049	2013-04-11T11:53:05+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge branch 'feature/vim-special-windows' into develop

a1f37049
--7864acb7	2013-04-11T11:52:54+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update tests

7864acb7
1	1	tests/test_configuration.py

--8230f542	2013-04-11T11:00:21+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	vim: Add quickfix window statusline

Closes #419

8230f542
2	1	powerline/config_files/config.json
36	0	powerline/config_files/themes/vim/quickfix.json
4	0	powerline/matchers/vim.py

--739514ef	2013-04-09T10:29:56+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'zyx-i/fix-411' into develop

739514ef
--de678ed2	2013-04-09T00:37:53+04:00	ZyX	kp-pav@ya.ru	Create VimPowerline.reset_highlight proxy method

Fixes #411
de678ed2
1	1	powerline/bindings/vim/plugin/powerline.vim
11	0	powerline/vim.py

--a7daa507	2013-04-08T11:47:51+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'zyx-i/alter-priority' into develop

a7daa507
--0c7cc25a	2013-04-08T11:39:23+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'zyx-i/threaded-cpu_load_percent' into develop

0c7cc25a
--51a9bbdb	2013-04-08T11:38:04+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'zyx-i/ipython-shutdown' into develop

51a9bbdb
--e6ae8ca4	2013-04-08T11:36:44+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'zyx-i/persistent-awesome' into develop

e6ae8ca4
--c1ed1094	2013-04-08T11:31:04+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'zyx-i/more-threaded-globals' into develop

c1ed1094
--24dde27b	2013-04-08T08:59:42+04:00	ZyX	kp-pav@ya.ru	Alter the priority of branch and line_percent segments

Unlike file_type and file_directory branch cannot be deduced from the filename 
(you normally know directory structure of the project) and contents of the file.

Unlike file_format and file_encoding which are normally configured once and then 
forgotten about knowing branch segment is necessary to separate commits.

24dde27b
6	6	powerline/config_files/themes/vim/default.json

--71329cdb	2013-04-08T08:04:22+04:00	ZyX	kp-pav@ya.ru	Add gradient for cpu_load_percent

Note: no changes to colorschemes: no cpu_load_percent in colorscheme
71329cdb
9	1	powerline/segments/common.py
10	1	tests/test_segments.py

--b2cb5b1e	2013-04-08T07:49:44+04:00	ZyX	kp-pav@ya.ru	Fix gradient level in email_imap_alert segment

Closes #407
b2cb5b1e
1	1	powerline/segments/common.py

--340bdc7a	2013-04-02T19:42:16+04:00	ZyX	kp-pav@ya.ru	Add other self.pl proxies

340bdc7a
9	0	powerline/lib/threaded.py

--14b31eca	2013-04-07T19:01:54+04:00	ZyX	kp-pav@ya.ru	Make dummy cpu_load_percent also ThreadedSegment

It is the easiest way to make documentation identical when created on a system 
with and without psutil module and deduplicate docstrings
14b31eca
25	15	powerline/segments/common.py

--f3ce3705	2013-04-07T18:52:49+04:00	ZyX	kp-pav@ya.ru	Make cpu_load_percent segment threaded

interval=0.5 means that it will block for 0.5 seconds which is bad. With 
             threading it blocks only the separate thread, and it does not hold 
             GIL (uses regular time.sleep to wait) in this case which is fine.
interval=0.05 means that it will report almost random value.
interval=None means that (assuming psutil.cpu_percent is called only by this 
              segment) it will report CPU load percent measured between two 
              subsequent .cpu_load_percent calls or cpu_load_percent call and 
              module import. It is used for update method to get immediate 
              result in case update_first is True.
f3ce3705
20	6	powerline/segments/common.py

--8dcbb031	2013-04-07T13:19:20+04:00	ZyX	kp-pav@ya.ru	Make IPython renderer shutdown properly


8dcbb031
6	0	powerline/renderers/ipython.py

--66cdb362	2013-04-07T04:42:36+04:00	ZyX	kp-pav@ya.ru	Use xml.sax.saxutils.escape in place of xmlrpclib.escape

The latter is not available in python 3
66cdb362
1	1	powerline/renderers/pango_markup.py

--6f57a3dd	2013-04-07T04:30:51+04:00	ZyX	kp-pav@ya.ru	Some fixes for flake8


6f57a3dd
0	2	powerline/bindings/awesome/powerline-awesome.py

--b5070297	2013-04-07T04:19:45+04:00	ZyX	kp-pav@ya.ru	Replace shell script with python one

b5070297
1	1	packages/gentoo/app-misc/powerline/Manifest
2	2	packages/gentoo/app-misc/powerline/powerline-9999.ebuild
38	0	powerline/bindings/awesome/powerline-awesome.py
2	2	powerline/bindings/awesome/powerline.lua
0	10	powerline/bindings/awesome/powerline.sh

--3c613bc1	2013-04-07T04:18:48+04:00	ZyX	kp-pav@ya.ru	Use xmlrpclib.escape for escaping in PangoMarkupRenderer


3c613bc1
4	0	powerline/renderers/pango_markup.py

--2c533789	2013-04-07T04:16:57+04:00	ZyX	kp-pav@ya.ru	Also ignore trailing whitespaces


2c533789
1	1	.local.vimrc

--9ce63d16	2013-04-07T03:24:39+04:00	ZyX	kp-pav@ya.ru	Allow non-format messages


9ce63d16
3	1	powerline/__init__.py

--8cb1538e	2013-04-07T02:32:29+04:00	ZyX	kp-pav@ya.ru	Normalize modelines


8cb1538e
1	1	powerline/lib/file_watcher.py
1	1	powerline/lib/inotify.py
1	1	powerline/lib/tree_watcher.py

--25f19596	2013-04-06T23:14:18+04:00	ZyX	kp-pav@ya.ru	Also ignore E225 like suggested in CONTRIBUTING.rst


25f19596
1	1	.local.vimrc

--62127112	2013-04-06T21:21:52+04:00	ZyX	kp-pav@ya.ru	Add forgotten self.updated set

Ref #367

62127112
3	1	powerline/lib/threaded.py

--5b8b3599	2013-04-06T19:01:59+04:00	ZyX	kp-pav@ya.ru	Fix tests on python-2.6


5b8b3599
2	0	tests/__init__.py
1	2	tests/test_lib.py

--b1fecebd	2013-04-06T18:55:41+04:00	ZyX	kp-pav@ya.ru	Some fixes for flake8

b1fecebd
0	1	powerline/__init__.py
0	2	powerline/lib/config.py
0	1	tests/test_config_reload.py

--e68bae64	2013-04-06T18:45:57+04:00	ZyX	kp-pav@ya.ru	Add fixes for flake8 to that stuff

e68bae64
1	1	powerline/lib/file_watcher.py
7	3	powerline/lib/inotify.py
17	14	powerline/lib/tree_watcher.py
2	2	tests/test_lib.py

--42ee82c1	2013-04-06T18:48:04+04:00	ZyX	kp-pav@ya.ru	Update *watcher stuff from @kovidgoyal develop branch


42ee82c1
20	148	powerline/lib/file_watcher.py
175	0	powerline/lib/inotify.py
197	0	powerline/lib/tree_watcher.py
40	3	tests/test_lib.py

--b17dab0c	2013-04-06T18:30:33+04:00	ZyX	kp-pav@ya.ru	Handle removed files


b17dab0c
9	2	powerline/lib/config.py

--d1d05c9d	2013-04-06T18:09:45+04:00	ZyX	kp-pav@ya.ru	Add support for reloading configuration in the main thread


d1d05c9d
7	1	docs/source/configuration.rst
6	2	powerline/__init__.py
5	3	powerline/lib/config.py
1	0	powerline/lint/__init__.py
14	0	tests/test_config_reload.py

--296107d6	2013-04-06T18:07:30+04:00	ZyX	kp-pav@ya.ru	Improve lint number (interval and priority) checks


296107d6
6	4	powerline/lint/__init__.py

--88865b11	2013-04-06T16:32:38+04:00	ZyX	kp-pav@ya.ru	Defer create_renderer (and thus thread creation) until .render call

May fix problem discussed in #397

Also fix documentation for Powerline.render().

88865b11
18	8	powerline/__init__.py
1	0	powerline/vim.py
1	1	tests/test_config_reload.py

--af2f8f58	2013-04-04T22:57:14+04:00	ZyX	kp-pav@ya.ru	Replace MultiClientWatcher and Powerline threads with ConfigLoader

Also
- move file opening and parsing to ConfigLoader
- add interval configuration

af2f8f58
4	0	docs/source/configuration.rst
56	121	powerline/__init__.py
149	0	powerline/lib/config.py
2	0	powerline/lib/threaded.py
13	7	powerline/lint/__init__.py
11	8	tests/lib/config_mock.py
3	2	tests/test_config_reload.py
1	1	tests/test_segments.py

--f0e5f43d	2013-04-03T23:48:01+04:00	ZyX	kp-pav@ya.ru	Make it use existing shutdown events

Also adds check to powerline-lint that "args" dictionary does not set
shutdown_event, segment_info or pl keyword arguments, this will lead to problems

f0e5f43d
1	0	powerline/__init__.py
4	3	powerline/lib/threaded.py
8	0	powerline/lint/__init__.py
9	2	powerline/theme.py

--f4508405	2013-04-03T23:43:50+04:00	ZyX	kp-pav@ya.ru	Remove debugging function

f4508405
0	7	powerline/lib/threaded.py

--b1886628	2013-04-03T23:41:47+04:00	ZyX	kp-pav@ya.ru	Move some thread functions to a separate class

b1886628
23	13	powerline/lib/threaded.py

--5534b26b	2013-04-04T01:44:28+04:00	ZyX	kp-pav@ya.ru	Forbid querying vim from non-main threads in tests

Currently tests nothing or almost nothing.

5534b26b
1	1	tests/test_segments.py
123	35	tests/vim.py

--0a8e7c0e	2013-04-05T07:12:25+04:00	ZyX	kp-pav@ya.ru	Add a note about vim-addon-manager

0a8e7c0e
7	1	docs/source/overview.rst

--63e29429	2013-04-05T17:51:42+04:00	ZyX	kp-pav@ya.ru	Also take tests from @kovidgoyal develop branch

63e29429
51	2	tests/test_lib.py

--47eef986	2013-04-05T17:47:39+04:00	ZyX	kp-pav@ya.ru	Use different emulate call

Ref #389

47eef986
1	2	powerline/bindings/zsh/powerline.zsh

--2685f61e	2013-04-05T16:22:46+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge branch 'various-improvements' into develop

2685f61e
--5ff80ee2	2013-04-05T16:22:38+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge branch 'feature/shortened-uptime' into develop

5ff80ee2
--f1286a7b	2013-04-05T16:04:26+02:00	Kovid Goyal	kovid@kovidgoyal.net	Rename time.py to monotonic.py

This makes it possible to run modules in the lib/ directory standalone.

f1286a7b
1	1	powerline/lib/file_watcher.py
1	1	powerline/lib/memoize.py
0	0	powerline/lib/{time.py => monotonic.py}
1	1	powerline/lib/threaded.py
1	1	powerline/segments/common.py

--80be4071	2013-04-05T15:59:51+02:00	Kovid Goyal	kovid@kovidgoyal.net	Disable continuous polling of CPU count in load segment

80be4071
7	3	powerline/segments/common.py
1	1	tests/test_segments.py

--0d3559c8	2013-04-05T15:44:38+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Increase external IP polling interval to 5 minutes

0d3559c8
1	1	powerline/segments/common.py

--17065b4c	2013-04-05T15:42:56+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add timeout to thread join calls to avoid deadlocks

17065b4c
2	1	powerline/__init__.py
2	1	powerline/lib/threaded.py

--dc1e6463	2013-04-04T14:49:50+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'zyx-i/fix-391' into develop

dc1e6463
--e599691c	2013-04-03T23:19:35+04:00	ZyX	kp-pav@ya.ru	Update only if segment_info is not None


e599691c
1	0	powerline/renderer.py

--878255af	2013-04-03T23:09:40+04:00	ZyX	kp-pav@ya.ru	Make Tmux and PangoMarkup Renderers merge arguments like shell one

For PangoMarkup it is pretty useless currently (segment_info does not contain 
anything useful).

Note: this does its job by replacing default behavior.

Source of issue: previous default used either segment_info argument (containing 
{"args": args, "environ": os.environ}) or default segment_info, shell renderer 
merged default segment_info with .render() argument. Now segment_info is merged 
by default and old behavior moved to vim renderer which is the only one that is 
designed to use this.

Fixes #391
878255af
5	1	powerline/renderer.py
0	7	powerline/renderers/shell.py
3	0	powerline/renderers/vim.py

--2d9110b5	2013-04-03T14:21:32+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update tests

2d9110b5
8	1	tests/test_segments.py

--cde76692	2013-04-03T14:09:52+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add parameters to shorten uptime display

Ref #316

cde76692
18	5	powerline/segments/common.py

--05016c1f	2013-04-03T08:05:30+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'zyx-i/dividers' into develop

05016c1f
--9bd5b3ac	2013-04-03T09:11:43+04:00	ZyX	kp-pav@ya.ru	Fix problems with tests


9bd5b3ac
7	2	powerline/__init__.py

--ea1e45de	2013-04-03T08:51:44+04:00	ZyX	kp-pav@ya.ru	Fix typo

Fixes #387
ea1e45de
1	1	powerline/segments/common.py

--577a1c0c	2013-04-03T07:41:48+04:00	ZyX	kp-pav@ya.ru	Exchange if and with cr_kwargs_lock


577a1c0c
1	1	powerline/__init__.py

--2a0e6019	2013-04-03T07:38:53+04:00	ZyX	kp-pav@ya.ru	Lock create_renderer_kwargs separately from configs


2a0e6019
4	3	powerline/__init__.py

--33d32498	2013-04-03T06:33:56+04:00	ZyX	kp-pav@ya.ru	Do not use create_renderer from a separate thread

Also moves functions from tests.test_config_reload to tests.lib.config_mock

Using create_renderer for vim results in vim access from a separate thread.
33d32498
10	8	powerline/__init__.py
119	0	tests/lib/config_mock.py
35	153	tests/test_config_reload.py

--b990c920	2013-04-03T06:02:14+04:00	ZyX	kp-pav@ya.ru	Use clear_events, do not assert.


b990c920
13	8	tests/test_config_reload.py

--de47b76a	2013-04-02T19:23:12+04:00	ZyX	kp-pav@ya.ru	Add more assertAccessEvents

May fix travis build
de47b76a
8	3	tests/test_config_reload.py

--691efbfc	2013-04-02T19:06:05+04:00	ZyX	kp-pav@ya.ru	Also do the same for `last_pipe_status`


691efbfc
1	1	powerline/segments/shell.py
5	4	tests/test_segments.py

--4e5bd54f	2013-04-02T19:01:03+04:00	ZyX	kp-pav@ya.ru	Fix cwd segment, add use_path_separator option

cwd segment was not drawing inner separators because of new default for 
multisegment functions. use_path_separator was added because current variant 
looks bad for my taste.
4e5bd54f
9	2	powerline/segments/common.py
37	23	tests/test_segments.py

--fd9af061	2013-04-02T16:50:20+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'zyx-i/fix-379' into develop

fd9af061
--b47c2fae	2013-04-02T18:40:30+04:00	ZyX	kp-pav@ya.ru	Pass the correct value to _get_user

Fixes #379
b47c2fae
1	1	powerline/segments/common.py

--992e6151	2013-04-02T17:37:03+04:00	ZyX	kp-pav@ya.ru	Remove update_first set from set_state

It is already handled correctly in .render() method
992e6151
2	5	powerline/lib/threaded.py

--66beaaaa	2013-03-31T23:47:55+04:00	ZyX	kp-pav@ya.ru	Replace draw_soft_divider setting with draw_inner_divider

If weather or system_load segments were moved to the left draw_soft_divider
variant resulted in incorrect renderring. Thus it was replaced by
draw_inner_divider.

66beaaaa
6	2	docs/source/configuration.rst
2	1	powerline/lint/__init__.py
1	0	powerline/segment.py
0	3	powerline/segments/common.py
24	10	powerline/theme.py
14	14	tests/test_segments.py

--f15cdd94	2013-03-31T23:13:51+04:00	ZyX	kp-pav@ya.ru	Replace draw_divider setting with draw_(soft|hard)_divider

Previous variant was bad because
1. draw_divider only applied to soft dividers. Hard dividers were always drawn
2. But there was a hack with width=auto segments: for this segments draw_divider 
   setting applied always.

Now there are no additional dependencies: draw_*_divider applies no matter what 
other properties of the segment are.
f15cdd94
6	3	docs/source/configuration.rst
2	2	powerline/config_files/themes/ipython/in.json
2	2	powerline/config_files/themes/ipython/out.json
2	2	powerline/config_files/themes/ipython/rewrite.json
2	1	powerline/config_files/themes/vim/cmdwin.json
9	8	powerline/config_files/themes/vim/default.json
4	3	powerline/config_files/themes/vim/help.json
3	2	powerline/lint/__init__.py
3	2	powerline/renderer.py
2	1	powerline/segment.py
3	3	powerline/segments/common.py
14	14	tests/test_segments.py

--fcc009a6	2013-04-02T11:29:08+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'mspaulding06/hostname_exclude_domain' into develop

Conflicts:
	powerline/segments/common.py
	tests/test_segments.py

fcc009a6
--3d72a227	2013-04-02T11:03:55+02:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'zyx-i/autoreload-config' into develop

3d72a227
--b7c61f8b	2013-04-02T00:27:54+04:00	ZyX	kp-pav@ya.ru	Handle removed and then added files

Note: if user configuration was removed, but global configuration was not it 
will start tracking global configuration file for changes.
b7c61f8b
17	0	powerline/__init__.py
29	0	tests/test_config_reload.py

--4d1dc065	2013-04-01T00:01:51+04:00	ZyX	kp-pav@ya.ru	Remove unexistent kwargs


4d1dc065
1	1	scripts/powerline

--46b5063e	2013-03-31T15:01:06+04:00	ZyX	kp-pav@ya.ru	Remove unused import


46b5063e
0	1	powerline/segments/common.py

--d1e79000	2013-03-31T14:57:43+04:00	ZyX	kp-pav@ya.ru	Add tests for reloading theme and colorscheme


d1e79000
22	0	tests/test_config_reload.py

--54471569	2013-03-31T14:53:21+04:00	ZyX	kp-pav@ya.ru	Check whether it switches configuration fine


54471569
40	10	tests/test_config_reload.py

--8c3be65b	2013-03-31T13:37:07+04:00	ZyX	kp-pav@ya.ru	Added test for colors config reloading


8c3be65b
101	28	tests/test_config_reload.py

--e35b1541	2013-03-31T13:36:41+04:00	ZyX	kp-pav@ya.ru	Make it possible to supply different watcher

Used in tests
e35b1541
21	12	powerline/__init__.py

--3a6c0ab8	2013-03-30T15:32:29-07:00	Matt Spaulding	mspaulding06@gmail.com	Add test for hostname exclude_domain option

3a6c0ab8
10	0	tests/test_segments.py

--e03e864f	2013-03-30T15:09:01-07:00	Matt Spaulding	mspaulding06@gmail.com	Add exclude_domain option to hostname segment

Provides an option to return only the hostname if an fqdn is returned by
socket.gethostname()

e03e864f
5	1	powerline/segments/common.py

--5a50acf1	2013-03-31T00:06:49+04:00	ZyX	kp-pav@ya.ru	Add initial tests for configuration reloading

Currently only:
- Test for not reloading configuration if run_once is not True
- Test for reloading main configuration and other configurations triggered by 
  changes in main configuration file

TODO: tests for all other configuration files reloading (colors, colorscheme, 
      theme).
5a50acf1
212	0	tests/test_config_reload.py

--c6be4426	2013-03-31T00:03:35+04:00	ZyX	kp-pav@ya.ru	Fix whitespace errors


c6be4426

--c2ceac09	2013-03-31T00:02:53+04:00	ZyX	kp-pav@ya.ru	Add replace_item with function, remove os import


c2ceac09
4	1	tests/lib/__init__.py

--26412c3a	2013-03-30T23:57:21+04:00	ZyX	kp-pav@ya.ru	Add watching interval customization, some fixes

Custom interval (zero) will be used in tests.
Fixes:
- wrong check for subscribers receiving all events
- missing prev_ext_config setting that meant theme and colorscheme always
  reloaded if main configuration was reloaded

26412c3a
10	4	powerline/__init__.py

--3ebc16a4	2013-03-30T21:55:00+04:00	ZyX	kp-pav@ya.ru	Replace pl.environ/getcwd/home with segment_info


3ebc16a4
3	20	powerline/__init__.py
9	3	powerline/bindings/zsh/__init__.py
18	2	powerline/renderer.py
5	0	powerline/renderers/ipython.py
7	0	powerline/renderers/shell.py
7	1	powerline/renderers/vim.py
20	13	powerline/segments/common.py
1	1	powerline/segments/ipython.py
5	4	powerline/segments/shell.py
5	4	scripts/powerline
5	15	tests/lib/__init__.py
4	4	tests/test_configuration.py
62	38	tests/test_segments.py

--85421681	2013-03-30T21:52:05+04:00	ZyX	kp-pav@ya.ru	Change spaces in vim renderer


85421681

--30617385	2013-03-30T21:51:30+04:00	ZyX	kp-pav@ya.ru	Collect all renderer options into one dictionary


30617385
16	19	powerline/__init__.py

--452e7780	2013-03-30T21:50:11+04:00	ZyX	kp-pav@ya.ru	Add extension to prefix when logging


452e7780
6	4	powerline/__init__.py

--90c8020e	2013-03-30T18:12:55+04:00	ZyX	kp-pav@ya.ru	Use monotonic clock, not time.time


90c8020e
6	5	powerline/lib/file_watcher.py

--a31d6f00	2013-03-30T16:58:18+04:00	ZyX	kp-pav@ya.ru	Rename update_state to branch in powerline.segments.vim.BranchSegment


a31d6f00
3	3	powerline/segments/vim.py

--388cccb3	2013-03-30T16:57:04+04:00	ZyX	kp-pav@ya.ru	Add write_lock to KwThreadedSegment

Otherwise it is not safe to use. ThreadedSegment does not need write locks.

New variant spends much less time locked in both threads
388cccb3
9	1	powerline/lib/threaded.py

--e2b13d9b	2013-03-30T16:54:43+04:00	ZyX	kp-pav@ya.ru	Also catch keyboard interrupts while updating

This will skip segments and issue a warning to log.
e2b13d9b
9	2	powerline/lib/threaded.py

--bc1a3e4c	2013-03-30T16:53:04+04:00	ZyX	kp-pav@ya.ru	Allow overriding renderer module with any module

Will be used in tests. Allows renderer modules (and extensions) that look like 
`foo.bar`: it will import `foo.bar` and not `powerline.renderers.foo.bar` like 
before.
bc1a3e4c
11	2	powerline/__init__.py

--34c775f6	2013-03-30T16:51:04+04:00	ZyX	kp-pav@ya.ru	Fix problem with updating value: it was not updated in a thread


34c775f6
1	1	powerline/lib/threaded.py

--65554944	2013-03-30T15:54:33+04:00	ZyX	kp-pav@ya.ru	Use daemon threads by default

Note: current implementation runs `thread.join()` to ensure that thread is not 
shut down while updating, but this works only with regular shutdown. If shutdown 
is somehow done without triggering VimLeavePre (for vim) threads can be 
terminated at any state.

Closes #368
Closes #371
65554944
1	1	powerline/__init__.py

--29f29213	2013-03-30T14:07:24+04:00	ZyX	kp-pav@ya.ru	Remove ThreadedSegment.write_lock

Assuming getattr(self, 'update_value') and setattr(self, 'update_value', value) 
are atomic. True with cpython unless somebody defined __getattribute__ or 
__setattr__.
29f29213
1	1	powerline/bindings/vim/plugin/powerline.vim
27	30	powerline/lib/threaded.py
23	24	powerline/segments/common.py
2	2	powerline/segments/vim.py
1	0	tests/lib/__init__.py

--ff6fd643	2013-03-30T13:56:03+04:00	ZyX	kp-pav@ya.ru	Only access watcher through proxy

This is a fix for powerline-daemon: otherwise the first powerline object that 
did `watcher(file)` will receive file changed event and other powerline objects 
will not.
ff6fd643
32	4	powerline/__init__.py

--38081239	2013-03-26T21:31:05+04:00	ZyX	kp-pav@ya.ru	Remove self.sleep call


38081239
2	1	powerline/segments/common.py

--ee23c57d	2013-03-26T18:37:29+04:00	ZyX	kp-pav@ya.ru	Purge configs in another place

Loading main configuration does not necessary imply loading other configurations
ee23c57d
22	16	powerline/__init__.py

--e5db0119	2013-03-26T08:20:32+04:00	ZyX	kp-pav@ya.ru	Add missing PowerlineState.use_daemon_threads assignment


e5db0119
2	1	powerline/__init__.py

--878b808e	2013-03-26T08:12:35+04:00	ZyX	kp-pav@ya.ru	Workaround deadlock in ipython

shutdown_hook is called after all non-daemon threads exit, but it is needed for 
them to exit. Thus I had to use daemon threads in ipython or find some hack to 
make .shutdown be called earlier.
878b808e
10	2	powerline/__init__.py
1	1	powerline/ipython.py
5	0	powerline/lib/threaded.py

--27c9a057	2013-03-25T19:04:18+04:00	ZyX	kp-pav@ya.ru	Change indentation of closing }, ], ) and combinations of them


27c9a057

--ada5dede	2013-03-25T18:45:43+04:00	ZyX	kp-pav@ya.ru	Fix network_load test

It was using old network_load.sleep and also was not shutting down network_load 
in case it failed test
ada5dede
3	1	tests/test_segments.py

--3f53aa29	2013-03-25T18:43:29+04:00	ZyX	kp-pav@ya.ru	Use global watcher


3f53aa29
10	3	powerline/__init__.py

--fc6636cf	2013-03-25T18:41:38+04:00	ZyX	kp-pav@ya.ru	Clear Powerline.configs when loading main configuration

It should eventually clear out stale watches.
fc6636cf
7	0	powerline/__init__.py

--7646c949	2013-03-25T08:59:37+04:00	ZyX	kp-pav@ya.ru	Automatically reload configuration

Needs testing
7646c949
65	10	powerline/__init__.py
8	13	powerline/lib/threaded.py
3	11	powerline/lint/__init__.py
8	24	tests/test_configuration.py

--5d1089f2	2013-03-25T08:10:42+04:00	ZyX	kp-pav@ya.ru	Some fixes for flake8, remove executable bit and shebang


5d1089f2
8	4	powerline/lib/file_watcher.py

--559b5cae	2013-03-25T08:01:53+04:00	ZyX	kp-pav@ya.ru	Take file_watcher from @kovidgoyal develop branch


559b5cae
303	0	powerline/lib/file_watcher.py

--80ddbfbf	2013-03-25T00:11:58+04:00	ZyX	kp-pav@ya.ru	Split Powerline.__init__ into __init__ and create_renderer

Target: with long-living Powerline objects periodically reload configuration 
recreating renderer. Use file watchers to watch for configuration. Configuration 
should be able to be safely reloaded in non-blocking mode in a separate thread 
up to the time when it comes to recreating renderer.

This commit does not add anything that actually reloads the configuration, 
multiple runs of .create_renderer were not tested.
80ddbfbf
121	46	powerline/__init__.py
2	2	powerline/bindings/ipython/post_0_11.py
3	3	powerline/bindings/ipython/pre_0_11.py
1	1	powerline/bindings/qtile/widget.py
2	2	powerline/bindings/vim/plugin/powerline.vim
3	3	powerline/bindings/zsh/__init__.py
1	1	scripts/powerline
11	11	tests/test_configuration.py

--bc7c5b78	2013-03-25T13:55:31+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge branch 'update-docs' into develop

TODO:

* Add info about code layout, debugging tips, etc.
* Add "developing powerline" section to docs (not contributing document)

Ref #287

bc7c5b78
--40436c54	2013-03-25T13:49:50+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'zyx-i/no-update_lock' into develop

40436c54
--491b48fd	2013-03-25T08:03:44+00:00	kierun	githhub@kierun.org	Added terminus font and urxvt documentation.

How to use terminus and urxvt and still get the powerline glyphs .
491b48fd
12	0	docs/source/tipstricks.rst

--92652ca5	2013-03-25T00:10:54+04:00	ZyX	kp-pav@ya.ru	Some fixes for flake8


92652ca5
0	1	powerline/lib/threaded.py

--8c63d208	2013-03-24T22:39:31+04:00	ZyX	kp-pav@ya.ru	Fix update_first


8c63d208
7	3	powerline/lib/threaded.py

--3aab9ef9	2013-03-24T21:40:11+04:00	ZyX	kp-pav@ya.ru	Make zsh/zpython also call .shutdown correctly


3aab9ef9
18	3	powerline/bindings/zsh/__init__.py

--3809b8b3	2013-03-24T21:38:08+04:00	ZyX	kp-pav@ya.ru	Allow multiple shutdowns with multiple starts


3809b8b3
1	1	powerline/lib/threaded.py

--00271c2a	2013-03-24T21:30:17+04:00	ZyX	kp-pav@ya.ru	Shut down network_load segment in tests


00271c2a
1	0	tests/test_segments.py

--80e55b0c	2013-03-24T21:25:55+04:00	ZyX	kp-pav@ya.ru	Replace update_lock with shutdon_event


80e55b0c
6	19	powerline/lib/threaded.py

--07c2ea11	2013-03-24T19:07:44+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'zyx-i/fix-361' into develop

07c2ea11
--b6143cf4	2013-03-24T21:04:09+04:00	ZyX	kp-pav@ya.ru	Readd log_ prefix and expand log_file


b6143cf4
3	2	powerline/__init__.py

--d27c7202	2013-03-24T20:36:28+04:00	ZyX	kp-pav@ya.ru	Fix race condition, don’t rely on detect feature

detect feature is to be tested though
d27c7202
14	10	tests/test_segments.py

--7764bcc6	2013-03-24T20:21:21+04:00	ZyX	kp-pav@ya.ru	Fix logging format

Fixes #361
7764bcc6
1	1	powerline/__init__.py

--68e29a7e	2013-03-24T17:11:29+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'zyx-i/pl-argument' into develop

68e29a7e
--6c495374	2013-03-24T20:03:09+04:00	ZyX	kp-pav@ya.ru	Fix exec call for non-python-2.7


6c495374
2	3	tests/lib/__init__.py

--13512074	2013-03-24T19:59:56+04:00	ZyX	kp-pav@ya.ru	Some fixes for flake8


13512074
2	2	docs/source/powerline_autodoc.py
1	0	powerline/__init__.py
1	1	powerline/bindings/ipython/pre_0_11.py
1	1	powerline/lint/markedjson/scanner.py
1	1	powerline/renderers/vim.py
2	2	powerline/segments/common.py
0	1	tests/lib/__init__.py
1	1	tools/generate_gradients.py

--5cebad94	2013-03-24T16:52:44+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'zyx-i/pl-argument' into develop

5cebad94
--14d957bd	2013-03-24T19:35:12+04:00	ZyX	kp-pav@ya.ru	Skip crashed segments

14d957bd
14	0	powerline/lib/threaded.py

--ca2f0cc8	2013-03-24T18:45:20+04:00	ZyX	kp-pav@ya.ru	Do not wait for update lock, exit

ca2f0cc8
12	4	powerline/lib/threaded.py

--63a50ad2	2013-03-23T23:44:00+04:00	ZyX	kp-pav@ya.ru	Remove run_once from ShellPowerline, fix update_first

run_once will be passed to Powerline as a part of **kwargs

63a50ad2
0	1	powerline/lib/threaded.py
2	2	powerline/shell.py

--7370876c	2013-03-23T19:03:43+04:00	ZyX	kp-pav@ya.ru	Make scripts/powerline use os.environ['PWD'] for .getcwd() if present

Closes #330

7370876c
4	1	scripts/powerline

--8a51d993	2013-03-23T18:55:43+04:00	ZyX	kp-pav@ya.ru	Some fixes for zsh, remove some exceptions handling

Those exceptions are now handled and logged at top level, thus no need to handle
them in segment.

Ref #330, it is now fixed for zsh/zpython

Note: do not use zsh/zpython + python3, it does not work properly, even though
this changeset contains fixes for it as well

Fixes #360

8a51d993
19	5	powerline/bindings/zsh/__init__.py
1	1	powerline/lib/threaded.py
6	19	powerline/segments/common.py
2	2	powerline/shell.py
2	3	tests/test_segments.py

--ed435f80	2013-03-23T17:51:02+04:00	ZyX	kp-pav@ya.ru	Add required pl argument to segments

Fixes #340
Ref #330

ed435f80
11	0	docs/source/configuration.rst
92	2	powerline/__init__.py
19	2	powerline/bindings/zsh/__init__.py
35	25	powerline/lib/threaded.py
13	4	powerline/lint/__init__.py
3	1	powerline/renderer.py
1	6	powerline/renderers/vim.py
1	0	powerline/segment.py
57	44	powerline/segments/common.py
1	1	powerline/segments/ipython.py
2	2	powerline/segments/shell.py
20	18	powerline/segments/vim.py
0	3	powerline/shell.py
18	6	powerline/theme.py
47	17	tests/lib/__init__.py
3	3	tests/test_configuration.py
175	152	tests/test_segments.py

--cc1c9826	2013-03-22T20:47:11+04:00	ZyX	kp-pav@ya.ru	Move configuration to /etc/xdg/powerline

XDG_CONFIG_DIRS is set in /etc/env.d by configuration from xdg-utils package, 
but it is not guaranteed to be present in the system
cc1c9826
1	1	packages/gentoo/app-misc/powerline/Manifest
4	0	packages/gentoo/app-misc/powerline/powerline-9999.ebuild
4	1	powerline/__init__.py

--e151b600	2013-03-22T16:50:06+04:00	ZyX	kp-pav@ya.ru	Use python’s try/catch, not vim’s

Fixes #344
e151b600
8	9	powerline/bindings/vim/plugin/powerline.vim

--127a600e	2013-03-22T16:49:00+04:00	ZyX	kp-pav@ya.ru	Rework API for custom vim events


127a600e
9	10	powerline/bindings/vim/plugin/powerline.vim
19	21	powerline/segments/vim.py

--a0219164	2013-03-20T18:33:55+04:00	ZyX	kp-pav@ya.ru	Make update_first configurable


a0219164
5	1	docs/source/powerline_autodoc.py
10	8	powerline/lib/threaded.py

--e6dd40bf	2013-03-20T08:58:25+04:00	ZyX	kp-pav@ya.ru	Fix behavior with run_once: .update() was called too much times


e6dd40bf
5	3	powerline/lib/threaded.py

--a65a27e6	2013-03-20T00:21:22+04:00	ZyX	kp-pav@ya.ru	Allow multiple starts by not subclassing from Thread


a65a27e6
10	1	powerline/lib/threaded.py

--0c9337bd	2013-03-20T00:05:24+04:00	ZyX	kp-pav@ya.ru	Allow multiple shutdown calls


0c9337bd
1	0	powerline/lib/threaded.py

--840ac010	2013-03-20T00:04:30+04:00	ZyX	kp-pav@ya.ru	Port common.branch segment to KwThreaded*, add common.repository_status


840ac010
70	11	powerline/segments/common.py
4	3	tests/test_segments.py

--5caeac26	2013-03-24T16:18:44+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'zyx-i/fix-356' into develop

5caeac26
--154fe123	2013-03-24T16:18:26+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'zyx-i/ipython-other' into develop

154fe123
--7a096f6c	2013-03-24T16:18:07+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'zyx-i/colors' into develop

7a096f6c
--33592145	2013-03-24T05:56:55+04:00	ZyX	kp-pav@ya.ru	Also fix VimRenderer.strwidth

Fixes #356
33592145
6	0	powerline/renderers/vim.py

--87e39d0b	2013-03-24T05:51:41+04:00	ZyX	kp-pav@ya.ru	Autodetect python version


87e39d0b
2	1	powerline/bindings/vim/plugin/powerline.vim

--b517df77	2013-03-24T05:45:52+04:00	ZyX	kp-pav@ya.ru	Fix bytes handling on python3

Fixes #356
b517df77
14	1	powerline/bindings/vim/__init__.py
1	1	powerline/matchers/vim.py
1	3	powerline/renderers/vim.py
2	2	powerline/segments/vim.py
25	0	tests/vim.py

--c4e5ff8b	2013-03-24T05:22:07+04:00	ZyX	kp-pav@ya.ru	Added support for all powerline prompts (in2, out, rewrite)

Also fixed problem with prompt not really updating.

Fixes #141

c4e5ff8b
15	7	powerline/bindings/ipython/post_0_11.py
97	12	powerline/bindings/ipython/pre_0_11.py
2	1	powerline/config_files/colorschemes/ipython/default.json
6	1	powerline/config_files/config.json
0	16	powerline/config_files/themes/ipython/default.json
26	0	powerline/config_files/themes/ipython/in.json
13	0	powerline/config_files/themes/ipython/in2.json
25	0	powerline/config_files/themes/ipython/out.json
23	0	powerline/config_files/themes/ipython/rewrite.json
3	0	powerline/ipython.py
9	0	powerline/lint/__init__.py
12	0	powerline/renderers/ipython.py
4	2	powerline/renderers/vim.py
7	0	powerline/segments/ipython.py
4	2	tests/test_configuration.py

--bb062078	2013-03-24T05:17:19+04:00	ZyX	kp-pav@ya.ru	Some lint fixes

* Fixed handling of empty scalars in python2: ''.join([]) returns str,
  ''.join([u'smth']) returns unicode
* Fixed check_config: it was always checking for themes, even if it was
  requested to check colorscheme

bb062078
3	3	powerline/lint/__init__.py
7	1	powerline/lint/markedjson/scanner.py

--83ed3690	2013-03-24T04:15:26+04:00	ZyX	kp-pav@ya.ru	Fix bold attr that may leak into next segment

83ed3690
1	1	powerline/renderers/shell.py

--b1f9edab	2013-03-24T04:09:39+04:00	ZyX	kp-pav@ya.ru	Remove get_segment_info and passing segment_info through globals

b1f9edab
0	12	powerline/__init__.py
1	4	powerline/renderer.py
3	4	powerline/theme.py
2	1	scripts/powerline
10	8	tests/test_configuration.py

--004e6a8b	2013-03-24T01:43:37+04:00	ZyX	kp-pav@ya.ru	Add gradient to email_imap_alert segment

Colors probably need to be revised

Fixes #301
004e6a8b
1	0	powerline/config_files/colorschemes/tmux/default.json
1	0	powerline/config_files/colorschemes/wm/default.json
16	1	powerline/segments/common.py

--83517f65	2013-03-24T01:42:50+04:00	ZyX	kp-pav@ya.ru	Make test.sh always check only powerline/config_files directory


83517f65
1	1	tests/test.sh

--25806fa0	2013-03-24T01:33:56+04:00	ZyX	kp-pav@ya.ru	Added gradient for network_load segment


25806fa0
1	0	powerline/config_files/colorschemes/tmux/default.json
36	9	powerline/segments/common.py
22	7	tests/test_segments.py

--37b684dc	2013-03-24T01:19:58+04:00	ZyX	kp-pav@ya.ru	Fix checks for gradient groups (it was not forcing gradient colors)


37b684dc
3	3	powerline/lint/__init__.py

--157b849d	2013-03-24T00:55:54+04:00	ZyX	kp-pav@ya.ru	Make weather gradient configurable, add system_load gradient

Also make gradients floating-point and fix #332 by removing “normalized” from 
system_load segment documentation.
157b849d
1	3	powerline/config_files/colorschemes/tmux/default.json
1	0	powerline/config_files/colorschemes/vim/solarized.json
30	15	powerline/segments/common.py
3	3	powerline/segments/vim.py
1	1	tests/lib/__init__.py
24	16	tests/test_segments.py
2	1	tools/generate_gradients.py

--49b54353	2013-03-21T17:25:35+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge branch 'feature/autodetect-network-interfaces' into develop

49b54353
--b9519079	2013-03-21T17:24:09+01:00	Kovid Goyal	kovid@kovidgoyal.net	Autodetect network interfaces to monitor

b9519079
5	2	powerline/lib/threaded.py
43	2	powerline/segments/common.py

--4d8a0d50	2013-03-21T17:11:18+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'zyx-i/fix-342' into develop

4d8a0d50
--0610316e	2013-03-21T07:52:54+04:00	ZyX	kp-pav@ya.ru	Make prompt* sets non-local

Fixes #342
0610316e
1	0	powerline/bindings/zsh/powerline.zsh

--c92dfae5	2013-03-19T08:20:40+04:00	ZyX	kp-pav@ya.ru	Made tools/*.py executable


c92dfae5
1	0	tools/colors_find.py
1	0	tools/generate_gradients.py

--910dc3e6	2013-03-19T08:20:04+04:00	ZyX	kp-pav@ya.ru	Made tools/generate_gradients.py work in python3


910dc3e6
6	1	tools/generate_gradients.py

--da864789	2013-03-19T08:17:11+04:00	ZyX	kp-pav@ya.ru	Make generate_gradients tool be able to show custom scale


da864789
26	7	tools/generate_gradients.py

--11aa74c6	2013-03-19T08:11:53+04:00	ZyX	kp-pav@ya.ru	Make it use gradient for weather temperature

Ref #301
11aa74c6
4	0	powerline/config_files/colors.json
1	2	powerline/config_files/colorschemes/tmux/default.json
1	2	powerline/config_files/colorschemes/wm/default.json
9	2	powerline/segments/common.py
6	6	tests/test_segments.py

--3e4a98b1	2013-03-14T07:40:39+04:00	ZyX	kp-pav@ya.ru	Make green_yellow_orange_red grad use <16 colors, added 2 more grads

They are currently unused
3e4a98b1
9	1	powerline/config_files/colors.json

--1a4eeadb	2013-03-14T00:31:00+04:00	ZyX	kp-pav@ya.ru	Added green_yellow_orange_red gradient for line % in solarized

Ref #301
1a4eeadb
4	0	powerline/config_files/colors.json
1	0	powerline/config_files/colorschemes/vim/solarized.json
1	1	powerline/segments/vim.py

--83d855d3	2013-03-19T10:52:31+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'zyx-i/threaded-misc' into develop

83d855d3
--260a0daf	2013-03-19T00:42:32+04:00	ZyX	kp-pav@ya.ru	Add tests for the constantly recreated *Powerline instances


260a0daf
29	6	tests/test_configuration.py

--1dc039a3	2013-03-19T00:29:41+04:00	ZyX	kp-pav@ya.ru	Some small changes in .segments.vim


1dc039a3
3	2	powerline/segments/vim.py

--fd6c1f1e	2013-03-18T22:13:20+05:30	Kovid Goyal	kovid@kovidgoyal.net	Avoid divisin by zero exception in the network load segment

fd6c1f1e
1	1	powerline/segments/common.py

--4551bd28	2013-03-19T00:18:51+04:00	ZyX	kp-pav@ya.ru	threaded: Add .update_first, leave .queries as-is unless key’s missing

Fixes #335
Closes #336

4551bd28
21	14	powerline/lib/threaded.py
2	2	powerline/segments/common.py

--ca723aaf	2013-03-18T23:58:06+04:00	ZyX	kp-pav@ya.ru	Skip external_ip segment if self.ip is not defined

Ref #335
ca723aaf
2	0	powerline/segments/common.py

--137ae5f9	2013-03-18T23:55:14+04:00	ZyX	kp-pav@ya.ru	Change hook type

It makes sense to run _powerline_tmux_set_pwd only when working directory is 
changed.
137ae5f9
4	2	powerline/bindings/zsh/powerline.zsh

--e49d129c	2013-03-18T08:29:05+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge branch 'fix-bzr-shelves' into develop

e49d129c
--c92aaef0	2013-03-17T00:42:46+05:30	Kovid Goyal	kovid@kovidgoyal.net	bzr segment: Handle repos with shelves correctly

Return None instead of a string with spaces for a clean repo with
shelves.

c92aaef0
2	1	powerline/lib/vcs/bzr.py

--f0f1f3f8	2013-03-18T08:24:54+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'zyx-i/threaded' into develop

f0f1f3f8
--bb63722f	2013-03-18T08:15:02+04:00	ZyX	kp-pav@ya.ru	Also call .shutdown() in ipython


bb63722f
7	0	powerline/bindings/ipython/post_0_11.py
8	0	powerline/bindings/ipython/pre_0_11.py

--b0495d02	2013-03-18T07:56:25+04:00	ZyX	kp-pav@ya.ru	Do not let daemon threads be stopped while being updated


b0495d02
1	0	powerline/lib/threaded.py
3	0	powerline/renderer.py
2	2	powerline/shell.py
1	1	scripts/powerline
8	5	tests/test_configuration.py

--674a211c	2013-03-17T22:26:57+04:00	ZyX	kp-pav@ya.ru	Remove escape sequences from default strings in documentation

Note: to properly view some values in browser you need the browser to use 
patched font or fontconfig. Though there is not much difference between some 
cryptic escape sequence and singe wrongly displayed character.
674a211c
13	1	docs/source/powerline_autodoc.py

--60cc0196	2013-03-17T21:15:42+04:00	ZyX	kp-pav@ya.ru	Remove @ from documentation which was present for unknown reason

60cc0196
1	1	powerline/segments/common.py

--34fba228	2013-03-17T21:06:56+04:00	ZyX	kp-pav@ya.ru	Fix documentation for wrapped functions

34fba228
19	9	docs/source/powerline_autodoc.py
9	1	powerline/lib/__init__.py
1	1	powerline/segments/common.py
1	1	powerline/segments/vim.py
3	3	powerline/theme.py

--19b45e60	2013-03-17T20:20:21+04:00	ZyX	kp-pav@ya.ru	Fix documentation for threaded segments

19b45e60
3	2	docs/source/conf.py
56	0	docs/source/powerline_autodoc.py
5	0	powerline/lib/threaded.py
73	77	powerline/segments/common.py
20	33	powerline/segments/vim.py

--ce65470a	2013-03-17T18:59:44+04:00	ZyX	kp-pav@ya.ru	Fix shorten_cwd handling

ce65470a
1	1	powerline/segments/vim.py

--fb2e9b6c	2013-03-17T18:46:59+04:00	ZyX	kp-pav@ya.ru	Test all other segments

Still uncovered: email_imap_alert and now_playing

fb2e9b6c
1	1	tests/lib/__init__.py
88	12	tests/test_segments.py

--ceabd372	2013-03-17T15:30:47+04:00	ZyX	kp-pav@ya.ru	Add temperature_format keyword argument to weather segment

ceabd372
22	8	powerline/segments/common.py

--a1b0b623	2013-03-17T15:11:26+04:00	ZyX	kp-pav@ya.ru	Add format keyword argument to network_load segment

a1b0b623
5	3	powerline/segments/common.py

--f9e9b2cd	2013-03-17T14:52:02+04:00	ZyX	kp-pav@ya.ru	Change uptime format, make it accept seconds if needed

It is uncommon to use integers like 00 or 01 for days.

f9e9b2cd
6	3	powerline/segments/common.py

--050a34bc	2013-03-17T14:01:10+04:00	ZyX	kp-pav@ya.ru	Avoid ResourceWarning messages: close stdout

050a34bc
1	0	powerline/lib/vcs/git.py

--84dfac6f	2013-03-17T13:55:31+04:00	ZyX	kp-pav@ya.ru	Avoid using python setup.py test

Closes #295

84dfac6f
0	7	tests/test.sh

--f547e8b8	2013-03-14T22:38:40+04:00	ZyX	kp-pav@ya.ru	Some fixes for flake8

f547e8b8
2	1	powerline/__init__.py
1	1	powerline/lib/url.py
6	28	powerline/segments/common.py
1	1	powerline/segments/vim.py
1	1	tests/test_segments.py

--62e73131	2013-03-13T22:38:56+04:00	ZyX	kp-pav@ya.ru	Replace memoize with threading where applicable

NOTE: Documentation now gets attached to *classes*, not actual segments. Hiding
      away classes (by changing their names to start with `_`) and/or doing

          self.__doc__ = self.__class__.__doc__

      does not work (hiding classes only hides documentation completely). I am
      not familiar with sphinx enough to say how this should be fixed.

Ref #168

62e73131
3	8	powerline/lib/memoize.py
125	0	powerline/lib/threaded.py
103	0	powerline/lib/time.py
1	1	powerline/lib/url.py
0	2	powerline/lib/vcs/__init__.py
117	37	powerline/segments/common.py
101	21	powerline/segments/vim.py
3	2	tests/test_segments.py

--a4adc922	2013-03-17T20:51:28+04:00	ZyX	kp-pav@ya.ru	Do not import memoize, humanize_bytes and urllib_* in powerline.lib

a4adc922
0	4	powerline/lib/__init__.py
3	1	powerline/segments/common.py
3	1	powerline/segments/vim.py
2	1	tests/test_lib.py

--29eccf40	2013-03-17T13:00:01+04:00	ZyX	kp-pav@ya.ru	Use psutil module for `user` segment

29eccf40
99	46	powerline/segments/common.py
1	0	tests/install.sh
1	1	tests/test.sh
3	2	tests/test_segments.py

--93e41bf2	2013-03-14T22:37:26+04:00	ZyX	kp-pav@ya.ru	Make psutil.BOOT_TIME fallback for /proc/uptime

Method used with psutil.BOOT_TIME is subject to changes when clock_settime
changes time, /proc/uptime is not.

93e41bf2
38	27	powerline/segments/common.py

--f8db46b4	2013-03-13T17:08:22+04:00	ZyX	kp-pav@ya.ru	Use proper clock if possible

f8db46b4
11	3	powerline/lib/memoize.py

--abe0b1a6	2013-03-13T19:51:33+04:00	ZyX	kp-pav@ya.ru	Add support for .startup and .shutdown methods

abe0b1a6
2	1	powerline/__init__.py
1	0	powerline/bindings/vim/plugin/powerline.vim
6	0	powerline/renderers/vim.py
2	0	powerline/segment.py
1	1	powerline/shell.py
13	1	powerline/theme.py

--c237e669	2013-03-13T19:49:53+04:00	ZyX	kp-pav@ya.ru	Make file_size segment output buffer size

c237e669
1	1	powerline/lib/vcs/__init__.py
7	11	powerline/segments/vim.py
1	1	tests/test_segments.py
15	0	tests/vim.py

--6f679e08	2013-03-13T21:15:39+04:00	ZyX	kp-pav@ya.ru	Refactor powerline.lib.url

6f679e08
9	19	powerline/lib/url.py

--df19981f	2013-03-15T08:23:22+04:00	ZyX	kp-pav@ya.ru	Add tools/generate_gradients.py and tools/colors_find.py

First helps in generating gradients. Usage:

    python tools/generate_gradients.py '[color1, …]' itemnum[ "show"]
where color is either [100, 127, 46] (cterm colors) or ["ff00ff", "feffef"] (RGB
colors)

Second is to determine what name will be better suitable for some RGB color

df19981f
646	0	tools/colors.map
38	0	tools/colors_find.py
105	0	tools/generate_gradients.py

--137a415a	2013-03-15T08:19:59+04:00	ZyX	kp-pav@ya.ru	Add .local.vimrc with configuration for the lint checker

Ref #314

137a415a
2	0	.local.vimrc

--d966921f	2013-03-15T15:20:19+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Remove contibuting info from docs

d966921f
0	22	docs/source/license-credits.rst

--edfc090d	2013-03-15T15:20:00+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add initial CONTRIBUTING document

Based on
https://github.com/puppetlabs/puppet/blob/master/CONTRIBUTING.md

Ref #287

edfc090d
77	0	CONTRIBUTING.rst

--c4e618e1	2013-03-15T14:35:08+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update authors and contributors list

c4e618e1
10	4	docs/source/license-credits.rst

--2c25a71f	2013-03-15T14:19:43+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge branch 'fix-solarized-visual-block-color' into develop

2c25a71f
--f141574d	2013-03-15T10:45:59+11:00	Ali B	dmondark@gmail.com	Make vim Visual Block mode orange in Solarized colourscheme.

This makes it consistent with the styles of the other visual modes.
Reference issue #147.

f141574d
5	0	powerline/config_files/colorschemes/vim/solarized.json

--8cdd12a8	2013-03-15T14:18:03+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'zyx-i/326-fix-None-handling' into develop

8cdd12a8
--9f5793c4	2013-03-15T14:17:40+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge branch '324-fix-bzr-branch-name' into develop

9f5793c4
--dda500a6	2013-03-14T20:25:55+05:30	Kovid Goyal	kovid@kovidgoyal.net	Only use locally stored bzr branch nickname

Fixes #324 (slow vcs branch segment with bzr checkout)

dda500a6
1	1	powerline/lib/vcs/bzr.py

--747c75c1	2013-03-15T14:15:26+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'zyx-i/fix-322' into develop

747c75c1
--5e71f58b	2013-03-15T14:14:20+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge branch 'fix-urllib_read' into develop

5e71f58b
--24097293	2013-03-15T08:31:47+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Catch all urllib errors in urrlib_read()

24097293
1	1	powerline/lib/url.py

--48470221	2013-03-14T20:02:02+04:00	ZyX	kp-pav@ya.ru	Make git.Repository.status() also return None

Fixes #326

48470221
3	2	powerline/lib/vcs/git.py
1	1	powerline/segments/common.py
1	1	powerline/segments/vim.py
2	1	tests/test_lib.py
1	1	tests/test_segments.py

--d015d517	2013-03-13T14:10:00+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge branch '320-fix-pkgbuilds' into develop

d015d517
--b1b0f242	2013-03-13T14:09:26+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Install fonts to OTF instead of TTF in PKGBUILDs

Fixes #320

b1b0f242
3	3	packages/archlinux/python-powerline-git/PKGBUILD
3	3	packages/archlinux/python2-powerline-git/PKGBUILD

--8861c714	2013-03-13T13:55:42+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'zyx-i/branch-colors' into develop

8861c714
--e24703db	2013-03-13T14:44:35+04:00	ZyX	kp-pav@ya.ru	Add status_colors argument to branch segments

Closes #206

e24703db
2	0	powerline/config_files/colorschemes/shell/default.json
2	0	powerline/config_files/colorschemes/shell/solarized.json
2	0	powerline/config_files/colorschemes/vim/default.json
2	0	powerline/config_files/colorschemes/vim/solarized.json
16	3	powerline/segments/common.py
8	2	powerline/segments/vim.py
8	2	tests/test_segments.py

--d8c64c5e	2013-03-13T07:33:47+04:00	ZyX	kp-pav@ya.ru	Fix keyword argument name


d8c64c5e
2	2	powerline/lint/__init__.py

--271cfe06	2013-03-13T00:58:27+04:00	ZyX	kp-pav@ya.ru	Add parameter to disable current and user directories shortening

Fixes #322
271cfe06
9	2	powerline/segments/vim.py

--0a5a09db	2013-03-12T13:12:28+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge branch '307-fix-ambiwidth' into develop

0a5a09db
--1960e832	2013-03-11T21:27:28+04:00	ZyX	kp-pav@ya.ru	Remove useless import

1960e832
1	1	powerline/renderer.py

--6f3703e3	2013-03-10T13:08:01+04:00	ZyX	kp-pav@ya.ru	Improve ambiwidth handling, readd additional_escapes

Fixes #307

6f3703e3
19	0	docs/source/configuration.rst
2	1	docs/source/installation/osx.rst
11	1	docs/source/installation/troubleshooting-common.rst
5	1	powerline/__init__.py
14	2	powerline/renderer.py
12	0	powerline/renderers/vim.py
1	0	tests/vim.py

--417e823e	2013-03-11T22:24:00+04:00	ZyX	kp-pav@ya.ru	Fix two flake8 errors


417e823e
1	1	powerline/lint/__init__.py
0	1	powerline/lint/markedjson/reader.py

--b2b05cb8	2013-03-11T22:22:18+04:00	ZyX	kp-pav@ya.ru	Removed underscore_to_camelcase

No need to bother both developers (that need to create class names compatible 
with file name, which is not obvious if not looking into main Powerline class) 
and computer (that needs to recompute class name each time) if it is possible to 
bother only developers (or only computer, but this contributes to higher startup 
times).

About not obvious: when you look into zsh_prompt.py and see only 
ZshPromptRenderer name you only think that powerline upstream is following 
strict code style. You don’t think there is a technical reason for such naming, 
like you don’t think there is technical reason for having blank lines. When you 
look into zsh_prompt.py and see `renderer = ZshPromptRenderer` it is obvious 
that there is technical reason for writing code this way because new variable is 
never used in the module itself.
b2b05cb8
3	5	powerline/__init__.py
0	5	powerline/lib/__init__.py
3	0	powerline/renderers/bash_prompt.py
3	0	powerline/renderers/ipython.py
3	0	powerline/renderers/pango_markup.py
3	0	powerline/renderers/shell.py
3	0	powerline/renderers/tmux.py
3	0	powerline/renderers/vim.py
3	0	powerline/renderers/zsh_prompt.py
1	2	tests/test_configuration.py
1	5	tests/test_lib.py

--69647859	2013-03-11T22:13:43+04:00	ZyX	kp-pav@ya.ru	Move some functions out of classes

No need to have static methods that are not supposed to be overridden and that 
do not benefit from `self' argument they do not receive
69647859
9	16	powerline/renderer.py
9	2	powerline/renderers/shell.py

--2c445a93	2013-03-11T22:09:34+04:00	ZyX	kp-pav@ya.ru	Add more tests to test_configuration

Dynamic configuration tests. Purpose: make sure that default configuration does 
not throw. Tests catch only very trivial problems (like missing imports after
refactoring)
2c445a93
29	0	tests/test_configuration.py

--89204d2a	2013-03-11T16:24:35+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'zyx-i/fix-278-powerline-lint' into develop

89204d2a
--fe6f1bf4	2013-03-11T18:24:15+04:00	ZyX	kp-pav@ya.ru	Handle AttributeError also when importing segment function

fe6f1bf4
6	1	powerline/lint/__init__.py
1	2	powerline/lint/markedjson/reader.py

--1ef1ad7c	2013-03-11T08:52:23+04:00	ZyX	kp-pav@ya.ru	Add missing import

1ef1ad7c
5	0	powerline/lint/markedjson/error.py

--24d662c8	2013-03-11T08:49:07+04:00	ZyX	kp-pav@ya.ru	Make lint more error-prone

Target: report as much errors as possible in a single run without failure

24d662c8
36	4	powerline/lint/__init__.py

--9dc69d91	2013-03-11T08:40:16+04:00	ZyX	kp-pav@ya.ru	Make Reader also produce MarkedError, remove JSONError

9dc69d91
13	10	powerline/lint/markedjson/error.py
26	33	powerline/lint/markedjson/reader.py

--49ad855e	2013-03-11T08:00:40+04:00	ZyX	kp-pav@ya.ru	Rename YAMLError to JSONError and MarkedYAMLError to MarkedError

49ad855e
2	2	powerline/lint/markedjson/composer.py
2	2	powerline/lint/markedjson/constructor.py
4	4	powerline/lint/markedjson/error.py
2	2	powerline/lint/markedjson/parser.py
2	2	powerline/lint/markedjson/reader.py
2	2	powerline/lint/markedjson/resolver.py
2	2	powerline/lint/markedjson/scanner.py

--5da848fa	2013-03-10T23:12:07+04:00	ZyX	kp-pav@ya.ru	Some fixes for flake8

5da848fa
2	7	powerline/lint/markedjson/__init__.py
4	4	powerline/lint/markedjson/composer.py
14	65	powerline/lint/markedjson/constructor.py
2	2	powerline/lint/markedjson/error.py
7	8	powerline/lint/markedjson/loader.py
7	19	powerline/lint/markedjson/parser.py
7	23	powerline/lint/markedjson/reader.py
6	13	powerline/lint/markedjson/resolver.py
3	9	powerline/lint/markedjson/scanner.py
0	2	powerline/lint/markedjson/tokens.py

--3fd12150	2013-03-10T22:35:38+04:00	ZyX	kp-pav@ya.ru	Some changes to make it work in non-python2.7

3fd12150
3	3	powerline/lint/markedjson/error.py
4	6	powerline/lint/markedjson/markedvalue.py

--f75bb9e6	2013-03-10T22:28:09+04:00	ZyX	kp-pav@ya.ru	Make parser less restrictive and able to report problems

f75bb9e6
20	6	powerline/lint/__init__.py
2	46	powerline/lint/markedjson/__init__.py
18	2	powerline/lint/markedjson/constructor.py
1	1	powerline/lint/markedjson/error.py
6	0	powerline/lint/markedjson/loader.py
5	4	powerline/lint/markedjson/parser.py
3	3	powerline/lint/markedjson/scanner.py

--d27f7a04	2013-03-09T16:16:00+04:00	ZyX	kp-pav@ya.ru	Add most configuration checks

Changes:

- Add main configuration, colors.json, almost full themes and colorschemes
  checks
- Make powerline.lint.check return whether it had problems
- Make powerline-lint fail if .check reported problems
- Make tests run powerline-lint
- Add the script to the list of the installed scripts

Fixes #278

d27f7a04
899	0	powerline/lint/__init__.py
1	0	powerline/lint/markedjson/error.py
14	0	scripts/powerline-lint
1	0	setup.py
1	1	tests/install.sh
8	1	tests/test.sh

--287a88f4	2013-03-08T20:01:45+04:00	ZyX	kp-pav@ya.ru	Add JSON parser producing marked values

Ref #278

287a88f4
0	0	powerline/lint/__init__.py
67	0	powerline/lint/markedjson/__init__.py
119	0	powerline/lint/markedjson/composer.py
308	0	powerline/lint/markedjson/constructor.py
86	0	powerline/lint/markedjson/error.py
83	0	powerline/lint/markedjson/events.py
20	0	powerline/lint/markedjson/loader.py
28	0	powerline/lint/markedjson/markedvalue.py
49	0	powerline/lint/markedjson/nodes.py
254	0	powerline/lint/markedjson/parser.py
160	0	powerline/lint/markedjson/reader.py
135	0	powerline/lint/markedjson/resolver.py
477	0	powerline/lint/markedjson/scanner.py
57	0	powerline/lint/markedjson/tokens.py

--5b11feac	2013-03-09T12:40:03+04:00	ZyX	kp-pav@ya.ru	Make some functions be more convenient for use in lint checker

5b11feac
9	4	powerline/__init__.py

--d33b8ee9	2013-03-10T20:57:52+04:00	ZyX	kp-pav@ya.ru	Fix highlight group documentation for line_percent

d33b8ee9
1	1	powerline/segments/vim.py

--9e8fab33	2013-03-08T21:09:44+04:00	ZyX	kp-pav@ya.ru	Add highlight group data for powerline-lint

9e8fab33
26	0	powerline/segments/common.py
8	2	powerline/segments/shell.py
20	3	powerline/segments/vim.py

--7fca3383	2013-03-09T15:26:37+04:00	ZyX	kp-pav@ya.ru	Remove unused “colors” key

7fca3383
1	2	powerline/config_files/config.json

--551a2685	2013-03-09T13:30:24+04:00	ZyX	kp-pav@ya.ru	Move add_local_theme and get_theme to vim renderer

In any case for all other extensions they are useless. (Except for ipython, but
it is TODO and I am not going to use matchers this way, simple dictionary
lookup is better in this case.)

551a2685
4	3	powerline/__init__.py
0	12	powerline/renderer.py
16	0	powerline/renderers/vim.py
5	5	powerline/vim.py

--657fcd1a	2013-03-10T20:28:47+04:00	ZyX	kp-pav@ya.ru	Make @window_cached use @wraps

Otherwise documentation is not saved (hidden in decorated function only visible
in the closure).

657fcd1a
4	2	powerline/segments/vim.py

--ae62aee5	2013-03-11T19:11:10+04:00	ZyX	kp-pav@ya.ru	Renamed term_24bit_colors to term_truecolor

ae62aee5
2	2	docs/source/configuration.rst
2	2	docs/source/overview.rst
1	1	powerline/__init__.py
1	1	powerline/config_files/config.json

--17737504	2013-03-11T15:53:46+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge branch 'improved-ebuild' into develop

17737504
--fdab80cd	2013-03-10T21:38:33+04:00	ZyX	kp-pav@ya.ru	Add python-argparse dependency

fdab80cd
1	1	packages/gentoo/app-misc/powerline/Manifest
5	0	packages/gentoo/app-misc/powerline/powerline-9999.ebuild

--6c7e454f	2013-03-10T15:37:25+04:00	ZyX	kp-pav@ya.ru	Fix license

Fixes #299

6c7e454f
1	1	packages/gentoo/app-misc/powerline/Manifest
1	1	packages/gentoo/app-misc/powerline/powerline-9999.ebuild

--4374e1f7	2013-03-10T15:34:27+04:00	ZyX	kp-pav@ya.ru	Fix git/hg repo tests

4374e1f7
31	25	tests/test_lib.py

--a6d48232	2013-03-10T15:13:23+04:00	ZyX	kp-pav@ya.ru	Add python_test, more exclusions

Fixes #289

a6d48232
1	1	packages/gentoo/app-misc/powerline/Manifest
23	3	packages/gentoo/app-misc/powerline/powerline-9999.ebuild
1	1	setup.py
4	3	tests/test.sh

--111eaa27	2013-03-11T10:40:09+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Combine vim modelines and Python encoding declarations

Ref #314

111eaa27
1	2	docs/source/conf.py
1	2	font/fontpatcher.py
1	2	powerline/__init__.py
1	1	powerline/bindings/ipython/post_0_11.py
1	1	powerline/bindings/ipython/pre_0_11.py
1	2	powerline/bindings/qtile/widget.py
1	2	powerline/bindings/vim/__init__.py
1	1	powerline/bindings/zsh/__init__.py
1	2	powerline/colorscheme.py
1	2	powerline/ipython.py
1	1	powerline/lib/__init__.py
1	2	powerline/lib/humanize_bytes.py
1	2	powerline/lib/memoize.py
1	2	powerline/lib/url.py
1	1	powerline/lib/vcs/__init__.py
1	1	powerline/lib/vcs/bzr.py
1	1	powerline/lib/vcs/git.py
1	1	powerline/lib/vcs/mercurial.py
1	2	powerline/matcher.py
1	2	powerline/matchers/vim.py
1	2	powerline/renderer.py
1	2	powerline/renderers/bash_prompt.py
1	2	powerline/renderers/ipython.py
1	2	powerline/renderers/pango_markup.py
1	2	powerline/renderers/shell.py
1	2	powerline/renderers/tmux.py
1	2	powerline/renderers/vim.py
1	2	powerline/renderers/zsh_prompt.py
1	2	powerline/segment.py
1	2	powerline/segments/common.py
1	2	powerline/segments/shell.py
1	2	powerline/segments/vim.py
1	2	powerline/shell.py
1	2	powerline/theme.py
1	2	powerline/vim.py
1	2	setup.py
1	1	tests/__init__.py
1	1	tests/lib/__init__.py
1	1	tests/path/vim.py
1	2	tests/test_configuration.py
1	1	tests/test_lib.py
1	2	tests/test_segments.py
1	1	tests/vim.py

--b31c987c	2013-03-09T20:05:31+11:00	Peter Fern	github@obfusc8.org	Add XDG_CONFIG_DIRS to config_paths for system-wide install

Commonly this will be `/etc/xdg/powerline`

b31c987c
6	1	powerline/__init__.py

--8e8e9c9e	2013-03-11T08:24:41+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge remote-tracking branch 'pdf/ttf_output' into develop

8e8e9c9e
--6748701f	2013-03-11T08:11:25+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add vim modelines to all Python files

Added with `sed -i '2i# vim:fenc=utf-8:noet' `find -name '*.py'`` and
fixed in a couple of files without the UTF-8 encoding on top.

Ref #314

6748701f
1	0	docs/source/conf.py
1	0	font/fontpatcher.py
1	0	powerline/__init__.py
1	0	powerline/bindings/ipython/post_0_11.py
1	0	powerline/bindings/ipython/pre_0_11.py
1	0	powerline/bindings/qtile/widget.py
1	0	powerline/bindings/vim/__init__.py
1	0	powerline/bindings/zsh/__init__.py
1	0	powerline/colorscheme.py
1	0	powerline/ipython.py
1	0	powerline/lib/__init__.py
1	0	powerline/lib/humanize_bytes.py
1	0	powerline/lib/memoize.py
1	0	powerline/lib/url.py
1	0	powerline/lib/vcs/__init__.py
1	0	powerline/lib/vcs/bzr.py
1	0	powerline/lib/vcs/git.py
1	0	powerline/lib/vcs/mercurial.py
1	0	powerline/matcher.py
1	0	powerline/matchers/vim.py
1	0	powerline/renderer.py
1	0	powerline/renderers/bash_prompt.py
1	0	powerline/renderers/ipython.py
1	0	powerline/renderers/pango_markup.py
1	0	powerline/renderers/shell.py
1	0	powerline/renderers/tmux.py
1	0	powerline/renderers/vim.py
1	0	powerline/renderers/zsh_prompt.py
1	0	powerline/segment.py
1	0	powerline/segments/common.py
1	0	powerline/segments/shell.py
1	0	powerline/segments/vim.py
1	0	powerline/shell.py
1	0	powerline/theme.py
1	0	powerline/vim.py
1	0	setup.py
1	0	tests/__init__.py
1	0	tests/lib/__init__.py
1	0	tests/path/vim.py
1	0	tests/test_configuration.py
1	0	tests/test_lib.py
1	0	tests/test_segments.py
1	0	tests/vim.py

--40fe38f6	2013-03-11T07:52:24+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Move argparser to powerline.shell so it can be re-used

40fe38f6
18	1	powerline/shell.py
3	17	scripts/powerline

--59ef974b	2013-03-09T21:02:52+04:00	ZyX	kp-pav@ya.ru	Fix set statusline location, readd fix from #243

Ref #303

59ef974b
7	5	powerline/bindings/vim/plugin/powerline.vim

--707cf278	2013-03-11T07:13:57+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Cleanup .gitignore file

707cf278
2	25	.gitignore

--c70d3b38	2013-02-25T22:56:22+05:30	Kovid Goyal	kovid@kovidgoyal.net	Add bzr support

c70d3b38
5	2	powerline/lib/vcs/__init__.py
62	0	powerline/lib/vcs/bzr.py
1	1	tests/install.sh
28	2	tests/test_lib.py

--38e23686	2013-03-09T18:55:22+11:00	Peter Fern	github@obfusc8.org	Preserve style suffixes by inserting ForPowerline before any '-'s

38e23686
5	1	font/fontpatcher.py

--bee14674	2013-03-09T18:15:24+11:00	Peter Fern	github@obfusc8.org	Output in either otf or ttf (so we don't loose hinting/whatever)

bee14674
6	1	font/fontpatcher.py

--20639494	2013-03-08T18:35:44+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add Travis build status to README

20639494
6	0	README.rst

--6777fd41	2013-03-08T18:03:57+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Fix minor typo in powerline.vim

6777fd41
2	2	powerline/bindings/vim/plugin/powerline.vim

--154d1aea	2013-03-08T18:01:50+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Fix issues in Arch Linux PKGBUILDS

Closes #291.

154d1aea
1	2	packages/archlinux/python-powerline-git/PKGBUILD
5	0	packages/archlinux/python-powerline-git/powerline.install
2	3	packages/archlinux/python2-powerline-git/PKGBUILD

--162f5ac5	2013-03-08T17:57:41+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Change license from CC BY-SA to the MIT license

Refs #299.

162f5ac5
21	0	LICENSE
2	7	docs/source/license-credits.rst
6	2	packages/archlinux/python-powerline-git/PKGBUILD
6	2	packages/archlinux/python2-powerline-git/PKGBUILD

--be62815c	2013-03-04T15:13:58+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Handle socket errors in IMAP mail segment

be62815c
2	0	powerline/segments/common.py

--cb87cfbe	2013-03-03T22:11:39+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update credits and PR guidelines

cb87cfbe
6	5	docs/source/license-credits.rst

--f6d23bdf	2013-03-03T15:00:10+04:00	ZyX	kp-pav@ya.ru	Always return a string in email_imap_alert segment

Fixes #279

f6d23bdf
1	1	powerline/segments/common.py

--4c233122	2013-03-03T20:58:33+04:00	ZyX	kp-pav@ya.ru	Do not restrict branches to `tests` branch

In any case it was not working

4c233122
0	3	.travis.yml

--aa0a8bf7	2013-03-03T20:40:35+04:00	ZyX	kp-pav@ya.ru	Make tests support python2.6

Old unittest is not working for unknown reason, using unittest2 instead

aa0a8bf7
3	2	.travis.yml
4	1	setup.py
5	0	tests/__init__.py
10	0	tests/install.sh
12	0	tests/test.sh
7	2	tests/test_configuration.py
20	2	tests/test_lib.py
11	6	tests/test_segments.py
24	3	tests/vim.py

--0a05b296	2013-03-03T00:02:07+04:00	ZyX	kp-pav@ya.ru	Add support for with: statement to tests.vim

Also made everything use new vim_module._with where possible

0a05b296
9	20	tests/test_configuration.py
10	40	tests/test_segments.py
83	5	tests/vim.py

--c429d9ee	2013-03-02T19:05:08+04:00	ZyX	kp-pav@ya.ru	Omit using sys.modules if possible

Does not work though: still TypeError due to some global in multiproccessing
that got None

c429d9ee
7	9	powerline/segments/common.py
4	0	tests/path/vim.py
16	2	tests/test_configuration.py
8	9	tests/test_segments.py
8	8	tests/vim.py

--c334be41	2013-03-02T18:40:13+04:00	ZyX	kp-pav@ya.ru	Add tests.lib module with `replace_*()` with statement functions

Note: there is new problem: now multiprocessing() globals got assigned None
values. It is likely somehow related to extended `sys.modules` utilization

c334be41
111	0	tests/lib/__init__.py
17	74	tests/test_segments.py

--58475576	2013-02-24T14:03:14+04:00	ZyX	kp-pav@ya.ru	Start adding tests

Tests are temporary disabled on all branches except tests (does not really work
though, needs travis.yml in all branches).

58475576
12	0	.travis.yml
2	2	setup.py
0	0	tests/__init__.py
0	0	tests/empty
74	0	tests/test_configuration.py
106	0	tests/test_lib.py
381	0	tests/test_segments.py
367	0	tests/vim.py

--2a39ed83	2013-02-27T07:55:06+04:00	ZyX	kp-pav@ya.ru	Use mode(1)

Otherwise all that fancy double-symbol modes are just not visible.

2a39ed83
1	1	powerline/renderers/vim.py

--47cfde0e	2013-03-03T15:47:54+04:00	ZyX	kp-pav@ya.ru	Add support for python-2.6

47cfde0e
1	1	docs/source/installation/linux.rst
2	3	docs/source/installation/osx.rst
1	1	packages/gentoo/app-misc/powerline/Manifest
1	1	packages/gentoo/app-misc/powerline/powerline-9999.ebuild
2	2	powerline/__init__.py
2	2	powerline/bindings/vim/plugin/powerline.vim
2	2	powerline/lib/vcs/__init__.py
2	2	powerline/matcher.py
2	2	powerline/segment.py
3	3	powerline/segments/common.py
2	0	powerline/segments/vim.py

--9fd63021	2013-03-03T00:34:23+04:00	ZyX	kp-pav@ya.ru	Add support for python-3.2

9fd63021
13	7	powerline/renderer.py
2	2	powerline/segment.py
24	24	powerline/segments/common.py
21	21	powerline/segments/vim.py
1	1	powerline/theme.py

--de33eb81	2013-03-02T19:31:42+04:00	ZyX	kp-pav@ya.ru	Add _external_ip for use in weather segment

de33eb81
6	3	powerline/segments/common.py

--307dfd72	2013-03-03T00:34:55+04:00	ZyX	kp-pav@ya.ru	Improve documentation

307dfd72
17	4	docs/source/configuration.rst
1	1	docs/source/installation/linux.rst
2	2	docs/source/overview.rst
57	0	powerline/__init__.py
15	6	powerline/vim.py

--2f17510d	2013-02-27T00:58:45+04:00	ZyX	kp-pav@ya.ru	Also use hl_iter in exception message

Ref #270

2f17510d
1	1	powerline/colorscheme.py

--f495c49a	2013-02-27T01:18:16+04:00	ZyX	kp-pav@ya.ru	Remove obsolete highlight_group keys from configuration

They are no no-op for function segments, so don’t confuse users
f495c49a
1	2	powerline/config_files/themes/shell/default.json
0	1	powerline/config_files/themes/shell/default_leftonly.json
0	1	powerline/config_files/themes/vim/default.json

--16a5b789	2013-02-27T01:06:11+04:00	ZyX	kp-pav@ya.ru	Use exit_fail hl group for last_status segment

Fixes #270

16a5b789
3	1	powerline/segments/shell.py

--f3462768	2013-02-27T00:26:38+04:00	ZyX-I	kp-pav@ya.ru	Fix minimal python versions

s/3\.2/3.3

f3462768
2	2	powerline/bindings/vim/plugin/powerline.vim

--c2cf679c	2013-02-27T00:20:48+04:00	ZyX	kp-pav@ya.ru	Do not throw away python stack trace

Errors when loading powerline fails are almost never giving any useful
information for debugging.

c2cf679c
6	3	powerline/bindings/vim/plugin/powerline.vim

--a8ccfd43	2013-02-26T07:35:08+04:00	ZyX	kp-pav@ya.ru	Add ambiwidth problems information to troubleshooting section

a8ccfd43
7	0	docs/source/installation/osx.rst
6	0	docs/source/installation/troubleshooting-common.rst

--83f4236a	2013-02-27T00:14:24+04:00	ZyX	kp-pav@ya.ru	Replace unicode() with u() in theme.py

Fixes #271

83f4236a
10	3	powerline/theme.py

--a4b7c31b	2013-02-25T16:11:10+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Move divider hl group to return dicts in weather segment

Fixes #264

a4b7c31b
2	1	powerline/segments/common.py

--9a7b5f21	2013-02-24T23:07:24-08:00	Trey Hunner	trey@treyhunner.com	Use oldlace for visual mode foreground in vim

Fixes gh-261.
9a7b5f21
3	3	powerline/config_files/colorschemes/vim/solarized.json

--0dcd23f5	2013-02-24T23:15:12+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Fix syntax error in default tmux theme

Ref #150

0dcd23f5
1	1	powerline/config_files/themes/tmux/default.json

--af020d93	2013-02-24T21:27:59+02:00	Otto Modinos	ottomodinos@gmail.com	Make vim visual block selection orange

Fixes #147

af020d93
5	0	powerline/config_files/colorschemes/vim/default.json

--43d96395	2013-02-25T00:45:40+04:00	Foo	bar@example.org	Fix zsh/zpython issue

43d96395
27	0	docs/source/configuration.rst
15	2	powerline/bindings/zsh/__init__.py
9	1	powerline/colorscheme.py
31	0	powerline/lib/__init__.py
1	1	powerline/renderer.py
1	5	powerline/segment.py
3	26	scripts/powerline

--dfaf3810	2013-02-24T12:21:58+04:00	ZyX	kp-pav@ya.ru	Fix various segment issues

- Fixed user segment (windows): there is no os.geteuid() here
- Fixed dir_limit_depth in cwd segment (it was not really accepting None
  value)
- Made paste_indicator not use getbufvar for global option
- Made file_size use buffer name for cache key
- Made a number of segments coerce returned integer values to strings
- Fixed modified_buffers (getbufvar() returns empty string for deleted buffers,
  but int() does not accept empty string)
- Fixed file_directory and file_name segments: they were not working in
  python-3.3 because str() object has no attribute decode()
- Made powerline.lib.vcs.git.Repository.status() always return 3-characters
  string
- Made it always check both for dirty index and dirty wt for all files
- Fixed binary prefix handling, renamed it to si_prefix

  Previously there was the following when binary_prefix was False:
      div = 1024
      unit = kB
  (unit is inconsistent with div).
  Now it is the following when si_prefix is False:
      div = 1024
      unit = KiB
  (according to https://en.wikipedia.org/wiki/Binary_prefix IEC prefix kibi is
  abbreviated as Ki, not ki (note the case)). This means that in segments prefixes
  has changed, but not displayed values.

dfaf3810
4	4	powerline/lib/humanize_bytes.py
14	7	powerline/lib/vcs/git.py
10	6	powerline/segments/common.py
21	16	powerline/segments/vim.py

--168f4854	2013-02-24T13:37:50+04:00	ZyX	kp-pav@ya.ru	Fix various flake8 errors

168f4854
3	0	powerline/bindings/ipython/post_0_11.py
0	1	powerline/segments/common.py
1	2	powerline/segments/vim.py

--c8c71332	2013-02-23T21:16:51+04:00	ZyX	kp-pav@ya.ru	Use smoother gradient for true color

c8c71332
1	1	powerline/config_files/colors.json

--f319ddc3	2013-02-23T15:04:15+04:00	ZyX	kp-pav@ya.ru	Ignore highlight definitions for function segments

Also removed divider_highlight_group from configuration: it is actually used
only in function segments.

Fixes #215

f319ddc3
2	1	docs/source/configuration.rst
1	2	powerline/config_files/themes/shell/default.json
1	2	powerline/config_files/themes/shell/default_leftonly.json
9	13	powerline/config_files/themes/tmux/default.json
4	8	powerline/config_files/themes/vim/default.json
6	6	powerline/config_files/themes/wm/default.json
18	0	powerline/lib/__init__.py
1	1	powerline/renderer.py
2	3	powerline/segment.py
14	3	powerline/segments/common.py
11	3	powerline/segments/vim.py

--045d60fb	2013-02-23T14:22:44+04:00	ZyX	kp-pav@ya.ru	Optimize cterm_to_hex

Dictionary is an overkill here. Tuple is faster. Also now the whole tuple can be
seen on the 1/4 of my screen (32x119 characters) and colors are easier to find
(useful only when seeking for normal color names).

Again, it would be goot to ignore flake8 in this case. Without comments it
complains about it is not easy to find requested color by hand

045d60fb
29	42	powerline/colorscheme.py

--d0fafe76	2013-02-23T13:57:45+04:00	ZyX	kp-pav@ya.ru	Replace non-color names with a bit more descriptive names

d0fafe76
25	25	powerline/config_files/colors.json
10	10	powerline/config_files/colorschemes/shell/solarized.json
8	8	powerline/config_files/colorschemes/tmux/default.json
55	56	powerline/config_files/colorschemes/vim/solarized.json
8	8	powerline/config_files/colorschemes/wm/default.json
0	1	powerline/theme.py

--01b34a78	2013-02-23T01:05:18+04:00	ZyX	kp-pav@ya.ru	Split colorschemes and add better gradient support

- Splitted colorschemes into colors definitions file (TODO: remove non-colors
  definitions like weather_condition_hot and base00) and actual colorscheme.
- Removed dictionary containing groups definitions for all groups for all modes,
  now colorscheme is queried for this each time.
- Moved determination of colors from theme to renderer.
- Added gradients definitions (actually, only one) to new colors file.
- Made line_percent with gradient=True use new gradients.

01b34a78
24	11	docs/source/configuration.rst
6	3	powerline/__init__.py
78	65	powerline/colorscheme.py
82	0	powerline/config_files/colors.json
0	18	powerline/config_files/colorschemes/ipython/default.json
0	53	powerline/config_files/colorschemes/shell/default.json
0	18	powerline/config_files/colorschemes/shell/solarized.json
0	33	powerline/config_files/colorschemes/tmux/default.json
3	71	powerline/config_files/colorschemes/vim/default.json
0	18	powerline/config_files/colorschemes/vim/solarized.json
0	33	powerline/config_files/colorschemes/wm/default.json
2	1	powerline/config_files/config.json
20	16	powerline/renderer.py
6	2	powerline/segment.py
2	1	powerline/segments/vim.py
2	12	powerline/theme.py

--b8b0518e	2013-02-23T00:49:48+04:00	ZyX	kp-pav@ya.ru	Replace 'NONE' with None for guifg/guibg.

No need in having string keys if we are in any case checking this for equality
later instead of embedding them as-is like cterm*

b8b0518e
4	4	powerline/renderers/vim.py

--41ffd8cf	2013-02-22T23:22:00+04:00	ZyX	kp-pav@ya.ru	Rename colorscheme variable to colorscheme_config

41ffd8cf
4	4	powerline/colorscheme.py

--d9943e32	2013-02-22T18:38:44+04:00	ZyX	kp-pav@ya.ru	Fix various flake8 errors

d9943e32
1	0	powerline/bindings/zsh/__init__.py
0	1	powerline/shell.py
2	1	powerline/vim.py

--696cd97e	2013-02-20T00:06:09+04:00	ZyX	kp-pav@ya.ru	Replace getfsize with os.stat

696cd97e
3	3	powerline/segments/vim.py

--f211bb6c	2013-02-18T20:11:45+04:00	ZyX	kp-pav@ya.ru	Add ability to override configuration options

Related changes:
- Moved all non-ASCII symbols into `segment_data`
- Added --config_path, replaced nargs='*' with better action='append'
- Added g:powerline_config_path vim option
- Added ipython overrides (via additional arguments to setup() or c.Powerline)

TODO: support for non-string scalars in vim overrides.

Fixes #231

f211bb6c
75	3	docs/source/configuration.rst
81	0	powerline/__init__.py
17	2	powerline/bindings/ipython/post_0_11.py
11	3	powerline/bindings/ipython/pre_0_11.py
1	1	powerline/bindings/qtile/widget.py
5	3	powerline/bindings/vim/plugin/powerline.vim
20	2	powerline/bindings/zsh/__init__.py
16	8	powerline/config_files/themes/shell/default.json
17	6	powerline/config_files/themes/shell/default_leftonly.json
18	8	powerline/config_files/themes/tmux/default.json
0	86	powerline/core.py
27	0	powerline/ipython.py
9	0	powerline/lib/__init__.py
5	8	powerline/matcher.py
42	0	powerline/shell.py
72	0	powerline/vim.py
20	4	scripts/powerline

--c86b047e	2013-02-18T09:23:40+04:00	ZyX	kp-pav@ya.ru	Add ability to specify some segment keys once in top theme

c86b047e
25	0	docs/source/configuration.rst
16	5	powerline/config_files/themes/vim/default.json
1	3	powerline/config_files/themes/vim/help.json
2	1	powerline/renderer.py
28	10	powerline/segment.py
5	2	powerline/theme.py

--186ad2d4	2013-02-18T08:31:00+04:00	ZyX	kp-pav@ya.ru	Remove useless Segment class

It was used solely for Segment.get (the only place where it was used just saved
its .get() method, throwing away instance itself) and looks more like abusal of
the purpose of the classes

186ad2d4
27	16	powerline/segment.py
2	2	powerline/theme.py

--2fa64c42	2013-02-24T15:29:31+04:00	ZyX	kp-pav@ya.ru	Move translation of modes into renderers/vim.py

Fixes #147
2fa64c42
5	0	powerline/renderers/vim.py
0	6	powerline/segments/vim.py

--3c62e060	2013-02-22T18:21:12+04:00	ZyX	kp-pav@ya.ru	Don't use UUID for window IDs

This fix uses an incremented number instead.

Fixes #180

3c62e060
7	6	powerline/bindings/vim/plugin/powerline.vim

--861f7dc1	2013-02-20T20:57:44+04:00	ZyX	kp-pav@ya.ru	Fix &stl reset to global value when new file is loaded

Fixes #241
Ref #240

861f7dc1
6	1	powerline/bindings/vim/plugin/powerline.vim

--b347d53b	2013-02-20T14:07:26+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Remove obsolete Vundle warning from docs

b347d53b
0	3	docs/source/installation/linux.rst
0	3	docs/source/installation/osx.rst

--282cb43e	2013-02-20T13:47:54+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Fix various minor formatting issues

Closes #242.

282cb43e
1	1	powerline/colorscheme.py
4	3	powerline/lib/vcs/__init__.py
1	1	powerline/renderer.py
1	1	powerline/segments/vim.py
2	1	powerline/theme.py
2	1	setup.py

--ee51b8b7	2013-02-19T21:11:28+01:00	Martin Preisler	martin@preisler.me	Handle non-existant CWDs gracefully

ee51b8b7
8	0	powerline/segments/common.py

--e14f5e42	2013-02-20T00:26:59+04:00	ZyX	kp-pav@ya.ru	Fix problem with wrong window ID/winnr after some window operations

Removed autocommands as well. Powerline() function is now responsible both for
displaying powerline and for updating statuslines. No cmdwin events not
triggered workaround nonsense anymore.

Fixes #237
Fixes #236
Fixes #222
Fixes #232

e14f5e42
18	19	powerline/bindings/vim/plugin/powerline.vim
2	4	powerline/renderers/vim.py

--ea56f4c2	2013-02-18T19:38:42+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Split optional dependencies to python packages and other apps

Closes #227.

ea56f4c2
9	2	docs/source/overview.rst

--baaf6cde	2013-02-16T02:04:39+04:00	ZyX	kp-pav@ya.ru	Switch from `status` + `ls-files` to `status --ignored`

baaf6cde
1	0	docs/source/overview.rst
1	5	powerline/lib/vcs/git.py

--b8b7cfbb	2013-02-16T02:12:23+04:00	ZyX	kp-pav@ya.ru	Fix icon_names for unknown weather code

b8b7cfbb
4	5	powerline/segments/common.py

--2a3911db	2013-02-16T01:47:41+04:00	ZyX	kp-pav@ya.ru	Make spaces around the divider configurable

Fixes #225

2a3911db
2	1	powerline/config_files/config.json
3	4	powerline/renderer.py
4	0	powerline/theme.py

--6fc7d6ac	2013-02-14T22:40:08+04:00	ZyX	kp-pav@ya.ru	Purge cache on BufWrite

Instead of much simpler solution define an API that may be used for anybody
willing to add cache purging on events with a few keystrokes

6fc7d6ac
7	0	powerline/bindings/vim/plugin/powerline.vim
9	4	powerline/lib/memoize.py
35	5	powerline/segments/vim.py

--c45747a3	2013-02-15T21:06:08+04:00	ZyX	kp-pav@ya.ru	Ease E858/E860 errors debugging

E858: Eval did not return a valid python object
E860: Eval did not return a valid python 3 object
c45747a3
14	0	docs/source/installation/troubleshooting-common.rst
4	4	powerline/bindings/vim/plugin/powerline.vim

--df7d0f20	2013-02-15T08:30:07+04:00	ZyX	kp-pav@ya.ru	Remove 'before' key from file_vcs_status segment

Fixes #219

df7d0f20
1	0	powerline/config_files/themes/vim/default.json
0	1	powerline/segments/vim.py
10	1	powerline/theme.py

--0fddb24b	2013-02-12T23:59:45+04:00	ZyX	kp-pav@ya.ru	Rework memoize class

- Removed *args: segments are not receiveing any non-keyword arguments so no
  need to bother with *args at all.
- Replaced additional_cache_key with cache_key: all functions that formerly used
  additional_cache_key appear not to need initial arguments as cache keys. It
  also simplifies the code.
- Made _cache be defined in __init__, it is much easier to implement cache
  purging this way.

Ref #205
Fixes #208

0fddb24b
11	11	powerline/lib/memoize.py
1	1	powerline/segments/common.py
8	8	powerline/segments/vim.py

--52028072	2013-02-15T12:45:52+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Make Spotify segment more error-proof

52028072
6	4	powerline/segments/common.py

--ca4466cd	2013-02-13T09:15:10+04:00	ZyX	kp-pav@ya.ru	Rework weather segment

Allows more precise icon selection and purges out unicode characters from
configuration.

Note: windy icon needs reworking, I used a trigram for it.

Fixes #203.

ca4466cd
3	3	powerline/config_files/colorschemes/tmux/default.json
3	3	powerline/config_files/colorschemes/wm/default.json
93	18	powerline/segments/common.py

--9aee288c	2013-02-12T10:52:17+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Use requires_segment_info decorator on shell segments

9aee288c
4	2	powerline/segments/shell.py

--e89e083f	2013-02-12T10:45:24+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Don't use kwargs as part of the memoize key

This should be fixed later (if at all possible). Also see discussion at
http://stackoverflow.com/questions/6407993/how-to-memoize-kwargs

Refs #205.

e89e083f
5	2	powerline/lib/memoize.py

--d638f1d6	2013-02-11T22:10:09+04:00	ZyX	kp-pav@ya.ru	Remove non-current window caching

API changes done:
- memoize additional_key function now accepts all function arguments
- get_theme now receives matcher_info
- render now receives segment_info and matcher_info, but segments and themes
  were removed
- due to very different ways of obtaining column information col_current
  splitted back to col_current and virtcol_current. The former should be false
  in case of horizontal scrollbind (when &scrollopt contains hor)
- added requires_segment_info decorator for convenience

Other changes:
- removed all vim function calls that were possible to remove
- removed direct vim.eval calls

d638f1d6
2	0	powerline/bindings/vim/__init__.py
1	1	powerline/bindings/vim/plugin/powerline.vim
2	1	powerline/config_files/themes/vim/default.json
1	1	powerline/lib/memoize.py
7	5	powerline/matchers/vim.py
8	5	powerline/renderer.py
10	11	powerline/renderers/vim.py
97	51	powerline/segments/vim.py
5	0	powerline/theme.py

--cc83d741	2013-02-11T13:08:27+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Create fuzzy_time segment

cc83d741
52	0	powerline/segments/common.py

--e48645f5	2013-02-11T07:23:33+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Move urllib_read/urlencode functions to lib

e48645f5
1	0	powerline/lib/__init__.py
26	0	powerline/lib/url.py
5	30	powerline/segments/common.py

--d9611164	2013-02-11T07:20:39+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Move weather condition codes into weather function

d9611164
13	13	powerline/segments/common.py

--28547930	2013-02-11T08:47:41+04:00	ZyX	kp-pav@ya.ru	Add screen_escape option

Refs #199.

28547930
3	0	powerline/renderers/shell.py

--d12299c1	2013-02-11T08:37:58+04:00	ZyX	kp-pav@ya.ru	Add a way to specify renderer options on command-line, added tmux_escape

Note: tmux escaping does not fix things, on my system it produces
![Gap between ... and directory name](http://img-fotki.yandex.ru/get/6439/9151298.2/0_93b4c_5d9a317f_orig.png)
Fixes #199

d12299c1
4	3	powerline/core.py
2	5	powerline/renderer.py
6	1	powerline/renderers/shell.py
13	1	scripts/powerline

--52635d05	2013-02-11T07:50:23+04:00	ZyX	kp-pav@ya.ru	Add support for italic and underline attributes in shell renderer

52635d05
6	0	powerline/renderers/shell.py

--e18665c5	2013-02-11T07:43:13+04:00	ZyX	kp-pav@ya.ru	Purge out constants from classes, lowercase TERM_24_BIT

Remove recursive import as well
e18665c5
10	8	powerline/colorscheme.py
4	7	powerline/renderer.py
4	3	powerline/renderers/pango_markup.py
4	3	powerline/renderers/shell.py
4	3	powerline/renderers/tmux.py
4	3	powerline/renderers/vim.py

--21b59149	2013-02-10T14:04:07+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Move docs to readthedocs.org

21b59149
3	2	README.rst
1	1	packages/archlinux/python-powerline-git/powerline.install
1	1	packages/archlinux/python2-powerline-git/powerline.install

--2d9dd21a	2013-02-09T22:27:34+04:00	ZyX	kp-pav@ya.ru	Add auto_rewrite method to pre_0_11

It raises error without this.

2d9dd21a
6	0	powerline/bindings/ipython/pre_0_11.py

--d414a7e4	2013-02-10T12:58:47+04:00	ZyX	kp-pav@ya.ru	Add more USE flags to gentoo ebuild

d414a7e4
1	1	packages/gentoo/app-misc/powerline/Manifest
44	5	packages/gentoo/app-misc/powerline/powerline-9999.ebuild

--da5ac610	2013-02-10T11:26:11+04:00	ZyX	kp-pav@ya.ru	Fix location of powerline.vim file

rm is uncommented because there is no “source_plugin” now.

da5ac610
1	1	packages/gentoo/app-misc/powerline/Manifest
5	3	packages/gentoo/app-misc/powerline/powerline-9999.ebuild

--9a0b970b	2013-02-10T11:15:33+04:00	ZyX	kp-pav@ya.ru	Clear highlight groups on ColorScheme event

Closes #196
Fixes #153
Fixes #194

9a0b970b
1	0	powerline/bindings/vim/plugin/powerline.vim
3	0	powerline/renderers/vim.py

--4202bd2e	2013-02-09T22:23:15+04:00	ZyX	kp-pav@ya.ru	Use escape_hl_* variables for prompts deriving from ShellRenderer

This is faster then super() calls and also more convenient.
Fixes #142 just as well
Conflicts:
	powerline/renderers/bash_prompt.py
	powerline/renderers/ipython.py
	powerline/renderers/shell.py
	powerline/renderers/zsh_prompt.py

4202bd2e
2	7	powerline/renderers/bash_prompt.py
2	2	powerline/renderers/ipython.py
4	1	powerline/renderers/shell.py
2	7	powerline/renderers/zsh_prompt.py

--a6b3bc93	2013-02-09T22:13:09+04:00	ZyX	kp-pav@ya.ru	Don’t mess with hl()+contents

What does hl() mean? It looks like “highlight an empty string”, but is actually
“reset highlight style”. In addition if you are writing “hl()” function for new
renderer you need to care about “contents” variable (in two places!: None for
super() call and (contents or u'') after super() call) though function is
actually doing nothing with it. It is just inconvenient.

a6b3bc93
6	3	powerline/renderer.py
2	2	powerline/renderers/bash_prompt.py
2	2	powerline/renderers/ipython.py
5	3	powerline/renderers/pango_markup.py
2	2	powerline/renderers/shell.py
2	2	powerline/renderers/tmux.py
2	2	powerline/renderers/vim.py
2	2	powerline/renderers/zsh_prompt.py

--2caa136f	2013-02-08T17:33:04+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add docs for all segments

2caa136f
8	0	docs/source/index.rst
6	0	docs/source/segments/common.rst
6	0	docs/source/segments/shell.rst
6	0	docs/source/segments/vim.rst
106	0	powerline/segments/common.py
2	0	powerline/segments/shell.py
56	21	powerline/segments/vim.py

--b599761a	2013-02-08T17:33:54+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Work around missing vim module when generating sphinx docs

Horrible solution, should be fixed asap.

b599761a
3	0	powerline/bindings/vim/__init__.py
3	0	powerline/segments/vim.py

--55ad48f0	2013-02-08T17:32:23+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update sphinx configuration

55ad48f0
4	3	docs/source/conf.py

--6dc81ab8	2013-02-08T17:13:37+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Use functools.wraps on memoize decorator

6dc81ab8
2	0	powerline/lib/memoize.py

--d386ae71	2013-02-08T16:20:26+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add modified_buffers segment

This segment returns a comma-separated list of modified buffers. The
segment is not enabled by default.

Closes #173.

d386ae71
2	1	powerline/config_files/colorschemes/vim/default.json
9	0	powerline/segments/vim.py

--53992651	2013-02-07T21:58:18+04:00	ZyX	kp-pav@ya.ru	Add note about zpython branch

TODO: To be removed after (if) zsh maintainers accept the patch.

Refs #104.

53992651
3	0	docs/source/overview.rst

--907e8593	2013-02-08T14:40:41+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Fix vim plugin path in Arch Linux packages

907e8593
2	2	packages/archlinux/python-powerline-git/PKGBUILD
2	2	packages/archlinux/python2-powerline-git/PKGBUILD

--323a8385	2013-02-07T13:48:36+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Fix math error in humanize_bytes

Closes #175.

323a8385
1	1	powerline/lib/humanize_bytes.py

--4e4a2b2e	2013-02-07T12:32:34+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add tips & tricks to the docs

Closes #182.

4e4a2b2e
1	0	docs/source/index.rst
37	0	docs/source/tipstricks.rst

--8b8de32b	2013-02-07T11:42:10+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Improve vim plugin loading

Several of the plugin loading methods have been joined into one plugin
file that will be loaded by updating the runtimepath. More informative
error messages will be displayed if Python support is missing or if the
module import fails.

Note that this commit will break existing plugin loading, the new
method with updating the runtimepath will be required.

Closes #156.
Closes #181.

8b8de32b
9	18	docs/source/overview.rst
0	13	powerline/bindings/vim/__init__.py
28	0	powerline/bindings/vim/{ => plugin}/powerline.vim
0	11	powerline/bindings/vim/plugin/source_plugin.vim

--c2e7124d	2013-02-06T13:18:49+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Fix statusline highlighting after leaving a cmdwin

Because vim doesn't trigger any autocmds after leaving a cmdwin the
statusline in the window the user returned to from the cmdwin would be
highlighted as non-current even if it should have been current.

This issue is resolved by storing the last current window ID in a script
variable, and when leaving the cmdwin we show the last current window as
current instead of detecting it after the WinEnter autocmd has been
triggered (which doesn't happen after leaving a cmdwin).

Closes #184.

c2e7124d
12	4	powerline/bindings/vim/powerline.vim

--2e5b9383	2013-02-06T08:34:35+04:00	ZyX	kp-pav@ya.ru	Properly escape color codes in bash

Closes #177.
Closes #179.

2e5b9383
11	3	powerline/bindings/bash/powerline.sh
18	0	powerline/renderers/bash_prompt.py

--4fa17f6f	2013-02-06T09:10:40+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Catch more errors in weather segment

4fa17f6f
1	1	powerline/segments/common.py

--9a95d738	2013-02-06T09:09:18+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Fix e-mail segment UTF-8 issues

Closes #178.

9a95d738
5	4	powerline/segments/common.py

--c8d4e58a	2013-02-06T08:59:53+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add repository_status vim segment

Split segment highlighting compared to the file_vcs_status segment is
missing.

Refs #173.

c8d4e58a
8	0	powerline/segments/vim.py

--5cc265af	2013-02-06T08:56:18+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Fix repo.status() functions

5cc265af
1	1	powerline/lib/vcs/git.py
1	0	powerline/lib/vcs/mercurial.py

--e3ce4adc	2013-02-06T08:51:55+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Fix UTF-8 encoding issue with weather segment

Closes #172.

e3ce4adc
2	2	powerline/segments/common.py

--56e661b2	2013-02-06T08:51:47+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Handle more request errors in common segments

56e661b2
4	4	powerline/segments/common.py

--184dac1b	2013-02-05T13:48:33+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add solarized support for shell exit status segments

Closes #165.

184dac1b
3	1	powerline/config_files/colorschemes/shell/solarized.json

--6f693220	2013-01-28T22:53:06+04:00	ZyX	kp-pav@ya.ru	Add support for zsh/zpython

Closes #163.

6f693220
43	0	powerline/bindings/zsh/__init__.py
7	5	powerline/bindings/zsh/powerline.zsh

--b99e9cb0	2013-02-04T13:04:17+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Revert "Make 'powerline' a namespace package"

This reverts commit 57bd0af2721bf5ad18b512f347d6a08468ce0767.

b99e9cb0
0	5	powerline/__init__.py
0	1	setup.py

--7a25ab1d	2013-02-04T00:19:04+04:00	ZyX	kp-pav@ya.ru	Fix “'NoneType' object is not iterable” error

Fixes #158
7a25ab1d
1	1	powerline/renderers/vim.py

--57bd0af2	2013-02-03T16:27:30+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Make 'powerline' a namespace package

This will allow third-party plugins to use the 'powerline' namespace for
contributed segments.

Refs #3.

57bd0af2
5	0	powerline/__init__.py
1	0	setup.py

--7e14a84c	2013-02-01T22:33:28+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add cmus player to now_playing segment

Closes #162.

7e14a84c
38	0	powerline/segments/common.py

--def7a1e8	2013-02-01T22:33:24+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update now_playing methods to use common formatting methods

def7a1e8
8	8	powerline/segments/common.py

--e8ebb076	2013-02-01T22:33:07+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add common player conversion methods

e8ebb076
14	0	powerline/segments/common.py

--ea320067	2013-02-01T22:32:39+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Fix Unicode issues with mail segment

ea320067
1	1	powerline/segments/common.py

--4cda38e2	2013-02-01T22:01:53+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Remove support for persistent memoization

A different form of persistent memoization should be reimplemented later.

Refs #159.

4cda38e2
1	25	powerline/lib/memoize.py
3	3	powerline/segments/common.py

--260e40a5	2013-02-01T16:42:46+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Replace spaces *before* highlighting contents

The previous change obviously didn't work for renderers like the Pango
markup renderer since the highlighting code uses regular spaces and not
no-break spaces. Now spaces are replaced in the contents and dividers
only, and it's done before highlighting the segment so the added
highlighting code stays untouched.

Refs #113.

260e40a5
4	2	powerline/renderer.py

--bfdb7f80	2013-02-01T16:06:43+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Refactor segment rendering

This commit introduces the following changes to themes and segment
rendering:

- Spacer segments are now regular string/function type segments with
  "width": "auto" in the themes.
- The "rjust"/"ljust" properties have been replaced by the "width"
  option combined with a new "align" option.
- Renderer._render_segments() is now a generator which renders each
  segment separately, and assigns the rendered contents to
  "_rendered_hl" and "_rendered_raw" in the segment dict.
- Renderer.render() returns the segments by joining the "_rendered_hl"
  values for each segment.
- Spacer segment widths are calculated in the render() method, and
  assigned to "_space_left" and "_space_right" in the segment dict.
  These spaces are then applied in Renderer._render_segments().
- All space characters are converted to no-break spaces (U+00A0) in the
  "_rendered_hl" property.

Refs #113.
Refs #154.

bfdb7f80
11	12	docs/source/configuration.rst
4	2	powerline/config_files/themes/vim/cmdwin.json
10	5	powerline/config_files/themes/vim/default.json
8	4	powerline/config_files/themes/vim/help.json
54	66	powerline/renderer.py
3	0	powerline/renderers/vim.py
7	2	powerline/segment.py
10	4	powerline/theme.py

--cb860ce5	2013-01-31T17:55:18+05:30	Gaurav Narula	gnarula94@gmail.com	Add Rhythmbox to now_playing segment

Closes #155.

cb860ce5
13	0	powerline/segments/common.py

--0ad417cc	2013-01-31T10:53:33+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Refactor now_playing segment slightly

0ad417cc
12	13	powerline/segments/common.py

--5f9b8d51	2013-01-31T10:34:40+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Swap quotes in email_alert segment

5f9b8d51
2	2	powerline/segments/common.py

--91c143bd	2013-01-31T10:34:23+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update Arch Linux PKGBUILDs

91c143bd
13	10	packages/archlinux/python-powerline-git/PKGBUILD
12	9	packages/archlinux/python2-powerline-git/PKGBUILD

--7fb67e73	2013-01-31T10:12:05+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Create now playing segment

The segment currently provides info from mpd or Spotify.

7fb67e73
98	0	powerline/segments/common.py

--fd5cd921	2013-01-31T07:51:09+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Fix rendering of dividers without custom highlight group

fd5cd921
8	4	powerline/renderer.py

--7022b47e	2013-01-30T10:53:28+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Fix updating issue with Qtile widget

7022b47e
3	0	powerline/bindings/qtile/widget.py

--597f67b8	2013-01-30T10:35:01+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add Qtile widget

597f67b8
20	0	docs/source/overview.rst
0	0	powerline/bindings/qtile/__init__.py
33	0	powerline/bindings/qtile/widget.py

--fb929b76	2013-01-30T09:52:22+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Fix vim matcher string comparison

Refs 2f361711febaa822e4eb221f809b710cd650bf5b.

fb929b76
1	1	powerline/matchers/vim.py

--cc9b0dae	2013-01-30T09:44:19+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Pad powerline segments with no-break spaces

Some applications using Pango and/or Cairo draw square unknown character
glyphs next to divider glyphs instead of regular spaces. Non-breaking
spaces resolves this issue, and they are probably more correct to use
(no application should break lines at the padding spaces since they
"glue" the segment and dividers together as one unit).

This commit appears to work fine in all supported applications on Linux.

This commit resolves the gvim font rendering problems mentioned in
issue #113.

cc9b0dae
9	7	powerline/renderer.py

--fb7a0d46	2013-01-30T09:41:09+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Rename AwesomeRenderer to PangoMarkupRenderer

Awesome WM uses the Pango Text Attribute Markup Language
(http://developer.gnome.org/pango/stable/PangoMarkupFormat.html), and
since other applications and window managers may use the same markup
language it's better to have a common renderer for this markup language.

fb7a0d46
1	1	powerline/bindings/awesome/powerline.sh
2	2	powerline/renderers/{awesome.py => pango_markup.py}

--1f9741b8	2013-01-29T13:47:13+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Move awesome theme to generic WM theme

1f9741b8
1	1	powerline/bindings/awesome/powerline.sh
1	1	powerline/config_files/colorschemes/{awesome => wm}/default.json
4	4	powerline/config_files/config.json
0	25	powerline/config_files/themes/{awesome => wm}/default.json

--b918057c	2013-01-29T11:57:31+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Use timedelta.total_seconds() to fetch seconds in uptime segment

Closes #143.

b918057c
1	1	powerline/segments/common.py

--59c316cb	2013-01-29T08:58:44+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Remove percent placeholder from vim help theme

59c316cb
1	1	powerline/config_files/themes/vim/help.json

--2f361711	2013-01-29T08:58:22+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add cmdwin statusline for vim

2f361711
1	1	powerline/bindings/vim/powerline.vim
1	0	powerline/config_files/config.json
15	0	powerline/config_files/themes/vim/cmdwin.json
4	0	powerline/matchers/vim.py

--29793259	2013-01-28T17:29:02+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Improve argument handling in powerline script

Modules can now be any string, and an informative error message will be
written to sys.stdout if the module doesn't exist. The
`last_pipe_status` argument will also automatically be split into
a list.

29793259
2	3	powerline/segments/shell.py
3	3	scripts/powerline

--5db6f475	2013-01-28T17:28:00+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Catch ImportErrors when importing renderer module

5db6f475
4	0	powerline/core.py

--52a52c8e	2013-01-28T14:09:51+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Hide e-mail alert segment if there are no unseen e-mails

52a52c8e
1	1	powerline/segments/common.py

--f8d6f53a	2013-01-28T14:06:19+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Don't check for mail if username or password is missing

f8d6f53a
2	0	powerline/segments/common.py

--3f2ce0a5	2013-01-28T14:02:03+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Catch the correct imaplib exception

3f2ce0a5
1	1	powerline/segments/common.py

--a3600158	2013-01-28T13:55:45+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add a quick setup guide to the docs

a3600158
72	12	docs/source/configuration.rst

--8c003c26	2013-01-28T13:55:36+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add e-mail alert segment

8c003c26
3	0	powerline/config_files/colorschemes/awesome/default.json
3	0	powerline/config_files/colorschemes/tmux/default.json
9	0	powerline/config_files/themes/awesome/default.json
9	0	powerline/config_files/themes/tmux/default.json
20	0	powerline/segments/common.py

--bda7384a	2013-01-28T12:30:11+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add Awesome WM widget

bda7384a
22	0	docs/source/overview.rst
11	0	powerline/bindings/awesome/powerline.lua
10	0	powerline/bindings/awesome/powerline.sh
55	0	powerline/config_files/colorschemes/awesome/default.json
8	4	powerline/config_files/config.json
47	0	powerline/config_files/themes/awesome/default.json
28	0	powerline/renderers/awesome.py

--1e4c3612	2013-01-28T11:51:26+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Pass segment contents to renderer hl() methods

This allows the hl() methods to wrap highlighting code *around* the
segment contents, this is required for e.g. Pango markup in Awesome
statuslines (segments must be wrapped in <span ...>...</span> tags).

1e4c3612
39	19	powerline/renderer.py
2	2	powerline/renderers/shell.py
2	2	powerline/renderers/tmux.py
2	2	powerline/renderers/vim.py
2	2	powerline/renderers/zsh_prompt.py

--7a1d7eca	2013-01-28T07:40:42+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add width argument to shell script

7a1d7eca
4	3	scripts/powerline

--091400c8	2013-01-28T07:09:22+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Join tmux/prompt shell scripts into one common script

091400c8
1	1	powerline/bindings/bash/powerline.sh
2	2	powerline/bindings/tmux/powerline.conf
2	2	powerline/bindings/zsh/powerline.zsh
7	4	scripts/{powerline-tmux => powerline}
0	28	scripts/powerline-prompt
1	2	setup.py

--57876a87	2013-01-28T06:54:38+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Make highlight_group optional if set in segment function

57876a87
1	4	powerline/segment.py
10	2	powerline/theme.py

--17639a9e	2013-01-26T18:36:39+04:00	ZyX	kp-pav@ya.ru	Add last_status and last_pipe_status segments

17639a9e
3	1	powerline/config_files/colorschemes/shell/default.json
5	0	powerline/config_files/themes/shell/default.json
5	0	powerline/config_files/themes/shell/default_leftonly.json
2	1	powerline/core.py
16	0	powerline/segments/shell.py
6	1	powerline/theme.py
1	1	scripts/powerline-prompt

--c5660640	2013-01-25T22:41:07+04:00	ZyX	kp-pav@ya.ru	Add setopt promptpercent and promptsubst

These options are required for Powerline to work in zsh, but the latter
is off by default.

c5660640
2	0	powerline/bindings/zsh/powerline.zsh

--45882f95	2013-01-25T22:38:36+04:00	ZyX	kp-pav@ya.ru	Restore export as it makes sense in bash

Bash has weird initialization: bashrc is sourced in non-login
interactive shell, but not in login interactive shell; profile is
sourced in login interactive shell, but not in non-login interactive,
thus exporting in profile does make sense. In zsh case zshrc is always
sourced when shell is interactive and exporting thus makes no sense.

45882f95
1	1	powerline/bindings/bash/powerline.sh

--8dd5aeb0	2013-01-25T22:36:48+04:00	ZyX	kp-pav@ya.ru	Remove "$()" method in pre-prompt hook

Using "$()" method on pre-prompt hook is just asking for security
trouble.

8dd5aeb0
2	6	powerline/bindings/bash/powerline.sh
4	0	powerline/renderers/shell.py
1	1	powerline/renderers/zsh_prompt.py

--99158e3e	2013-01-25T22:25:11+04:00	ZyX	kp-pav@ya.ru	Fix zsh prompt security and other issues

* Escape percent in zsh prompt
* Prevent some security issues (directory named `$(echo abc)` appeared as `abc`)
    (`"$()"` → `'$()'`)
* Removed exports

99158e3e
2	2	powerline/bindings/zsh/powerline.zsh
6	2	powerline/renderers/zsh_prompt.py

--d20df5a3	2013-01-25T22:08:11+04:00	ZyX	kp-pav@ya.ru	Remove placeholder and use escaping instead

d20df5a3
9	5	powerline/renderer.py
5	6	powerline/renderers/vim.py

--a42f9b6e	2013-01-28T06:36:52+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add output_raw argument to Renderer.render() method

Update all ipython modules to use it to get unhighlighted prompt

Conflicts:
	powerline/renderers/ipython.py

a42f9b6e
6	3	powerline/bindings/ipython/post_0_11.py
1	2	powerline/bindings/ipython/pre_0_11.py
13	4	powerline/renderer.py
0	7	powerline/renderers/ipython.py

--0b251425	2013-01-24T22:36:46+04:00	ZyX	kp-pav@ya.ru	Add IPython prompt support

0b251425
23	0	docs/source/overview.rst
0	0	powerline/bindings/ipython/__init__.py
23	0	powerline/bindings/ipython/post_0_11.py
27	0	powerline/bindings/ipython/pre_0_11.py
25	0	powerline/config_files/colorschemes/ipython/default.json
4	0	powerline/config_files/config.json
16	0	powerline/config_files/themes/ipython/default.json
16	0	powerline/renderers/ipython.py

--98269a4b	2013-01-27T17:42:11+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Handle more KeyErrors in common weather segment

98269a4b
2	2	powerline/segments/common.py

--d6da2c8d	2013-01-27T17:40:02+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Reset memoize cache if unable to unpickle

This is usually due to the cache being stored with Python 3 and then
attempted to being loaded in Python 2 which raises a ValueError.

Closes #138.

d6da2c8d
2	2	powerline/lib/memoize.py

--38195f49	2013-01-25T17:30:20+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Handle KeyErrors in common weather segment

If the query doesn't return valid weather information (e.g. if the
location query is invalid) it will return an empty weather segment.

Closes #128.

38195f49
3	0	powerline/segments/common.py

--1564e338	2013-01-25T14:52:43+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Remove percent placeholder from themes

The vim renderer now handles searching and replacing of the percent
placeholder internally so percent signs can be used directly in themes
and segments instead of the percent placeholder.

Refs #127.

1564e338
1	1	powerline/config_files/themes/vim/default.json
6	3	powerline/renderers/vim.py

--0dd3393b	2013-01-25T13:38:34+01:00	Sven Strothoff	sven.strothoff@googlemail.com	Replace old line number character

themes/vim/help.json still used the line number character from
vim-powerline.

0dd3393b
1	1	powerline/config_files/themes/vim/help.json

--147c96a2	2013-01-25T11:50:26+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add Solarized Dark shell colorscheme

147c96a2
31	0	powerline/config_files/colorschemes/shell/solarized.json

--186c99f9	2013-01-25T11:41:56+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add Solarized Dark colorscheme

Closes #124.

186c99f9
101	0	powerline/config_files/colorschemes/vim/solarized.json

--c06f8836	2013-01-25T10:48:44+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update docs and create a common terminal feature support matrix

c06f8836
11	30	docs/source/configuration.rst
2	23	docs/source/installation/linux.rst
3	16	docs/source/installation/osx.rst
38	5	docs/source/overview.rst

--16b82cf0	2013-01-25T10:01:30+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add configuration option and docs for 24-bit terminal colors

Closes #81.

16b82cf0
26	0	docs/source/configuration.rst
1	0	powerline/config_files/config.json
2	1	powerline/core.py
3	2	powerline/renderer.py
2	2	powerline/renderers/shell.py

--9985ca53	2013-01-25T09:44:31+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add hex colors for vim gradient

9985ca53
6	6	powerline/config_files/colorschemes/vim/default.json

--cfe96ff0	2013-01-25T09:40:07+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Fix minor doc issues

cfe96ff0
1	1	docs/source/configuration.rst
0	3	docs/source/fontpatching.rst

--e49f7605	2013-01-25T09:37:03+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Use hex strings for RGB colors in colorschemes

Previously you'd have to convert a hex number to an integer, this change
makes it possible to use a hex string instead which is much more useful.

e49f7605
3	3	docs/source/configuration.rst
1	1	powerline/colorscheme.py

--6ac9f0d6	2013-01-24T17:35:16+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Restructure and improve installation docs

The installation docs have been split into separate guides for OS X and
Linux, with OS-specific troubleshooting as part of the installation
guide.

Terminal emulator support tables have been added to both guides.

Closes #121.

6ac9f0d6
-	-	docs/source/_static/img/icons/cross.png
-	-	docs/source/_static/img/icons/error.png
-	-	docs/source/_static/img/icons/tick.png
1	2	docs/source/index.rst
125	0	docs/source/installation/linux.rst
129	0	docs/source/installation/osx.rst
32	0	docs/source/installation/troubleshooting-common.rst
5	80	docs/source/overview.rst
0	133	docs/source/troubleshooting.rst

--a8730989	2013-01-24T17:21:46+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add parameter for home dir shortening

Closes #115.

a8730989
2	2	powerline/segments/vim.py

--cefa7ef5	2013-01-24T12:35:58+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add file_size segment for vim

Closes #118.

cefa7ef5
1	0	powerline/config_files/colorschemes/vim/default.json
16	1	powerline/segments/vim.py

--5d5841c1	2013-01-24T12:17:25+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Fix vim file_directory segment

Closes #117.
Closes #119.

5d5841c1
2	0	powerline/segments/vim.py

--9282bf61	2013-01-24T08:00:18+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add package conflicts to Arch Linux PKGBUILDs

9282bf61
2	1	packages/archlinux/python-powerline-git/PKGBUILD
2	1	packages/archlinux/python2-powerline-git/PKGBUILD

--0d2056ab	2013-01-23T23:45:16+01:00	Daniel Hahler	git@thequod.de	Shorten /home/foo/ to ~foo in vim file directory segment

Replace "/home/foo/" with "~foo" (foo's home, not current user's).
This shortens paths like /home/www-data/foo/.

Closes #115.

0d2056ab
2	0	powerline/segments/vim.py

--bacb2603	2013-01-24T08:21:44+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Revert "Remove Ubuntu Mono from fontconfig file"

This reverts commit b57174a16cb41ad60abf04dc71c92fb7102c673b.

Closes #113.

bacb2603
4	0	font/10-powerline-symbols.conf

--2d6ee265	2013-01-23T23:27:13+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add 24-bit color support for shell renderers

Refs #81.

2d6ee265
9	0	powerline/renderer.py
6	0	powerline/renderers/shell.py

--b86f79cf	2013-01-23T10:24:07+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Restructure docs slightly

The header levels have been switched to correspond more with the Sphinx
suggested standards and the troubleshooting section has been
restructured to make it easier to find solutions. Minor markup changes
and other changes are also included in this commit.

b86f79cf
8	7	docs/source/configuration.rst
6	5	docs/source/fontpatching.rst
3	2	docs/source/index.rst
4	3	docs/source/introduction.rst
4	0	docs/source/license-credits.rst
30	29	docs/source/overview.rst
54	17	docs/source/troubleshooting.rst

--40d542af	2013-01-23T09:56:58+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add troubleshooting info for PuTTy users

Refs #107.

40d542af
4	0	docs/source/troubleshooting.rst

--b620d3a9	2013-01-23T08:27:44+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Split Arch Linux packages into Python 2/3 variants

b620d3a9
0	0	packages/archlinux/{ => python-powerline-git}/.gitignore
8	9	packages/archlinux/{ => python-powerline-git}/PKGBUILD
0	0	packages/archlinux/{ => python-powerline-git}/powerline.install
0	0	packages/archlinux/{ => python2-powerline-git}/.gitignore
2	2	packages/archlinux/{ => python2-powerline-git}/PKGBUILD
0	0	packages/archlinux/{ => python2-powerline-git}/powerline.install

--bf3d2e87	2013-01-23T07:38:52+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Include bindings in package

Closes #109.

bf3d2e87
1	0	MANIFEST.in

--da6dea74	2013-01-23T07:24:33+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Fix Unicode encoding issue

Closes #108.

da6dea74
1	1	powerline/segments/common.py

--2a9edc19	2013-01-22T18:50:37+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update troubleshooting info for ImportErrors on OS X

Refs #39.
Refs #95.

2a9edc19
3	0	docs/source/troubleshooting.rst

--fd983135	2013-01-22T21:15:30+04:00	ZyX	kp-pav@ya.ru	Use elog in place of einfo

Otherwise message is not repeated at the end of building process and thus is
likely to be missed by user.

fd983135
1	1	packages/gentoo/app-misc/powerline/Manifest
5	3	packages/gentoo/app-misc/powerline/powerline-9999.ebuild

--77237278	2013-01-22T18:24:19+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update Arch Linux PKGBUILD

77237278
17	3	packages/archlinux/PKGBUILD
20	1	packages/archlinux/powerline.install

--a462f1e8	2013-01-22T20:59:21+04:00	ZyX	kp-pav@ya.ru	Add zsh USE flag and information about Python 3.3 compatibility

a462f1e8
1	1	packages/gentoo/app-misc/powerline/Manifest
13	4	packages/gentoo/app-misc/powerline/powerline-9999.ebuild

--f4a95fbb	2013-01-22T20:51:26+04:00	ZyX	kp-pav@ya.ru	Rename prompt.* to powerline.*

Reasons:
- prompt.* is a bad name for installing into /usr/share/zsh/site-contrib
- prompt.* does not conform powerline.vim and powerline.conf (vim and tmux)
f4a95fbb
2	2	docs/source/overview.rst
0	0	powerline/bindings/bash/{prompt.sh => powerline.sh}
0	0	powerline/bindings/zsh/{prompt.zsh => powerline.zsh}

--0cb21821	2013-01-22T17:26:01+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update installation instructions for tmux and shell prompts

0cb21821
12	23	docs/source/overview.rst

--c818e7c6	2013-01-22T17:20:58+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Install source_plugin.vim in Arch Linux PKGBUILD

c818e7c6
3	1	packages/archlinux/PKGBUILD

--51c302a6	2013-01-22T17:14:45+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Revert to previous way of sourcing vim plugin

Refs #95.

51c302a6
4	7	powerline/bindings/vim/plugin/source_plugin.vim

--0d39dd55	2013-01-22T19:45:56+04:00	ZyX	kp-pav@ya.ru	Add installation of powerline.vim into /usr/share/vim/vimfiles/plugin

0d39dd55
1	1	packages/gentoo/app-misc/powerline/Manifest
4	0	packages/gentoo/app-misc/powerline/powerline-9999.ebuild

--6bc13b8d	2013-01-22T19:41:28+04:00	ZyX	kp-pav@ya.ru	Make g:powerline_* variables fixed*, added g:powerline_loaded

The latter is required to be able to forbid sourcing powerline.vim

* changes are ignored until script is resourced

6bc13b8d
15	7	powerline/bindings/vim/powerline.vim

--f175a6ba	2013-01-22T16:45:24+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Fix issue with $pipestatus

$pipestatus is a space-separated int list and not a single int.

f175a6ba
2	2	powerline/bindings/zsh/prompt.zsh
1	1	scripts/powerline-prompt

--8f055473	2013-01-22T16:36:50+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update tmux theme and add sourceable config file

The tmux theme has been updated and now matches the other themes much
better. It may still look a little boring and segment cropping isn't
enabled, but it's a good starting point. It colors the weather segment
differently based on the current weather and temperature, and some other
segment colors have been tweaked.

To enable the theme, add the following to your tmux.conf:

    source '/full/path/to/powerline/bindings/tmux/powerline.conf'

Closes #51.

8f055473
11	0	powerline/bindings/tmux/powerline.conf
39	14	powerline/config_files/colorschemes/tmux/default.json
4	1	powerline/config_files/themes/shell/default.json
23	19	powerline/config_files/themes/tmux/default.json
16	5	powerline/segments/common.py

--96760675	2013-01-22T14:59:07+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add "e" symbol before virtualenv prompt segment

96760675
2	1	powerline/config_files/themes/shell/default.json
2	1	powerline/config_files/themes/shell/default_leftonly.json

--7c19381b	2013-01-22T14:23:21+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update optional dependency list

7c19381b
3	2	docs/source/overview.rst

--504e212f	2013-01-22T14:19:04+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add common virtualenv segment

504e212f
3	1	powerline/config_files/colorschemes/shell/default.json
3	0	powerline/config_files/themes/shell/default.json
3	0	powerline/config_files/themes/shell/default_leftonly.json
4	0	powerline/segments/common.py

--35de8a19	2013-01-22T14:09:02+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Fix common cwd segment for absolute paths

35de8a19
4	0	powerline/segments/common.py

--c5df2fcb	2013-01-22T13:57:33+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Create awesome looking prompt with divided cwd

This is inspired by the look of powerline-shell:
https://github.com/milkbikis/powerline-shell

c5df2fcb
5	3	powerline/config_files/colorschemes/shell/default.json
2	1	powerline/config_files/themes/shell/default.json
2	1	powerline/config_files/themes/shell/default_leftonly.json
7	2	powerline/segments/common.py

--a023f4ad	2013-01-22T13:45:03+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add bash prompt script for sourcing in bashrc

This only displays the left part of the prompt. It requires the
left-only theme to be able to display all segments.

The script must be sourced with an absolute path for now:

    . /path/to/powerline/bindings/bash/prompt.sh

Closes #90.

a023f4ad
23	0	powerline/bindings/bash/prompt.sh

--9035ec73	2013-01-22T13:36:40+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add left-only shell theme

This is useful for bash prompts since bash doesn't support RPS1. This
theme must be manually enabled by editing the user config file.

Closes #84.

9035ec73
24	0	powerline/config_files/themes/shell/default_leftonly.json

--487aef3a	2013-01-22T13:25:01+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add zsh prompt script for sourcing in zshrc

This script sets a couple of environment variables in tmux if it's
running, and provides the last exit code and last pipe status to
powerline-prompt. It also traps SIGWINCH and sets the window width as an
env variable in tmux. The default prompt has been split in two and the
git branch is moved to RPS1.

The script must be sourced with an absolute path for now:

    . /path/to/powerline/bindings/zsh/prompt.zsh

Statusline cropping has not been implemented in powerline-tmux yet.

Closes #82.
Closes #83.
Refs #90.

487aef3a
33	0	powerline/bindings/zsh/prompt.zsh

--cfe47adc	2013-01-22T13:23:29+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Move branch segment to right side in shell theme

cfe47adc
6	4	powerline/config_files/themes/shell/default.json

--30f98f6d	2013-01-22T13:22:31+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add exit code/pipe status args in powerline-prompt

Refs #90.

30f98f6d
2	0	scripts/powerline-prompt

--eb141428	2013-01-22T13:21:54+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Return empty string for empty sides

eb141428
3	0	powerline/renderer.py

--b7e7b1e4	2013-01-22T13:20:26+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Use absolute import in source_plugin.vim

Refs #95.

b7e7b1e4
1	0	powerline/bindings/vim/plugin/source_plugin.vim

--292d5313	2013-01-22T13:17:58+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Remove expensive functools.wraps from memoize decorator

292d5313
0	2	powerline/lib/memoize.py

--10ed88c5	2013-01-22T11:44:46+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update vim soft divider highlighting

10ed88c5
6	1	powerline/config_files/colorschemes/vim/default.json
8	4	powerline/config_files/themes/vim/default.json

--3703514e	2013-01-22T11:26:33+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add option to set soft divider highlighting group

Closes #89.

3703514e
3	1	powerline/renderer.py
3	0	powerline/segment.py

--424f9791	2013-01-22T10:58:41+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Make it possible to return several segment in segment functions

This requires a couple of minor changes to custom segments. The segment
`highlight` key has been renamed to `highlight_group`, and segment
functions must return a list of segments dicts instead of just a dict.

Closes #88.

424f9791
10	10	docs/source/configuration.rst
3	4	powerline/config_files/themes/vim/default.json
2	2	powerline/config_files/themes/vim/help.json
1	1	powerline/renderer.py
3	2	powerline/segment.py
20	14	powerline/segments/common.py
13	9	powerline/segments/vim.py
13	7	powerline/theme.py

--973ea572	2013-01-22T09:07:22+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Remove unneeded exclusion from MANIFEST.in

973ea572
0	1	MANIFEST.in

--f800872c	2013-01-22T09:06:30+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Default to no mode in renderer.render() method

f800872c
1	1	powerline/renderer.py
1	1	scripts/powerline-prompt
1	1	scripts/powerline-tmux

--2b0c0148	2013-01-22T09:04:57+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Improve side handling in prompt/tmux scripts

2b0c0148
2	5	scripts/powerline-prompt
2	5	scripts/powerline-tmux

--21598140	2013-01-22T09:03:34+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add side argument in renderer.render() method

21598140
2	2	powerline/renderer.py
8	4	powerline/theme.py

--3ee6e550	2013-01-22T08:04:26+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Handle Py2/3 Unicode differences when writing to stdout

Closes #94.

3ee6e550
8	4	scripts/powerline-prompt
8	4	scripts/powerline-tmux

--8355e3d6	2013-01-21T22:09:32+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Move string decoding of file name/dir vim segments

Closes #93.

8355e3d6
4	4	powerline/segments/vim.py

--ced333dd	2013-01-21T22:03:56+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add note about Python 3 support in docs

ced333dd
4	0	docs/source/overview.rst

--a620a0ef	2013-01-21T21:50:30+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Fix various Python 3 related issues

Powerline now detects the Python version and verifies that the user has
Python 3.3 before enabling Python 3 support. To enable Python
3 support, use `python3` to execute source_plugin() in your vimrc
  instead of `python2`.

a620a0ef
8	1	powerline/bindings/vim/__init__.py
6	6	powerline/bindings/vim/plugin/source_plugin.vim
7	11	powerline/bindings/vim/powerline.vim
7	5	powerline/theme.py

--85331710	2013-01-21T21:02:30+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Remove unneeded extras dependency

85331710
0	1	setup.py

--bee427eb	2013-01-21T20:42:57+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add Python 3.3 support

Support for unicode literals was reintroduced in Python 3.3 which makes
supporting both Python 2 and Python 3 much easier, so this will be the
minimum supported Python 3 version.

Closes #8.

bee427eb
8	10	docs/source/overview.rst
6	4	powerline/bindings/vim/plugin/source_plugin.vim
10	6	powerline/bindings/vim/powerline.vim
4	4	powerline/core.py
2	2	powerline/lib/__init__.py
1	1	powerline/lib/humanize_bytes.py
3	0	powerline/lib/memoize.py
3	3	powerline/lib/vcs/git.py
3	3	powerline/renderer.py
32	10	powerline/segments/common.py
2	2	powerline/segments/vim.py
7	3	powerline/theme.py
2	2	scripts/powerline-prompt
3	3	scripts/powerline-tmux
1	1	setup.py

--77f66cbb	2013-01-21T20:38:41+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add additional dependency info

77f66cbb
9	0	docs/source/overview.rst

--614c08be	2013-01-21T17:55:05+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Convert file name to UTF-8 in vim file name segment

Closes #87.

614c08be
1	1	powerline/segments/vim.py

--e64ef3c3	2013-01-21T17:30:35+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Fix zsh prompt example

e64ef3c3
1	1	docs/source/overview.rst

--8192d592	2013-01-21T11:46:14+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Make system load thresholds customizable

8192d592
3	3	powerline/segments/common.py

--4a9ade11	2013-01-21T11:43:34+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Make uptime tmux segment support psutil

psutil is used if available, and the function falls back to reading
/proc/uptime if not. According to the psutil docs this should work
across more platforms.

4a9ade11
7	3	powerline/segments/common.py

--25c5a6d9	2013-01-21T10:53:46+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update zsh prompt example in docs

25c5a6d9
1	1	docs/source/overview.rst

--fcb07943	2013-01-21T10:50:07+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Allow side, extension and renderer module to be specified in powerline-prompt

Refs #84.

fcb07943
16	4	scripts/powerline-prompt

--2eb07e89	2013-01-21T10:49:03+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add zsh prompt renderer

Zsh can use regular escape sequences in the prompt, but they must be
wrapped in %{...%} to work correctly.

Refs #84.

2eb07e89
14	0	powerline/renderers/zsh_prompt.py

--0b385a11	2013-01-21T10:48:14+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Rename "terminal" extension to "shell"

Refs #84.

0b385a11
0	0	powerline/config_files/colorschemes/{terminal => shell}/default.json
1	1	powerline/config_files/config.json
0	0	powerline/config_files/themes/{terminal => shell}/default.json
3	15	powerline/renderers/{terminal.py => shell.py}

--45769b29	2013-01-21T10:31:16+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Allow overriding the renderer when instantiating Powerline

This is useful to allow e.g. the prompt script to use a common shell
theme while having different renderers for different shells.

45769b29
6	4	powerline/core.py
7	2	powerline/lib/__init__.py

--7be62ba5	2013-01-21T10:16:34+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Use code-blocks in docs

7be62ba5
6	2	docs/source/overview.rst

--7db8aa07	2013-01-21T10:14:21+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update usage docs

Refs #79.

7db8aa07
22	5	docs/source/overview.rst

--ccc18e84	2013-01-21T09:56:43+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Remove unnecessary import

ccc18e84
0	1	powerline/bindings/vim/__init__.py

--4e97fd95	2013-01-21T03:17:04-05:00	なつき	i@ntk.me	Add Pathogen/Vundle support

Closes #79.

4e97fd95
1	1	docs/source/overview.rst
2	2	powerline/bindings/vim/{ => plugin}/source_plugin.vim

--c561922e	2013-01-20T19:49:06+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add info about Gentoo Live ebuild

c561922e
1	0	docs/source/overview.rst

--84edefbe	2013-01-20T19:48:56+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update docs with new module paths

84edefbe
4	4	docs/source/configuration.rst
2	2	docs/source/overview.rst

--b7d8495b	2013-01-20T19:24:41+04:00	ZyX	kp-pav@ya.ru	Fix problems in mode segment

- It was impossible to configure visual block and select block mode strings:
  JSON strings can contain neither raw control characters nor escape sequences
  for them
- It was impossible to override only some of the strings:
  missing key generates KeyError exception, not IndexError

b7d8495b
9	3	powerline/segments/vim.py

--f1976c20	2013-01-20T03:14:31+04:00	ZyX	kp-pav@ya.ru	Update docs

- Added notes about where common and extension-specific configuration is located
- Added common.paths config.json option description
- Fixed user-defined segments location found in segments section
- Fixed Themes/segments/module reference text

f1976c20
17	4	docs/source/configuration.rst

--69846cd0	2013-01-20T02:49:58+04:00	ZyX	kp-pav@ya.ru	Move configuration files into separate directory

Refs #72.

69846cd0
0	0	powerline/{ => config_files}/colorschemes/terminal/default.json
0	0	powerline/{ => config_files}/colorschemes/tmux/default.json
0	0	powerline/{ => config_files}/colorschemes/vim/default.json
0	0	powerline/{ => config_files}/config.json
0	0	powerline/{ => config_files}/themes/terminal/default.json
0	0	powerline/{ => config_files}/themes/tmux/default.json
0	0	powerline/{ => config_files}/themes/vim/default.json
0	0	powerline/{ => config_files}/themes/vim/help.json
1	1	powerline/core.py

--1a7d67f5	2013-01-20T19:30:18+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Fix “default_module” theme key support

Reverts commit 78e54e0c840bb4a26e8c820b2f7327d11e313696 and moves
default_module into Segments.__init__.

Refs #3.

1a7d67f5
2	5	powerline/core.py
3	1	powerline/theme.py

--033afade	2013-01-20T02:15:10+04:00	ZyX	kp-pav@ya.ru	Fix highlighting when there are only 2 segments in theme

Here are two fixes:
- defaultdict makes it not throw KeyErrors.
- Replacing (False, False) with False makes it not throw vim.error (no color
  ctermbg=False)

033afade
2	2	powerline/renderers/terminal.py
2	2	powerline/renderers/tmux.py
2	1	powerline/theme.py

--b4fc8ebe	2013-01-20T19:19:16+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update network_load segment to work with psutil

b4fc8ebe
11	1	powerline/segments/common.py

--0586bd05	2013-01-20T19:18:55+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Memoize weather segment for 30 minutes

0586bd05
1	1	powerline/segments/common.py

--a8846c00	2013-01-20T19:18:07+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add cpu_load_percent segment

This requires psutil to be installed, should be added to the docs later.

a8846c00
1	0	powerline/colorschemes/tmux/default.json
9	0	powerline/segments/common.py
3	0	powerline/themes/tmux/default.json

--f610527b	2013-01-20T19:17:51+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Move system_load segment code

f610527b
16	16	powerline/segments/common.py

--0d097139	2013-01-20T19:16:21+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Move common segment imports

0d097139
3	3	powerline/segments/common.py

--b57174a1	2013-01-20T19:15:22+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Remove Ubuntu Mono from fontconfig file

Refs #60.

b57174a1
0	4	font/10-powerline-symbols.conf

--f108ab04	2013-01-20T19:15:12+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update pip install URI in the docs

f108ab04
1	1	docs/source/overview.rst

--dfe5d5d8	2013-01-19T18:09:20+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Restructure extension directories

Refs #74.

dfe5d5d8
0	0	powerline/{ext => bindings}/__init__.py
7	0	powerline/{ext/vim/bindings.py => bindings/vim/__init__.py}
0	0	powerline/{ext => bindings}/vim/powerline.vim
0	0	powerline/{ext => bindings}/vim/source_plugin.vim
5	5	powerline/core.py
0	1	powerline/ext/terminal/__init__.py
0	1	powerline/ext/tmux/__init__.py
0	9	powerline/ext/vim/__init__.py
2	2	powerline/{matchers.py => matcher.py}
0	0	powerline/{ext/common => matchers}/__init__.py
4	0	powerline/{ext/vim/matchers.py => matchers/vim.py}
0	0	powerline/{ext => renderers}/__init__.py
0	0	powerline/{ext/terminal/renderer.py => renderers/terminal.py}
0	0	powerline/{ext/tmux/renderer.py => renderers/tmux.py}
3	1	powerline/{ext/vim/renderer.py => renderers/vim.py}
2	2	powerline/{segments.py => segment.py}
0	0	powerline/{ext => segments}/__init__.py
0	0	powerline/{ext/common/segments.py => segments/common.py}
3	1	powerline/{ext/vim/segments.py => segments/vim.py}
1	1	powerline/themes/terminal/default.json
1	1	powerline/themes/tmux/default.json

--65e358de	2013-01-19T17:01:01+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Move terminal and tmux segments into common module

This should ideally be renamed to something else since it's not strictly
an extension. A better module naming scheme could be something like:

	powerline.segments.ext.{extension}
	powerline.segments.common

This would move all segments out of their respective extension
directory, and might be a bit confusing. The ext directories may also
need some changes to make this work properly.

65e358de
0	0	powerline/ext/common/__init__.py
40	0	powerline/ext/{tmux => common}/segments.py
0	44	powerline/ext/terminal/segments.py
1	0	powerline/themes/terminal/default.json
1	1	powerline/themes/tmux/default.json

--78e54e0c	2013-01-16T22:04:43+04:00	ZyX	kp-pav@ya.ru	Addd “default_module” theme key support

Refs #3.

78e54e0c
7	1	docs/source/configuration.rst
1	1	powerline/core.py
3	3	powerline/segments.py

--1557ff2c	2013-01-19T16:42:29+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Cleanup weather condition codes

1557ff2c
4	4	powerline/ext/tmux/segments.py

--41da1603	2013-01-19T16:24:53+04:00	ZyX	kp-pav@ya.ru	Add Gentoo live ebuild

Still needed to push this ebuild to some overlay or main tree; otherwise
it requires more effort to use.

Users need to use

    eselect fontconfig enable 10-powerline-symbols.conf

to actually use the fontconfig file (should be added to the docs).
Ebuild itself installs the file, but doesn't enable it.

41da1603
1	0	packages/gentoo/app-misc/powerline/Manifest
54	0	packages/gentoo/app-misc/powerline/powerline-9999.ebuild

--7d668de1	2013-01-19T16:50:17+04:00	ZyX	kp-pav@ya.ru	Raise TypeError only if it is segment type that has problems

It raised TypeError also when module did not have required function

7d668de1
2	1	powerline/segments.py

--06d4b455	2013-01-19T17:25:37+04:00	ZyX	kp-pav@ya.ru	Make VCS guess() function respect .git files

Closes #67.

06d4b455
5	2	powerline/lib/vcs/__init__.py

--0acfd843	2013-01-19T17:35:18+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Change default IP address lookup URI

icanhazip.com has two other domains for fine-tuned IP lookup,
ipv4.icanhazip.com will always return the IPv4 address, and
ipv6.icanhazip.com will always return the IPv6 address (the latter
appears to only work if you actually have an IPv6 address).

Details at http://rackerhacker.com/icanhazip-com-faq/.

Closes #68.

0acfd843
1	1	powerline/ext/tmux/segments.py

--c5b37b39	2013-01-18T16:53:32+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add troubleshooting info for iTerm2

Closes #65.

c5b37b39
3	0	docs/source/troubleshooting.rst

--1637a131	2013-01-18T16:52:03+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Improve font installation in Arch Linux package

1637a131
7	2	packages/archlinux/PKGBUILD
9	6	packages/archlinux/powerline.install

--2ace4185	2013-01-18T16:40:00+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update font installation instructions

Refs #60.

2ace4185
11	29	docs/source/overview.rst

--162b94bf	2013-01-18T16:32:13+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add fontconfig fallback configuration

162b94bf
69	0	font/10-powerline-symbols.conf

--c1bf60db	2013-01-18T16:31:32+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Move font patcher stuff out of package directory

c1bf60db
-	-	{powerline/fontpatcher => font}/PowerlineSymbols.otf
0	0	{powerline/fontpatcher => font}/fontpatcher-symbols.sfd
0	0	{powerline/fontpatcher => font}/fontpatcher.py

--18813c5f	2013-01-18T11:19:38+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Install symbol font in Arch Linux package

Refs #60.

18813c5f
1	0	packages/archlinux/.gitignore
5	1	packages/archlinux/PKGBUILD
21	0	packages/archlinux/powerline.install

--14c4ba45	2013-01-18T11:03:29+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Move Arch Linux package into separate directory

14c4ba45
0	0	{package => packages/archlinux}/.gitignore
0	0	{package => packages/archlinux}/PKGBUILD

--56f06f88	2013-01-18T10:58:23+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update font installation instructions

Refs #60.

56f06f88
3	0	docs/source/fontpatching.rst
60	0	docs/source/overview.rst

--2cfd01ec	2013-01-17T21:32:15+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add PowerlineSymbols font file

On Linux it appears to work perfectly to just have this font file
present on the system as it automatically chooses fallback fonts if
a glyph isn't present in the current font.

2cfd01ec
-	-	powerline/fontpatcher/PowerlineSymbols.otf

--a67ab948	2013-01-17T20:08:47+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Remove example tmux.conf

a67ab948
0	10	powerline/ext/tmux/tmux.conf

--2fba8f05	2013-01-17T20:10:28+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Don't explicitly reset tmux attributes

2fba8f05
3	0	powerline/ext/tmux/renderer.py

--0ea76151	2013-01-17T20:05:42+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add network load tmux segment

0ea76151
1	0	powerline/colorschemes/tmux/default.json
23	0	powerline/ext/tmux/segments.py
3	0	powerline/themes/tmux/default.json

--7eca187d	2013-01-17T20:02:24+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add imports to lib init file

7eca187d
1	1	powerline/ext/tmux/segments.py
1	1	powerline/ext/vim/segments.py
2	0	powerline/lib/__init__.py

--245be993	2013-01-17T20:02:04+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add humanize_bytes function to library

245be993
22	0	powerline/lib/humanize_bytes.py

--07f1b7d6	2013-01-17T20:01:39+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Rename weather segment

07f1b7d6
1	1	powerline/colorschemes/tmux/default.json
1	1	powerline/ext/tmux/segments.py
1	1	powerline/themes/tmux/default.json

--9ec3a8ef	2013-01-17T17:24:58+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Reset highlighting at end of rendered result

Closes #57.

9ec3a8ef
1	0	powerline/renderer.py

--1a99fbd3	2013-01-17T17:06:45+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update terminal prompt usage instructions

Closes #56.

1a99fbd3
25	14	docs/source/overview.rst

--8a5b8719	2013-01-17T10:08:51+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Escape command in prompt usage instructions

8a5b8719
2	2	docs/source/overview.rst

--20b17ceb	2013-01-17T10:03:29+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add troubleshooting info about OSX ImportError

Closes #39.

20b17ceb
6	0	docs/source/troubleshooting.rst

--6207f907	2013-01-17T10:03:00+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add troubleshooting info about NameError in MacVim

Refs #48.

6207f907
11	0	docs/source/troubleshooting.rst

--f18bf708	2013-01-17T10:01:48+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add troubleshooting info for iTerm2 question mark issue

Closes #27.
Refs #48.

f18bf708
4	0	docs/source/troubleshooting.rst

--7d613bae	2013-01-17T10:01:09+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Fix font patching instructions for OS X

Closes #46.

7d613bae
2	2	docs/source/fontpatching.rst

--6bf501df	2013-01-17T09:42:39+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add usage instructions for terminal/tmux

6bf501df
34	2	docs/source/overview.rst

--a091d04a	2013-01-17T09:42:15+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update terminal rendering for bash

a091d04a
2	3	powerline/ext/terminal/renderer.py

--fd94c7c0	2013-01-17T09:25:56+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Install tmux/prompt files as scripts

fd94c7c0
2	2	powerline/ext/tmux/tmux.conf
1	1	powerline/ext/terminal/powerline_prompt.py => scripts/powerline-prompt
1	1	powerline/ext/tmux/powerline_status.py => scripts/powerline-tmux
4	0	setup.py

--4fc6bd75	2013-01-17T08:29:04+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update README

4fc6bd75
10	4	README.rst

--128c0125	2013-01-16T18:37:00+04:00	ZyX	kp-pav@ya.ru	Add foreign local themes support

Refs #3.

128c0125
20	2	powerline/core.py
5	0	powerline/renderer.py

--ecf9e7ee	2013-01-16T09:39:20+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update terminal renderer output depending on shell

Bash and zsh have different ways of escaping colors in the prompt, this
update checks the $SHELL environment variable and uses the correct
escape sequence for the current shell.

A known issue with this method is that $SHELL doesn't get updated when
switching shells (i.e. if you're running /bin/bash when you're in a zsh
shell) so in rare cases rendering errors may occur. A workaround which
is much slower is to parse the output of `ps -p $$` which always returns
the current shell.

ecf9e7ee
14	1	powerline/ext/terminal/renderer.py

--b9100940	2013-01-16T09:04:26+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Use midline ellipsis for dir shortening

b9100940
1	1	powerline/ext/terminal/segments.py

--bf23ae28	2013-01-16T09:00:19+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Move tmux example into extension directory

bf23ae28
7	8	examples/tmux/pl.py => powerline/ext/tmux/powerline_status.py
2	2	{examples => powerline/ext}/tmux/tmux.conf

--884bbd3f	2013-01-16T08:47:49+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Make mode_translations optional in colorschemes

884bbd3f
1	1	powerline/colorscheme.py
1	2	powerline/colorschemes/terminal/default.json
1	2	powerline/colorschemes/tmux/default.json

--b7ff63cc	2013-01-16T08:36:39+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Separate colorschemes by extension

Refs #45.

b7ff63cc
1	1	docs/source/configuration.rst
0	0	powerline/colorschemes/{terminal_default.json => terminal/default.json}
0	0	powerline/colorschemes/{tmux_default.json => tmux/default.json}
0	0	powerline/colorschemes/{vim_default.json => vim/default.json}
3	3	powerline/config.json
1	1	powerline/core.py

--07771d77	2013-01-16T08:31:41+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add Liam Curry to contributors list

Refs #44.

07771d77
1	0	docs/source/license-credits.rst

--28aaed0c	2013-01-16T08:23:49+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge branch 'feature/tmux' into develop

Closes #41.
Closes #43.
Closes #44.

28aaed0c
--52c2ba5c	2013-01-16T08:21:52+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Enable tmux segments

52c2ba5c
29	1	powerline/themes/tmux/default.json

--5f0ec038	2013-01-16T08:21:36+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Create neutral tmux colorscheme

5f0ec038
2	0	examples/tmux/tmux.conf
29	0	powerline/colorschemes/tmux_default.json
1	1	powerline/config.json

--f6050fc0	2013-01-10T13:55:18-05:00	Liam Curry	liam@curry.name	Add right/left options to tmux script

f6050fc0
13	3	examples/tmux/pl.py
4	1	examples/tmux/tmux.conf

--f827420e	2013-01-16T08:01:15+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Rename default colorscheme

f827420e
0	0	powerline/colorschemes/{default.json => vim_default.json}
1	1	powerline/config.json

--27c0faa2	2013-01-16T07:59:57+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge branch 'develop' into feature/tmux

Conflicts:
	powerline/ext/tmux/segments.py

27c0faa2
--6d3dea1f	2013-01-15T08:49:40+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Cleanup Python files to comply better with PEP 8

Removed excessive newlines and comments, and fixed whitespace issues.

6d3dea1f
4	10	powerline/colorscheme.py
1	2	powerline/core.py
1	2	powerline/ext/terminal/powerline_prompt.py
1	2	powerline/ext/terminal/renderer.py
2	5	powerline/ext/tmux/renderer.py
2	4	powerline/ext/vim/bindings.py
1	5	powerline/ext/vim/renderer.py
7	16	powerline/ext/vim/segments.py
1	2	powerline/lib/memoize.py
1	1	powerline/lib/vcs/git.py
1	2	powerline/theme.py
5	9	setup.py

--7e214a65	2013-01-11T13:37:22+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Create tmux segments

Refs #44.

7e214a65
88	4	powerline/ext/tmux/segments.py

--7eb3bfde	2013-01-11T12:18:17+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update memoize class and add support for persistent cache

7eb3bfde
42	34	powerline/lib/memoize.py

--bba272e0	2013-01-09T16:16:27+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update theme/colorscheme name properties

bba272e0
1	1	powerline/colorschemes/default.json
1	1	powerline/colorschemes/terminal_default.json
0	1	powerline/themes/terminal/default.json
0	1	powerline/themes/tmux/default.json
0	1	powerline/themes/vim/default.json

--8d584d05	2013-01-09T16:09:50+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Move segments.core packages out of subdirectories

8d584d05
0	0	powerline/ext/terminal/{segments/core.py => segments.py}
0	0	powerline/ext/terminal/segments/__init__.py
0	0	powerline/ext/tmux/{segments/core.py => segments.py}
0	0	powerline/ext/tmux/segments/__init__.py
0	0	powerline/ext/vim/{segments/core.py => segments.py}
0	0	powerline/ext/vim/segments/__init__.py
1	1	powerline/segments.py

--4c2dd90e	2013-01-09T14:40:27+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Create terminal/prompt color scheme

4c2dd90e
1	4	powerline/colorschemes/default.json
63	0	powerline/colorschemes/terminal_default.json
1	1	powerline/config.json

--d0d35cac	2013-01-09T14:40:06+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Move terminal prompt script to extension directory

d0d35cac
0	13	examples/terminal/pl.py
15	0	powerline/ext/terminal/powerline_prompt.py

--2ceec257	2013-01-09T14:29:44+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update terminal segments and default theme

2ceec257
41	4	powerline/ext/terminal/segments/core.py
15	1	powerline/themes/terminal/default.json

--44fb24de	2013-01-09T14:29:01+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Fix padding issue with single-sided statuslines

44fb24de
1	1	powerline/renderer.py

--a26d5e53	2013-01-09T13:17:57+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add troubleshooting info for Windows gVim + git users

Closes #36.

a26d5e53
4	0	docs/source/troubleshooting.rst

--536120aa	2013-01-08T15:00:05+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Re-add note about PyPI which got removed from the docs

Refs #34.

536120aa
3	0	docs/source/overview.rst

--424da8b5	2013-01-05T18:14:17+04:00	ZyX	kp-pav@ya.ru	Don’t raise an exception when encountered untracked file

424da8b5
3	0	powerline/lib/vcs/git.py

--332dc45b	2013-01-05T17:35:06+04:00	ZyX	kp-pav@ya.ru	Add additional_key to memoization function

Closes #29.

332dc45b
1	1	powerline/ext/vim/segments/core.py
5	1	powerline/lib/memoize.py

--5b43960e	2013-01-04T22:18:36+04:00	ZyX	kp-pav@ya.ru	Recreate git.Repository() on each call

It appears that pygit2 has similar to mercurial’s issue with statuses
(they are not updated) and needs to be regenerated on each call as well.
Implies to index statuses only though, that is why I used to think
pygit2 does not have this problem.

5b43960e
7	5	powerline/lib/vcs/git.py

--3addf44a	2013-01-04T15:02:40+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Highlight VCS flags differently

"M" flag is highlighted in yellow, "A" flag is highlighted in green,
other flags are highlighted in red. This also corresponds with the
highlighting in the output of `git status`.

Whitespace is also trimmed from the flags as the columns don't matter
much in vim statuslines, and empty columns only introduce whitespace
that looks like a bug.

3addf44a
3	1	powerline/colorschemes/default.json
8	1	powerline/ext/vim/segments/core.py

--102e7490	2013-01-03T03:29:38+04:00	ZyX	kp-pav@ya.ru	Add file_vcs_status segment, using powerline.lib.vcs instead of fugitive

Using pure-python implementation allows to use the same code in the
terminal segments (not implemented currently). It also should be more
effective. Git module is able to use pygit2 instead of command-line git
which is much faster. Mercurial module assumes that mercurial is always
accessible as a python module.

Code for repository (not file) status is untested. It exists solely for
terminal segments.

Closes #26.

102e7490
1	0	powerline/colorschemes/default.json
19	20	powerline/ext/vim/segments/core.py
27	0	powerline/lib/vcs/__init__.py
132	0	powerline/lib/vcs/git.py
50	0	powerline/lib/vcs/mercurial.py
5	0	powerline/themes/vim/default.json

--ca1225b8	2013-01-03T01:22:53+04:00	ZyX	kp-pav@ya.ru	Add virtcol parameter for col_current segment

The virtual column number is also default. I doubt anybody here ever
wanted to see byte offset. When it comes to a questions like alignment,
forced text width and so on only virtual columns matter. It would be
good to optionally take concealed characters into account, but vim does
not provide a way to do so (well, except recent screencol() added solely
for testing which would be hard, but not impossible, to adapt to such
needs).

Closes #25.

ca1225b8
6	2	powerline/ext/vim/segments/core.py

--f67a0045	2013-01-03T00:39:38+04:00	ZyX-I	kp-pav@ya.ru	Use shorter and more readable form of :source

f67a0045
1	1	powerline/ext/vim/source_plugin.vim

--bfc29749	2013-01-03T00:34:33+04:00	ZyX	kp-pav@ya.ru	Use better name for powerline variable in global scope

It is completely possible that “pl” will be claimed by some other plugin
as well. There is no local scope for each .vim file in vim-python
interface.

bfc29749
4	4	powerline/ext/vim/powerline.vim

--7fb3df28	2013-01-03T00:21:56+04:00	ZyX	kp-pav@ya.ru	Change code to use vim_get_func('fnameescape')

Previous version had problems with paths containing backslashes and/or
double quotes.

7fb3df28
4	1	powerline/ext/vim/__init__.py

--ee0acef4	2013-01-02T09:09:05+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Fix issues with the Arch Linux PKGBUILD

ee0acef4
7	7	package/PKGBUILD

--7a7c971b	2013-01-02T08:38:28+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Move plugin loading with :source into separate file

This should resolve the issue with duplicate paths in sys.path by only
updating sys.path if the plugin is loaded using :source instead of
:python. sys.path is now updated in source_plugin.vim, which checks if
the user has Python installed, and updates sys.path before sourcing the
actual plugin file.

Refs #17.
Refs #19.
Refs #21.

7a7c971b
1	1	docs/source/overview.rst
1	1	powerline/ext/vim/__init__.py
1	10	powerline/ext/vim/powerline.vim
11	0	powerline/ext/vim/source_plugin.vim

--2be52ed0	2012-12-21T23:03:50+04:00	ZyX-I	kp-pav@ya.ru	Purge out :echoe

`:echoe` is unstable: unless it is already in `:try`…`:catch` block
you never know for sure whether or not it will break execution.
Thus the only valid use for `:echoe` is

    try
        echoe 'Msg'
    endtry
: rough equivalent to `:throw` (throws, but with different message).
As this is probably not the thing you want to do
I changed it to use `:echomsg`.

2be52ed0
3	1	powerline/ext/vim/powerline.vim

--f423ba11	2012-12-21T11:19:53+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add information about Python support

f423ba11
6	0	docs/source/overview.rst
5	0	powerline/ext/vim/powerline.vim

--d87b35d0	2012-12-21T11:20:19+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Fallback to line_percent highlighting for gradient segment

d87b35d0
1	1	powerline/ext/vim/segments/core.py

--9f60daaf	2012-12-20T16:19:20+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Use :file: for file references in the docs

9f60daaf
13	12	docs/source/configuration.rst
5	5	docs/source/fontpatching.rst
1	1	docs/source/introduction.rst
4	4	docs/source/troubleshooting.rst

--9cc12333	2012-12-20T15:47:01+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add configuration docs

9cc12333
221	7	docs/source/configuration.rst

--50fa8a33	2012-12-19T14:46:14+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update docs and README

50fa8a33
4	0	README.rst
28	0	docs/source/configuration.rst
10	4	docs/source/fontpatching.rst
20	14	docs/source/overview.rst
59	0	docs/source/troubleshooting.rst

--69f726af	2012-12-19T08:36:41+04:00	ZyX-I	kp-pav@ya.ru	Purge out the requirement to use sudo

There is no need in regenerating font cache in *all* directories. 
Make documentation suggest to regenerate just `~/.fonts` cache 
which actually changed.
69f726af
1	1	docs/source/fontpatching.rst

--366fefdf	2012-12-18T22:28:43+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update fontpatcher symbol font metrics

366fefdf
3	11	powerline/fontpatcher/fontpatcher-symbols.sfd

--e5f5df8a	2012-12-18T22:28:27+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Correctly handle glyph widths when patching fonts

e5f5df8a
7	0	powerline/fontpatcher/fontpatcher.py

--7c1d48a2	2012-12-18T22:05:28+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Improve font patcher

For some reason the font patcher doesn't work well unless the target
font has an em size of 2048 while the font is being patched. This patch
also improves font patching in general, due to the more correct
calculation of font metrics.

Refs #14.

7c1d48a2
6	2	powerline/fontpatcher/fontpatcher.py

--def90916	2012-12-18T17:18:37+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update installation instructions

Closes #13.

def90916
11	4	docs/source/overview.rst

--75070451	2012-12-18T16:05:55+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add screenshots to README

75070451
23	0	README.rst

--bda5c598	2012-12-18T16:03:15+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add screenshots to docs

bda5c598
0	2	docs/.gitignore
-	-	docs/source/_static/img/pl-mode-insert.png
-	-	docs/source/_static/img/pl-mode-normal.png
-	-	docs/source/_static/img/pl-mode-replace.png
-	-	docs/source/_static/img/pl-mode-visual.png
-	-	docs/source/_static/img/pl-truncate1.png
-	-	docs/source/_static/img/pl-truncate2.png
-	-	docs/source/_static/img/pl-truncate3.png
27	0	docs/source/introduction.rst

--e89ce2c7	2012-12-18T15:30:03+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Fix minor flake8 issues in font patcher

e89ce2c7
8	6	powerline/fontpatcher/fontpatcher.py

--d28003c9	2012-12-18T15:22:31+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add font patcher docs

d28003c9
128	2	docs/source/fontpatching.rst
5	0	docs/source/license-credits.rst

--53fbfe15	2012-12-18T15:22:08+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update symbol code points in the default config

53fbfe15
4	4	powerline/config.json
1	1	powerline/ext/vim/segments/core.py
2	2	powerline/themes/vim/default.json

--5fde2dcd	2012-12-18T15:21:03+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add font patcher symbol font

5fde2dcd
243	0	powerline/fontpatcher/fontpatcher-symbols.sfd

--9a5b94dc	2012-12-18T15:20:56+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add font patcher script

9a5b94dc
102	0	powerline/fontpatcher/fontpatcher.py

--af1f3ec7	2012-12-17T15:45:21+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Move vim plugin to the vim extension directory

af1f3ec7
2	2	docs/source/overview.rst
7	1	powerline/ext/vim/__init__.py
0	7	powerline/{plugin => ext}/vim/powerline.vim
0	0	powerline/plugin/__init__.py
0	0	powerline/plugin/vim/__init__.py
0	4	powerline/plugin/vim/load_vim_plugin.py

--37b43a77	2012-12-17T15:32:22+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Automatically push docs with `make gh-pages`

37b43a77
1	1	docs/Makefile

--df024470	2012-12-17T15:32:01+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Fix typo in doc filename

df024470
0	0	docs/source/{licence-credits.rst => license-credits.rst}

--9ba8570b	2012-12-17T15:24:42+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update documentation and version

9ba8570b
6	22	README.rst
2	2	docs/source/conf.py
0	2	docs/source/configuration.rst
0	2	docs/source/configuration/vim.rst
2	0	docs/source/fontpatching.rst
3	0	docs/source/index.rst
0	20	docs/source/installation/vim.rst
35	0	docs/source/introduction.rst
40	0	docs/source/licence-credits.rst
31	2	docs/source/overview.rst
2	0	docs/source/troubleshooting.rst
1	1	setup.py

--8ccf2232	2012-12-17T15:06:14+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add PKGBUILD for Arch Linux users

8ccf2232
3	0	package/.gitignore
37	0	package/PKGBUILD

--25447341	2012-12-17T15:01:56+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Remove unnecessary init file

25447341
0	0	examples/__init__.py

--ea760ea1	2012-12-17T14:58:13+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Move plugins to powerline directory

ea760ea1
1	2	MANIFEST.in
0	0	{plugin => powerline/plugin}/__init__.py
0	0	{plugin => powerline/plugin}/vim/__init__.py
0	0	{plugin => powerline/plugin}/vim/load_vim_plugin.py
2	2	{plugin => powerline/plugin}/vim/powerline.vim

--8ca4c531	2012-12-17T13:40:28+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Do a :redrawstatus after setting window statuslines

For some reason the statusline doesn't always get redrawn automatically
after setting the statusline property for a window, and running
:redrawstatus when a buffer or window is entered seems to resolve this
issue.

8ca4c531
1	0	plugin/vim/powerline.vim

--11082311	2012-12-17T13:33:29+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update readonly/modified segments in default theme

11082311
2	0	powerline/colorschemes/default.json
2	3	powerline/themes/vim/default.json

--ccd6b4c2	2012-12-17T13:18:40+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Restructure segment rendering methods

Theme.get_segments() is now a generator which returns segment copies,
and it no longer handles segment content replacement.

Renderer.render() accepts a theme and a segments parameter in order to
override the default actions (calling self.get_theme() and
self.get_segments()). This is necessary to be able to cache themes and
segment contents somewhere else and provide the cached data to the
render method. The render method now also handles removing excluded
segments, which was previously handled in Theme.get_segments().

Finally, VimRenderer.render() caches all theme and segment data and
provides this data to the renderer for non-current windows.

Closes #12.

ccd6b4c2
5	6	powerline/ext/vim/renderer.py
7	5	powerline/renderer.py
7	15	powerline/theme.py

--3a8e64b7	2012-12-17T12:03:11+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Pass the current window as a parameter to the render method

This change simplifies the code somewhat as the BufLeave, etc. autocmds
aren't required anymore.

3a8e64b7
8	10	plugin/vim/powerline.vim
1	3	powerline/ext/vim/renderer.py

--70818341	2012-12-17T11:24:38+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Cache segment contents after rendering the statusline

Non-current segments used the wrong contents because outdated
information was cached (self.segments was repopulated in the render()
method which was called *after* the contents was cached). Now the
contents are cached after the parent class' render() method is called so
the correct information is cached.

Closes #11.

70818341
3	1	powerline/ext/vim/renderer.py

--2a4baa0a	2012-12-16T13:10:55+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Minor code cleanup

2a4baa0a
1	1	powerline/theme.py

--3b19dac9	2012-12-15T19:36:14+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Cleanup code and comments

3b19dac9
0	4	plugin/vim/powerline.vim
1	2	powerline/ext/vim/renderer.py

--0bf23adb	2012-12-15T18:48:12+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Cache statusline contents in Python

Each window is now tagged with an UUID and this UUID is used to cache
the window's statusline contents in the Python VimRenderer in order to
avoid translating the statusline contents to and from a vimdict
unnecessarily.

Refs #11.

0bf23adb
9	8	plugin/vim/powerline.vim
5	3	powerline/ext/vim/renderer.py

--da6367a8	2012-12-14T18:18:42+04:00	ZyX	kp-pav@ya.ru	Added local theme support (mainly for buffer-local themes)

da6367a8
4	1	powerline/config.json
25	5	powerline/core.py
5	0	powerline/ext/vim/matchers.py
3	3	powerline/ext/vim/renderer.py
24	0	powerline/matchers.py
37	20	powerline/renderer.py
2	3	powerline/segments.py
1	5	powerline/theme.py
33	0	powerline/themes/vim/help.json

--f550bd37	2012-12-14T16:03:41+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Fix issue with function segment key generation

f550bd37
1	1	powerline/segments.py

--05505c3d	2012-12-14T15:23:26+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Restructure docs

05505c3d
1	1	docs/source/index.rst
10	1	docs/source/{installation.rst => overview.rst}

--f3a03aa2	2012-12-14T14:03:59+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update docs structure for gh-pages

f3a03aa2
17	6	docs/Makefile
0	1	docs/{ => source}/conf.py
0	0	docs/{ => source}/configuration.rst
0	0	docs/{ => source}/configuration/vim.rst
0	0	docs/{ => source}/index.rst
0	0	docs/{ => source}/installation.rst
0	0	docs/{ => source}/installation/vim.rst
0	0	docs/{ => source}/introduction.rst

--79e2f2ae	2012-12-13T22:13:03+04:00	ZyX	kp-pav@ya.ru	Add a way to import extension segments from more convenient locations

I.e. not powerline.ext.{ext}.segments.{smth}, but just {smth}.

Refs #3.

79e2f2ae
58	0	powerline/segments.py
4	38	powerline/theme.py

--21032e98	2012-12-13T22:43:58+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add documentation files

21032e98
4	0	docs/configuration.rst
2	0	docs/configuration/vim.rst
4	0	docs/index.rst
10	0	docs/installation.rst
20	0	docs/installation/vim.rst
2	0	docs/introduction.rst

--f074c1fb	2012-12-13T22:01:33+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Move the vim example to a separate plugin folder

When Powerline is installed as a package in the system-wide
site-packages folder it can easily be enabled by adding a simple python
statement to the user's vimrc file.

Otherwise it can be added by doing a :source
path/to/plugin/vim/powerline.vim in vimrc, but the other way of doing it
works without specifying the full path as long as Powerline is installed
somewhere in sys.path.

f074c1fb
1	0	MANIFEST.in
0	0	{examples/vim => plugin}/__init__.py
0	0	{examples => plugin}/vim/__init__.py
4	0	plugin/vim/load_vim_plugin.py
6	3	{examples => plugin}/vim/powerline.vim

--175fb1b5	2012-12-13T21:09:41+04:00	ZyX	kp-pav@ya.ru	Don’t change windows using windo, use setwinvar() instead


175fb1b5
12	5	examples/vim/powerline.vim

--298f2776	2012-12-13T15:43:49+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add .gitignore

298f2776
32	0	.gitignore

--82b52094	2012-12-13T15:43:38+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add setup.py

82b52094
2	0	MANIFEST.in
38	0	setup.py

--cd41910f	2012-12-13T15:43:05+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add Sphinx docs skeleton

cd41910f
3	0	docs/.gitignore
26	0	docs/Makefile
18	0	docs/conf.py
13	0	docs/index.rst

--e5c864ec	2012-12-13T15:23:12+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add themes and segments for terminal and tmux

e5c864ec
0	0	powerline/ext/terminal/segments/__init__.py
11	0	powerline/ext/terminal/segments/core.py
0	0	powerline/ext/tmux/segments/__init__.py
11	0	powerline/ext/tmux/segments/core.py
10	0	powerline/themes/terminal/default.json
10	0	powerline/themes/tmux/default.json

--c5555d56	2012-12-13T14:59:16+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update all examples to work with the latest changes

c5555d56
2	12	examples/terminal/pl.py
2	11	examples/tmux/pl.py
1	1	examples/tmux/tmux.conf
0	1	examples/vim/powerline.vim

--9c79344f	2012-12-13T14:58:55+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update theme/colorscheme for tmux and terminal configs

9c79344f
5	1	powerline/colorschemes/default.json
8	0	powerline/config.json

--d40e8e05	2012-12-13T14:58:21+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Handle default colors correctly in tmux renderer

d40e8e05
6	0	powerline/ext/tmux/renderer.py

--f5529791	2012-12-13T14:57:55+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Simplify retrieving of config home in core init method

f5529791
1	4	powerline/core.py

--203a32e7	2012-12-13T14:57:04+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Create empty segment for single-side statuslines

203a32e7
4	4	powerline/colorscheme.py
3	3	powerline/renderer.py
5	0	powerline/theme.py

--9104d925	2012-12-13T14:28:24+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update default colorscheme

9104d925
17	2	powerline/colorschemes/default.json

--eb28d759	2012-12-13T14:28:09+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Ignore empty group/color colorscheme translations

eb28d759
3	3	powerline/colorscheme.py

--3037b9fb	2012-12-13T14:06:29+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Memoize git branch segment in vim

This works kinda like a timer which ensures that the git branch segment
isn't called more than once every 2 seconds.

Refs #7.

3037b9fb
2	0	powerline/ext/vim/segments/core.py

--fbce4ac2	2012-12-13T14:06:25+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add memoziation decorator

fbce4ac2
0	0	powerline/lib/__init__.py
44	0	powerline/lib/memoize.py

--7750fa29	2012-12-13T13:49:15+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Fix minor segment contents override issue

7750fa29
5	1	powerline/theme.py

--a272d907	2012-12-13T13:49:05+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Simplify vim renderer cache check

a272d907
2	4	powerline/ext/vim/renderer.py

--92324a69	2012-12-13T13:48:27+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Fix vim segments for empty file names/directories

92324a69
1	0	powerline/colorschemes/default.json
15	3	powerline/ext/vim/segments/core.py

--98337d26	2012-12-13T13:18:27+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge branch 'feature/project-restructuring' into develop

98337d26
--09c2070b	2012-12-13T13:17:05+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Remove unnecessary default values from vim theme

09c2070b
0	13	powerline/themes/vim/default.json

--dd4c90fc	2012-12-13T13:16:09+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Cache and retrieve segment contents for non-current vim windows

This resolves the issue with non-current windows using the contents of
the currently selected window.

dd4c90fc
1	1	examples/vim/powerline.vim
16	2	powerline/ext/vim/renderer.py

--00f749c9	2012-12-13T13:10:10+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Allow overriding segment contents when rendering

00f749c9
2	2	powerline/renderer.py
10	6	powerline/theme.py

--c2dfabdb	2012-12-13T12:49:15+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Load segments from specific segment modules

c2dfabdb
0	5	powerline/ext/vim/segments/__init__.py
2	1	powerline/theme.py

--04993264	2012-12-12T18:15:21+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Move more vim stuff into the renderer

04993264
0	23	examples/vim/pl.py
3	1	examples/vim/powerline.vim
16	2	powerline/ext/vim/renderer.py

--8960d15c	2012-12-12T12:37:58+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update vim statusline example

The statusline example mostly works now, even with different modes. The
main problem is still non-current windows, which receive the contents of
the currently active window for most segments.

8960d15c
3	34	examples/vim/pl.py

--c6ac449a	2012-12-12T12:36:39+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Fix minor issues in default theme

c6ac449a
4	7	powerline/themes/vim/default.json

--32f68931	2012-12-12T12:36:27+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update vim renderer to handle all vim-specific stuff

32f68931
19	0	powerline/ext/vim/renderer.py

--e22a9241	2012-12-10T20:18:19+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Fallback to default if mode highlighting is missing

e22a9241
3	0	powerline/renderer.py

--ec278943	2012-12-10T20:18:02+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Fix Unicode quirks with mode segment

ec278943
18	18	powerline/ext/vim/segments/core.py

--240bd621	2012-12-10T20:17:42+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Remove powerline render() method

240bd621
1	1	examples/vim/pl.py
0	3	powerline/core.py

--90f8f944	2012-12-10T20:00:26+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update vim statusline example

A major issue is that we currently can't pass any windows' mode on to
the segment rendering method, so non-current windows don't get
highlighted correctly, and segments don't get removed if they have 'nc'
in their exclude_modes setting, and statuslines in non-current windows
don't get resized until the window is focused again.

90f8f944
22	139	examples/vim/pl.py
1	1	examples/vim/powerline.vim

--42d8353d	2012-12-10T19:46:54+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Handle segment exclude/include modes

42d8353d
1	1	powerline/renderer.py
4	1	powerline/theme.py

--19248503	2012-12-10T18:04:18+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Improve default colorscheme with more hl groups

19248503
30	1	powerline/colorschemes/default.json

--011bacb8	2012-12-10T17:47:07+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Make the renderer work with new theme/colorscheme API

011bacb8
25	0	powerline/colorscheme.py
6	3	powerline/core.py
5	5	powerline/ext/vim/renderer.py
15	7	powerline/ext/vim/segments/core.py
60	71	powerline/renderer.py
0	24	powerline/segment.py
42	6	powerline/theme.py

--d7ff3f72	2012-12-10T14:45:04+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Allow theme configuration to override dividers

d7ff3f72
1	1	powerline/core.py
6	2	powerline/theme.py

--87d5db9a	2012-12-10T14:36:07+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update default configuration

87d5db9a
20	0	powerline/config.json
6	4	powerline/core.py
0	11	powerline/renderer.py

--039526f7	2012-12-10T14:23:53+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Create theme loading class

This class loads all segments from the theme, initializes the highlight
group, assigns all necessary properties based on the JSON theme
configuration, etc. By doing this we basically move the mksegment()
functionality into the theme loader, so this function can be removed at
the cost of making it more complicated to use Powerline without its
theme functionality.

039526f7
38	0	powerline/theme.py

--417f9a69	2012-12-10T14:03:49+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Create colorscheme loading class

417f9a69
71	1	powerline/colorscheme.py

--3e949adb	2012-12-10T13:19:45+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Load config files and modules in core

3e949adb
5	0	powerline/colorscheme.py
43	10	powerline/core.py
2	2	powerline/ext/vim/renderer.py
4	4	powerline/renderer.py
5	0	powerline/theme.py

--157fff08	2012-12-06T17:00:59+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update default colorscheme

157fff08
46	6	powerline/colorschemes/default.json

--a0b0d15b	2012-12-06T15:55:57+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update default theme

a0b0d15b
14	9	powerline/themes/vim/default.json

--5d2214db	2012-12-06T15:02:37+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Make the examples work with the new project structure

5d2214db
6	5	examples/terminal/{powerline.py => pl.py}
6	5	examples/tmux/{powerline.py => pl.py}
29	55	examples/vim/{powerline.py => pl.py}
1	1	examples/vim/powerline.vim

--1cb6aeab	2012-12-06T15:00:44+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Create renderer property for Powerline class

1cb6aeab
3	2	powerline/core.py

--636f1719	2012-12-06T14:59:50+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Only drop segments whose contents are None

636f1719
2	2	powerline/core.py
1	0	powerline/segment.py

--11ee1085	2012-12-06T14:23:24+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Move segment rendering to the Renderer class

This commit also updates the extension renderers so that they work
correctly with the Renderer class.

11ee1085
2	128	powerline/core.py
1	0	powerline/ext/terminal/__init__.py
4	5	powerline/ext/terminal/renderer.py
1	0	powerline/ext/tmux/__init__.py
6	7	powerline/ext/tmux/renderer.py
1	0	powerline/ext/vim/__init__.py
8	8	powerline/ext/vim/renderer.py
139	0	powerline/renderer.py

--8b94e253	2012-12-05T17:56:38+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add default colorscheme skeleton

8b94e253
57	0	powerline/colorschemes/default.json

--bcde4f62	2012-12-05T17:56:19+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add default vim theme

bcde4f62
99	0	powerline/themes/vim/default.json

--d72265ca	2012-12-05T17:45:41+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add colorscheme/theme placeholders

d72265ca
0	0	powerline/colorschemes/default.json
0	0	powerline/themes/vim/default.json

--d4d84a43	2012-12-05T17:35:21+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Move mksegment out of core

d4d84a43
1	21	powerline/core.py
22	0	powerline/segment.py

--4d225179	2012-12-05T16:37:16+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Reorganize files

4d225179
0	7	lib/renderers/__init__.py
0	0	{lib => powerline}/__init__.py
2	0	lib/colors.py => powerline/colorscheme.py
0	0	{lib => powerline}/core.py
0	0	{vim => powerline/ext}/__init__.py
0	0	{lib => powerline/ext/terminal}/__init__.py
0	0	lib/renderers/terminal.py => powerline/ext/terminal/renderer.py
0	0	{lib => powerline/ext/tmux}/__init__.py
0	0	lib/renderers/tmux.py => powerline/ext/tmux/renderer.py
0	0	{lib => powerline/ext/vim}/__init__.py
0	0	{vim => powerline/ext/vim}/bindings.py
0	0	lib/renderers/vim.py => powerline/ext/vim/renderer.py
0	0	{vim => powerline/ext/vim}/segments/__init__.py
2	2	{vim => powerline/ext/vim}/segments/core.py
1	0	powerline/renderer.py
1	0	powerline/segment.py
1	0	powerline/theme.py

--091840ac	2012-11-26T16:17:08+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Fix terminal prompt example

091840ac
7	7	examples/terminal/powerline.py

--07b23f54	2012-11-26T16:16:39+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add tmux statusline example

07b23f54
23	0	examples/tmux/powerline.py
5	0	examples/tmux/tmux.conf

--6a1912ae	2012-11-26T16:16:14+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add tmux segment renderer

6a1912ae
1	0	lib/renderers/__init__.py
38	0	lib/renderers/tmux.py

--6a9bb451	2012-11-26T15:07:05+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Fix hard divider rendering issue

Hard dividers (for segments with different background colors) are now
always drawn, regardless of the draw_divider option, because it looks
horrible when segments with different bg colors don't have a divider
between them.

This resolves an issue with the filename and modified flag
in the default theme where the filename segment had to set the
draw_divider flag based on the contents of the modified flag to be
rendered correctly.

6a9bb451
2	2	examples/vim/powerline.py
4	4	lib/core.py

--34da2541	2012-11-26T09:17:28+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add short presentation to README

34da2541
29	0	README.rst

--e18f3fab	2012-11-23T19:03:58+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Fix mode segment

e18f3fab
6	3	vim/segments/core.py

--0f5a4978	2012-11-23T17:27:31+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add initial vim binding functions and segments

Each segment is a function that can accept parameters like the branch or
readonly symbol for overriding the defaults.

0f5a4978
0	0	vim/__init__.py
47	0	vim/bindings.py
5	0	vim/segments/__init__.py
144	0	vim/segments/core.py

--3be7dc2a	2012-11-21T12:23:49+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Merge branch 'feature/extended-vim-example' into develop

3be7dc2a
--addb7ccf	2012-11-21T12:21:01+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Fix various rendering issues

Another rendering pass is necessary before calculating the filler
segment's lengths, because center segments may lose their separators
after removing low-priority segments.

Some unicode and variable assignment issues has been resolved so
everything renders correctly.

addb7ccf
4	5	examples/vim/powerline.py
4	1	lib/core.py

--1d3c2590	2012-11-21T11:33:10+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Improve rendering performance

This change removes the Segment class as this takes forever to remove
from the segment array when removing low-priority segments. It has
instead been replaced by a wrapper function that works the same and
returns a working dict of all segment properties.

The regex substitution bottleneck in the vim example has been fixed by
using a single-character percent placeholder in vim segments which is
later replaced with a double percent using str.replace().

1d3c2590
1	1	examples/terminal/powerline.py
23	20	examples/vim/powerline.py
54	65	lib/core.py
2	2	lib/renderers/terminal.py
4	4	lib/renderers/vim.py

--f4e3d01d	2012-11-21T09:57:16+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Improve rendering performance

This commit almost doubles the segment rendering performance. This is
accomplished by caching a lot of data like highlighting groups, moving
some calculations out of loops, and by performing less function calls
overall.

When a width is specified the main speed improvement comes from avoiding
rendering the raw segments over and over until the statusline is short
enough. Instead, the raw rendering is stored as a segment property and
the combined length of all these renderings is used when removing
low-priority segments instead. This results in a maximum of two
rendering passes.

Some "less pythonic" solutions have been chosen some places for
performance reasons, e.g. joining strings instead of appending and
joining lists.

Overall this commit appears to make the performance equal or better than
the legacy vimscript implementation. Later optimizations (in particular
finding another method than remove() for removing low-priority segments)
may make this version of Powerline far superior both in terms of
functionality and performance.

f4e3d01d
3	3	examples/vim/powerline.py
1	13	lib/colors.py
57	53	lib/core.py
15	14	lib/renderers/vim.py

--6c5316a0	2012-11-20T21:16:12+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Make vim example work with split and inactive windows

This commit introduces a bunch of changes. Most importantly, it ensures
that split windows and inactive windows work as expected. This is
accomplished with some clever workarounds for vim's statusline
limitations.

Vim statuslines evaluated using the %! statusline item are always
evaluated in the buffer context and not in the statusline's owner
window's context, and this made the previous implementation show the
same statusline for all windows. The only way to ensure that the correct
statusline is rendered to the correct window is to walk through all
windows, and setting the statuslines with a reference to the current
window number every time the current window is changed. This is
accomplished by a set of BufEnter, BufLeave, etc. autocommands.

The Syntastic segment has been temporarily removed due to errors when
referencing the statusline function before Syntastic has been loaded.

6c5316a0
50	36	examples/vim/powerline.py
15	3	examples/vim/powerline.vim

--a532da48	2012-11-17T16:42:28+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Fix issues with the terminal prompt example

a532da48
3	2	examples/terminal/powerline.py

--08695540	2012-11-17T12:35:38+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Handle remainder whitespace for filler segments

When more than one filler segment is specified it may sometimes be
a remainder when calculating the amount of whitespace. divmod() is used
to retrieve the remainder, which is added as whitespace to the first
filler segment.

08695540
4	1	lib/core.py

--90763f1f	2012-11-17T12:35:22+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Improve unicode handling of rendered segments

90763f1f
4	4	lib/core.py

--4cb0559b	2012-11-17T12:21:24+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Fix whitespace issues so pyflakes doesn't complain

4cb0559b
1	1	examples/vim/powerline.py

--0f6d24b1	2012-11-17T14:08:38+03:59	ZyX	kp-pav@ya.ru	Made it work on older vims

0f6d24b1
1	2	examples/vim/powerline.py

--708306c6	2012-11-17T13:58:28+03:59	ZyX	kp-pav@ya.ru	Avoid invoking vim parser as much as possible in case vim is recent enough

708306c6
85	19	examples/vim/powerline.py
1	1	examples/vim/powerline.vim

--572df1de	2012-11-16T17:16:30+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Fix filename issues in vim example

572df1de
7	7	examples/vim/powerline.py

--1d102199	2012-11-16T17:05:55+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update vim and terminal examples

The examples have been moved into their own directory. The vim example
now uses pyeval() and vim.bindeval() and loads the Python file through
an import (so it gets compiled) for speed improvements.

1d102199
0	0	examples/__init__.py
4	0	powerline-terminal-example.py => examples/terminal/powerline.py
0	0	examples/vim/__init__.py
113	0	examples/vim/powerline.py
21	0	examples/vim/powerline.vim
0	89	powerline-vim-example.vim

--cbf8d16e	2012-11-16T12:49:54+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Ignore empty segments that aren't filler segments

cbf8d16e
4	1	lib/core.py

--2ea555b2	2012-11-16T12:08:55+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Rewrite core code to only allow a single-dimensional segment array

The segment tree seemed like a good idea at the time, but for the core
code it's probably best to do a single-dimensional array and instead
have some duplicated data (common segment attributes). By removing the
tree structured segments the code is much simpler to understand and use,
and probably quite a bit faster.

If a tree structure is wanted for ease of configuration, it could easily
be supported in the JSON config files for vim statuslines, and then
letting the vim statusline code flatten the configuration into
a single-dimensional array for rendering.

2ea555b2
55	130	lib/core.py
6	7	powerline-terminal-example.py
13	19	powerline-vim-example.vim

--5abfdaee	2012-11-15T13:35:08+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add unicode stuff for Python 2

Powerline will probably only be Python 2 in the foreseeable future
because of poor Python 3 support in applications like vim, so this
small change ensures correct unicode behavior in Python 2.

5abfdaee
5	2	lib/core.py

--804447d0	2012-11-15T13:32:07+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update vim statusline example

804447d0
56	14	powerline-vim-example.vim

--ba730836	2012-11-15T13:31:42+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Remove get_hl_statements from vim renderer

ba730836
0	17	lib/renderers/vim.py

--e99b1f17	2012-11-14T22:40:26+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Fix vim statusline example

e99b1f17
5	5	powerline-vim-example.vim

--cff4fcdd	2012-11-14T22:37:50+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Fix segment padding

The padding argument has been removed and is now handled automatically.
Segments without dividers are not padded anymore.

This was necessary to ensure that segments are rendered correctly when
cropping segments (overriding the padding argument screwed up the
padding for segments without dividers and without padding).

cff4fcdd
9	11	lib/core.py

--89375b5c	2012-11-14T20:49:04+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Fix issues with terminal renderer

89375b5c
2	2	lib/renderers/terminal.py

--94cd9342	2012-11-14T20:48:07+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Simplify filler rendering

94cd9342
2	3	lib/core.py

--bef6c430	2012-11-14T20:44:23+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Update vim statusline example

Now the vim statusline example does everything in Python, so the python
example isn't required anymore.

bef6c430
0	33	powerline-vim-example.py
25	27	powerline-vim-example.vim

--b5d72afb	2012-11-14T20:24:09+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Create dynamic vim statusline example

This example only does a single type of highlighting (normal mode) but
demonstrates nicely how rendering a statusline with Python could work.
This also utilizes the new width functionality to crop away less
important segment if the window is too small, and do the padding with
Python instead of using vim's split segment.

Some optimization will probably be necessary, as calling Python for each
statusline redraw is quite expensive. A solution could be evaluating the
segments in Python once and then calculating the width and crop away/pad
the segments, and then sending the statusline with unevaluated segments
to vim for rendering without calling Python. Only some events (like
CursorHold, InsertEnter/InsertLeave, etc.) would trigger a re-render
with Python, a recalculation of the width and cropping/padding.

b5d72afb
55	0	powerline-vim-example.vim

--d3bace24	2012-11-14T11:53:39+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Improve the Segment class and rendering

The Segment class has been given two new properties: priority and
filler. The render method has been given a width argument.

If the width argument is specified when rendering a segment and the
rendered segments are too wide, segments are dropped in order of
priority, with the lowest priority (highest number) being dropped first
and any segment with priority < 0 is kept, regardless of the specified
width.

If the width argument is specified along with one or more filler
segments, the filler segments will pad the remaining space with space
characters until the desired width has been reached.

The handling of segment attributes has also been improved by lazily
looking up the correct attributes in the segment tree when it's being
rendered.

Finally, the rendering code itself has been improved a bit with less
code duplication and much more readable code.

d3bace24
159	160	lib/core.py
11	11	powerline-vim-example.py

--21a48e99	2012-11-12T13:11:19+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Move vimscript hl statement generation to vim renderer

21a48e99
17	0	lib/renderers/vim.py
1	10	powerline-vim-example.py

--f47dc4bf	2012-11-08T14:59:59+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Change wording: separator -> divider

f47dc4bf
29	29	lib/core.py
2	2	powerline-vim-example.py

--b461ab13	2012-11-08T14:05:48+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Create basic vim segment renderer

This commit also includes a basic proof-of-concept demo for creating vim
statuslines. When creating vim statuslines you basically need to first
create the statusline the same way as the terminal demo, use the vim
renderer and then afterwards loop through the collected highlight groups
in the vim renderer and write those as vim highlight statements.

Vim obviously needs a ton of wrapper code to make everything work
properly (separate modes, callbacks, all that stuff) so the current demo
only shows some basic statusline highlighting.

b461ab13
1	0	lib/renderers/__init__.py
59	0	lib/renderers/vim.py
17	4	powerline-vim-example.py

--20892b14	2012-11-08T14:05:16+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Fix default segment attribute value

20892b14
1	1	lib/core.py

--59a760c3	2012-11-08T13:16:22+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Join the fg/bg/attr methods of the renderers

This change joins the fg/bg/attr methods into a single hl method in the
renderers. This provides the same functionality, and it simplifies the
terminal rendering by being able to join all the attributes into one
escape sequence.

It's also a necessary change for the vim renderer, as this renderer
needs to log all the highlighting and create separate highlighting
classes for every single color and attribute combination. The only way
to do this is to have a single highlighting method.

59a760c3
8	14	lib/core.py
1	4	lib/renderers/__init__.py
22	32	lib/renderers/terminal.py
1	1	powerline-terminal-example.py
1	1	powerline-vim-example.py

--ffbdcc0f	2012-11-08T12:51:15+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Fix soft separator issue with vim divider segments

ffbdcc0f
6	0	lib/core.py

--99ded1d0	2012-11-08T12:44:46+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add vim statusline example

This is currently rendered with the terminal renderer, and is just
a simple proof-of-concept of how vim statuslines can be defined with the
Python API.

99ded1d0
29	0	powerline-vim-example.py

--cf88b086	2012-11-08T12:23:57+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Add initial project files

cf88b086
0	0	README.rst
0	0	lib/__init__.py
54	0	lib/colors.py
236	0	lib/core.py
8	0	lib/renderers/__init__.py
48	0	lib/renderers/terminal.py
18	0	powerline-terminal-example.py

--adb67e1e	2012-11-08T11:12:49+01:00	Kim Silkebækken	kim.silkebaekken@gmail.com	Initial commit

adb67e1e