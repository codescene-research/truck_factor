--6e96e778	2015-08-10T23:33:31-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1482 from ms7s/fix-read_until_close-callback

Fix error handling in read_until_close
6e96e778
--27f508f4	2015-08-07T15:42:48+02:00	Martin Sucha	martin.sucha@infinario.com	Fix error handling in read_until_close

When a callback is supplied, the future is not created. Make sure
it is used only if it was initialized, otherwise we lose the
error that was originally raised.

27f508f4
1	0	tornado/iostream.py
12	0	tornado/test/iostream_test.py

--376e1cef	2015-08-08T23:04:27-04:00	Ben Darnell	ben@bendarnell.com	Third time's the charm for _locale_data.py

376e1cef
8	1	tornado/_locale_data.py

--09d79245	2015-08-08T18:29:13-04:00	Ben Darnell	ben@bendarnell.com	Fix _local_data.py for py32.

09d79245
64	62	tornado/_locale_data.py

--d3827439	2012-12-02T18:57:30-05:00	Ben Darnell	ben@bendarnell.com	Convert unicode escapes in _locale_data.py to real unicode characters.

d3827439
57	38	tornado/_locale_data.py

--ec96a68d	2012-12-02T18:53:35-05:00	Ben Darnell	ben@bendarnell.com	Move LOCALE_NAMES data into a separate file.

ec96a68d
64	0	tornado/_locale_data.py
2	65	tornado/locale.py

--f061541d	2015-08-08T18:04:14-04:00	Ben Darnell	ben@bendarnell.com	Update next-release notes

f061541d
47	1	docs/releases/next.rst

--943003d7	2015-08-07T12:07:58-04:00	Ben Darnell	ben@bendarnell.com	Add more warnings filters in twisted_test.

Necessary for green builds with Twisted 15.3 on Python 3.x.

943003d7
18	0	tornado/test/twisted_test.py

--916cf575	2015-08-03T00:19:09-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1476 from bdarnell/async-statements

Support Python 3.5 `async` statements
916cf575
--d7130c1e	2015-08-02T23:57:27-04:00	Ben Darnell	ben@bendarnell.com	Expand comment on `async with`.

d7130c1e
4	2	tornado/locks.py

--a7cddd3d	2015-08-02T23:56:22-04:00	Ben Darnell	ben@bendarnell.com	Lazy-load StopAsyncIteration in a more future-proof way.

Fixes the test on nightly cpython.

a7cddd3d
6	1	tornado/gen.py

--135e2534	2015-08-02T22:40:16-04:00	Ben Darnell	ben@bendarnell.com	Disable coverage collection on the 'nightly' python version.

135e2534
3	1	.travis.yml

--0357e8fb	2015-08-02T22:05:41-04:00	Ben Darnell	ben@bendarnell.com	Add versionchanged tags for async statements.

0357e8fb
3	0	tornado/gen.py
6	0	tornado/locks.py
3	0	tornado/queues.py

--f90afbed	2015-08-02T22:03:20-04:00	Ben Darnell	ben@bendarnell.com	Implement async iteration in WaitIterator.

f90afbed
22	0	tornado/gen.py
40	0	tornado/test/gen_test.py

--2caffda7	2015-08-02T21:23:55-04:00	Ben Darnell	ben@bendarnell.com	Enable test runs on py35

2caffda7
1	0	.travis.yml
8	7	tox.ini

--995c79d1	2015-08-02T21:21:48-04:00	Ben Darnell	ben@bendarnell.com	Support async iterator protocol in tornado.queues.

995c79d1
24	0	tornado/queues.py
21	1	tornado/test/queues_test.py

--3e89c199	2015-08-02T21:21:19-04:00	Ben Darnell	ben@bendarnell.com	Reduce duplication in exec-based tests.

3e89c199
13	31	tornado/test/gen_test.py
7	15	tornado/test/locks_test.py
23	0	tornado/test/util.py

--05d53e8c	2015-08-02T18:08:11-04:00	Ben Darnell	ben@bendarnell.com	Implement the async context manager protocol in tornado.locks.

05d53e8c
38	1	tornado/locks.py
44	0	tornado/test/locks_test.py

--e831fe36	2015-08-02T17:39:46-04:00	Ben Darnell	ben@bendarnell.com	Support other yieldables in `yield list`/`multi_future`.

e831fe36
10	5	tornado/gen.py
20	0	tornado/test/gen_test.py

--959da8f6	2015-08-02T16:21:32-04:00	Ben Darnell	ben@bendarnell.com	Mention async/await in coroutine docs.

959da8f6
16	0	docs/guide/coroutines.rst

--70e52f9c	2015-08-02T16:17:31-04:00	Ben Darnell	ben@bendarnell.com	Add docs about calling coroutines.

Show an alternative to PeriodicCallback.

Closes #1463.

70e52f9c
78	0	docs/guide/coroutines.rst

--aa7ccba4	2015-08-02T15:32:24-04:00	Ben Darnell	ben@bendarnell.com	Reduce default compression to level 6; raise min compressible length.

Partially addresses #1095.

aa7ccba4
1	0	tornado/test/simple_httpclient_test.py
3	2	tornado/test/web_test.py
12	2	tornado/web.py
2	1	tornado/websocket.py

--ccbfcbd8	2015-08-02T15:10:32-04:00	Ben Darnell	ben@bendarnell.com	Remove hidden testsetup blocks from otherwise self-contained doctests.

ccbfcbd8
0	5	docs/queues.rst
22	16	tornado/locks.py
15	6	tornado/queues.py

--d370183f	2015-07-30T21:10:48-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1468 from aebrahim/gzip_header

fix Content-Type for gzip in StaticFileHandler
d370183f
--1ea6e91b	2015-07-30T13:57:27-07:00	Ali Ebrahim	aebrahim@ucsd.edu	Content-Type for compressed StaticFileHandler file

The python mimetypes module used by StaticFileHandler will recognize
compression (gzip, bz2, etc.) as the file encoding, and will give the
mime type for the uncompressed file. This commit will fix this
behavior, so a gzip file will end up as application/gzip.
Additionally, unknown file types (or known file types compressed with
anything other than gzip) are served as application/octet-stream.

1ea6e91b
12	0	tornado/web.py

--3a881d9c	2015-07-30T13:12:56-07:00	Ali Ebrahim	aebrahim@ucsd.edu	test Content-Type for static compressed files

3a881d9c
3	0	MANIFEST.in
3	0	setup.py
23	0	tornado/test/static/sample.xml
-	-	tornado/test/static/sample.xml.bz2
-	-	tornado/test/static/sample.xml.gz
13	0	tornado/test/web_test.py

--8943ee06	2015-07-30T00:11:24-04:00	Ben Darnell	ben@bendarnell.com	Restore IOLoop.current() when AsyncIOLoop exits.

Also make this process repeatable.

8943ee06
16	3	tornado/platform/asyncio.py
1	1	tornado/platform/twisted.py
3	1	tornado/test/ioloop_test.py

--8f697b49	2015-07-29T23:02:42-04:00	Ben Darnell	ben@bendarnell.com	Correctly clear IOLoop.current() after TwistedIOLoop exits.

8f697b49
7	0	tornado/platform/twisted.py

--95c4dce4	2015-07-29T22:53:33-04:00	Ben Darnell	ben@bendarnell.com	Remove arbitrary cap on length of outgoing headers.

The cap is too low for some uses, and it's unclear if it's worth
keeping.

Closes #1473.
Closes #1025.

95c4dce4
2	4	tornado/web.py

--1d02ed60	2015-07-29T22:49:54-04:00	Ben Darnell	ben@bendarnell.com	Fix incorrect check in IOLoop(make_current=True).

Expand tests.

Fixes #1469.

1d02ed60
1	1	tornado/ioloop.py
28	2	tornado/test/ioloop_test.py

--81ee310a	2015-07-29T22:40:00-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1471 from gitchs/master

Remove an useless line
81ee310a
--46ca48ed	2015-07-27T16:19:21+08:00	Leon Chan	tinyproxy@gmail.com	Remove an useless line
46ca48ed
0	1	tornado/httpserver.py

--d53f72fe	2015-07-20T08:36:04-04:00	Ben Darnell	ben@bendarnell.com	Update copyright line in docs.

d53f72fe
2	1	docs/conf.py

--cb12ad04	2015-07-17T12:28:31-04:00	Ben Darnell	ben@bendarnell.com	Merge branch 'branch4.2'

cb12ad04
--5d4d1143	2015-07-17T11:48:58-04:00	Ben Darnell	ben@bendarnell.com	Release version 4.2.1

5d4d1143
1	0	docs/releases.rst
12	0	docs/releases/v4.2.1.rst
1	1	setup.py
2	2	tornado/__init__.py

--ecb3ea75	2015-07-17T11:36:53-04:00	Ben Darnell	ben@bendarnell.com	Fix path traversal check in StaticFileHandler.

Previously StaticFileHandler would allow access to files whose name
starts with the static root directory, not just those that are actually
in the directory.

The bug was introduced in Tornado 3.1 via commits 7b03cd62fb and
60952528.

ecb3ea75
1	0	MANIFEST.in
1	0	setup.py
2	0	tornado/test/static_foo.txt
9	0	tornado/test/web_test.py
7	3	tornado/web.py

--d8d5f588	2015-07-05T18:40:14-04:00	Ben Darnell	ben@bendarnell.com	Add `{% whitespace %}` template directive.

This allows per-template and even per-section changes to whitespace
handling.

Closes #178.

d8d5f588
13	1	tornado/template.py
13	0	tornado/test/template_test.py

--254783a0	2015-07-05T17:13:07-04:00	Ben Darnell	ben@bendarnell.com	Introduce `oneline` template whitespace mode.

This slightly-more-aggressive whitespace removal doesn't actually
save any space, but it removes the very conspicuous blank lines
that are often left around template directives.

Closes #291.
Closes #1083.

254783a0
4	0	tornado/template.py
9	4	tornado/test/template_test.py

--72251a29	2015-07-05T17:03:45-04:00	Ben Darnell	ben@bendarnell.com	Add Loader parameter to control whitespace mode.

Also add Application setting.

Closes #178.

72251a29
3	1	docs/template.rst
3	0	docs/web.rst
90	21	tornado/template.py
12	0	tornado/test/template_test.py
5	2	tornado/web.py

--26a03dfc	2015-07-05T15:45:52-04:00	Ben Darnell	ben@bendarnell.com	Move compress_whitespace setting from template writer to reader.

This ensures that the filename-based heuristic is applied correctly for
files included from another file.

26a03dfc
18	14	tornado/template.py
27	1	tornado/test/template_test.py

--6285ac97	2015-07-05T00:07:50-04:00	Ben Darnell	ben@bendarnell.com	Start next-release notes

6285ac97
1	0	docs/releases.rst
63	0	docs/releases/next.rst

--85484f66	2015-07-04T23:54:13-04:00	Ben Darnell	ben@bendarnell.com	Add support for UTF-16 and UTF-8-with-BOM to CSV locale.

Auto-detect encoding based on BOM when possible.

Closes #1449

85484f66
30	4	tornado/locale.py
24	1	tornado/test/locale_test.py

--023c6737	2015-07-04T23:09:12-04:00	Ben Darnell	ben@bendarnell.com	Relax a test for SSL errors in start_tls.

023c6737
3	1	tornado/test/iostream_test.py

--d74d5838	2015-07-04T22:40:23-04:00	Ben Darnell	ben@bendarnell.com	Reduce logging of errors inside IOStream (especially SSLError).

Coroutine-style usage converts most errors into StreamClosedErrors,
which are logged less noisily while still allowing the original error
to be seen via the new real_error attribute. SSL errors now typically
result in a single log line instead of a full stack trace.

Closes #1304.

d74d5838
24	13	tornado/iostream.py
3	0	tornado/simple_httpclient.py
10	0	tornado/test/httpserver_test.py
1	1	tornado/test/iostream_test.py
10	0	tornado/test/simple_httpclient_test.py
10	0	tornado/testing.py

--c91f7c3e	2015-07-04T20:20:17-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1461 from leeclemens/patch-1

Update travis-ci.org URL in comment
c91f7c3e
--4339c972	2015-07-04T20:00:29-04:00	Lee Clemens	java@leeclemens.net	Update travis-ci.org URL in comment
4339c972
1	1	.travis.yml

--433e7f75	2015-07-04T18:24:24-04:00	Ben Darnell	ben@bendarnell.com	Support pickling of HTTPHeaders.

Closes #1445

433e7f75
9	0	tornado/httputil.py
10	0	tornado/test/httputil_test.py

--463669e9	2015-07-04T15:18:26-04:00	Ben Darnell	ben@bendarnell.com	Make dashes and underscores interchangeable in option names.

Closes #421.

463669e9
31	11	tornado/options.py
2	0	tornado/test/options_test.cfg
42	0	tornado/test/options_test.py

--d7f8c16b	2015-07-04T14:32:53-04:00	Ben Darnell	ben@bendarnell.com	Use unittest.mock in test_gaierror.

Attempts at generating errors in other ways have proven slow or
unreliable.

d7f8c16b
18	7	tornado/test/iostream_test.py

--5a2bb7e5	2015-07-04T14:13:58-04:00	Ben Darnell	ben@bendarnell.com	Add filename to template.ParseError messages.

Closes #1453
Closes #1262

5a2bb7e5
41	20	tornado/template.py
13	0	tornado/test/template_test.py

--52f3cb34	2015-07-04T13:42:45-04:00	Ben Darnell	ben@bendarnell.com	Merge branch 'pr1456'

52f3cb34
--4fb7d402	2015-07-04T13:41:34-04:00	Ben Darnell	ben@bendarnell.com	Fix doctests.

4fb7d402
1	1	docs/guide/structure.rst

--4b43e776	2015-07-04T11:22:12-04:00	Ben Darnell	ben@bendarnell.com	Remove _OAUTH_USERINFO_URL.

4b43e776
5	4	tornado/auth.py
7	4	tornado/test/auth_test.py

--2d8e56e5	2015-07-03T18:35:26-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1460 from ianmackinnon/feature-google-oauth-user-data

Add Google OAuth2 user info request.
2d8e56e5
--500a2fae	2015-07-02T13:57:04+02:00	Ian Mackinnon	imackinnon@gmail.com	Fix unicode syntax for Python 3.

500a2fae
2	2	tornado/test/auth_test.py

--e2d6f000	2015-07-02T13:36:20+02:00	Ian Mackinnon	imackinnon@gmail.com	Add Google OAuth2 user info request.

e2d6f000
6	2	tornado/auth.py
17	3	tornado/test/auth_test.py

--125e6f8f	2015-07-01T18:33:43-04:00	Ben Darnell	ben@bendarnell.com	Update outdated comment.

125e6f8f
4	5	tornado/concurrent.py

--617d41f2	2015-06-28T16:41:46-04:00	Ben Darnell	ben@bendarnell.com	Introduce OAuth2Mixin.oauth2_request.

This method can serve as a general replacement for methods like
FacebookGraphMixin.facebook_request.

Update docs for GoogleOAuth2Mixin.get_authenticated_user to indicate
that only the tokens are returned, not other user information.

Add some basic tests for GoogleOAuth2Mixin.

This commit incorporates code from FanFani4 in #1212 and
kippandrew in #1454.

617d41f2
81	39	tornado/auth.py
69	1	tornado/test/auth_test.py

--577537cb	2015-06-21T14:08:21-04:00	Ben Darnell	ben@bendarnell.com	Document StaticFileHandler's default_filename option.

577537cb
6	2	tornado/web.py

--b647b842	2015-06-21T13:57:28-04:00	Ben Darnell	ben@bendarnell.com	Clear __package__ in script run by autoreload CLI.

This prevents imports from incorrectly being interpreted as
relative to the 'tornado package, which would make the standard
'platform' module unimportable.

See bdarnell/plop#21

b647b842
8	3	tornado/autoreload.py

--41c5f664	2015-06-21T10:29:45-04:00	Greg Ward	greg@gerg.ca	Tie the example for AsyncHTTPTestCase to real code.

Now all the reader has to do is copy one of the "Hello, world"
examples to hello.py, copy the test example to test_hello.py, import
AsyncHTTPTestCase, and run the test. It's still not entirely seamless
and idiot-proof, but it's progress!

Of note: the example test can now actually assert things about the
response it receives.

41c5f664
8	3	tornado/testing.py

--177e0341	2015-06-21T10:20:31-04:00	Greg Ward	greg@gerg.ca	Clarify the role and meaning of self.fetch() in AsyncHTTPTestCase.

The example code should just show the simple, obvious thing to do:
call self.fetch(). Text afterwards explains how this relates to stop()
and wait().

177e0341
9	5	tornado/testing.py

--5039d3d2	2015-06-21T10:04:21-04:00	Greg Ward	greg@gerg.ca	Consistently format the three "Hello, world" examples (docs and README)

- encourage use of make_app() (makes testing easier)
- use fully-qualified module paths (painful in real-world code,
  but makes examples clearer)
- don't define a main() function that is never called: just
  use a boring old "__name__ == __main__" block, so the code
  can be copy + pasted + executed immediately
- just use a tuple when defining routes, not url(...): this is
  supposed to be a simple, minimalist example

5039d3d2
5	3	README.rst
7	7	docs/guide/structure.rst
4	2	docs/index.rst

--45bea0dd	2015-06-11T00:05:36-04:00	Ben Darnell	ben@bendarnell.com	Support Python 3.5 async/await native coroutines.

Requires changes to be included in 3.5b3.

45bea0dd
9	0	tornado/concurrent.py
29	2	tornado/gen.py
35	1	tornado/test/gen_test.py
7	2	tornado/testing.py
2	6	tornado/web.py

--2971e857	2015-06-06T15:40:21-04:00	Ben Darnell	ben@bendarnell.com	Get the tests passing under Python 3.5b2

2971e857
5	2	tornado/test/web_test.py
8	2	tornado/util.py

--082ac5e8	2015-06-06T15:39:56-04:00	Ben Darnell	ben@bendarnell.com	Bump version number to 4.3.dev1

082ac5e8
1	1	setup.py
2	2	tornado/__init__.py

--fdfaf3df	2015-05-26T21:46:05-04:00	Ben Darnell	ben@bendarnell.com	Set version number to 4.2.0

fdfaf3df
2	2	docs/releases/v4.2.0.rst
1	1	setup.py
2	2	tornado/__init__.py

--683429ac	2015-05-26T21:44:02-04:00	Ben Darnell	ben@bendarnell.com	Clarify release notes about create_default_context.

Encourage use of SSLContext on the server side.

683429ac
3	1	docs/releases/v4.2.0.rst

--433365ed	2015-05-25T10:24:22-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1446 from nero-luci/patch-1

[httputil.py] Word correction
433365ed
--5b9ad455	2015-05-25T10:44:11+03:00	Cornel Punga	cornel.punga@gmail.com	[httputil.py] Word correction
5b9ad455
1	1	tornado/httputil.py

--f5380632	2015-05-19T21:46:21-04:00	Ben Darnell	ben@bendarnell.com	Disable twisted's test_process on python 3.

The new twisted 15.2.0 has some failures in this test that appear to be
interactions between the two package's test suites rather than a problem
in the integration itself, so just disable the tests for now.

f5380632
8	0	tornado/test/twisted_test.py

--61a16c90	2015-05-10T13:16:50-04:00	Ben Darnell	ben@bendarnell.com	Fix title of 4.2 release notes page

61a16c90
2	2	docs/releases/v4.2.0.rst

--7041fd47	2015-05-10T13:12:52-04:00	Ben Darnell	ben@bendarnell.com	Add missing release notes file.

7041fd47
247	0	docs/releases/v4.2.0.rst

--c46aaebe	2015-05-10T13:08:59-04:00	Ben Darnell	ben@bendarnell.com	Set version number to 4.2b1

c46aaebe
1	1	docs/releases.rst
0	247	docs/releases/next.rst
1	1	setup.py
2	2	tornado/__init__.py

--5fb7b06c	2015-05-09T22:28:35-04:00	Ben Darnell	ben@bendarnell.com	Update release notes

5fb7b06c
25	11	docs/releases/next.rst

--01c78ebf	2015-05-09T21:55:00-04:00	Ben Darnell	ben@bendarnell.com	Document RequestHandler.patch.

Add an example for overriding SUPPORTED_METHODS.

01c78ebf
12	2	docs/web.rst
4	4	tornado/web.py

--2c401cf7	2015-05-07T23:03:27-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1436 from alunduil/add-dcos-to-sdist

add docs recursively to MANIFEST.in
2c401cf7
--8e4ff358	2015-05-03T09:45:20-05:00	Alex Brandt	alunduil@alunduil.com	add docs recursively to MANIFEST.in

When packaging tornado for Gentoo I found the documentation was not
available in the sdist provided on pypi.  This adds the documentation so
that users can choose to install it locally.

8e4ff358
2	0	MANIFEST.in

--c3aa6e5c	2015-05-05T22:16:30-07:00	Ben Darnell	ben@bendarnell.com	Remove weak reference from WaitIterator.

This reference is the only thing holding the asynchronous "stack"
together in some cases, so making it weak could allow coroutines
to be garbage collected while running. This was mainly a problem
on Python 3.4, which is much better at garbage collecting generators
than older versions.

Fixes #1429.

c3aa6e5c
2	15	tornado/gen.py

--62ecb802	2015-05-05T22:14:05-07:00	Ben Darnell	ben@bendarnell.com	Echo the received websocket close code.

Fixes #1377.

62ecb802
5	1	tornado/test/websocket_test.py
3	1	tornado/websocket.py

--dd3aabdd	2015-05-05T22:04:09-07:00	Ben Darnell	ben@bendarnell.com	Document (ignored) timeout argument to Future methods.

Closes #1435.

dd3aabdd
8	0	tornado/concurrent.py

--bb77f288	2015-04-28T21:12:09-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1432 from szweep/unescape_fix

Modify xhtml_unescape to handle hex numeric refs
bb77f288
--598ffdac	2015-04-23T14:33:17-04:00	szweep	szweep@gmail.com	Modify xhtml_unescape to handle hex numeric refs

While the existing code handles references like &#32; properly,
it doesn't handle the valid case where the number is specified
in hex. For example 'foo&#32;bar', 'foo&#x20;bar' and 'foo&#X20;bar'
should all decode to 'foo bar'. The changes in escape.py check
for the 'x' and decode appropriately. Also added unit tests for
unescaping strings with numeric references.

598ffdac
3	0	tornado/escape.py
13	0	tornado/test/escape_test.py

--609dbb92	2015-04-24T10:01:30-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1431 from ajdavis/changelog-event-fix

More detail about porting from toro.Event.
609dbb92
--d327d8e6	2015-04-24T09:51:15-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1430 from ajdavis/spelling

Spelling.
d327d8e6
--85ff3a08	2015-04-24T09:32:34-04:00	A. Jesse Jiryu Davis	jesse@mongodb.com	More detail about porting from toro.Event.

85ff3a08
5	3	docs/releases/next.rst

--eb58cb64	2015-04-24T09:25:39-04:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Spelling.

eb58cb64
1	1	tornado/gen.py

--674d7eb5	2015-04-19T13:18:46-04:00	Ben Darnell	ben@bendarnell.com	Make HTTPHeaders compatible with copy.copy and copy.deepcopy.

674d7eb5
8	0	tornado/httputil.py
19	0	tornado/test/httputil_test.py

--ce16bf6c	2015-04-19T12:53:54-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1399 from martinhoefling/master

Cookie secret key versioning support
ce16bf6c
--5600fde8	2015-04-19T12:37:43-04:00	Ben Darnell	ben@bendarnell.com	More doc updates.

5600fde8
0	4	docs/conf.py
12	0	docs/httpclient.rst
4	0	docs/process.rst
4	4	docs/releases/next.rst
3	0	tornado/httpserver.py
22	12	tornado/simple_httpclient.py

--7b2f9967	2015-04-19T12:05:29-04:00	Ben Darnell	ben@bendarnell.com	Update release notes

7b2f9967
6	2	docs/gen.rst
1	0	docs/ioloop.rst
32	0	docs/releases/next.rst
1	1	tornado/gen.py

--b567f413	2015-04-19T11:27:41-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1423 from ajdavis/changelog-locks-and-queues

Document Lock, notes for porting from Toro.
b567f413
--86a2cab2	2015-04-19T11:22:13-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1422 from ajdavis/timeouts-not-deadlines

Timeouts not deadlines.
86a2cab2
--7dc9f255	2015-04-19T15:23:45+02:00	Martin Hoefling	martin.hoefling@gmx.de	Merge branch 'master' of https://github.com/tornadoweb/tornado

7dc9f255
--f3a7816e	2015-04-19T15:13:51+02:00	Martin Hoefling	martin.hoefling@gmx.de	Documentation for key versioning added

f3a7816e
9	0	docs/guide/security.rst
3	0	docs/releases/next.rst
4	0	docs/web.rst

--b5fd020a	2015-04-19T14:47:18+02:00	Martin Hoefling	martin.hoefling@gmx.de	Key versioning: review comments addressed

b5fd020a
13	5	tornado/test/web_test.py
3	15	tornado/web.py

--2cd010fb	2015-04-18T23:10:56-04:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Notes for porting from Toro to Tornado.

2cd010fb
78	12	docs/releases/next.rst

--99a4e157	2015-04-18T23:04:13-04:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Document the Lock class.

99a4e157
6	0	docs/locks.rst

--0a4da491	2015-04-18T22:54:31-04:00	Ben Darnell	ben@bendarnell.com	Delay shutdown of the IOLoop in sync HTTPClient test.

This appears to cause spurious logs in HTTP/2 tests.

0a4da491
6	1	tornado/test/httpclient_test.py

--8b1c466c	2015-04-18T22:43:56-04:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Replace 'deadline' with 'timeout' for Lock.acquire.

8b1c466c
2	2	tornado/locks.py
1	1	tornado/test/locks_test.py

--b2e81f6b	2015-04-18T22:40:34-04:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Condition.wait examples should show timeout, not deadline.

b2e81f6b
3	3	tornado/locks.py

--d1676810	2015-04-18T19:19:00-04:00	Ben Darnell	ben@bendarnell.com	Fix WaitIterator when no hard reference is kept.

Closes #1397.

d1676810
8	0	tornado/gen.py
10	0	tornado/test/gen_test.py

--b450ff27	2015-04-18T18:53:38-04:00	Ben Darnell	ben@bendarnell.com	Clean up and document run_on_executor kwargs change.

b450ff27
17	5	tornado/concurrent.py
10	10	tornado/test/concurrent_test.py

--9fa0740d	2015-04-18T18:41:53-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1406 from legnaleurc/run_on_executor

Add arguments to run_on_executor
9fa0740d
--cf766125	2015-04-18T18:15:14-04:00	Ben Darnell	ben@bendarnell.com	Fix exception handling in CurlAsyncHTTPClient._process_queue.

Previously it would allow exceptions to escape, which worked only if
_process_queue were called by fetch_impl instead of
_finish_pending_requests.

Closes #1413.

cf766125
17	1	tornado/curl_httpclient.py

--2bd2f0db	2015-04-18T14:12:44-04:00	Ben Darnell	ben@bendarnell.com	Add raise_error behavior to Subprocess.wait_for_exit.

Closes #1205.

2bd2f0db
17	2	tornado/process.py
19	0	tornado/test/process_test.py

--3daac1d7	2015-04-18T13:52:14-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1419 from kippandrew/fix-client-max-body

Add max_body_size parameter to SimpleHTTPClient
3daac1d7
--616e9f0c	2015-04-18T12:21:10-04:00	Ben Darnell	ben@bendarnell.com	Use the correct expression for detecting the presence of asyncio.

616e9f0c
2	1	.travis.yml

--71d1cb48	2015-04-18T12:06:40-04:00	Ben Darnell	ben@bendarnell.com	Fix typo in travis.yml

71d1cb48
1	1	.travis.yml

--a80b353a	2015-04-18T12:00:31-04:00	Ben Darnell	ben@bendarnell.com	Add AsyncIOLoop to travis.yml

a80b353a
2	1	.travis.yml

--838e1cf0	2015-04-18T11:57:22-04:00	Ben Darnell	ben@bendarnell.com	Add **kwargs to IOLoop initializers.

This makes them compatible with the new make_current argument.

Add additional delay in test_streaming_until_close_future
for compatibility with AsyncIOLoop.

838e1cf0
4	2	tornado/ioloop.py
6	5	tornado/platform/asyncio.py
2	1	tornado/platform/twisted.py
1	1	tornado/test/iostream_test.py
2	2	tornado/test/twisted_test.py

--3eb4e9f2	2015-04-17T10:29:38-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1421 from ajdavis/spider-example

Add a web spider example to demonstrate Queue.
3eb4e9f2
--d1829969	2015-04-17T10:04:35-04:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Remove unnecessary "start-file" markup.

d1829969
0	1	demos/webspider/webspider.py
0	1	docs/guide/queues.rst

--aed1fc45	2015-04-14T21:29:23-04:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Remove redundant description of web-spider demo.

aed1fc45
0	13	demos/webspider/webspider.py
7	6	docs/guide/queues.rst

--41724baf	2015-04-14T21:24:42-04:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Add a web spider example to demonstrate Queue.

41724baf
113	0	demos/webspider/webspider.py
1	0	docs/guide.rst
25	0	docs/guide/queues.rst

--e6589a7a	2015-04-14T11:27:55-04:00	Andy Kipp	andy@rstudio.com	Fix for python 3

e6589a7a
2	2	tornado/test/simple_httpclient_test.py

--889e7f01	2015-04-14T10:18:54-04:00	Andy Kipp	andy@rstudio.com	Send max_body_size to HTTP1Connection

889e7f01
7	3	tornado/simple_httpclient.py
46	0	tornado/test/simple_httpclient_test.py
1	1	tornado/websocket.py

--c6a427ca	2015-04-13T20:25:43+01:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1417 from ajdavis/locks-doctests

Move doctests from locks.rst to locks.py.
c6a427ca
--9f72157a	2015-04-12T17:16:08-04:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Move doctests from locks.rst to locks.py docstrings.

For consistency with queues doctests.

9f72157a
0	154	docs/locks.rst
156	0	tornado/locks.py

--303c09ce	2015-04-12T21:19:31+01:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1416 from ajdavis/reliable-queues-doctest

reliable-queues-doctest
303c09ce
--556a25da	2015-04-12T13:28:46-04:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Reliable Semaphore doctest.

100ms sleep doesn't always order the test output on Travis slaves.

556a25da
14	4	docs/locks.rst

--d76755bf	2015-04-10T17:46:56+01:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1409 from ajdavis/document-queues

Document queues.
d76755bf
--a4473f67	2015-04-10T17:46:47+01:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1408 from ajdavis/doc-bounded-sem

Document locks.BoundedSemaphore.
a4473f67
--5a3d4bea	2015-04-10T00:01:58-04:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Remove redundant doctest of BoundedSemaphore.release.

5a3d4bea
0	13	docs/locks.rst

--8d468a25	2015-04-09T23:58:17-04:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Move doctests from queues.rst to queues.py.

8d468a25
0	78	docs/queues.rst
79	1	tornado/queues.py

--d25baa48	2015-04-09T23:50:12-04:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Add "autoclass" for PriorityQueue and LifoQueue.

d25baa48
4	0	docs/queues.rst

--054b8722	2015-04-09T23:43:55-04:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Use autoexception for QueueFull/Empty docs.

054b8722
2	2	docs/queues.rst

--24aa16e8	2015-04-08T22:10:04-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1412 from abhinav/master

Allow the same future multiple times in `multi_future`
24aa16e8
--ade343d0	2015-04-07T23:53:29-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1411 from Liuchang0812/fix-format

use key-word "super" replace hard code
ade343d0
--37217379	2015-04-07T11:57:45-07:00	Abhinav Gupta	abg@uber.com	Allow the same future multiple times in `multi_future`

This prevents failures in cases like the following:

    f = <some future>
    yield [f, f]

37217379
4	0	tornado/gen.py
6	0	tornado/test/gen_test.py

--1a8a4d3d	2015-04-05T20:04:50+08:00	whu_liuchang	nfcj000@qq.com	Update blog.py

use recommended style
1a8a4d3d
1	2	demos/blog/blog.py

--d1288380	2015-04-04T09:08:22-04:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Document queues.

d1288380
107	0	docs/queues.rst

--d2a4a066	2015-04-04T08:39:11-04:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Document locks.BoundedSemaphore.

d2a4a066
19	0	docs/locks.rst

--3e4a735f	2015-04-03T13:52:49-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1405 from scipetr/patch-1

Fixed autoreload for Python 3
3e4a735f
--63f56d18	2015-04-02T23:22:36+09:00	Wei-Cheng Pan	legnaleurc@gmail.com	Add testcases.

63f56d18
80	1	tornado/test/concurrent_test.py

--b235f583	2015-04-02T16:49:36+03:00	Evgeniy Dobrohvalov	scipetr@gmail.com	Fixed autoreload for Python 3

Changed th system module values check to return a list.
In Python 3 it returns a dict_view which could occassionally produce
a runtime error of "dictionary changed size during iteration".
b235f583
1	1	tornado/autoreload.py

--3d13a2f4	2015-03-31T18:15:49+08:00	Wei-Cheng Pan	legnaleurc@gmail.com	Allow clients to specify attrs in decorator.

Clients can specify `executor` and `io_loop` attribute name in
`run_on_executor` decorator.

3d13a2f4
9	3	tornado/concurrent.py

--4823df25	2015-03-30T23:30:56-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1401 from ajdavis/document-semaphore

Document locks.Semaphore.
4823df25
--71597180	2015-03-30T22:41:05-04:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Document locks.Semaphore.

71597180
64	1	docs/locks.rst
0	12	tornado/locks.py

--0f92f995	2015-03-29T23:22:55-04:00	Ben Darnell	ben@bendarnell.com	Use more consistent language in exception logs.

0f92f995
1	1	tornado/concurrent.py

--00231e08	2015-03-29T20:55:28-04:00	Ben Darnell	ben@bendarnell.com	Clean up some more tests that fail or log with HTTP/2.

00231e08
8	0	tornado/test/httpserver_test.py
24	5	tornado/test/simple_httpclient_test.py
11	3	tornado/test/web_test.py

--4f86890c	2015-03-29T16:22:26-04:00	Ben Darnell	ben@bendarnell.com	Add make_current keyword argument to IOLoop constructor.

This allows applications to create an IOLoop to be started in another
thread without making it current in the originating thread.

Update docs to use IOLoop.current() in place of IOLoop.instance() when
starting the loop.

Closes #1390.

4f86890c
3	3	demos/benchmark/chunk_benchmark.py
1	1	demos/blog/blog.py
1	1	demos/chat/chatdemo.py
1	1	demos/facebook/facebook.py
1	1	demos/helloworld/helloworld.py
1	1	demos/s3server/s3server.py
1	1	demos/twitter/twitterdemo.py
1	1	demos/websocket/chatdemo.py
1	1	docs/asyncio.rst
1	1	docs/index.rst
1	1	docs/twisted.rst
1	1	tornado/httpclient.py
3	3	tornado/httpserver.py
23	6	tornado/ioloop.py
2	2	tornado/iostream.py
1	1	tornado/platform/twisted.py
3	3	tornado/tcpserver.py
1	1	tornado/test/process_test.py
3	3	tornado/web.py
1	1	tornado/wsgi.py

--91f3f0fe	2015-03-29T14:17:36-04:00	Ben Darnell	ben@bendarnell.com	Add a quiet_exceptions argument to gen.Multi and gen.multi_future.

Closes #1378.

91f3f0fe
24	10	tornado/gen.py
13	1	tornado/test/gen_test.py

--c95843cf	2015-03-29T14:04:46-04:00	Ben Darnell	ben@bendarnell.com	gen.multi_future and gen.Multi log any exceptions after the first.

They were already logged when the Future was GC'd, but this is
cleaner and more reliable than the destructor hook.

See #1378.

c95843cf
34	7	tornado/gen.py
32	0	tornado/test/gen_test.py

--b5b0b37a	2015-03-29T12:55:21-04:00	Ben Darnell	ben@bendarnell.com	Update next-release notes

b5b0b37a
68	0	docs/releases/next.rst
2	0	tornado/locale.py

--b22bec6c	2015-03-29T12:05:30-04:00	Ben Darnell	ben@bendarnell.com	Remove the deprecated/obsolete auth mixins.

Both Google's OpenID service and FriendFeed are slated to shut down
before the next release of Tornado, and FacebookMixin has been
deprecated in favor of OAuth 2.0 for a long time.

b22bec6c
0	13	docs/auth.rst
15	12	docs/guide/security.rst
1	1	docs/releases/v4.0.0.rst
4	462	tornado/auth.py
1	37	tornado/test/auth_test.py

--ad403acd	2015-03-29T11:47:32-04:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'origin/stable'

ad403acd
--a8986e48	2015-03-29T11:45:50-04:00	Ben Darnell	ben@bendarnell.com	Replace blog demo's google login with a simple email/password scheme.

a8986e48
11	1	demos/blog/Dockerfile
49	22	demos/blog/blog.py
2	0	demos/blog/docker-compose.yml
2	0	demos/blog/requirements.txt
2	1	demos/blog/schema.sql
11	0	demos/blog/templates/create_author.html
14	0	demos/blog/templates/login.html

--61817b4d	2015-03-29T17:00:59+02:00	Martin Hoefling	martin.hoefling@tngtech.com	Cookie secret key versioning support

61817b4d
81	3	tornado/test/web_test.py
91	24	tornado/web.py

--c360c348	2015-03-28T15:27:56-04:00	Ben Darnell	ben@bendarnell.com	Add a docker-based environment for running the blog demo.

c360c348
7	0	demos/blog/Dockerfile
3	0	demos/blog/README
15	0	demos/blog/blog.py
13	0	demos/blog/docker-compose.yml
4	0	demos/blog/requirements.txt

--a4533b67	2015-03-28T12:43:09-04:00	Ben Darnell	ben@bendarnell.com	Remove GoogleMixin auth demo.

GoogleMixin is going away, and the remaining auth varieties are covered
by the facebook and twitter demos.

a4533b67
0	89	demos/auth/authdemo.py

--bade3746	2015-03-28T12:34:14-04:00	Ben Darnell	ben@bendarnell.com	Remove authentication from chat demo.

Google OpenID authentication is shutting down soon and its replacement
requires app registration, so it's better to make this demo like the
websocket one to show off long-polling concepts without auth-related
complexity.

bade3746
3	36	demos/chat/chatdemo.py
0	4	demos/chat/templates/index.html
1	1	demos/chat/templates/message.html

--dcc8f361	2015-03-28T11:14:21-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1398 from ajdavis/event-doc

Document locks.Event.
dcc8f361
--bb5c8bde	2015-03-28T06:02:32-04:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Clarify event.wait's blocking behavior.

bb5c8bde
2	2	docs/locks.rst

--83d07d80	2015-03-27T06:20:40-04:00	A. Jesse Jiryu Davis	jesse@mongodb.com	More concise locks examples.

83d07d80
5	10	docs/locks.rst

--7ecc0312	2015-03-27T06:17:31-04:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Document locks.Event.

7ecc0312
45	0	docs/locks.rst

--4dd78cff	2015-03-26T23:50:15-04:00	Ben Darnell	ben@bendarnell.com	Fix read_until_close's Future return with streaming_callback.

Fixes #1395.

4dd78cff
1	1	tornado/iostream.py
25	0	tornado/test/iostream_test.py

--24677828	2015-03-26T23:36:43-04:00	Ben Darnell	ben@bendarnell.com	Add Subprocess.wait_for_exit, a coro-friendly set_exit_callback().

Fixes #1391.

24677828
17	0	tornado/process.py
11	1	tornado/test/process_test.py

--f69b8046	2015-03-26T23:20:58-04:00	Ben Darnell	ben@bendarnell.com	Clarify documentation around `@asynchronous`.

The lack of `@asynchronous` is no longer the most likely cause
of write-after-finish errors, and we should discourage the
combination of `@asynchronous` and `@coroutine`.

Include some more context in the error message for RequestHandler.write(list).

f69b8046
11	12	tornado/web.py

--f5e19185	2015-03-26T08:30:31-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1396 from ajdavis/locks-doc

Document tornado.locks.
f5e19185
--42b38827	2015-03-26T06:31:57-04:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Make specific example code for Condition.

42b38827
9	10	docs/locks.rst

--d75df2ac	2015-03-26T06:19:47-04:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Replace "loop" with "io_loop" in locks example.

d75df2ac
4	4	docs/locks.rst

--fe662263	2015-03-25T06:18:32-04:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Document tornado.locks.

fe662263
68	0	docs/locks.rst

--7568b9c9	2015-03-24T20:40:00-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1394 from ajdavis/queue-subclasses

Queue subclasses.
7568b9c9
--79967e91	2015-03-23T23:35:20-04:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Add PriorityQueue and LifoQueue.

79967e91
38	5	tornado/queues.py
45	5	tornado/test/queues_test.py

--6af64db7	2015-03-23T23:16:22-04:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Redundant sentence.

6af64db7
1	1	tornado/queues.py

--bb02cd70	2015-03-20T15:28:53-04:00	Ben Darnell	ben@bendarnell.com	Guard against messages containing % signs in web.HTTPError.

This occurs in cases like RequestHandler.get_argument which
build their own message string instead of passing a printf
string and args to HTTPError.

Fixes #1393.

bb02cd70
6	0	tornado/test/web_test.py
2	0	tornado/web.py

--d635c56e	2015-03-19T21:29:26-04:00	Ben Darnell	ben@bendarnell.com	Finish incomplete sentence in docstring.

Fixes #1389

d635c56e
2	2	tornado/ioloop.py

--6d171185	2015-03-18T10:32:34-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1388 from arikfr/patch-1

Small documentation fix: "Google OpenID" -> "Google OAuth".
6d171185
--fe438fa9	2015-03-18T15:51:40+02:00	Arik Fraimovich	arik@arikfr.com	Small documentation fix: "Google OpenID" -> "Google OAuth".
fe438fa9
1	1	tornado/auth.py

--14ae309f	2015-03-16T21:53:18-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1381 from ajdavis/locks-cancel-timeouts

Cancel timeouts in Condition.wait and Semaphore.acquire.
14ae309f
--727d43e7	2015-03-16T21:52:27-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1382 from mgenti/appengine-fix

Fix for running tornado in app engine under Windows
727d43e7
--2aad9199	2015-03-16T13:43:31-05:00	Mark Guagenti	mark.guagenti@synapse-wireless.com	APPENGINE_RUNTIME should be checked before nt

2aad9199
4	4	tornado/platform/auto.py

--ba5843f1	2015-03-16T09:04:04-04:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Cancel timeouts in Condition.wait and Semaphore.acquire.

ba5843f1
8	2	tornado/locks.py
24	3	tornado/test/locks_test.py

--f5c07047	2015-03-15T22:00:58-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1380 from ajdavis/queues

Add tornado.queues.
f5c07047
--486abfb8	2015-03-15T21:09:12-04:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Cancel timeouts if Queue.get or put are resolved first.

486abfb8
12	8	tornado/queues.py
17	0	tornado/test/queues_test.py

--42e01ed9	2015-03-15T21:08:36-04:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Unused import.

42e01ed9
0	1	tornado/queues.py

--b1bd3221	2015-03-15T17:47:13-04:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Factor put with put_nowait, and get with get_nowait.

b1bd3221
6	21	tornado/queues.py

--d8666b4e	2015-03-15T17:41:55-04:00	A. Jesse Jiryu Davis	jesse@mongodb.com	put() doesn't defer unblocking get().

d8666b4e
1	5	tornado/queues.py
16	3	tornado/test/queues_test.py

--08921218	2015-03-14T17:52:39-04:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Add tornado.queues.

08921218
1	0	docs/coroutine.rst
7	0	docs/queues.rst
227	0	tornado/queues.py
333	0	tornado/test/queues_test.py
1	0	tornado/test/runtests.py

--54a144db	2015-03-14T13:37:01-04:00	Ben Darnell	ben@bendarnell.com	Make some tests less dependent on implementation details

54a144db
13	6	tornado/test/httpclient_test.py

--9189e8a0	2015-03-14T10:15:57-04:00	Ben Darnell	ben@bendarnell.com	Mark some tests as requiring HTTP/1.x

9189e8a0
2	0	tornado/httputil.py
3	1	tornado/test/httpclient_test.py
3	0	tornado/test/httpserver_test.py
6	0	tornado/test/simple_httpclient_test.py

--859df388	2015-03-14T00:33:41-04:00	Ben Darnell	ben@bendarnell.com	WSGIContainer now uses HTTPConnection to write its response.

859df388
7	7	tornado/wsgi.py

--42b9e6ff	2015-03-13T18:48:31-04:00	Ben Darnell	ben@bendarnell.com	Also make certifi optional on app engine.

42b9e6ff
3	2	tornado/netutil.py

--16500b54	2015-03-13T18:45:00-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1379 from mgenti/appengine-fix

Fix for using Tornado in GAE
16500b54
--724d4337	2015-03-13T12:29:23-05:00	Mark Guagenti	mark.guagenti@synapse-wireless.com	GAE does not have the ssl module so we can't access ssl.CERT_REQUIRED

724d4337
6	1	tornado/netutil.py

--012eff38	2015-03-12T09:57:26-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1376 from rutsky/patch-1

fix typo: "javscript"
012eff38
--dd77533d	2015-03-12T13:34:27+03:00	Vladimir Rutsky	rutsky@users.noreply.github.com	fix typo: "javscript"
dd77533d
1	1	tornado/escape.py

--7445b584	2015-03-11T10:49:26-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1375 from rutsky/patch-1

fix typo: "initalization"
7445b584
--9b3f414a	2015-03-11T16:55:56+03:00	Vladimir Rutsky	rutsky@users.noreply.github.com	fix typo: "initalization"
9b3f414a
1	1	docs/guide/structure.rst

--0dd94b9e	2015-03-09T22:25:50-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1373 from daftshady/patch

Fixed double slash redirect issue
0dd94b9e
--21657acf	2015-03-09T13:06:33+09:00	daftshady	daftonshady@gmail.com	temporarily fixed double slash redirect issue

21657acf
6	0	tornado/test/web_test.py
1	2	tornado/web.py

--cf2a5479	2015-03-08T23:08:25-04:00	Ben Darnell	ben@bendarnell.com	simple_httpclient: finish() should be called even for body-less GET.

This matters for HTTP2 where there is an explicit end-stream marker.

cf2a5479
0	1	tornado/simple_httpclient.py

--0d4eaeb6	2015-03-08T22:04:59-04:00	Ben Darnell	ben@bendarnell.com	Remove a special case that avoided using curl in tests for HTTPS.

This problem should have long since been fixed; any problematic
configurations don't deserve to misleadingly pass the tests.

0d4eaeb6
1	3	tornado/testing.py

--d0cef40f	2015-03-08T20:18:15-04:00	Ben Darnell	ben@bendarnell.com	Add a couple of private subclsasing hooks in simple_httpclient.

d0cef40f
17	9	tornado/simple_httpclient.py

--b43fccbc	2015-03-08T19:05:28-04:00	Ben Darnell	ben@bendarnell.com	Make HTTPServer Configurable.

Relax some overly-specific tests.

b43fccbc
20	2	tornado/httpserver.py
6	3	tornado/test/httpserver_test.py
3	0	tornado/test/runtests.py

--00703240	2015-03-08T19:05:11-04:00	Ben Darnell	ben@bendarnell.com	Support positional arguments to Configurable.initialize.

00703240
8	4	tornado/test/util_test.py
8	5	tornado/util.py

--e49a0c28	2015-03-08T10:33:40-04:00	Ben Darnell	ben@bendarnell.com	Make _request_summary handle remote_ip of None.

HTTPServerRequest has a default of None here although it is
set by both HTTPServer and WSGIAdapter.

e49a0c28
15	0	tornado/test/web_test.py
2	2	tornado/web.py

--4092f9dd	2015-03-08T10:23:05-04:00	Ben Darnell	ben@bendarnell.com	Improve logging when _handle_request_exception fails.

Stop discarding the exception returned by _execute.

4092f9dd
20	2	tornado/test/web_test.py
18	2	tornado/web.py

--6faa27fb	2015-03-08T10:02:19-04:00	Ben Darnell	ben@bendarnell.com	Add @wsgi_safe decorator to a couple of web tests.

6faa27fb
2	0	tornado/test/web_test.py

--b79f82aa	2015-03-07T23:12:41-05:00	Ben Darnell	ben@bendarnell.com	Allow TCPServer.handle_stream to be a coroutine

b79f82aa
17	2	tornado/tcpserver.py
1	0	tornado/test/runtests.py
38	0	tornado/test/tcpserver_test.py

--dfb752a7	2015-03-07T19:43:57-05:00	Ben Darnell	ben@bendarnell.com	Add SSLIOStream.wait_for_handshake.

This allows server-side applications to wait for the handshake to
complete in order to verify client certificates or use NPN/ALPN.

Fix a discrepancy between the callback and Future modes of
SSLIOStream.connect; now they both wait for the handshake to
complete.

dfb752a7
50	7	tornado/iostream.py
93	0	tornado/test/iostream_test.py

--6248b62a	2015-03-07T12:58:20-05:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1371 from ysimonson/feature/get-arguments-guard

Prevent bad calls to get_arguments with a presumed default value
6248b62a
--917c9cab	2015-03-07T12:34:37-05:00	Yusuf Simonson	simonson@gmail.com	Prevent bad calls to get_arguments with a presumed default value

917c9cab
6	0	tornado/web.py

--9a8a98ea	2015-03-05T22:56:48-05:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1274 from daftshady/etag

Fixed #1218.
9a8a98ea
--ddc84fd1	2015-03-05T20:56:29+09:00	daftshady	daftonshady@gmail.com	removed newline

ddc84fd1

--9275deb3	2015-03-05T20:52:50+09:00	daftshady	daftonshady@gmail.com	added etag tests to web_test

9275deb3
67	0	tornado/test/web_test.py

--196bcc68	2015-03-05T17:58:55+09:00	daftshady	daftonshady@gmail.com	fixed bytes error in `check_etag_header` so that it can run in python3

196bcc68
4	4	tornado/web.py

--89e153fc	2015-03-02T17:35:50+09:00	daftshady	daftonshady@gmail.com	added etag testcases to red_test

89e153fc
81	0	maint/test/redbot/red_test.py

--8db1f666	2015-03-02T17:34:42+09:00	daftshady	daftonshady@gmail.com	use weak comparison function when comparing entity-tags

8db1f666
16	4	tornado/web.py

--8024eee2	2015-01-31T05:49:46+09:00	daftshady	daftonshady@gmail.com	handle multiple etags with regex

8024eee2
7	6	tornado/web.py

--23f033d5	2014-12-12T20:05:35+09:00	daftshady	daftonshady@gmail.com	comment typo

23f033d5
1	1	tornado/web.py

--18a9e197	2014-12-12T19:49:13+09:00	daftshady	daftonshady@gmail.com	correctly parse If-None-Match header

18a9e197
7	2	tornado/web.py

--c60d6468	2015-03-04T23:25:59-05:00	Ben Darnell	ben@bendarnell.com	Count SSL_ERROR_EOF as a kind of connection reset.

This reduces log spam and lets us remove an old (and timing-sensitive)
test workaround.

Closes #1362.

c60d6468
18	7	tornado/iostream.py
0	4	tornado/test/simple_httpclient_test.py

--733a0fa3	2015-03-04T22:27:41-05:00	Ben Darnell	ben@bendarnell.com	Fix raise_error=False in synchronous HTTPClient.

The call to rethrow was redundant when raise_error was true,
and caused settings of raise_error=False to be ignored.

Closes #1351.

733a0fa3
0	1	tornado/httpclient.py

--b52bb5c9	2015-03-04T22:23:24-05:00	Ben Darnell	ben@bendarnell.com	Fix an error in autoreload on windows.

Our pre-exec cleanup causes problems on platforms where we spawn
a new process and call sys.exit.

Closes #1360.

b52bb5c9
14	5	tornado/autoreload.py

--6983d1ea	2015-03-04T00:01:43-05:00	Ben Darnell	ben@bendarnell.com	Merge branch 'branch4.1'

6983d1ea
--83a06917	2015-03-04T00:01:05-05:00	Ben Darnell	ben@bendarnell.com	Add an FAQ page.

83a06917
96	0	docs/faq.rst
1	0	docs/index.rst

--b06e7de2	2015-03-03T22:51:17-05:00	Ben Darnell	ben@bendarnell.com	Fix the doc build.

Readthedocs' mirror of python's intersphinx index appears to
be gone.

b06e7de2
1	1	docs/conf.py

--0087f091	2015-03-03T22:51:17-05:00	Ben Darnell	ben@bendarnell.com	Fix the doc build.

Readthedocs' mirror of python's intersphinx index appears to
be gone.

0087f091
1	1	docs/conf.py

--44c8c3d8	2015-03-03T20:32:08-05:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1366 from ajdavis/semaphore-garbage-collect

Clean up timed-out waiters in Semaphore.
44c8c3d8
--ad38e767	2015-03-03T12:14:57-05:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Clean up timed-out waiters in Semaphore.

ad38e767
33	25	tornado/locks.py
22	0	tornado/test/locks_test.py

--458cc4fe	2015-03-01T14:38:14-05:00	Ben Darnell	ben@bendarnell.com	Remove some debugging code that was accidentally committed.

458cc4fe
0	4	tornado/ioloop.py

--7ebed4ac	2015-02-28T14:47:23-05:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1356 from ajdavis/semaphore-memleak

Fix memory leak in Semaphore.
7ebed4ac
--c493323c	2015-02-28T14:47:02-05:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1353 from ajdavis/lock

Add tornado.locks.Lock.
c493323c
--0c7c464a	2015-02-28T13:44:27-05:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Fix memory leak in Semaphore.

0c7c464a
2	1	tornado/locks.py
1	0	tornado/test/locks_test.py

--b9223295	2015-02-28T13:40:32-05:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Restore LockTests.test_acquire_fifo.

b9223295
6	4	tornado/test/locks_test.py

--30a80a09	2015-02-28T13:35:36-05:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Don't promise that coroutines waiting for a Lock are FIFO.

30a80a09
0	3	tornado/locks.py
4	6	tornado/test/locks_test.py

--15847e26	2015-02-28T13:08:52-05:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1355 from ajdavis/locks-repr

Define Condition's and Event's repr, not str.
15847e26
--28b7f01f	2015-02-28T12:55:09-05:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1354 from ajdavis/bounded-semaphore-release-docstring

Add docstring to BoundedSemaphore.release.
28b7f01f
--343abe6c	2015-02-28T12:19:18-05:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Define Condition's and Event's repr, not str.

Consistent with asyncio's Condition and Event.

343abe6c
2	2	tornado/locks.py
11	11	tornado/test/locks_test.py

--332ff754	2015-02-28T12:14:29-05:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Add docstring to BoundedSemaphore.release.

332ff754
1	0	tornado/locks.py

--8e4f2b2a	2015-02-28T12:08:46-05:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Add tornado.locks.Lock.

8e4f2b2a
61	1	tornado/locks.py
68	0	tornado/test/locks_test.py

--dee6ab5d	2015-02-26T22:50:03-05:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1352 from ajdavis/bounded-semaphore

Add tornado.locks.BoundedSemaphore.
dee6ab5d
--a7454fc6	2015-02-26T22:11:00-05:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Add tornado.locks.BoundedSemaphore.

a7454fc6
19	1	tornado/locks.py
15	0	tornado/test/locks_test.py

--825eec05	2015-02-25T22:16:52-05:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1346 from ajdavis/semaphore

Add tornado.locks.Semaphore.
825eec05
--bc1cb633	2015-02-25T15:59:04-05:00	A. Jesse Jiryu Davis	jesse@mongodb.com	More tests of Semaphore, timeout, and with-statement.

bc1cb633
12	0	tornado/test/locks_test.py

--897ef080	2015-02-25T15:54:46-05:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Remove Semaphore.io_loop.

897ef080
1	2	tornado/locks.py

--7d9c893c	2015-02-25T15:54:06-05:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Remove public APIs Semaphore.counter and locked().

7d9c893c
6	19	tornado/locks.py
11	7	tornado/test/locks_test.py

--a3d255d3	2015-02-25T15:52:55-05:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Simpler code for Semaphore.acquire() as a context manager.

a3d255d3
21	27	tornado/locks.py

--5687cc79	2015-02-24T19:39:53-05:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1349 from st4lk/pgettext_ns

Add pgettext to default template namespace
5687cc79
--d5d23cb6	2015-02-24T13:48:10+03:00	st4lk	myhappydo@gmail.com	don't show pgettext en language warning

d5d23cb6
1	0	tornado/locale.py

--f55a8650	2015-02-24T13:45:25+03:00	st4lk	myhappydo@gmail.com	add pgettext to default template namespace

f55a8650
1	0	tornado/web.py

--1ceeb1ff	2015-02-23T10:49:23-05:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1348 from st4lk/locale_doc_fix

Fix doc typos (pgettext)
1ceeb1ff
--809da9c2	2015-02-23T12:16:02+03:00	st4lk	myhappydo@gmail.com	Fix doc typos (pgettext)

809da9c2
5	5	tornado/locale.py

--c3160957	2015-02-21T19:46:44-05:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1317 from st4lk/locale_context

Locale context (pgettext support)
c3160957
--497245e9	2015-02-21T17:55:29-05:00	Ben Darnell	ben@bendarnell.com	Expand PeriodicCallback docs and testing.

Fixes #1345.

497245e9
9	0	tornado/ioloop.py
80	1	tornado/test/ioloop_test.py

--0b2ecd3f	2015-02-19T23:08:25-05:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1344 from ajdavis/event-cleanups

Event cleanups.
0b2ecd3f
--892f0ace	2015-02-19T22:43:50-05:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Be explicit: Event.wait raises tornado.gen.TimeoutError.

892f0ace
2	1	tornado/locks.py

--10fd9491	2015-02-19T22:32:36-05:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Add tornado.locks.Semaphore.

10fd9491
121	1	tornado/locks.py
117	0	tornado/test/locks_test.py

--22640a7c	2015-02-19T22:04:49-05:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Rename TestEvent to EventTest.

22640a7c
1	1	tornado/test/locks_test.py

--82ab31ca	2015-02-19T22:03:19-05:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Simpler markup in Event.wait docstring.

82ab31ca
1	2	tornado/locks.py

--502b1ad7	2015-02-19T19:41:50-05:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1343 from browning/httpclient-exception-typo

Fix simple typo in httpclient exception message
502b1ad7
--1f3f7e4a	2015-02-19T16:17:46-08:00	Brian Browning	bwbrowning@gmail.com	Fix simple typo in httpclient exception message

Unelss should be unless
1f3f7e4a
1	1	tornado/simple_httpclient.py

--89c663ec	2015-02-18T17:18:22-05:00	Ben Darnell	ben@bendarnell.com	Remove long-forgotten (and overly pessimistic) README.

89c663ec
0	4	tornado/test/README

--9eb8520d	2015-02-18T17:17:26-05:00	Ben Darnell	ben@bendarnell.com	Fix web_test for python 3.5a1.

Compare strings case-insensitively since the behavior of the
cookie library has changed.

9eb8520d
6	4	tornado/test/web_test.py

--d4982e8b	2015-02-18T17:12:13-05:00	Ben Darnell	ben@bendarnell.com	Fix SSLIOStream in Python 3.5a1.

The behavior of SSLSocket.send() with an unwriteable socket
has changed: http://bugs.python.org/issue20951

d4982e8b
14	0	tornado/iostream.py

--6932b738	2015-02-18T09:54:44-05:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1341 from ajdavis/event

Add tornado.locks.Event.
6932b738
--f5254112	2015-02-18T08:57:09-05:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Import unittest2 in locks_test if needed.

f5254112
1	1	tornado/test/locks_test.py

--1c3d22fc	2015-02-18T08:56:52-05:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Fix multiple calls to Event.clear.

1c3d22fc
1	0	tornado/locks.py
9	0	tornado/test/locks_test.py

--fe9037a1	2015-02-17T22:33:36-05:00	Ben Darnell	ben@bendarnell.com	Make "certifi" optional on py34.

fe9037a1
6	1	setup.py
8	1	tornado/netutil.py
4	1	tornado/simple_httpclient.py
0	1	tornado/test/iostream_test.py
0	3	tornado/test/simple_httpclient_test.py

--dcd1ef81	2015-02-17T22:16:19-05:00	Ben Darnell	ben@bendarnell.com	Start next-release notes

dcd1ef81
1	0	docs/releases.rst
63	0	docs/releases/next.rst
8	0	tornado/log.py

--a12d531a	2015-02-17T20:35:19-05:00	Ben Darnell	ben@bendarnell.com	Bind options argument in define_logging_options.

This allows it to be used with non-default options instances.

Fixes #1342.

a12d531a
1	1	tornado/log.py

--d2114d9d	2015-02-17T13:16:07-05:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Combine lock tests into locks_test.py

d2114d9d
0	60	tornado/test/event_test.py
52	2	tornado/test/{condition_test.py => locks_test.py}
1	2	tornado/test/runtests.py

--17598514	2015-02-17T13:09:09-05:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Event.wait raises TimeoutError instead of returning False.

17598514
13	17	tornado/locks.py
14	20	tornado/test/event_test.py

--c229167e	2015-02-17T13:05:33-05:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Event.io_loop is unused.

c229167e
0	1	tornado/locks.py

--d7cbb18f	2015-02-15T20:20:18-05:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Add tornado.locks.Event.

Copied from Toro with small improvements.

d7cbb18f
49	1	tornado/locks.py
66	0	tornado/test/event_test.py
1	0	tornado/test/runtests.py

--673b7593	2015-02-15T19:16:11-05:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Unused imports in locks.py.

673b7593
1	1	tornado/locks.py

--553b5437	2015-02-15T19:02:11-05:00	Ben Darnell	ben@bendarnell.com	Fix docs and relax a test.

553b5437
2	2	tornado/httpclient.py
2	1	tornado/test/simple_httpclient_test.py

--4d38de67	2015-02-15T18:35:07-05:00	Ben Darnell	ben@bendarnell.com	Disable SSL compression on py32-33.

This passes howsmyssl.com for python 2.7.9 and above; the older
versions are fairly hopeless.

4d38de67
6	0	tornado/netutil.py

--df6f4d58	2015-02-15T18:29:52-05:00	Ben Darnell	ben@bendarnell.com	Fix tests on py26

df6f4d58
9	1	tornado/test/simple_httpclient_test.py

--438b976b	2015-02-15T18:23:19-05:00	Ben Darnell	ben@bendarnell.com	Reuse a global SSLContext by default in simple_httpclient

438b976b
1	23	tornado/iostream.py
22	0	tornado/netutil.py
8	1	tornado/simple_httpclient.py

--4479de38	2015-02-15T18:06:07-05:00	Ben Darnell	ben@bendarnell.com	Document that allow_ipv6 is now true in simple_httpclient.

4479de38
1	2	tornado/httpclient.py

--588c4bdd	2015-02-15T18:04:52-05:00	Ben Darnell	ben@bendarnell.com	Add ssl_options argument for simple_httpclient.

588c4bdd
3	0	tornado/curl_httpclient.py
12	3	tornado/httpclient.py
2	0	tornado/simple_httpclient.py
23	0	tornado/test/simple_httpclient_test.py

--308d8724	2015-02-15T17:40:40-05:00	Ben Darnell	ben@bendarnell.com	Validate SSL certs by default at the IOStream level.

Use the system certificates instead of certifi when available.
Note that this does not change the behavior of simple_httpclient,
which always uses certifi but will be changing in a future commit.

308d8724
43	10	tornado/iostream.py
8	5	tornado/test/iostream_test.py

--d41d1609	2015-02-15T12:12:25-05:00	Ben Darnell	ben@bendarnell.com	Update ssl_options docs to use SSLContext.

Now that Python 2 has a modern SSL package, SSLContext can
be presented as the default instead of the dictionary of
options.

Fixes #1322.

d41d1609
9	9	tornado/httpserver.py
8	9	tornado/httputil.py
9	8	tornado/iostream.py
6	6	tornado/netutil.py
9	8	tornado/tcpserver.py

--3e311aaf	2015-02-15T11:40:46-05:00	Ben Darnell	ben@bendarnell.com	Document the limitations of read_until_close(streaming_callback=).

As noted in #1334 and #1339.

3e311aaf
6	0	tornado/iostream.py

--1b541525	2015-02-15T10:57:12-05:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1340 from jonashagstedt/master

_on_close_called is set to True (was always False)
1b541525
--c18abd80	2015-02-15T10:56:15-05:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1338 from ajdavis/condition-squashed

Add tornado.locks.Condition.
c18abd80
--3ec5f7a5	2015-02-15T01:56:31+01:00	Jonas Hagstedt	hagstedt@gmail.com	_on_close_called is set to True (was always False)

3ec5f7a5
1	1	tornado/websocket.py

--32acb5c0	2015-02-14T14:30:48-05:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Add tornado.locks.Condition.

Copied from Toro with small improvements.

32acb5c0
1	0	docs/coroutine.rst
7	0	docs/locks.rst
81	0	tornado/locks.py
161	0	tornado/test/condition_test.py
1	0	tornado/test/runtests.py

--8b6bbba1	2015-02-12T18:15:38-05:00	Ben Darnell	ben@bendarnell.com	Increase the timeout on a test that's failing on travis-ci.

It is inexplicably failing on py27 DEPS=false while passing in other
configurations.

8b6bbba1
1	1	tornado/test/ioloop_test.py

--a015429d	2015-02-12T18:06:51-05:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1333 from carlsverre/master

Coroutine exception __context__ leak in python 3
a015429d
--35061911	2015-02-12T17:05:48-05:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1336 from grafuls/master

flake8 cleanup
35061911
--b2091c40	2015-02-11T20:00:02-08:00	Carl Sverre	accounts@carlsverre.com	Coroutine exception __context__ leak in python 3

In Python 3 every exception has an auto-attached __context__ exception if it was
raised while an existing exception was being handled.  This is often a very
useful property and allows users to see the underlying cause of many problems.

However, when dealing with async code via coroutines this feature can suddenly
become a pretty big issue.  Namely, if you generator.throw back into a coroutine
to raise an exception in the correct scope, and that coroutine raises an
exception at a later time you can have nested exceptions which shouldn't
logically be nested.

This patch resolves this issue in the coroutine code by moving the gen.throw
outside of the exception handler.  By doing this the user-code scope is able to
later raise exceptions without worrying about inheriting prior exception
context.

b2091c40
8	1	tornado/gen.py
23	0	tornado/test/gen_test.py

--a8687dad	2015-02-12T18:18:43+01:00	Gonzalo Rafuls	grafuls@redhat.com	flake8 cleanup

a8687dad
43	21	tornado/web.py

--1188c010	2015-02-12T11:13:14-05:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1335 from grafuls/master

Added logging for debugging and fixes for flake8
1188c010
--ace7dd61	2015-02-12T16:53:43+01:00	Gonzalo Rafuls	grafuls@redhat.com	merge

ace7dd61
--daf5eb39	2015-02-12T14:24:52+01:00	Gonzalo Rafuls	grafuls@redhat.com	Added logging for debugging and fixes for flake8

daf5eb39
23	10	tornado/websocket.py

--48193080	2015-02-12T14:24:52+01:00	Gonzalo Rafuls	grafuls@redhat.com	Added logging for debugging and fixes for flake8

48193080
20	7	tornado/websocket.py

--9b35208a	2015-02-10T22:23:30-05:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1290 from nosyjoe/branch4.0-mrbeam

Avoid busy waiting in ioloop when system time is skipped forward 
9b35208a
--a5e7ee7a	2014-12-16T15:43:06+01:00	Philipp Engel	philipp@filzip.com	modified method _schedule_next of PeriodicCallback to handle sudden changes of the system time differently:
 * calculating next timeout value directly while advancing by a multiple of callback_time
 * when the system time changes, jumps into the future make the _schedule_next method do a busy wait.
 * on slow machines (RPi), jumps of a few months into the future can block the loop for a few minutes
=> added a check for big differences in current system time and the current value of the next scheduled timeout

On a first boot of an older RPi image, tornado sometime starts before the date&time were updated through NTP, hence blocking the ioloop for several minutes.

a5e7ee7a
6	2	tornado/ioloop.py

--76982577	2015-02-09T00:22:28-05:00	Ben Darnell	ben@bendarnell.com	Enable sphinx doctests on travis-ci

76982577
3	0	.travis.yml

--b93b8405	2015-02-09T00:19:47-05:00	Ben Darnell	ben@bendarnell.com	Make many doc code blocks into sphinx doctests.

b93b8405
3	1	docs/Makefile
4	0	docs/auth.rst
5	0	docs/concurrent.rst
5	0	docs/gen.rst
24	4	docs/guide/async.rst
22	3	docs/guide/coroutines.rst
18	3	docs/guide/running.rst
46	7	docs/guide/security.rst
26	4	docs/guide/structure.rst
14	2	docs/guide/templates.rst
4	0	docs/web.rst
4	0	docs/websocket.rst
73	12	tornado/auth.py
5	1	tornado/concurrent.py
22	9	tornado/gen.py
10	4	tornado/ioloop.py
9	2	tornado/iostream.py
15	4	tornado/web.py
9	4	tornado/websocket.py
3	2	tox.ini

--0f1c6eec	2015-02-08T16:09:00-05:00	Ben Darnell	ben@bendarnell.com	Enable the sphinx doctest extension.

0f1c6eec
4	0	docs/Makefile
1	0	docs/conf.py
4	0	docs/httputil.rst
4	0	docs/util.rst
19	5	tox.ini

--e6da0c01	2015-02-08T15:02:49-05:00	Ben Darnell	ben@bendarnell.com	More flake8 cleanup.

The only remaining flake8 errors are for line length.

e6da0c01
2	2	tornado/curl_httpclient.py
1	1	tornado/options.py
4	0	tornado/platform/auto.py
1	1	tornado/test/curl_httpclient_test.py
1	0	tornado/test/gettext_translations/extract_me.py
1	0	tornado/test/import_test.py
1	1	tornado/test/websocket_test.py
5	3	tornado/util.py

--f098ca1e	2015-02-08T14:40:04-05:00	Ben Darnell	ben@bendarnell.com	Run autopep8

f098ca1e
1	2	tornado/test/escape_test.py

--2d33c945	2015-02-08T13:55:02-05:00	Ben Darnell	ben@bendarnell.com	Update requirement versions; add flake8 and twine

2d33c945
15	10	maint/requirements.txt

--03c7ce3c	2015-02-08T13:26:56-05:00	Ben Darnell	ben@bendarnell.com	Allow unicode strings in import_object in python 2.

Fixes #1316.

03c7ce3c
19	1	tornado/test/util_test.py
20	16	tornado/util.py

--db88a654	2015-02-07T13:19:37-05:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1327 from josephok/master

some modifications in demos/benchmark so it can run both in py2 and py3
db88a654
--30631d45	2015-02-07T13:18:08-05:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1325 from ccampbell/master

Skip falsy values for some SimpleCookie flags
30631d45
--24b41e70	2015-02-07T13:15:19-05:00	Ben Darnell	ben@bendarnell.com	Bump master branch version number

24b41e70
1	1	setup.py
2	2	tornado/__init__.py

--a30dcd09	2015-02-07T12:47:11-05:00	Ben Darnell	ben@bendarnell.com	Set version number to 4.1

a30dcd09
1	1	setup.py
2	2	tornado/__init__.py

--58ecf90b	2015-02-07T12:46:33-05:00	Ben Darnell	ben@bendarnell.com	Finalize 4.1 release notes.

58ecf90b
1	1	docs/releases.rst
3	3	docs/releases/{next.rst => v4.1.0.rst}

--c34b4f7d	2015-02-06T10:29:13+08:00	Joseph	josephok@qq.com	some modifications in demos/benchmark so it can run both in py2 and py3

c34b4f7d
5	0	demos/benchmark/benchmark.py
2	2	demos/benchmark/gen_benchmark.py
1	1	demos/benchmark/stack_context_benchmark.py
2	2	demos/benchmark/template_benchmark.py

--73556c21	2015-02-03T16:05:48-05:00	Craig Campbell	craig@vimeo.com	Add unit tests for new cookie behavior

73556c21
16	0	tornado/test/web_test.py

--ac0c5970	2015-02-03T16:05:01-05:00	Craig Campbell	craig@vimeo.com	Skip falsy values for SimpleCookie flags

Fixes #1324

ac0c5970
6	0	tornado/web.py

--fff09e90	2015-02-01T14:27:54-05:00	Ben Darnell	ben@bendarnell.com	Set version number to 4.1b2

fff09e90
1	1	setup.py
2	2	tornado/__init__.py

--96f81dfa	2015-02-01T14:17:25-05:00	Ben Darnell	ben@bendarnell.com	Update docs for UIModule.

96f81dfa
21	7	tornado/web.py

--27164584	2015-01-30T15:08:08-05:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Use self.io_loop in with_timeout tests.

27164584
4	3	tornado/test/gen_test.py

--eb4649e5	2015-02-01T10:52:30-05:00	Ben Darnell	ben@bendarnell.com	Silence a warning on freebsd.

This was already changed for other platforms but the error behaves
a bit differently on freebsd.

eb4649e5
1	0	tornado/iostream.py

--f87996ef	2015-01-31T23:00:20-05:00	Ben Darnell	ben@bendarnell.com	Merge branch 'master' of github.com:tornadoweb/tornado

f87996ef
--64b6cc62	2015-01-31T22:52:07-05:00	Ben Darnell	ben@bendarnell.com	Disable twisted_web tests on python 3.

The twisted.web modules are importable as of Twisted 15.0.0,
but appear to still have internal str/bytes issues.

64b6cc62
3	0	tornado/test/runtests.py
18	4	tornado/test/twisted_test.py

--5e027f72	2015-01-30T12:15:17-05:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1319 from hfaran/patch-1

Add syntax highlighting to Hello World example
5e027f72
--49024f1b	2015-01-30T11:49:34-05:00	Ben Darnell	ben@bendarnell.com	Fix a DeprecationWarning in twisted_test with Twisted 15.0.

49024f1b
5	0	tornado/test/twisted_test.py

--14173995	2015-01-30T02:47:16-08:00	Hamza Faran	hamzafaran@outlook.com	Add syntax highlighting to Hello World example
14173995
3	1	README.rst

--9dabd91e	2015-01-27T15:40:14+03:00	st4lk	myhappydo@gmail.com	merge pgettext and npgettext into one pgettext

9dabd91e
22	35	tornado/locale.py
3	3	tornado/test/gettext_translations/extract_me.py
4	4	tornado/test/locale_test.py

--cf2af098	2015-01-27T15:05:01+03:00	st4lk	myhappydo@gmail.com	add pgettext, npgettext docstrings

cf2af098
24	0	tornado/locale.py

--d9a9c931	2015-01-27T14:45:13+03:00	st4lk	myhappydo@gmail.com	add pgettext, npgettext

d9a9c931
33	0	tornado/locale.py
6	2	tornado/test/gettext_translations/extract_me.py
-	-	tornado/test/gettext_translations/fr_FR/LC_MESSAGES/tornado_test.mo
27	2	tornado/test/gettext_translations/fr_FR/LC_MESSAGES/tornado_test.po
6	0	tornado/test/locale_test.py

--4eedb6f2	2015-01-25T10:44:11-05:00	Ben Darnell	ben@bendarnell.com	Merge branch 'stable'

4eedb6f2
--c229e261	2015-01-25T10:35:59-05:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1312 from FreeAquar/patch-1

a wrong describle
c229e261
--a9da1921	2015-01-25T17:01:47+08:00	FreeAquar	freeaquar@gmail.com	a wrong describle
a9da1921
1	1	docs/guide/security.rst

--4f56b76d	2015-01-24T19:50:04-05:00	Ben Darnell	ben@bendarnell.com	Replace most testing uses of 'localhost' with '127.0.0.1'.

This may work around a suspected ipv6-related issue on travis.

4f56b76d
1	1	tornado/test/httpclient_test.py
4	4	tornado/test/httpserver_test.py
6	6	tornado/test/iostream_test.py
1	1	tornado/test/simple_httpclient_test.py
5	5	tornado/test/twisted_test.py
2	2	tornado/test/web_test.py
13	13	tornado/test/websocket_test.py

--ce4a6481	2015-01-24T19:21:34-05:00	Ben Darnell	ben@bendarnell.com	Include the ability to yield asyncio and twisted objects in highlights

ce4a6481
2	0	docs/releases/next.rst

--343ceb10	2015-01-24T19:12:08-05:00	Ben Darnell	ben@bendarnell.com	Set version number to 4.1b1

343ceb10
1	1	setup.py
2	2	tornado/__init__.py

--bc786fab	2015-01-24T18:38:18-05:00	Ben Darnell	ben@bendarnell.com	Fix doc coverage for WaitIterator.

bc786fab
1	0	docs/gen.rst
1	0	tornado/gen.py

--def70b4d	2015-01-24T18:35:18-05:00	Ben Darnell	ben@bendarnell.com	Clean up release notes

def70b4d
163	77	docs/releases/next.rst

--615db3ed	2015-01-24T18:18:09-05:00	Ben Darnell	ben@bendarnell.com	Update release notes and docs.

615db3ed
4	0	docs/gen.rst
23	0	docs/releases/next.rst
16	1	tornado/websocket.py

--73ffb310	2015-01-24T17:29:03-05:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'Caligatio/ws_message_callback'

Conflicts:
	tornado/websocket.py

73ffb310
--bff8603d	2015-01-24T17:14:20-05:00	Ben Darnell	ben@bendarnell.com	Give curl_httpclient its own logger for its verbose debug output.

This makes it easier to filter it separately.

This commit is an updated recreation of
https://github.com/SuminAndrew/tornado/commit/88809314e853fb69610cf44095612e78b0882c3e
to account for code movement.

Closes #1093.

bff8603d
7	7	tornado/curl_httpclient.py

--84babf0c	2015-01-24T17:06:34-05:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1286 from vovanec/patch-1

Added support for custom web socket protocols.
84babf0c
--022c46c8	2015-01-19T15:38:59-05:00	Ben Darnell	ben@bendarnell.com	Introduce gen.sleep().

Closes #1146.

022c46c8
19	0	tornado/gen.py
5	0	tornado/test/gen_test.py

--841b2d4d	2015-01-19T13:50:12-05:00	Ben Darnell	ben@bendarnell.com	Singledispatch and twisted don't work well together on py26.

Only install singledispatch on py27.

841b2d4d
2	1	.travis.yml
1	0	tornado/test/twisted_test.py
3	2	tox.ini

--b85f775f	2015-01-19T12:34:19-05:00	Ben Darnell	ben@bendarnell.com	Document convert_yielded.

b85f775f
12	0	docs/asyncio.rst
2	0	docs/gen.rst
26	0	tornado/gen.py

--531c798a	2015-01-19T11:43:52-05:00	Ben Darnell	ben@bendarnell.com	Add bidirectional asyncio future conversion.

531c798a
12	5	tornado/platform/asyncio.py

--5add5a91	2015-01-19T11:20:45-05:00	Ben Darnell	ben@bendarnell.com	Add a convert_yield adapter for twisted Deferreds.

5add5a91
17	0	tornado/platform/twisted.py
51	2	tornado/test/twisted_test.py

--88f28760	2015-01-19T10:20:33-05:00	Ben Darnell	ben@bendarnell.com	Document the AsyncIOLoop.asyncio_loop attribute for public use.

88f28760
3	0	docs/asyncio.rst

--d6a94092	2015-01-18T23:54:41-05:00	Ben Darnell	ben@bendarnell.com	Use functools.singledispatch for convert_yielded when available.

Register a converter for asyncio.Future and add tests.

d6a94092
3	3	.travis.yml
11	0	tornado/gen.py
10	0	tornado/platform/asyncio.py
68	0	tornado/test/asyncio_test.py
1	0	tornado/test/runtests.py
4	2	tox.ini

--f7167d05	2015-01-18T22:54:34-05:00	Ben Darnell	ben@bendarnell.com	Refactor coroutine yield handling.

Extract a convert_yielded function that can be extended with other types.

f7167d05
26	14	tornado/gen.py

--05c3073c	2015-01-18T20:40:09-05:00	Ben Darnell	ben@bendarnell.com	Call the WebSocketHandler.on_close method regardless of which side closed.

Closes #1173.

05c3073c
3	0	tornado/test/websocket_test.py
3	0	tornado/websocket.py

--7ce0df4c	2015-01-18T17:06:53-05:00	Ben Darnell	ben@bendarnell.com	Convert WaitIterator to use while-like iteration instead of for-like.

Make current_future and current_index attributes instead of methods.
Restructure the internals to avoid quadratic performance.

7ce0df4c
37	62	tornado/gen.py
35	38	tornado/test/gen_test.py

--1c72fb2e	2015-01-18T16:33:11-05:00	Ben Darnell	ben@bendarnell.com	Fix test; cleanup whitespace.

1c72fb2e
1	1	tornado/test/gen_test.py

--caacf865	2015-01-18T16:28:46-05:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'jordanbettis/feature-waitany' into wait-any

caacf865
--a6740e31	2015-01-18T16:20:55-05:00	Ben Darnell	ben@bendarnell.com	Work around an occasional EPROTOTYPE error on OSX.

a6740e31
8	0	tornado/iostream.py

--ceb2ad12	2015-01-18T13:33:45-05:00	Ben Darnell	ben@bendarnell.com	Fix broken link in docs.

ceb2ad12
1	1	docs/releases/next.rst

--ab6b980c	2015-01-18T13:13:41-05:00	Ben Darnell	ben@bendarnell.com	A new IOLoop is automatically "current" if there isn't already one.

IOLoop keyword arguments throughout the library are now deprecated
in favor of IOLoop.current(). This is because the gen module
uses IOLoop.current() with no opportunity to pass in a different
instance, making it impossible in some cases to use a non-current
IOLoop with AsyncHTTPClient.

Closes #1252.

ab6b980c
5	1	tornado/autoreload.py
5	0	tornado/gen.py
3	0	tornado/httpclient.py
20	14	tornado/ioloop.py
1	0	tornado/iostream.py
6	0	tornado/netutil.py
3	0	tornado/platform/caresresolver.py
11	1	tornado/platform/twisted.py
6	0	tornado/process.py
3	0	tornado/tcpclient.py
1	1	tornado/websocket.py

--98119734	2015-01-18T12:17:35-05:00	Ben Darnell	ben@bendarnell.com	Update next-release notes.

98119734
21	0	docs/releases/next.rst

--59491e96	2015-01-18T12:07:54-05:00	Ben Darnell	ben@bendarnell.com	Add a blanket try/except when parsing multipart form bodies.

This mirrors the behavior for form-urlencoded bodies, as well as the
handling of selected errors in parse_multipart_form_data.

Closes #1267.

59491e96
4	1	tornado/httputil.py

--76f20eca	2015-01-18T11:35:20-05:00	Ben Darnell	ben@bendarnell.com	Document PeriodicCallback.is_running.

76f20eca
4	0	tornado/ioloop.py

--5ce8b9c9	2015-01-18T11:34:26-05:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1303 from ami-GS/external

add is_running to get PeriodicCallback state
5ce8b9c9
--3a293354	2015-01-18T11:31:26-05:00	Ben Darnell	ben@bendarnell.com	Prevent a double-timeout in TCPClient.

This fixes a non-deterministic failure in the tests.
Also fix another less-common failure in test.util.refusing_port.

3a293354
1	0	tornado/tcpclient.py
1	0	tornado/test/util.py

--6dc5dd97	2015-01-18T17:58:54+09:00	Daiki Aminaka	1991.daiki@gmail.com	add is_running to get callback state

6dc5dd97
3	0	tornado/ioloop.py

--be31c92e	2015-01-17T17:38:35-05:00	Ben Darnell	ben@bendarnell.com	Allow SSLError or socket.error in this test.

be31c92e
2	2	tornado/test/iostream_test.py

--929dd804	2015-01-17T17:25:15-05:00	Ben Darnell	ben@bendarnell.com	Fix LogCounter on py26

929dd804
2	1	tornado/test/runtests.py

--89c2ef61	2015-01-17T16:43:37-05:00	Ben Darnell	ben@bendarnell.com	Fix another unexamined Future

89c2ef61
3	1	tornado/test/iostream_test.py

--93ceedfc	2015-01-17T16:39:29-05:00	Ben Darnell	ben@bendarnell.com	Merge branch 'log_future'

93ceedfc
--cc2fb15a	2015-01-17T16:37:49-05:00	Ben Darnell	ben@bendarnell.com	Consider the tests failed if they log any non-filtered warnings or errors.

cc2fb15a
27	0	tornado/test/runtests.py
3	0	tornado/testing.py

--02030119	2015-01-17T15:26:03-05:00	Ben Darnell	ben@bendarnell.com	Log more uncaught exceptions instead of suppressing them.

Add more docs about Future exception logging.

02030119
9	5	tornado/concurrent.py
19	2	tornado/gen.py
7	3	tornado/http1connection.py
2	0	tornado/iostream.py
3	2	tornado/web.py

--23e6098a	2015-01-15T22:53:08-05:00	Ben Darnell	ben@bendarnell.com	travis-ci: don't install pycurl on pypy3.

23e6098a
2	2	.travis.yml

--f030fb2d	2015-01-15T22:37:03-05:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1299 from ysimonson/feature/ignore-xsrf-errors

Handle bad xsrf tokens more gracefully
f030fb2d
--27c54653	2015-01-14T08:59:21-05:00	Ben Darnell	ben@bendarnell.com	Merge commit 'bbd1f9'

Conflicts:
	.travis.yml

27c54653
--433badc0	2015-01-12T08:06:44-08:00	vovanec	vovanec@gmail.com	Addressed comments from Ben

Addressed comments from Ben. Added get_websocket_protocol() to WebSocketClientConnection class as well.
433badc0
15	23	tornado/websocket.py

--2a24e12a	2015-01-12T10:45:52-05:00	Yusuf Simonson	simonson@gmail.com	More aggressive capturing of xsrf cookie errors

2a24e12a
8	4	tornado/web.py

--2e5c6d7f	2015-01-11T22:22:16-05:00	Ben Darnell	ben@bendarnell.com	Make Application.start_request match HTTPServerConnectionDelegate.start_request.

This was always intended, but unfortunately the change to HTTPServer
is backwards-incompatible.

2e5c6d7f
10	4	tornado/httpserver.py
2	2	tornado/test/httpserver_test.py
2	2	tornado/web.py

--1ebdf8cb	2015-01-11T20:15:36-05:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1270 from djvis/master

Use server_hostname parameter in call to ssl_wrap_socket
1ebdf8cb
--dd6c849a	2015-01-11T18:58:53-05:00	Ben Darnell	ben@bendarnell.com	Catch up on next-release notes.

dd6c849a
39	0	docs/releases/next.rst
2	0	tornado/httputil.py

--889e1f37	2015-01-11T13:50:58-05:00	Ben Darnell	ben@bendarnell.com	Correct handling of HTTP version numbers.

Per RFC 7230 section 2.6, we always output HTTP/1.1 even if the
request was HTTP/1.0 (and we accept any 1.x version).

889e1f37
3	1	tornado/http1connection.py
4	2	tornado/httputil.py
1	1	tornado/simple_httpclient.py
2	2	tornado/test/httpserver_test.py
3	3	tornado/test/iostream_test.py
1	1	tornado/web.py

--a0569678	2015-01-11T13:29:57-05:00	Ben Darnell	ben@bendarnell.com	Fix regression in support for both CRLF and bare LF in headers.

Closes #1297.

a0569678
3	2	tornado/http1connection.py
11	4	tornado/test/httpserver_test.py

--9347de40	2015-01-11T13:00:00-05:00	Ben Darnell	ben@bendarnell.com	Fix httputil_test on python 3.2.

9347de40
8	7	tornado/test/httputil_test.py

--88cfbc2b	2015-01-11T12:40:51-05:00	Ben Darnell	ben@bendarnell.com	Fix header parsing with unicode newline-like characters.

We were using python's unicode.splitlines(), which recognizes
more characters than just CRLF and could cause problems if those
characters appeared in header values.

Fixes #1291.

88cfbc2b
6	1	tornado/httputil.py
52	1	tornado/test/httputil_test.py

--8a298693	2015-01-11T11:21:42-05:00	Ben Darnell	ben@bendarnell.com	Refactor connection-closed tests.

On CI servers, port numbers get reused frequently, so a closed
port cannot be relied upon to refuse connections for long.
We now use an open client-side socket's ephemeral port,
which will always refuse connections and cannot be reused
for as log as the socket is open.

8a298693
3	3	tornado/test/iostream_test.py
4	4	tornado/test/simple_httpclient_test.py
4	4	tornado/test/tcpclient_test.py
20	0	tornado/test/util.py

--d6e70d08	2015-01-11T10:29:36-05:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1296 from asvetlov/master

Mention in Sec-WebSocket-Version all versions supported by tornado
d6e70d08
--1c58eed0	2015-01-11T10:27:07-05:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1294 from lmas/master

Fixed TCPServer not setting the correct read_chunk_size.
1c58eed0
--eab34a91	2015-01-10T11:11:30-05:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1285 from lwzm/master

Ensure that HTTPServerRequest.body is a byte string
eab34a91
--dca3f6bf	2015-01-10T10:47:19-05:00	Ben Darnell	ben@bendarnell.com	Clarify docs: `return` in generator is new in 3.3.

dca3f6bf
6	1	docs/guide/async.rst

--7b82e98d	2015-01-10T10:08:46-05:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1300 from arihantagarwal/arihant

Changed 'return' to 'raise gen.Return()' to fix Issue #1292
7b82e98d
--e10e16fc	2015-01-10T11:32:24+05:30	Arihant Agarwal	me@arihant.me	Changed 'return' to 'raise gen.Return()' to fix Issue #1292, explanation added.

e10e16fc
3	1	docs/guide/async.rst

--7ae9f485	2015-01-07T11:01:55-05:00	Yusuf Simonson	simonson@gmail.com	Handle bad xsrf tokens more gracefully

7ae9f485
4	0	tornado/web.py

--2e9c43b2	2015-01-05T21:15:40+02:00	Andrew Svetlov	andrew.svetlov@gmail.com	Mention in Sec-WebSocket-Version all versions supported by tornado
 As RFC 6455 recommends for asnwer for unsopported protocol.

2e9c43b2
1	1	tornado/websocket.py

--2e466c19	2015-01-04T11:33:17+01:00	A. Svensson	lmasvensson@gmail.com	Fixed TCPServer not setting the correct read_chunk_size.
2e466c19
1	1	tornado/tcpserver.py

--e5afc259	2014-12-24T11:43:00-08:00	vovanec	vovanec@gmail.com	Added support for custom web socket protocols.

Added support for custom web socket protocols.

To add custom protocol implementation user should override get_websocket_protocol_subclass() method in WebSocketHandler subclass.
e5afc259
18	2	tornado/websocket.py

--429aae47	2014-12-23T16:28:36+08:00	felloak	felloak@gmail.com	Ensure that HTTPServerRequest.body is a byte string

HTTPServerRequest.body should be bytes but it is an empty string that
occurs in Python3 when pass no body to HTTPServerRequest.

429aae47
1	1	tornado/httputil.py
4	0	tornado/test/httputil_test.py
1	1	tornado/wsgi.py

--48457db3	2014-12-23T12:34:04+11:00	Daniel James Visentin	daniel.visentin@nicta.com.au	Skip test if check_hostname functionality not available

48457db3
6	0	tornado/test/iostream_test.py

--e9f14510	2014-12-23T12:09:48+11:00	Daniel James Visentin	daniel.visentin@nicta.com.au	Add test to ensure stream start_tls calls use the server_hostname parameter

e9f14510
12	2	tornado/test/iostream_test.py

--32e82f88	2014-12-18T10:16:18-05:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1281 from nordaux/master

Fixed error that the web.asynchronous doesn't complete python3 concurrent.Futures
32e82f88
--683d4220	2014-12-18T16:38:20+02:00	Andrew Glinskiy	nordaux@gmail.com	Fixed error that the web.asynchronous doesn't complete python3 concurrent.Futures

683d4220
1	1	tornado/web.py

--ebc59b4b	2014-12-17T11:09:16-05:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1279 from chrisseto/patch-1

Fix typo in `stream_request_body`
ebc59b4b
--2edace47	2014-12-17T10:55:05-05:00	Chris Seto	chriskseto@gmail.com	Fix typo in `stream_request_body`
2edace47
1	1	tornado/web.py

--a894d1c0	2014-12-15T21:22:52-05:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1261 from lilydjwg/fix-ipv6-host

fix matching an IPv6 address as host
a894d1c0
--44beea37	2014-12-14T18:12:26+08:00	依云	lilydjwg@gmail.com	move code to seperate function 'split_host_and_port'

44beea37
14	0	tornado/httputil.py
2	6	tornado/simple_httpclient.py
2	3	tornado/web.py

--03d72277	2014-12-14T18:01:26+08:00	依云	lilydjwg@gmail.com	remove executable permission from tornado.web

03d72277
0	0	tornado/web.py

--b100b5ff	2014-12-14T18:00:08+08:00	依云	lilydjwg@gmail.com	Merge branch 'master' into fix-ipv6-host

b100b5ff
--2195f0b7	2014-12-12T10:17:32-05:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1268 from schlamar/win-timeout

fix test_request_timeout on Windows
2195f0b7
--4d09030b	2014-12-12T08:31:13+01:00	Marc Schlaich	marc.schlaich@gmail.com	tox: add optional pyxx-no-ext environments

These can be run on systems without an available C compiler.

4d09030b
1	0	tox.ini

--e8bcff47	2014-12-10T16:18:30+01:00	Marc Schlaich	marc.schlaich@gmail.com	fix test_request_timeout on Windows by increasing timeout

e8bcff47
9	2	tornado/test/simple_httpclient_test.py

--241956a6	2014-12-11T09:24:54-05:00	Ben Darnell	ben@bendarnell.com	Add support for Future.exc_info when logging abandoned futures.

Simplify some Future internals.

Add enough magic calls to Future.exception that the test suite
passes without warning (at least on py34)

241956a6
54	67	tornado/concurrent.py
4	2	tornado/gen.py
3	0	tornado/http1connection.py
18	0	tornado/iostream.py
1	1	tornado/test/gen_test.py
5	2	tornado/test/iostream_test.py
3	1	tornado/web.py

--ab706d69	2014-12-11T11:01:40+11:00	Daniel James Visentin	daniel.visentin@nicta.com.au	Use server_hostname parameter in call to ssl_wrap_socket

ab706d69
3	1	tornado/iostream.py

--6613adf6	2014-12-08T23:30:17-05:00	Ben Darnell	ben@bendarnell.com	Merge branch 'master' into log_future

6613adf6
--a7544b18	2014-12-05T21:20:18-05:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1258 from tdyas/no_raise_error

http client: option to not raise errors
a7544b18
--9dbc989b	2014-12-05T09:51:00-05:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1264 from nbargnesi/master

swap platform.system() for sys.platform
9dbc989b
--547b412f	2014-12-05T01:37:45-05:00	Nick Bargnesi	nbargnesi@selventa.com	swap platform.system() for sys.platform; #1263

547b412f
2	2	tornado/netutil.py

--1cc15c42	2014-11-30T12:34:56-05:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1260 from lilydjwg/no-handler-redirect

use the same protocol when redirecting to default host
1cc15c42
--2a20e2da	2014-11-25T21:45:45+08:00	依云	lilydjwg@gmail.com	use the same protocol when redirecting to default host

2a20e2da
1	1	tornado/web.py

--36b35653	2014-11-25T21:36:28+08:00	依云	lilydjwg@gmail.com	fix matching a IPv6 address as host

When the host is something like '[::1]' or '[::1]:8080',
_get_host_handlers gets wrong hosts string.

36b35653
3	1	tornado/web.py

--b2f8f997	2014-06-23T14:21:46-04:00	Tom Dyas	tdyas@foursquare.com	http client: option to not raise errors

Pass raise_error=False to the fetch method to disable the raising of
HTTPError on errors.

b2f8f997
8	5	tornado/httpclient.py
5	0	tornado/test/httpclient_test.py

--20bf1653	2014-11-15T19:15:12-05:00	Ben Darnell	ben@bendarnell.com	Also fix flow control for the select IOLoop.

20bf1653
1	1	tornado/platform/select.py

--41ff81b2	2014-11-15T19:08:21-05:00	Ben Darnell	ben@bendarnell.com	Fix IOStream flow control under kqueue.

An early attempt to detect closed connections in kqueue led
us to always read from the socket when data was available,
defeating any higher-level flow control.

Add a test to verify this behavior.

41ff81b2
1	2	tornado/platform/kqueue.py
20	0	tornado/test/iostream_test.py

--a80d99d4	2014-11-10T23:13:40-05:00	Ben Darnell	ben@bendarnell.com	Fix typo in docs.

Closes #1247.

a80d99d4
1	1	docs/guide/security.rst

--6245a5b1	2014-11-09T10:59:30-05:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1246 from heewa/cleanup_subprocess_in_tests

Cleanup Subprocess when tearing down AsyncTestCase
6245a5b1
--21227fff	2014-11-08T14:40:51-05:00	Heewa Barfchin	heewa.b@gmail.com	Cleanup Subprocess when tearing down AsyncTestCase

Since an ioloop is created and destroyed between a test's `setUp` and
`tearDown`, and Subprocess holds on to an ioloop until `uninitialize`,
this allows the next test case to use Subprocess correctly.

21227fff
4	0	tornado/testing.py

--55d75e10	2014-11-08T13:01:01-05:00	Ben Darnell	ben@bendarnell.com	Add *args, **kw to WebSocketHandler.open.

This matches the default implementations of get/post/put/etc.

Closes #1242

55d75e10
1	1	tornado/websocket.py

--15028950	2014-11-05T09:36:28-05:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1241 from heewa/find_option_definer

Find real option definer.
15028950
--049ca4f7	2014-11-02T19:38:36-05:00	Heewa Barfchin	heewa.b@gmail.com	Find real option definer.

When an option is defined through the module level "define" fn, not
directly through the class method, we should look one frame up to
find the real caller.

049ca4f7
7	0	tornado/options.py

--06638c8a	2014-10-28T09:16:28-04:00	Ben Darnell	ben@bendarnell.com	Fix compatibility with just-released unittest2 0.6.

This release added some PendingDeprecationWarnings that were
not there previously (and were DeprecationWarnings instead
in newer pythons)

06638c8a
4	0	tornado/test/runtests.py

--a5b2d4a6	2014-10-28T01:08:50-05:00	Jordan Bettis	jordanb@hafd.org	[feature-waitany] fix py3 bug, weakref for callback, doc cleanup

a5b2d4a6
22	14	tornado/gen.py
0	3	tornado/test/gen_test.py

--689f2603	2014-10-27T06:08:48-05:00	Jordan Bettis	jordanb@hafd.org	Merge branch 'master' of github.com:jordanbettis/tornado into feature-waitany

689f2603
--5dd93381	2014-10-27T06:05:01-05:00	Jordan Bettis	jordanb@hafd.org	[feature-waitany] Created WaitIterator + tests

5dd93381
118	0	tornado/gen.py
107	0	tornado/test/gen_test.py

--26cb9b3f	2014-10-26T22:15:31-04:00	Ben Darnell	ben@bendarnell.com	Remove example of the legacy HTTPServer callback interface.

Even before the HTTPServerConnectionDelegate interface replaced it,
direct use of this callback interface should have been rare.

This untested example was incorrect when first written and
once fixed only worked on python 2.

26cb9b3f
4	24	tornado/httpserver.py

--9a527205	2014-10-26T21:16:41-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1227 from jvetterick/patch-1

adding hint to supervisord minfds
9a527205
--785decbb	2014-10-26T20:52:16-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1231 from daftshady/master

fixed error message in iostream
785decbb
--09e7e2d1	2014-10-26T21:06:59+09:00	daftshady	daftonshady@gmail.com	fixed error message in iostream

09e7e2d1
1	1	tornado/iostream.py

--3a967948	2014-10-20T17:07:07+02:00	Jonas Vetterick	jvetterick@users.noreply.github.com	adding hint to supervisord minfds
3a967948
2	2	docs/guide/running.rst

--e1b306ce	2014-10-18T12:08:03-04:00	Ben Darnell	ben@bendarnell.com	Change connection-refused test from localhost to 127.0.0.1.

This might be contributing to occasional timeouts on travis-ci
(on the theory that some other test may be listening on the
same port on ::1).

Also explicitly stop the test if connect_callback is called.

e1b306ce
2	1	tornado/test/iostream_test.py

--c616cd77	2014-10-18T11:48:00-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1225 from jvetterick/patch-1

Update running.rst
c616cd77
--1b18d3da	2014-10-17T16:12:05+02:00	Jonas Vetterick	jvetterick@users.noreply.github.com	Update running.rst

Hint on [Errno 24] "Too many open files" (http://stackoverflow.com/a/20894374)
1b18d3da
4	1	docs/guide/running.rst

--e2e35dbb	2014-10-13T22:13:31-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1222 from glaslos/patch-1

Fixed example in doc string
e2e35dbb
--b92326eb	2014-10-13T14:06:02+02:00	Lukas Rist	glaslos@gmail.com	Fixed example in doc string

We have to pass a HTTPHeaders object to write_headers()
b92326eb
1	1	tornado/httpserver.py

--72920458	2014-10-11T22:59:15-04:00	Ben Darnell	ben@bendarnell.com	Add another ignore_bytes_warning call to log_test.

This fixes a failure apparently introduced by changes to warning
logic in python 3.4.2.

72920458
1	0	tornado/test/log_test.py

--c372a05f	2014-10-11T22:13:15-04:00	Ben Darnell	ben@bendarnell.com	Handle closed connections in WebSocketHandler.

Closes #1174.

c372a05f
7	3	tornado/websocket.py

--86333d04	2014-10-11T22:05:31-04:00	Ben Darnell	ben@bendarnell.com	Catch StreamClosedError in StaticFileHandler.

Closes #1208.

86333d04
3	0	tornado/web.py

--a9c0e563	2014-10-11T20:07:54-04:00	Ben Darnell	ben@bendarnell.com	Document that the blog demo is py2-only.

a9c0e563
2	1	demos/blog/README

--3b7f2f6d	2014-10-11T12:01:24-04:00	Ben Darnell	ben@bendarnell.com	Disable pycares tests on travis due to ipv6 issues.

3b7f2f6d
4	2	.travis.yml

--34dbe87d	2014-10-11T11:25:36-04:00	Ben Darnell	ben@bendarnell.com	Fix byte strings as header values in curl_httpclient and python3.

Add the -bb flag to all py3 tests, which uncovered this bug.

34dbe87d
2	6	tornado/curl_httpclient.py
16	1	tornado/test/httpclient_test.py
1	1	tox.ini

--ea943e32	2014-10-11T10:39:39-04:00	Ben Darnell	ben@bendarnell.com	Streamline tox configuration using new features in tox 1.8.

ea943e32
99	244	tox.ini

--212c0c8d	2014-10-05T15:52:58-04:00	Ben Darnell	ben@bendarnell.com	Update dependency versions in maint/requirements.txt

212c0c8d
9	9	maint/requirements.txt

--1eeea5d4	2014-10-10T10:40:03-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1217 from noxiouz/http_server_doc__fix

Fix an example in docstring of HTTPServer
1eeea5d4
--2669394a	2014-10-10T14:10:08+04:00	Anton Tiurin	noxiouz@yandex.ru	Fix an example in docstring of HTTPServer

2669394a
1	0	tornado/httpserver.py

--d572ea2d	2014-10-05T15:43:05-04:00	Ben Darnell	ben@bendarnell.com	Add a test for removing an IOLoop handler from another handler.

Related to #1214.

d572ea2d
27	0	tornado/test/ioloop_test.py

--542c8a51	2014-10-05T15:17:27-04:00	Ben Darnell	ben@bendarnell.com	Clarify error messages about http request bodies.

Change AssertionError to ValueError and s/empty/None.

Closes #1213.

542c8a51
3	3	tornado/curl_httpclient.py
12	12	tornado/simple_httpclient.py
5	5	tornado/test/httpclient_test.py

--27d67a2c	2014-10-05T15:01:11-04:00	Ben Darnell	ben@bendarnell.com	Document the ability to pass lists of kv pairs to url-concat.

Closes #1216.

27d67a2c
8	1	tornado/httputil.py

--f2986e34	2014-10-04T12:29:12-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1215 from mayhewj/master

Fix typo
f2986e34
--1f4de38b	2014-10-03T23:39:00-03:00	Justin Mayhew	mayhew@live.ca	Fix typo

1f4de38b
1	1	docs/guide/structure.rst

--6f3f2561	2014-09-25T21:27:49-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1207 from leekchan/locale_test

Add some unit tests for tornado.locale
6f3f2561
--8a74d218	2014-09-25T21:25:46-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1206 from leekchan/test_web_redirect

Add a unit test for tornado.web.RedirectHandler
8a74d218
--8d708fb7	2014-09-24T21:37:37+09:00	Lee Kyoung chan	leekchan@gmail.com	Add a unit test for locale.format_day

8d708fb7
6	0	tornado/test/locale_test.py

--ebbf2e3b	2014-09-23T20:44:49+09:00	Lee Kyoung chan	leekchan@gmail.com	Add a unit test for locale.list

ebbf2e3b
7	0	tornado/test/locale_test.py

--cf67a172	2014-09-23T19:35:13+09:00	Lee Kyoung chan	leekchan@gmail.com	Add a unit test for locale.friendly_number

cf67a172
4	0	tornado/test/locale_test.py

--e9b305a1	2014-09-23T19:13:22+09:00	Lee Kyoung chan	leekchan@gmail.com	Improve test_format_date

e9b305a1
23	0	tornado/test/locale_test.py

--df4ba9b9	2014-09-23T17:46:24+09:00	Lee Kyoung chan	leekchan@gmail.com	Add a unit test for tornado.web.RedirectHandler

df4ba9b9
11	1	tornado/test/web_test.py

--4ad3e1eb	2014-09-21T12:25:11-04:00	Ben Darnell	ben@bendarnell.com	curl_httpclient: run streaming and header callbacks on the IOLoop.

This ensures a more consistent execution environment and allows
a streaming or header callback to invoke other CurlAsyncHTTPClient
methods.

This change also fills in HTTPResponse.headers even when a header_callback
is used, similar to simple_httpclient's behavior.

Closes #1188.

4ad3e1eb
9	8	tornado/curl_httpclient.py

--05c933de	2014-09-21T12:18:16-04:00	Ben Darnell	ben@bendarnell.com	Move static functions in curl_httpclient to methods of CurlAsyncHTTPClient.

No functional changes in this commit, just code movement.

05c933de
16	19	tornado/curl_httpclient.py

--9e5430d6	2014-09-21T12:06:00-04:00	Ben Darnell	ben@bendarnell.com	Document Tornado's incompatibility with asyncio.ProactorEventLoop.

Closes #1201.

9e5430d6
6	0	docs/asyncio.rst

--0c61cccd	2014-09-17T22:04:29-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1197 from Parkayun/master

Remove unused module in tornado.platform.asyncio
0c61cccd
--82b516b4	2014-09-16T08:37:55-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1194 from leekchan/test_if_modified_since

Add a test for if_modified_since parameter of httpclient.HTTPRequest
82b516b4
--31d68738	2014-09-16T16:48:34+09:00	Lee Kyoung chan	leekchan@gmail.com	Add a test for if_modified_since parameter of httpclient.HTTPRequest

31d68738
8	0	tornado/test/httpclient_test.py

--26454ffb	2014-09-16T15:43:06+09:00	Parkayun	iamparkayun@gmail.com	Remove unused module in tornado.platform.asyncio

26454ffb
0	2	tornado/platform/asyncio.py

--aaec44c6	2014-09-15T22:26:48-04:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'leekchan/set_cookie_expires_days'

Conflicts:
	tornado/test/web_test.py

aaec44c6
--e08d0ec1	2014-09-16T11:08:07+09:00	Lee Kyoung chan	leekchan@gmail.com	Fixed test_set_cookie_expires_days

e08d0ec1
6	5	tornado/test/web_test.py

--7fb9d5a4	2014-09-15T19:38:20-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1189 from Parkayun/master

Add few tests and remove unused module.
7fb9d5a4
--bbd1f901	2014-09-15T13:12:14+03:00	Omer Katz	omer.drow@gmail.com	Excluded more non-PyPy related build steps that I missed.
bbd1f901
3	3	.travis.yml

--451fc005	2014-09-15T19:10:37+09:00	Parkayun	iamparkayun@gmail.com	remove unused module in test

451fc005
1	1	tornado/test/httpserver_test.py
1	1	tornado/test/simple_httpclient_test.py

--5ddf3c34	2014-09-15T12:57:15+03:00	Omer Katz	omer.drow@gmail.com	Build should fast finish since matrix is large.
5ddf3c34
3	0	.travis.yml

--db881d6e	2014-09-15T12:56:15+03:00	Omer Katz	omer.drow@gmail.com	Added travis_retry to all network operations in order to avoid build errors due to connections being dropped.
db881d6e
8	8	.travis.yml

--00813362	2014-09-15T18:54:48+09:00	Parkayun	iamparkayun@gmail.com	Add test for httputil.parse_requset_start_line

00813362
14	1	tornado/test/httputil_test.py

--3af4823a	2014-09-15T12:54:12+03:00	Omer Katz	omer.drow@gmail.com	Any pypy version probably shouldn't be installing/running those tests.

Correct me if I'm wrong.
3af4823a
5	5	.travis.yml

--30aa673f	2014-09-15T12:52:24+03:00	Omer Katz	omer.drow@gmail.com	Added pypy3 to the build matrix.
30aa673f
1	0	.travis.yml

--4c9d131e	2014-09-15T15:55:35+09:00	Parkayun	iamparkayun@gmail.com	add test for util.timedelta_to_seconds

4c9d131e
8	1	tornado/test/util_test.py

--24c2f577	2014-09-14T23:55:59-04:00	Ben Darnell	ben@bendarnell.com	Update example for HTTPClient exception handling.

Eliminate the implication that HTTPError is the only
error that can be raised.  See #1168.

24c2f577
6	1	tornado/httpclient.py

--09bc9827	2014-09-14T23:02:32-04:00	Ben Darnell	ben@bendarnell.com	Handle multiple exceptions in AsyncTestCase.

Previously we would silently swallow all but the last; now we
raise the first and log all the rest.

Closes #1177.

09bc9827
13	1	tornado/test/testing_test.py
5	1	tornado/testing.py

--037e05ad	2014-09-14T23:11:24-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1175 from virtuald/coroutine-warning

Add documentation warning about exceptions in coroutines
037e05ad
--f10e4a0c	2014-09-14T22:39:03-04:00	Ben Darnell	ben@bendarnell.com	Merge commit 'f40d39b'

f10e4a0c
--f40d39be	2014-09-14T22:38:14-04:00	Ben Darnell	ben@bendarnell.com	Capture stack context in gen.engine's wrapper function.

This was an error that went unnoticed in earlier versions
because Futures passed through exceptions in their callbacks.

f40d39be
4	1	tornado/gen.py

--ca2cf40c	2014-09-14T22:02:27-04:00	Ben Darnell	ben@bendarnell.com	Merge branch 'branch4.0'

Conflicts:
	docs/releases.rst
	setup.py
	tornado/__init__.py

ca2cf40c
--6729952c	2014-09-14T09:40:26-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1185 from leekchan/master

Added unit tests for tornado.web.removeslash and tornado.web.addslash
6729952c
--7dfebdbc	2014-09-14T22:22:24+09:00	Lee Kyoung chan	leekchan@gmail.com	Added a unit test for setting a cookie with expires_days

7dfebdbc
15	0	tornado/test/web_test.py

--ada55ccb	2014-09-14T18:47:10+09:00	Lee Kyoung chan	leekchan@gmail.com	Fixed some typos

ada55ccb
1	1	tornado/test/README
1	1	tornado/test/httpclient_test.py
1	1	tornado/test/iostream_test.py

--6df2748a	2014-09-14T13:01:49+09:00	Lee Kyoung chan	leekchan@gmail.com	Added unit tests for tornado.web.removeslash and tornado.web.addslash

6df2748a
36	1	tornado/test/web_test.py

--5adb981a	2014-09-13T17:44:55-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1179 from leekchan/master

Added a unit test for setting a cookie with max_age
5adb981a
--b4763337	2014-09-12T09:20:54-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1182 from Parkayun/master

Add test for tornado.escape.recursive_unicode
b4763337
--13029968	2014-09-12T13:38:48+02:00	Neilen Marais	nmarais@ska.ac.za	Add callback error handling to Future

Catches and logs to the application log exceptions raised by each callback. This
more or less mirrors what concurrent.futures.Future does.

13029968
5	1	tornado/concurrent.py

--ce868a0e	2014-09-12T16:24:02+09:00	Parkayun	iamparkayun@gmail.com	Add test for tornado.escape.recursive_unicode

ce868a0e
12	1	tornado/test/escape_test.py

--36249478	2014-09-11T22:16:44+09:00	Lee Kyoung chan	leekchan@gmail.com	Added a unit test for setting a cookie with max_age

36249478
11	0	tornado/test/web_test.py

--8238c08b	2014-09-11T08:51:32-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1178 from leekchan/master

Fixed some typos
8238c08b
--cf724c37	2014-09-11T20:49:05+09:00	Lee Kyoung chan	leekchan@gmail.com	Added a unit test for tornado.escape.squeeze

cf724c37
6	1	tornado/test/escape_test.py

--61e87cd8	2014-09-11T14:37:43+09:00	Lee Kyoung chan	leekchan@gmail.com	Fixed some typos

61e87cd8
1	1	tornado/auth.py
1	1	tornado/ioloop.py
1	1	tornado/iostream.py
1	1	tornado/platform/twisted.py
1	1	tornado/process.py
2	2	tornado/stack_context.py
1	1	tornado/tcpclient.py
2	2	tornado/util.py

--b18b12b5	2014-09-10T23:47:51-04:00	Ben Darnell	ben@bendarnell.com	Set version number to 4.0.2

b18b12b5
2	2	docs/releases/v4.0.2.rst
1	1	setup.py
2	2	tornado/__init__.py

--cf9a1e95	2014-09-05T11:57:15-04:00	Dustin Spicuzza	dustin@virtualroadside.com	Add documentation warning about exceptions in coroutines

cf9a1e95
11	0	tornado/gen.py

--5d0d8cba	2014-09-01T11:12:27-04:00	Ben Darnell	ben@bendarnell.com	Add release notes for 4.0.2.

5d0d8cba
1	0	docs/releases.rst
22	0	docs/releases/v4.0.2.rst

--39fd0eee	2014-08-31T23:33:28-04:00	Ben Darnell	ben@bendarnell.com	Fix an erroneous return of None in IOStream.connect.

This causes AttributeErrors in TCPClient, although I can only
reproduce this case reliably on freebsd.

Closes #1168.

39fd0eee
6	6	tornado/iostream.py

--f16aa39c	2014-08-30T22:52:54-04:00	Ben Darnell	ben@bendarnell.com	Limit the number of connections we will accept per call to accept_handler.

This ensures that other callbacks scheduled on the IOLoop have a chance
to run.  This shows up as increased memory usage in benchmark scenarios
(since 4.0 allowed simple http transactions to be processed synchronously).

f16aa39c
22	3	tornado/netutil.py

--c1a123a8	2014-08-30T15:27:31-04:00	Ben Darnell	ben@bendarnell.com	Fix a subtle reference cycle that can lead to increased memory consumption.

Closes #1165.

c1a123a8
11	0	tornado/gen.py

--fc9a3acd	2014-08-26T17:04:06+03:00	Eddie Mishelevich	evil.legacy@gmail.com	Add missing argument max_buffer_size to TCPClient.connect in SimpleAsyncHTTPClient

fc9a3acd
1	0	tornado/simple_httpclient.py

--15c82cbe	2014-08-31T23:33:28-04:00	Ben Darnell	ben@bendarnell.com	Fix an erroneous return of None in IOStream.connect.

This causes AttributeErrors in TCPClient, although I can only
reproduce this case reliably on freebsd.

Closes #1168.

15c82cbe
6	6	tornado/iostream.py

--429e4991	2014-08-31T23:32:41-04:00	Ben Darnell	ben@bendarnell.com	Modernize freebsd vagrant config.

429e4991
20	18	maint/vm/freebsd/Vagrantfile
7	14	maint/vm/freebsd/setup.sh
1	1	maint/vm/freebsd/tox.ini

--ce7261d4	2014-08-30T22:52:54-04:00	Ben Darnell	ben@bendarnell.com	Limit the number of connections we will accept per call to accept_handler.

This ensures that other callbacks scheduled on the IOLoop have a chance
to run.  This shows up as increased memory usage in benchmark scenarios
(since 4.0 allowed simple http transactions to be processed synchronously).

ce7261d4
22	3	tornado/netutil.py

--0357565a	2014-08-30T15:27:31-04:00	Ben Darnell	ben@bendarnell.com	Fix a subtle reference cycle that can lead to increased memory consumption.

Closes #1165.

0357565a
11	0	tornado/gen.py

--13970840	2014-08-26T22:42:14-04:00	Ben Darnell	ben@bendarnell.com	Reinstate the bytes_type alias in case anyone is depending on it.

13970840
3	0	tornado/util.py

--cca1f743	2014-08-26T22:39:50-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1166 from quatrix/master

Add missing argument max_buffer_size to TCPClient.connect in SimpleAsyncHTTPClient
cca1f743
--fd300891	2014-08-26T17:04:06+03:00	Eddie Mishelevich	evil.legacy@gmail.com	Add missing argument max_buffer_size to TCPClient.connect in SimpleAsyncHTTPClient

fd300891
1	0	tornado/simple_httpclient.py

--ef77e798	2014-08-25T22:56:38-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1162 from methane/remove-bytes-type

Replace tornado.util.bytes_type to bytes
ef77e798
--c6596d55	2014-08-25T14:56:49+09:00	INADA Naoki	songofacandy@gmail.com	Replace tornado.util.bytes_type to bytes

c6596d55
1	2	demos/s3server/s3server.py
1	2	maint/test/websocket/server.py
2	2	tornado/auth.py
1	2	tornado/curl_httpclient.py
5	5	tornado/escape.py
2	2	tornado/httputil.py
2	2	tornado/iostream.py
2	2	tornado/template.py
2	2	tornado/test/escape_test.py
2	2	tornado/test/httpclient_test.py
4	4	tornado/test/httpserver_test.py
2	2	tornado/test/log_test.py
2	2	tornado/test/template_test.py
6	6	tornado/test/web_test.py
1	3	tornado/util.py
10	10	tornado/web.py
3	3	tornado/websocket.py
3	3	tornado/wsgi.py

--d9689739	2014-08-23T18:12:19-04:00	Ben Darnell	ben@bendarnell.com	Fix a regression in gzip output for StaticFileHandler.

Streaming static responses confused the gzip output transform since
it could no longer set the correct outgoing content-length.  Now
it will fall back to chunked encoding in this case.

Closes #1156.

d9689739
14	1	tornado/test/web_test.py
7	1	tornado/web.py

--ed7bd3a2	2014-08-22T10:48:42+02:00	Niko Wilbert	mail@nikowilbert.de	Fixed support for test generators

This fixes the problem that AsyncTestCase no longer seemed to work with test generators (as supported by Nose, http://nose.readthedocs.org/en/latest/writing_tests.html#test-generators).

ed7bd3a2
2	2	tornado/testing.py

--7bf3b143	2014-08-19T23:01:28-04:00	Ben Darnell	ben@bendarnell.com	Fix a regression in which a timeout could fire after being cancelled.

Closes #1148.

7bf3b143
9	5	tornado/ioloop.py
19	0	tornado/test/ioloop_test.py

--fe43646e	2014-08-24T12:00:49-04:00	Ben Darnell	ben@bendarnell.com	Set version number in branch4.0 to 4.0.2.dev1

fe43646e
1	1	setup.py
2	2	tornado/__init__.py

--7d3f710e	2014-08-24T11:50:47-04:00	Ben Darnell	ben@bendarnell.com	Remove the default facebook api key from the demo.

This app has apparently been deactivated by facebook.

Closes #1132.

7d3f710e
7	6	demos/facebook/README
5	4	demos/facebook/facebook.py

--1e1d61ab	2014-08-24T11:45:41-04:00	Ben Darnell	ben@bendarnell.com	s/SIGCHILD/SIGCHLD/ in docs.

1e1d61ab
1	1	tornado/ioloop.py
3	3	tornado/process.py

--e8884732	2014-08-23T18:12:19-04:00	Ben Darnell	ben@bendarnell.com	Fix a regression in gzip output for StaticFileHandler.

Streaming static responses confused the gzip output transform since
it could no longer set the correct outgoing content-length.  Now
it will fall back to chunked encoding in this case.

Closes #1156.

e8884732
14	1	tornado/test/web_test.py
7	1	tornado/web.py

--55932a74	2014-08-22T20:48:15-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1153 from nwilbert/patch-1

Fixed support for test generators
55932a74
--9bbf1c98	2014-08-22T10:48:42+02:00	Niko Wilbert	mail@nikowilbert.de	Fixed support for test generators

This fixes the problem that AsyncTestCase no longer seemed to work with test generators (as supported by Nose, http://nose.readthedocs.org/en/latest/writing_tests.html#test-generators).
9bbf1c98
2	2	tornado/testing.py

--63033590	2014-08-19T23:01:28-04:00	Ben Darnell	ben@bendarnell.com	Fix a regression in which a timeout could fire after being cancelled.

Closes #1148.

63033590
9	5	tornado/ioloop.py
19	0	tornado/test/ioloop_test.py

--bb00b7ed	2014-08-12T09:50:02-04:00	Ben Darnell	ben@bendarnell.com	Add property setter for RequestHandler.locale

bb00b7ed
1	0	docs/releases/next.rst
1	0	docs/web.rst
12	5	tornado/test/web_test.py
8	1	tornado/web.py

--fc8264ae	2014-08-12T09:17:49-04:00	Ben Darnell	ben@bendarnell.com	Remove entries from next.rst that made it in to v4.0.1.

fc8264ae
0	8	docs/releases/next.rst

--b1fc1f48	2014-08-12T09:17:01-04:00	Ben Darnell	ben@bendarnell.com	Merge branch 'branch4.0'

Conflicts:
	docs/releases.rst
	setup.py
	tornado/__init__.py

b1fc1f48
--54bfbee5	2014-08-12T09:11:20-04:00	Ben Darnell	ben@bendarnell.com	Set version number to 4.0.1.

54bfbee5
2	2	docs/releases/v4.0.1.rst
1	1	setup.py
1	1	tornado/__init__.py

--afea02e1	2014-08-12T08:51:27-04:00	Ben Darnell	ben@bendarnell.com	Specify a non-zero port when testing localhost resolution.

Some getaddrinfo implementations (including OS X 10.6) fail
if we try to resolve port 0 without AI_PASSIVE.

Closes #1136.

afea02e1
3	1	tornado/test/tcpclient_test.py

--6c6d16a9	2014-08-10T15:19:48-04:00	Ben Darnell	ben@bendarnell.com	Add release notes for 4.0.1 and update version number.

6c6d16a9
1	0	docs/releases.rst
20	0	docs/releases/v4.0.1.rst
1	1	setup.py
2	2	tornado/__init__.py

--c7ae10d6	2014-08-10T14:02:39-04:00	Ben Darnell	ben@bendarnell.com	Correctly handle 204 response codes that do not include a content-length.

If a server sends a 204 with no content-length we would wait for the server
to close the connection instead of ending the request (any such servers
are ignoring the "Connection: close" header we send, but apparently exist).

Move some content-length logic from simple_httpclient.py to http1connection.py.

Fix the client-side use of on_connection_close; this affects the
handling of any HTTPInputException.

This fixes regressions relative to Tornado 3.2.

Conflicts:
	tornado/websocket.py

c7ae10d6
44	5	tornado/http1connection.py
5	24	tornado/simple_httpclient.py
25	1	tornado/test/simple_httpclient_test.py
5	3	tornado/websocket.py

--5a7719e0	2014-08-09T14:09:22-04:00	Ben Darnell	ben@bendarnell.com	Fix an AttributeError in WebSocketClientConnection._on_close.

Fix an issue that was preventing this issue from showing up in my
tests.

Closes #1140.

5a7719e0
6	1	tornado/websocket.py

--87fa80c9	2014-08-08T01:49:39+08:00	WEI Zhicheng	zhicheng@opensourceforge.net	Fix `IOStream' when callback function return `Future' and has
`Exception' will silence ignore

87fa80c9
2	1	tornado/iostream.py

--a78184f9	2014-08-06T18:35:24+08:00	WEI Zhicheng	zhicheng@opensourceforge.net	Fix `PeriodicCallback' when callback function return `Future' and has
`Exception' will silence ignore

a78184f9
2	1	tornado/ioloop.py

--7550e8bb	2014-07-17T23:33:34-04:00	Ben Darnell	ben@bendarnell.com	Add missing return statements to call_at and call_later.

Closes #1119.

7550e8bb
2	2	tornado/ioloop.py
17	0	tornado/test/ioloop_test.py

--fd9b9952	2014-07-16T20:23:42-04:00	Ben Darnell	ben@bendarnell.com	Fall back to pure-python mode on any exception during the build.

Stop the futile process of trying to enumerate which kinds of exceptions
distutils may throw (the latest potential addition: ValueError).

Closes #1115.

fd9b9952
2	12	setup.py

--93ae0797	2014-08-10T14:02:39-04:00	Ben Darnell	ben@bendarnell.com	Correctly handle 204 response codes that do not include a content-length.

If a server sends a 204 with no content-length we would wait for the server
to close the connection instead of ending the request (any such servers
are ignoring the "Connection: close" header we send, but apparently exist).

Move some content-length logic from simple_httpclient.py to http1connection.py.

Fix the client-side use of on_connection_close; this affects the
handling of any HTTPInputException.

This fixes regressions relative to Tornado 3.2.

93ae0797
44	5	tornado/http1connection.py
5	24	tornado/simple_httpclient.py
25	1	tornado/test/simple_httpclient_test.py
3	3	tornado/websocket.py

--2026dba3	2014-08-09T14:09:22-04:00	Ben Darnell	ben@bendarnell.com	Fix an AttributeError in WebSocketClientConnection._on_close.

Fix an issue that was preventing this issue from showing up in my
tests.

Closes #1140.

2026dba3
6	1	tornado/websocket.py

--6d9826c2	2014-08-09T13:40:46-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1142 from zhicheng/master

Fix `IOStream' when callback function return `Future' and has `Exception' will silence ignore
6d9826c2
--23e5092e	2014-08-08T01:49:39+08:00	WEI Zhicheng	zhicheng@opensourceforge.net	Fix `IOStream' when callback function return `Future' and has
`Exception' will silence ignore

23e5092e
2	1	tornado/iostream.py

--692e76d8	2014-08-08T01:46:23+08:00	WEI Zhicheng	zhicheng@opensourceforge.net	Merge pull request #1 from tornadoweb/master

update from upstream
692e76d8
--afc3ddec	2014-08-06T23:03:27-04:00	Ben Darnell	ben@bendarnell.com	Forgot to git add the new file.

afc3ddec
36	0	docs/releases/next.rst

--c288edb6	2014-08-06T22:48:20-04:00	Ben Darnell	ben@bendarnell.com	Start the next-release notes doc.

c288edb6
1	0	docs/releases.rst
1	0	docs/websocket.rst
16	0	tornado/websocket.py

--e7a0c753	2014-08-06T20:54:45-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1138 from zhicheng/master

Fix `PeriodicCallback' when callback function return `Future' and has
e7a0c753
--2d6c02ac	2014-08-06T18:35:24+08:00	WEI Zhicheng	zhicheng@opensourceforge.net	Fix `PeriodicCallback' when callback function return `Future' and has
`Exception' will silence ignore

2d6c02ac
2	1	tornado/ioloop.py

--dbab7921	2014-08-04T23:46:03-04:00	Ben Darnell	ben@bendarnell.com	Fix a memory leak and test timeout in websockets.

In some cases (primarily when prepare() is asynchronous), an
HTTP1ServerConnection could be left waiting forever for a connection
to finish when that connection has been detached and handed off to a
WebSocketHandler.  This would manifest as a leak and a timeout in
tests as the HTTPServer waited for all its existing connections to
finish.

Also fix a bug in the test tearDown method that would actually
wait forever for connections to finish instead of timing out.

Closes #1133.

dbab7921
2	0	tornado/http1connection.py
20	0	tornado/test/websocket_test.py
2	1	tornado/testing.py

--4f38a044	2014-07-31T00:58:31-04:00	Dustin Spicuzza	dustin@virtualroadside.com	Add code from asyncio that detects whether a future object is discarded

- This is only a proof of concept

4f38a044
136	0	tornado/concurrent.py

--fec81f65	2014-07-27T18:29:06-04:00	Ben Darnell	ben@bendarnell.com	Support the max_wbits websocket deflate parameters.

Slightly improve error handling in the websocket handshake.

fec81f65
20	0	tornado/httputil.py
70	16	tornado/websocket.py

--576c1c43	2014-07-27T01:26:11-04:00	Ben Darnell	ben@bendarnell.com	Implement permessage-deflate websocket extension.

Parameters to the extension are not fully supported (the client side
supports client_no_context_takeover which is mandatory to implement,
but the server rejects any parameters offered by the client, and neither
side supports setting wbits).

Closes #308.
Closes #668.

576c1c43
4	0	demos/websocket/chatdemo.py
1	1	maint/test/websocket/client.py
1	1	maint/test/websocket/fuzzingclient.json
1	1	maint/test/websocket/fuzzingserver.json
3	0	maint/test/websocket/server.py
4	0	tornado/httputil.py
113	35	tornado/test/websocket_test.py
150	20	tornado/websocket.py

--db4876e9	2014-07-26T16:50:16-04:00	Ben Darnell	ben@bendarnell.com	Merge branch 'branch4.0'

db4876e9
--3c27a919	2014-07-26T16:48:38-04:00	Ben Darnell	ben@bendarnell.com	Expand documentation of WebSocketHandler.check_origin.

Document the potential problems that arise with websockets and
self-signed certificates.

3c27a919
28	0	tornado/websocket.py

--7b62519b	2014-07-24T23:41:49-04:00	Ben Darnell	ben@bendarnell.com	Improve error handling during ssl handshake.

Previously if do_handshake raised an error not in CONNRESET,
the socket would not be closed properly and the server would start
using 100% of the cpu.

Also handle EBADF errors from do_handshake without logging since
they can be generated by some modes of nmap scans.

7b62519b
7	1	tornado/iostream.py

--20ef21d2	2014-07-24T23:38:00-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1090 from tatiana/master

Improve curl_httpclient so it supports custom methods with payload.
20ef21d2
--1635b409	2014-07-24T22:28:45-04:00	Ben Darnell	ben@bendarnell.com	Add "sudo: false" to .travis.yml in an attempt to stop the random build failures.

1635b409
5	0	.travis.yml

--21458a76	2014-07-24T22:23:46-04:00	Ben Darnell	ben@bendarnell.com	Merge branch 'branch4.0'

21458a76
--bcdbd946	2014-07-24T22:22:59-04:00	Ben Darnell	ben@bendarnell.com	Fix a dangling reference to callback in chatdemo.py.

bcdbd946
1	1	demos/chat/chatdemo.py

--522b2c70	2014-07-24T12:30:36-07:00	Tatiana Al-Chueyr	tatiana.alchueyr@gmail.com	Merge branch 'master' of github.com:tornadoweb/tornado

522b2c70
--b4aec6dd	2014-07-24T12:30:22-07:00	Tatiana Al-Chueyr	tatiana.alchueyr@gmail.com	Code cleanup with guided by @bdarnell at #1090

b4aec6dd
1	13	tornado/test/httpclient_test.py

--5b8fb4ee	2014-07-23T22:27:08-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1125 from duedil-ltd/chunked-encoding-keep-alive

Fixed a bug with keep-alive chunked requests
5b8fb4ee
--af463164	2014-07-23T22:24:04-04:00	Ben Darnell	ben@bendarnell.com	Cite RFC 2730 when stripping extraneous line breaks.

af463164
4	0	tornado/http1connection.py

--8940beca	2014-07-23T22:22:36-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1124 from duedil-ltd/non-rfc-crlf

Support for non-RFC compliant header prefixes
8940beca
--253607ec	2014-07-23T22:18:27-04:00	Ben Darnell	ben@bendarnell.com	Fix a potential leak of an unclosed AsyncHTTPClient.

253607ec
2	0	tornado/test/httpclient_test.py

--404ec8bd	2014-07-23T18:27:03+01:00	Tom Arnfeld	tarnfeld@me.com	Fixed a bug with keep-alive chunked requests

If you make a POST request with 'Connection: Keep-Alive' and use chunked body encoding, tornado will not interpret that as a connection that can be kept alive, and will close the connection.

404ec8bd
1	0	tornado/http1connection.py

--425e207b	2014-07-23T18:26:50+01:00	Tom Arnfeld	tarnfeld@me.com	Added a regression test for keep-alive chunked POST

425e207b
15	0	tornado/test/httpserver_test.py

--016fa926	2014-07-22T17:50:16+01:00	Tom Arnfeld	tarnfeld@me.com	Support for non-RFC compliant header prefixes

When using keep-alive connections, some HTTP implementations insert unexpected and extra CRLF tokens between each connection, which can result in the next request being prefixed with a CRLF.

Some other client/server implementations are tollerant of this, and for example this bug doesn't show up when using the Go net/http library.

016fa926
1	1	tornado/http1connection.py

--b91284f9	2014-07-23T09:28:08+01:00	Tom Arnfeld	tarnfeld@me.com	Added a test for extra CRLF lines in keep-alive connections

b91284f9
11	0	tornado/test/httpserver_test.py

--a3bf5314	2014-07-21T16:33:00-07:00	Tatiana Al-Chueyr	tatiana.alchueyr@gmail.com	Fix tests so they are compatible with python 3.x

a3bf5314
1	1	tornado/test/httpclient_test.py

--3573f2a6	2014-07-21T15:53:17-07:00	Tatiana Al-Chueyr	tatiana.alchueyr@gmail.com	Move patch test to httpclient_test, according to @bdarnell recommendation
using httpclient_test.py instead of curl_httpclient_test.py so simple_httpclient_test.py is benefit from it as well
#1090

3573f2a6
0	39	tornado/test/curl_httpclient_test.py
26	0	tornado/test/httpclient_test.py

--ca7ae5fd	2014-07-21T15:28:41-07:00	Tatiana Al-Chueyr	tatiana.alchueyr@gmail.com	Refactor: simplify patch test according to @bdarnell recommendations at #1090

ca7ae5fd
5	50	tornado/test/curl_httpclient_test.py

--52760e51	2014-07-21T15:10:45-07:00	Tatiana Al-Chueyr	tatiana.alchueyr@gmail.com	Merge branch 'master' of github.com:tornadoweb/tornado

52760e51
--a8e272ad	2014-07-19T11:18:24-04:00	Ben Darnell	ben@bendarnell.com	Add an ubuntu 14.04 vagrant config; drop 12.10.

a8e272ad
0	9	maint/vm/ubuntu12.10/Vagrantfile
8	0	maint/vm/ubuntu14.04/Vagrantfile
1	1	maint/vm/{ubuntu12.10 => ubuntu14.04}/setup.sh
4	4	maint/vm/{ubuntu12.10 => ubuntu14.04}/tox.ini

--8ca94a8c	2014-07-19T11:13:54-04:00	Ben Darnell	ben@bendarnell.com	Refactor Resolver error tests to mock getaddrinfo.

This appears to be necessary in a vagrant ubuntu/trusty64 VM,
where the resolver takes over 5 seconds before returning an error.

8ca94a8c
44	12	tornado/test/netutil_test.py

--b2f98d6c	2014-07-18T22:09:43-04:00	Ben Darnell	ben@bendarnell.com	Merge branch 'branch4.0'

b2f98d6c
--dacf2102	2014-07-18T22:09:11-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1120 from Mouchh/patch-1

Typing error
dacf2102
--848c5175	2014-07-18T19:21:35+02:00	Cyril Mouchel	mouchel.cyril@gmail.com	Typing error
848c5175
1	1	docs/guide/structure.rst

--45f96b87	2014-07-18T01:12:52-04:00	Ben Darnell	ben@bendarnell.com	Disable test_post_307 due to a libcurl bug that manifests with TwistedIOLoop on linux.

45f96b87
15	4	tornado/test/httpclient_test.py

--a983616e	2014-07-17T23:33:34-04:00	Ben Darnell	ben@bendarnell.com	Add missing return statements to call_at and call_later.

Closes #1119.

a983616e
2	2	tornado/ioloop.py
17	0	tornado/test/ioloop_test.py

--13c02a36	2014-07-17T23:26:12-04:00	Ben Darnell	ben@bendarnell.com	Add a default value to a getaddr() call in HTTPServerRequest.

Closes #1118.

13c02a36
1	1	tornado/httputil.py
11	1	tornado/test/httputil_test.py

--50d2468c	2014-07-17T23:17:32-04:00	Ben Darnell	ben@bendarnell.com	Add test for curl_httpclient ioctl change.

50d2468c
25	0	tornado/test/httpclient_test.py

--58370bd2	2014-07-16T20:23:42-04:00	Ben Darnell	ben@bendarnell.com	Fall back to pure-python mode on any exception during the build.

Stop the futile process of trying to enumerate which kinds of exceptions
distutils may throw (the latest potential addition: ValueError).

Closes #1115.

58370bd2
2	12	setup.py

--52b6d1d1	2014-07-16T20:16:38-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1116 from homm/curl-put-redirects

make IOCMD_RESTARTREAD available for PUT requests
52b6d1d1
--8ef2a845	2014-07-16T17:43:12+04:00	homm	homm86@gmail.com	make IOCMD_RESTARTREAD available for PUT requests

8ef2a845
2	2	tornado/curl_httpclient.py

--446d2e68	2014-07-16T00:29:27-04:00	Ben Darnell	ben@bendarnell.com	Read config file in binary mode instead of try/except TypeError.

446d2e68
7	9	tornado/options.py

--42ba1086	2014-07-16T00:19:10-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1086 from likang/master

Make options.parse_config_file supporting custom encoding
42ba1086
--6c48936b	2014-07-16T00:06:54-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1102 from pekrau/master

Add 'reason' kwarg to send_error.
6c48936b
--6ef4608b	2014-07-15T22:54:16-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1109 from kmike/bytesio

Removed dead "io.BytesIO vs cStringIO.StringIO" code
6ef4608b
--52133109	2014-07-15T22:47:50-04:00	Ben Darnell	ben@bendarnell.com	Merge branch 'branch4.0'

52133109
--b96b6adf	2014-07-15T22:47:21-04:00	Ben Darnell	ben@bendarnell.com	Fix example in docs.

b96b6adf
1	1	docs/guide/structure.rst

--15769140	2014-07-15T09:43:32-04:00	Ben Darnell	ben@bendarnell.com	Bump master branch version number

15769140
1	1	setup.py
2	2	tornado/__init__.py

--f1824029	2014-07-15T08:42:27-04:00	Ben Darnell	ben@bendarnell.com	Set version number to 4.0

f1824029
1	1	setup.py
2	2	tornado/__init__.py

--b7bcc2ec	2014-07-15T08:41:54-04:00	Ben Darnell	ben@bendarnell.com	Move next.rst to 4.0.0.rst

b7bcc2ec
1	1	docs/releases.rst
4	4	docs/releases/{next.rst => v4.0.0.rst}

--dade9f13	2014-07-15T16:50:21+06:00	Mikhail Korobov	kmike84@gmail.com	remove dead code

io.BytesIO is available since Python 2.6; Tornado doesn't support Python 2.5, so there won't be ImportError.

dade9f13
1	5	tornado/curl_httpclient.py
1	4	tornado/simple_httpclient.py
1	5	tornado/test/httpclient_test.py
1	5	tornado/test/httpserver_test.py
1	4	tornado/web.py
1	4	tornado/wsgi.py

--8dcbb600	2014-07-14T21:18:42-04:00	Ben Darnell	ben@bendarnell.com	Drop the 3.2-era "upgrade notes" from the homepage.

The need to install dependencies is well-established by now.

8dcbb600
0	8	docs/index.rst

--670176c0	2014-07-14T21:14:01-04:00	Ben Darnell	ben@bendarnell.com	Reorganize top-level doc navigation.

670176c0
8	0	docs/coroutine.rst
9	0	docs/http.rst
2	0	docs/index.rst
1	2	docs/integration.rst
0	3	docs/networking.rst
0	3	docs/utilities.rst
3	4	docs/webframework.rst

--b4ecbf96	2014-07-14T21:05:33-04:00	Ben Darnell	ben@bendarnell.com	Flatten doc navigation

sphinx_rtd_theme's sidebar will not go deeper than two levels
in the table of contents, so remove the extra index->documentation
indirection.

b4ecbf96
0	23	docs/documentation.rst
20	6	docs/index.rst

--3cdb0e19	2014-07-14T10:05:11-04:00	Ben Darnell	ben@bendarnell.com	Add a Highlights section to the 4.0 release notes.

3cdb0e19
35	16	docs/releases/next.rst

--3bcbb55d	2014-07-13T18:19:29-04:00	Ben Darnell	ben@bendarnell.com	Update gen docs: deemphasize Task, Callback, and Wait.

3bcbb55d
22	25	docs/gen.rst
4	1	docs/guide/intro.rst
15	46	tornado/gen.py

--625bb0e0	2014-07-12T23:07:01-04:00	Ben Darnell	ben@bendarnell.com	Install sphinx_rtd_theme when running sphinx tests.

625bb0e0
1	1	.travis.yml
3	1	tox.ini

--b96d6f6b	2014-07-12T22:57:16-04:00	Ben Darnell	ben@bendarnell.com	Use sphinx_rtd_theme instead of our lightly-customized version of sphinx default.

The main benefit of this change is the responsive layout for phones and
tablets.

b96d6f6b
3	0	docs/Makefile
10	26	docs/conf.py
0	73	docs/tornado.css
1	0	maint/requirements.txt

--7f0ffa4c	2014-07-12T22:40:32-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1107 from ajdavis/patch-3

Properly restore ASYNC_TEST_TIMEOUT after test.
7f0ffa4c
--5cae3ff5	2014-07-12T22:39:31-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1106 from ajdavis/patch-2

Bugfix in asynchronous_fetch example code.
5cae3ff5
--812f4403	2014-07-12T22:39:15-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1105 from ajdavis/patch-1

Complete the Motor example.
812f4403
--cd420dd5	2014-07-12T14:25:13-04:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Properly restore ASYNC_TEST_TIMEOUT after test.
cd420dd5
1	1	tornado/test/testing_test.py

--ec37d01f	2014-07-11T13:05:18-04:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Bugfix in asynchronous_fetch example code.
ec37d01f
1	1	docs/guide/async.rst

--c7f21fae	2014-07-11T13:03:16-04:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Complete the Motor example.
c7f21fae
4	2	docs/guide/coroutines.rst

--1e337973	2014-07-10T14:24:30-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1101 from tioover/master

typo
1e337973
--590ce3f3	2014-07-10T15:47:28+02:00	Per Kraulis	per.kraulis@scilifelab.se	Fixes bug disallowing custom-made reason phrase

The send_error method is, I believe, supposed to allow sending an HTTP reason phrase that is not one of the standard ones. This change corrects an apparent bug which made this impossible. With the correction, specifying an 'error' keyword argument to send_error actually sends the specified
reason phrase to the client.
590ce3f3
1	1	tornado/web.py

--69ce14e9	2014-07-10T17:15:43+08:00	Tengfei Tsui	tioover@gmail.com	typo
69ce14e9
1	1	tornado/log.py

--8b5c4ae2	2014-07-08T22:50:05-04:00	Ben Darnell	ben@bendarnell.com	Set version number to 4.0b3.

8b5c4ae2
1	1	setup.py
2	2	tornado/__init__.py

--943dbdf3	2014-07-08T22:49:30-04:00	Ben Darnell	ben@bendarnell.com	Add XSRF change to the release notes.

943dbdf3
5	0	docs/releases/next.rst

--dba499ce	2014-07-08T22:27:35-04:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'tictail/branch3.2'

Closes #1097

dba499ce
--ab688e7a	2014-07-08T15:52:25+02:00	William Tisäter	william@defunct.cc	Catch `binascii.a2b_hex` errors on Python 3
ab688e7a
1	1	tornado/web.py

--2299cf96	2014-07-08T09:07:48+02:00	William Tisäter	william@defunct.cc	Don't raise when failing to hex decode XSRF v1

2299cf96
1	1	tornado/web.py

--d881dd2f	2014-07-08T09:07:18+02:00	William Tisäter	william@defunct.cc	Turn short and hex XSRF tests into success tests

d881dd2f
13	13	tornado/test/web_test.py

--22e8614f	2014-07-07T23:29:44+02:00	William Tisäter	william@defunct.cc	Remove length requirement from v1 XSRF tokens

22e8614f
14	0	tornado/test/web_test.py
4	3	tornado/web.py

--9788e4f1	2014-07-06T11:10:09-04:00	Ben Darnell	ben@bendarnell.com	Fix outdated variable name in docs.

9788e4f1
1	1	tornado/web.py

--6a588143	2014-07-05T18:49:36-04:00	Ben Darnell	ben@bendarnell.com	Add a test for exception in websocket callbacks.

6a588143
19	1	tornado/test/websocket_test.py

--2fdfcb1b	2014-07-05T17:55:44-04:00	Ben Darnell	ben@bendarnell.com	Rewrite chatdemo to use a coroutine instead of callbacks.

2fdfcb1b
26	19	demos/chat/chatdemo.py

--f1edd3dd	2014-07-04T16:04:09-04:00	Ben Darnell	ben@bendarnell.com	Merge branch 'guide'

* guide:
  Expand and rewrite the guide docs.
  Split overview.rst into separate files.

f1edd3dd
--1b0cc391	2014-06-30T12:59:58-04:00	Ben Darnell	ben@bendarnell.com	Expand and rewrite the guide docs.

1b0cc391
2	2	docs/guide/async.rst
172	140	docs/guide/running.rst
72	71	docs/guide/security.rst
261	200	docs/guide/structure.rst
84	92	docs/guide/templates.rst
1	0	docs/web.rst
3	0	tornado/httpclient.py
1	2	tornado/web.py

--235e52d5	2014-07-02T22:01:22-04:00	Ben Darnell	ben@bendarnell.com	Disable twisted tests on pypy on travis-ci since they seem to be flaky.

They were already disabled in tox.ini.

235e52d5
3	3	.travis.yml

--f708fe01	2014-07-02T22:00:14-04:00	Ben Darnell	ben@bendarnell.com	Add tests for both binary and unicode messages in websockets.

f708fe01
21	0	tornado/test/websocket_test.py

--b8d68809	2014-07-02T21:37:19-04:00	Ben Darnell	ben@bendarnell.com	Merge branch 'master' of github.com:tornadoweb/tornado

b8d68809
--622139eb	2014-07-02T21:37:11-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1091 from xose/patch-1

Fix binary websocket connections
622139eb
--2169e1be	2014-07-02T23:11:51+02:00	José Martínez	xosemp@gmail.com	Fix binary websocket connections
2169e1be
1	1	tornado/websocket.py

--882254fa	2014-07-01T14:50:31-03:00	Tatiana Al-Chueyr	tatiana.alchueyr@gmail.com	Merge branch 'master' of github.com:tatiana/tornado

882254fa
--c957a5d4	2014-07-01T14:39:14-03:00	Tatiana Al-Chueyr	tatiana.alchueyr@gmail.com	Improve curl_httpclient so it supports custom methods with payload.
Before this, no custom method (e.g. PATCH) added body to the CURL request.

c957a5d4
5	4	tornado/curl_httpclient.py
86	1	tornado/test/curl_httpclient_test.py

--aa7b15f0	2014-07-01T08:37:02-04:00	Ben Darnell	ben@bendarnell.com	Set version number to 4.0b2

aa7b15f0
1	1	setup.py
2	2	tornado/__init__.py

--159e10d6	2014-06-30T23:28:10-04:00	Ben Darnell	ben@bendarnell.com	Rename the new-in-4.0 gzip parameter to HTTPServer.

All the gzip-related parameters are now explicit about whether
they compress or decompress and whether they apply to requests or
responses.  For all the parameters that existed prior to 4.0
the old names are accepted as well, but for the new ones in 4.0
we don't need to worry about backwards-compatibility.

This is motivated by the potential confusion around the use of
gzip as a parameter to the Application constructor to indicate
compression of responses and to the HTTPServer constructor to
indicate decompression of requests.

159e10d6
6	2	docs/releases/next.rst
4	2	docs/web.rst
1	1	tornado/curl_httpclient.py
5	4	tornado/http1connection.py
11	4	tornado/httpclient.py
4	3	tornado/httpserver.py
2	2	tornado/simple_httpclient.py
2	2	tornado/test/httpserver_test.py
1	1	tornado/web.py

--76b8ab66	2014-06-28T15:40:55-07:00	Ben Darnell	ben@bendarnell.com	Split overview.rst into separate files.

76b8ab66
0	1	docs/documentation.rst
4	0	docs/guide.rst
263	0	docs/guide/running.rst
241	0	docs/guide/security.rst
283	0	docs/guide/structure.rst
308	0	docs/guide/templates.rst
0	1134	docs/overview.rst

--5110b039	2014-06-26T10:41:47+08:00	likang	i@likang.me	Assume all config files are encoded in UTF-8

5110b039
2	2	tornado/options.py
2	3	tornado/test/options_test.py

--a91b15c3	2014-06-25T19:00:35-07:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1084 from ukoethe/master

check for errno.WSA* on 64-bit Windows (fixes #1052)
a91b15c3
--58323f06	2014-06-25T15:31:17+08:00	likang	i@likang.me	Make options.parse_config_file supporting custom encoding

58323f06
7	1	tornado/options.py
1	0	tornado/test/options_test.cfg
6	2	tornado/test/options_test.py

--5d838906	2014-06-24T18:58:35-07:00	Ben Darnell	ben@bendarnell.com	Add the start of a new user guide.

5d838906
1	0	docs/documentation.rst
8	0	docs/guide.rst
111	0	docs/guide/async.rst
142	0	docs/guide/coroutines.rst
28	0	docs/guide/intro.rst

--fe6a3a87	2014-06-23T14:40:40+02:00	Ullrich Koethe	ullrich.koethe@iwr.uni-heidelberg.de	check for errno.WSA* on 64-bit Windows (fixes #1052)

fe6a3a87
13	1	tornado/iostream.py
3	0	tornado/netutil.py
4	1	tornado/test/iostream_test.py
4	2	tornado/test/simple_httpclient_test.py

--681882b0	2014-06-21T16:02:18-04:00	Ben Darnell	ben@bendarnell.com	Set version number to 4.0b1

681882b0
1	1	setup.py
2	2	tornado/__init__.py

--1535dac8	2014-06-21T14:20:15-04:00	Ben Darnell	ben@bendarnell.com	Update docs for deprecations and removals.

1535dac8
0	7	docs/overview.rst
3	1	docs/releases/next.rst
2	2	docs/releases/v2.2.0.rst
0	2	docs/websocket.rst
4	2	tornado/auth.py
2	2	tornado/testing.py

--3824b4c8	2014-06-21T13:50:56-04:00	Ben Darnell	ben@bendarnell.com	Drop support for the draft76 version of WebSockets.

Browsers that only support draft76 are now less common than those
that do not support websockets at all, so applications should
use their non-websocket workarounds for these browsers.

3824b4c8
0	4	demos/websocket/chatdemo.py
3	0	docs/releases/next.rst
1	1	docs/releases/v2.2.0.rst
12	218	tornado/websocket.py

--3a62caf9	2014-06-21T13:37:59-04:00	Ben Darnell	ben@bendarnell.com	Edit comments to discourage creation of new OutputTransforms.

3a62caf9
3	3	tornado/web.py

--b3ccb7b9	2014-06-21T14:05:49-04:00	Ben Darnell	ben@bendarnell.com	Update tests after the removal of get_error_html.

b3ccb7b9
4	4	tornado/test/stack_context_test.py
0	25	tornado/test/web_test.py

--f5ffe7ad	2014-06-21T13:34:03-04:00	Ben Darnell	ben@bendarnell.com	Increase the test timeout on travis.

f5ffe7ad
3	0	.travis.yml

--3d5c48f8	2014-06-21T13:32:44-04:00	Ben Darnell	ben@bendarnell.com	Remove support for the old get_error_html function.

3d5c48f8
2	0	docs/releases/next.rst
0	19	tornado/web.py

--c9cac24d	2014-06-21T13:05:57-04:00	Ben Darnell	ben@bendarnell.com	Remove workarounds for ancient versions of libcurl.

c9cac24d
2	0	docs/releases/next.rst
2	20	tornado/curl_httpclient.py
9	6	tornado/httpclient.py

--fb246549	2014-06-21T12:47:40-04:00	Ben Darnell	ben@bendarnell.com	Add pypy3 to tox.ini.

fb246549
4	0	tox.ini

--2719ed62	2014-06-20T00:37:11-04:00	Ben Darnell	ben@bendarnell.com	Release note updates.

2719ed62
1	0	docs/ioloop.rst
1	0	docs/iostream.rst
46	1	docs/releases/next.rst
1	0	docs/websocket.rst

--596038c2	2014-06-19T09:28:45-04:00	Ben Darnell	ben@bendarnell.com	Add new exception tornado.web.Finish to quietly end a request.

This allows error pages to be generated inline with the main code
instead of in write_error and is friendlier to generating error pages
from library code.

Closes #1064.

596038c2
1	0	docs/web.rst
18	1	tornado/test/web_test.py
27	0	tornado/web.py

--2cec3195	2014-06-18T10:29:28-04:00	Ben Darnell	ben@bendarnell.com	Introduce IOLoop.call_later and call_at.

call_later is a less-verbose alternative to add_timeout with a
timedelta; call_at exists for symmetry.  Both are named after
methods on the asyncio event loop, although there are small
variations (we support both args and kwargs while asyncio only supports
args; we use remove_timeout(handle) instead of handle.cancel()).

Closes #1049.

2cec3195
2	0	docs/ioloop.rst
57	21	tornado/ioloop.py
9	11	tornado/platform/asyncio.py
11	9	tornado/platform/twisted.py
13	1	tornado/test/ioloop_test.py
5	0	tornado/util.py

--8953e9be	2014-06-17T10:09:15-04:00	Ben Darnell	ben@bendarnell.com	Fix a leak in AsyncHTTPClient shutdown.

Clients created without force_instance=True were never getting
GC'd because we were using the wrong reference for the async_clients
instance cache.

To guard against future errors, failure to remove an instance
from the cache when we expected to now raises an error instead of
failing silently.

Closes #1079.

8953e9be
19	6	tornado/httpclient.py

--4e9de2e4	2014-06-15T23:49:39-04:00	Ben Darnell	ben@bendarnell.com	Introduce IOLoop.spawn_callback.

This makes it easier and more discoverable to run a callback without
stack_context.

Closes #867.

4e9de2e4
13	0	tornado/ioloop.py
13	0	tornado/test/ioloop_test.py

--a0fe9344	2014-06-15T23:39:00-04:00	Ben Darnell	ben@bendarnell.com	Rename HTTP{In,Out}putException to HTTP{In,Out}putError.

This follows the standard python naming convention for exceptions.

a0fe9344
1	1	tornado/curl_httpclient.py
6	6	tornado/http1connection.py
5	5	tornado/httputil.py
2	2	tornado/wsgi.py

--66b06d7c	2014-06-15T23:35:02-04:00	Ben Darnell	ben@bendarnell.com	Relax restrictions on HTTP methods in WebSocketHandler.

Methods like set_status are now disallowed once the websocket handshake
has begun, but may be used before then.  This applies to application
overrides of prepare() and to WebSocketHandler.get's internal error
handling.

Closes #1065.

66b06d7c
12	0	tornado/test/websocket_test.py
19	21	tornado/websocket.py

--d100cdf7	2014-06-15T13:36:10-04:00	Ben Darnell	ben@bendarnell.com	Document that IOStream.connect blocks on DNS and recommend TCPClient instead.

Closes #861.

d100cdf7
13	5	tornado/iostream.py

--c1ba948d	2014-06-15T12:39:38-04:00	Ben Darnell	ben@bendarnell.com	Add clearer message for fetch() on closed AsyncHTTPClient.

Closes #866.

c1ba948d
0	1	tornado/curl_httpclient.py
4	0	tornado/httpclient.py

--ac05c50c	2014-06-15T12:36:28-04:00	Ben Darnell	ben@bendarnell.com	Document AsyncHTTPClient's defaults argument.

Closes #762.

ac05c50c
15	4	tornado/httpclient.py

--1591ade4	2014-06-15T12:11:22-04:00	Ben Darnell	ben@bendarnell.com	Improve callback scheduling.

Collect all timeouts to be run before running any of them; this
prevents starvation when a slow callback reschedules itself.

Call time() again before setting poll_timeout to avoid scheduling
anomalies with slow callbacks.

Closes #947.

1591ade4
20	10	tornado/ioloop.py

--7a0eda13	2014-06-15T11:52:34-04:00	Ben Darnell	ben@bendarnell.com	Remove async_callback wrapper functions, which have been obsolete since 1.1.

Closes #283.

7a0eda13
1	1	demos/blog/blog.py
0	1	docs/web.rst
0	1	docs/websocket.rst
0	21	tornado/web.py
12	24	tornado/websocket.py

--409ddc47	2014-06-15T11:33:46-04:00	Ben Darnell	ben@bendarnell.com	Add ETIMEDOUT to the list of relatively benign unclean-close errnos.

409ddc47
2	1	tornado/iostream.py

--99aa924c	2014-06-15T11:32:11-04:00	Ben Darnell	ben@bendarnell.com	When a function on the IOLoop returns a Future, log its exception.

99aa924c
7	1	tornado/ioloop.py
2	12	tornado/platform/asyncio.py
3	8	tornado/platform/twisted.py
23	1	tornado/test/ioloop_test.py

--00229a21	2014-06-07T11:22:58-04:00	Ben Darnell	ben@bendarnell.com	The next version will be 4.0, not 3.3, so update all references to 3.3.

00229a21
1	1	setup.py
2	2	tornado/__init__.py
1	1	tornado/auth.py
3	3	tornado/concurrent.py
4	4	tornado/gen.py
2	2	tornado/http1connection.py
2	2	tornado/httpclient.py
2	2	tornado/httpserver.py
9	9	tornado/httputil.py
6	6	tornado/ioloop.py
8	8	tornado/iostream.py
1	1	tornado/testing.py
3	3	tornado/web.py
4	4	tornado/websocket.py
2	2	tornado/wsgi.py

--9fa52d78	2014-06-07T11:08:52-04:00	Ben Darnell	ben@bendarnell.com	Broaden catch clause in extension building.

This should allow Tornado to be installed again on OSX with no
compiler available.

Closes #1074.

9fa52d78
1	8	setup.py

--967dd227	2014-06-04T00:04:26-04:00	Ben Darnell	ben@bendarnell.com	Merge branch 'master' of github.com:tornadoweb/tornado

967dd227
--72a5e4ce	2014-06-03T23:48:51-04:00	Ben Darnell	ben@bendarnell.com	Merge branch 'branch3.2'

Conflicts:
	docs/releases.rst
	setup.py
	tornado/__init__.py
	tornado/websocket.py

72a5e4ce
--67655497	2014-06-03T23:30:18-04:00	Ben Darnell	ben@bendarnell.com	Set version number to 3.2.2

67655497
1	1	setup.py
2	2	tornado/__init__.py

--edfeb88d	2014-06-03T23:16:00-04:00	Ben Darnell	ben@bendarnell.com	Docs for xsrf cookie change; 3.2.2 release notes.

edfeb88d
1	0	docs/releases.rst
28	0	docs/releases/v3.2.2.rst
7	0	docs/web.rst
26	0	tornado/web.py

--45e339fa	2014-06-03T19:49:40-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1069 from drewbrew/master

ioloop.py: use itertools.count() as tiebreaker to preserve FIFO in case of tie
45e339fa
--5fc96e6f	2014-06-03T13:22:08-05:00	drewbrew	drewbrew@users.noreply.github.com	ioloop.py: use itertools.count() as tiebreaker to preserve FIFO in case of tie

Current implementation does not function as a FIFO.  When adding multiple
timeouts with the same deadline, order is currently consistently mangled in the
event of a garbage collect.

As suggested by Ben Darnell at
https://groups.google.com/forum/#!topic/python-tornado/w8aKm6ZabUQ/discussion,
we need to add a sequence number to the Timeout class to serve as tiebreaker.
This code uses the model suggested by
https://docs.python.org/2/library/heapq.html#priority-queue-implementation-notes,
which uses itertools.count() to serve as our counter.

5fc96e6f
8	5	tornado/ioloop.py

--53e4bad9	2014-06-01T18:45:10-04:00	Ben Darnell	ben@bendarnell.com	Add threadedresolver configuration to tox.ini (it was already in travis)

53e4bad9
11	0	tox.ini

--7c3b360a	2014-06-01T18:31:12-04:00	Ben Darnell	ben@bendarnell.com	Fix another ipv6 test that was flaky on travis due to port conflicts.

7c3b360a
5	3	tornado/test/simple_httpclient_test.py

--f2711408	2014-06-01T18:14:14-04:00	Ben Darnell	ben@bendarnell.com	Refine logging in http1connection.py.

Exceptions raised by delegate methods go to app_log; all others to gen_log.

f2711408
32	6	tornado/http1connection.py
1	3	tornado/test/httpserver_test.py
2	1	tornado/test/simple_httpclient_test.py

--1d1b0dec	2014-06-01T16:36:52-04:00	Ben Darnell	ben@bendarnell.com	Remove all use of async_callback in tornado.auth.

This was swallowing exceptions before they could be given to the returned
Future.

1d1b0dec
32	17	tornado/auth.py
27	0	tornado/test/auth_test.py

--6f46e703	2014-06-01T10:22:09-07:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1068 from patrickfuller/master

From #1067, updated Google Auth docs to reflect API changes
6f46e703
--7d0e9b3b	2014-05-28T13:47:32-05:00	Patrick Fuller	patrickfuller@gmail.com	Updated Google Auth docs to reflect API changes

7d0e9b3b
31	7	tornado/auth.py

--c2a8c322	2014-05-26T21:18:36-04:00	Ben Darnell	ben@bendarnell.com	Add the option to request an older xsrf cookie version.

Fix an issue with v1 cookies on py32.

c2a8c322
33	2	tornado/test/web_test.py
9	2	tornado/web.py

--1c363074	2014-05-26T15:44:58-04:00	Ben Darnell	ben@bendarnell.com	Change the xsrf cookie format to be masked with a random salt.

This protects against the BREACH attack.

1c363074
4	2	tornado/test/web_test.py
2	1	tornado/test/websocket_test.py
43	0	tornado/util.py
51	8	tornado/web.py
1	42	tornado/websocket.py

--7279a303	2014-05-26T13:33:21-04:00	Ben Darnell	ben@bendarnell.com	Small security improvements to xsrf tokens; add tests.

Use os.urandom(16) instead of uuid.uuid4(), to reclaim a few bits of
entropy.  Use _time_independent_equals for comparison.

7279a303
113	0	tornado/test/web_test.py
2	2	tornado/web.py

--f76f51a3	2014-05-26T20:41:52-04:00	Ben Darnell	ben@bendarnell.com	Fix imports for the new version of trollius, which changed its package name.

f76f51a3
11	1	tornado/platform/asyncio.py

--8b7bd067	2014-05-26T20:41:52-04:00	Ben Darnell	ben@bendarnell.com	Fix imports for the new version of trollius, which changed its package name.

8b7bd067
11	1	tornado/platform/asyncio.py

--12ba59f9	2014-05-25T23:03:13-04:00	Ben Darnell	ben@bendarnell.com	Run the sphinx tests under py3.4 instead of py2.7.

12ba59f9
2	2	.travis.yml
4	4	tox.ini

--6403cb91	2014-05-25T21:41:44-04:00	Ben Darnell	ben@bendarnell.com	Disallow non-absolute urls in origin field.

Update docs for websocket check_origin.

6403cb91
10	13	tornado/test/websocket_test.py
15	9	tornado/websocket.py

--cc8dcece	2014-05-25T20:49:00-04:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'rgbkrk/cross_origin' into merge

cc8dcece
--142c00c0	2014-05-25T16:52:29-04:00	Ben Darnell	ben@bendarnell.com	Document max_write_buffer_size.

StreamBufferFullError is no longer an IOError, and is now used for
the read buffer as well.

142c00c0
18	4	tornado/iostream.py

--4de52a52	2014-05-25T16:34:41-04:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'methane/write-buffer-size'

Conflicts:
	tornado/iostream.py

4de52a52
--c93e961f	2014-05-25T12:50:51-04:00	Ben Darnell	ben@bendarnell.com	Stream large response bodies from StaticFileHandler.

The get_content interface is still synchronous so it's not a complete
solution, but this will keep the server from buffering the whole file in
memory while writing it out to the client.

Return Futures from the wsgi interface, allowing @gen.coroutine to be
used there in limited circumstances.

c93e961f
5	4	tornado/http1connection.py
5	0	tornado/test/web_test.py
20	18	tornado/web.py
9	0	tornado/wsgi.py

--59fee55e	2014-05-25T12:24:55-04:00	Ben Darnell	ben@bendarnell.com	Improve performance of HEAD requests on large static files.

StaticFileHandler would previously read the entire file and throw it
away just to compute its length; now it uses get_content_size()
instead().

Added extra validation in tests by performing both GET and HEAD
versions of all requests and ensuring the content headers match.

Closes #988.

59fee55e
40	19	tornado/test/web_test.py
16	6	tornado/web.py

--fa29f20d	2014-05-25T11:39:12-04:00	Ben Darnell	ben@bendarnell.com	Remove HTTP method check from HTTPServerRequest._parse_body.

The semantics of a body are not well-defined for some methods,
but if a client sends a body with the correct content-type,
we might as well parse it no matter what the method.

Closes #1011.

fa29f20d
0	1	tornado/httputil.py

--8e006fc7	2014-05-25T10:54:26-04:00	Ben Darnell	ben@bendarnell.com	Doc and release note updates.

8e006fc7
9	0	docs/conf.py
1	0	docs/networking.rst
46	0	docs/releases/next.rst
5	0	docs/tcpclient.rst

--6b81d126	2014-05-25T09:01:47-04:00	Ben Darnell	ben@bendarnell.com	Fix syntax error in travis.yml

6b81d126
1	1	.travis.yml

--e777e6fd	2014-05-25T00:48:15-04:00	Ben Darnell	ben@bendarnell.com	Add TwistedIOLoop test on python 3 to tox and travis.

e777e6fd
1	1	.travis.yml
6	1	tox.ini

--1299bd6e	2014-05-24T23:35:27-04:00	Ben Darnell	ben@bendarnell.com	Autopep8 formatting updates.

1299bd6e
3	1	tornado/httputil.py
2	1	tornado/platform/auto.py

--04db7536	2014-05-24T23:24:55-04:00	Ben Darnell	ben@bendarnell.com	Bump required autopep8 version.

This version can be installed on py3 but was having problems on py2.

04db7536
1	1	maint/requirements.txt

--faa56d33	2014-05-24T23:23:46-04:00	Ben Darnell	ben@bendarnell.com	Pyflakes cleanup.

Includes real python3 bugfixes for tornado.auth.FacebookMixin and
tornado.platform.twisted.

faa56d33
4	0	tornado/auth.py
5	0	tornado/platform/twisted.py
1	1	tornado/simple_httpclient.py
1	1	tornado/tcpclient.py
4	4	tornado/test/web_test.py

--0d3e2d33	2014-05-24T23:18:46-04:00	Ben Darnell	ben@bendarnell.com	Switch to python 3.4 for maint/requirements.txt.

0d3e2d33
9	6	maint/requirements.txt

--883b6635	2014-05-24T22:32:26-04:00	Ben Darnell	ben@bendarnell.com	Update maint/requirements.txt versions.

Everything but autopep8, which seems to have trouble installing on py27.

883b6635
14	14	maint/requirements.txt

--2aed36fa	2014-05-24T17:47:14-04:00	Ben Darnell	ben@bendarnell.com	Skip dual-stack ipv4/ipv6 tests on travis.

These tests occasionally fail (they bind to an unused ipv6 port but cannot
bind that same port on ipv4), and I'm not sure how to fix/workaround.

2aed36fa
3	0	tornado/test/netutil_test.py
3	4	tornado/test/tcpclient_test.py

--da552790	2014-05-24T17:40:23-04:00	Ben Darnell	ben@bendarnell.com	Add a future-based alternative to gen.Multi to avoid stack_context overhead.

da552790
64	3	tornado/gen.py
42	6	tornado/test/gen_test.py

--652ed91a	2014-05-24T17:00:53-04:00	Ben Darnell	ben@bendarnell.com	TCPClient: connect without SSL and wrap the connection later.

This prevents us from potentially starting two SSL handshakes
at the same time.

652ed91a
8	12	tornado/tcpclient.py

--db795310	2014-05-24T16:38:37-04:00	Ben Darnell	ben@bendarnell.com	Implement IOStream.start_tls to convert an IOStream to an SSLIOStream.

db795310
65	0	tornado/iostream.py
94	6	tornado/test/iostream_test.py

--d3dc2c9d	2014-05-20T22:34:20-04:00	Ben Darnell	ben@bendarnell.com	Better logging to diagnose this flaky test on travis.

d3dc2c9d
1	1	tornado/test/tcpclient_test.py

--9f850225	2014-05-19T23:05:22-04:00	Ben Darnell	ben@bendarnell.com	Add some logging to diagnose this flaky test on travis.

9f850225
4	0	tornado/test/tcpclient_test.py

--7d56c5c2	2014-05-19T22:00:15-04:00	Ben Darnell	ben@bendarnell.com	Change an assert to an explicit exception.

Use normalized Http-Header-Case for X-Http-Reason header.

7d56c5c2
3	3	tornado/curl_httpclient.py
2	1	tornado/httputil.py

--9c0450dc	2014-05-19T21:56:34-04:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'dano/master'

9c0450dc
--1f897ae6	2014-05-19T11:38:23-04:00	dano	oreilldf@gmail.com	Fixes based on code review.

Don't fall through if regex doesn't match.
Use 'X-HTTP-Reason' instead of 'Reason'.

1f897ae6
3	3	tornado/curl_httpclient.py

--518ecf83	2014-05-18T23:19:41-04:00	Ben Darnell	ben@bendarnell.com	Make gen.Task a function returning a Future instead of a YieldPoint subclass.

This improves performance of applications that mix Tasks and Futures
by only entering a stack context for the duration of the Tasks. It
also fixes an obscure regression (#1058).  This might get reverted before
the final release if any backwards-compatibility issues turn up, but
since the status quo also had a regression it's worth a try.

Closes #1058.

518ecf83
1	1	docs/gen.rst
37	28	tornado/gen.py
5	3	tornado/test/gen_test.py

--ce62ed9b	2014-05-18T21:57:27-04:00	Ben Darnell	ben@bendarnell.com	Remove test_websocket_network_timeout.

It wasn't testing what it appeared to be (it was hitting exactly the
same code paths as test_websocket_network_fail on posix, but was failing
on windows).

Closes #1054.

ce62ed9b
2	14	tornado/test/websocket_test.py

--db917733	2014-05-18T20:34:30-04:00	Ben Darnell	ben@bendarnell.com	Use Resolver instead of socket.getaddrinfo to decide whether localhost is ipv6.

The results can differ with different resolvers.  Add a CaresResolver
configuration to tox (it was already in travis).

db917733
3	2	tornado/test/tcpclient_test.py
14	0	tox.ini

--5a9333d5	2014-05-18T20:20:29-04:00	Ben Darnell	ben@bendarnell.com	Raise StreamClosedError instead of IOError for ECONNRESET.

This allows application code to only catch one kind of exception
(an ECONNRESET exception is raised from
tornado.test.httpserver_test.KeepAliveTest.test_pipeline_cancel
on linux but not on mac)

5a9333d5
7	0	tornado/iostream.py

--1cddd018	2014-05-18T19:56:17-04:00	Ben Darnell	ben@bendarnell.com	Fix tcpclient test when ipv6 is available but 'localhost' is only ipv4.

1cddd018
10	0	tornado/test/tcpclient_test.py

--602f40da	2014-05-04T19:05:07-04:00	Ben Darnell	ben@bendarnell.com	Allow ipv6 in simple_httpclient by default.

Improve connection error handling (especially for SelectIOLoop).

602f40da
5	1	tornado/iostream.py
3	5	tornado/simple_httpclient.py
3	3	tornado/test/simple_httpclient_test.py
1	5	tornado/test/tcpclient_test.py

--cc0e7624	2014-05-04T13:13:49-04:00	Ben Darnell	ben@bendarnell.com	Implement the "happy eyeballs" algorithm for ipv4/ipv6 selection.

IOStream.connect's Future resolves to the stream itself,
which streamlines some connection scenarios.

cc0e7624
4	3	tornado/iostream.py
121	6	tornado/tcpclient.py
3	1	tornado/test/iostream_test.py
2	2	tornado/test/simple_httpclient_test.py
209	9	tornado/test/tcpclient_test.py
3	0	tornado/test/util.py

--a6e83a6c	2014-05-03T14:41:51-04:00	Ben Darnell	ben@bendarnell.com	Hack around mac ipv6 firewall problems in bind_sockets to reenable tests.

Fix a test ResourceWarning.

a6e83a6c
10	0	tornado/netutil.py
6	9	tornado/test/netutil_test.py

--2278cef7	2014-05-03T11:40:01-04:00	Ben Darnell	ben@bendarnell.com	Refactor connection logic from simple_httpclient to a new tcpclient module.

This is preparation for introducing connection pooling and better
handling of ipv6.

If an IOStream was closed due to an exception, its Futures will
now raise that exception instead of StreamClosedError.

2278cef7
2	1	tornado/http1connection.py
9	3	tornado/iostream.py
24	29	tornado/simple_httpclient.py
67	0	tornado/tcpclient.py
6	2	tornado/test/httpserver_test.py
1	0	tornado/test/runtests.py
67	0	tornado/test/tcpclient_test.py
3	3	tornado/websocket.py

--4b6fc9cb	2014-05-17T10:56:35-04:00	Ben Darnell	ben@bendarnell.com	Fix Tornado on Google App Engine.

Imports of tornado.ioloop have crept into more places, so the old
app engine policy of never importing these modules doesn't work.
Instead, we add guards around imports of unavailable modules
(fcntl, ssl, multiprocessing) so that everything is at least importable.

Closes #1059.

4b6fc9cb
12	31	maint/test/appengine/common/cgi_runtests.py
6	1	tornado/iostream.py
8	1	tornado/netutil.py
3	0	tornado/platform/auto.py
8	1	tornado/process.py
6	1	tornado/simple_httpclient.py
5	1	tornado/tcpserver.py
1	0	tornado/test/import_test.py

--5a542d88	2014-05-17T10:19:17-04:00	Ben Darnell	ben@bendarnell.com	Point all links to the 'demos' directory to the stable branch instead of master.

5a542d88
1	1	README.rst
1	1	docs/index.rst
3	3	docs/overview.rst
1	1	tornado/wsgi.py

--c5118576	2014-05-17T10:17:01-04:00	Ben Darnell	ben@bendarnell.com	Document gen_test change.

c5118576
2	0	docs/releases/next.rst
4	0	tornado/testing.py

--b9d6c971	2014-05-17T10:04:02-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1061 from stj/master

Extended gen_test decorator to pass args and kwargs.
b9d6c971
--5eb39608	2014-05-16T16:03:01-07:00	Stefan Tjarks	stefan@demonware.net	Extended gen_test decorator to pass args and kwargs.
A use case might be a decorated test class that passes arguments to each class method, like mock.patch for instance.
5eb39608
18	0	tornado/test/testing_test.py
5	4	tornado/testing.py

--33bab42e	2014-05-14T11:14:28-04:00	dano	oreilldf@gmail.com	Merge remote-tracking branch 'upstream/master'

33bab42e
--5176866c	2014-05-14T10:48:38-04:00	dano	oreilldf@gmail.com	Use parse_response_start_line instead of re

5176866c
5	4	tornado/curl_httpclient.py

--f91b8357	2014-05-13T21:07:38-04:00	Ben Darnell	ben@bendarnell.com	Ensure that travis test runs can see .coveragerc

f91b8357
2	0	.travis.yml

--a47c2c5e	2014-05-13T21:05:29-04:00	Ben Darnell	ben@bendarnell.com	Merge branch 'branch3.2'

Conflicts:
	tornado/tcpserver.py

a47c2c5e
--7b225f8e	2014-05-13T20:51:23-04:00	Ben Darnell	ben@bendarnell.com	Update links to github repo; add announcement mailing list.

7b225f8e
9	6	README.rst
9	7	docs/index.rst
4	4	docs/overview.rst
1	1	docs/releases/v1.2.0.rst
1	1	tornado/escape.py
1	1	tornado/tcpserver.py
1	1	tornado/wsgi.py

--6bdf7013	2014-05-13T20:35:59-04:00	Ben Darnell	ben@bendarnell.com	Also exclude pycares from pypy on travis.

6bdf7013
1	2	.travis.yml

--0b441c52	2014-05-13T19:57:43-04:00	Ben Darnell	ben@bendarnell.com	.travis.yml: don't install Twisted on 3.2 or pycurl on pypy.

0b441c52
4	1	.travis.yml

--c85be5e2	2014-05-13T11:02:03-04:00	Ben Darnell	ben@bendarnell.com	Fix .travis.yaml syntax error.

Remove deprecated --use-mirrors flag to pip.

c85be5e2
7	7	.travis.yml

--00d9ac38	2014-05-13T10:35:48-04:00	Ben Darnell	ben@bendarnell.com	Twisted 14.0.0 is now (partially) installable on python 3, so test with it.

Consolidate the dependency section of the .travis.yml now that more of our
dependencies are cross-version.

00d9ac38
3	4	.travis.yml
3	0	tornado/test/runtests.py
1	0	tox.ini

--9d0a2b1a	2014-05-12T14:49:57-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1055 from schlamar/patch-1

Test Python 3.4 on Travis.
9d0a2b1a
--d77eb7f6	2014-05-12T10:00:35+02:00	Marc Schlaich	marc.schlaich@googlemail.com	Test Python 3.4 on Travis.
d77eb7f6
3	0	.travis.yml

--f16ef3c1	2014-05-11T23:43:55-04:00	Ben Darnell	ben@bendarnell.com	Decouple read_from_buffer's search for the endpoint from consuming the data.

This lets us call find_read_pos from read_to_buffer_loop, avoiding some
unnecessary reads (e.g. it previously took a minimum of two recv calls
to serve an http request, but now we can do it in one).

f16ef3c1
52	29	tornado/iostream.py

--a15eccec	2014-05-11T23:29:46-04:00	dano	oreilldf@gmail.com	Update documentation

a15eccec
0	2	tornado/httpclient.py

--4ee968c1	2014-05-11T20:23:33-04:00	Ben Darnell	ben@bendarnell.com	IOStream: do not listen for close events if there is no close_callback.

HTTP1Connection now only registers its close callback when it is done
reading.  This improves performance for synchronous handlers, which no
longer interact with the IOLoop as often.

4ee968c1
16	1	tornado/http1connection.py
3	1	tornado/iostream.py
0	3	tornado/test/iostream_test.py
1	0	tornado/websocket.py

--4f0d837e	2014-05-11T18:49:40-04:00	Ben Darnell	ben@bendarnell.com	Add gen.moment, a yieldable object that resumes after one IOLoop iteration.

Use this between requests in HTTP1ServerConnection to keep one connection
from monopolizing the IOLoop when there are pipelined (or just fast) requests
available.  This was causing increased variance in benchmarks using "ab -k"
(it also increased throughput, for reasons that are not yet clear, so this
change reduces observed speed in these benchmarks).

4f0d837e
3	0	docs/gen.rst
14	1	tornado/gen.py
1	0	tornado/http1connection.py
25	0	tornado/test/gen_test.py

--185a246b	2014-05-10T22:31:35-04:00	dano	oreilldf@gmail.com	Another test

185a246b
9	0	tornado/test/curl_httpclient_test.py

--ea0df97a	2014-05-10T22:27:40-04:00	dano	oreilldf@gmail.com	Add tests

ea0df97a
8	0	tornado/test/curl_httpclient_test.py

--93b81576	2014-05-10T22:08:18-04:00	dano	oreilldf@gmail.com	Improve custom reason code support.

Adds support for custom reason messages to curl_httpclient.
Make custom reason code HTTPError.message if one is available.

93b81576
5	1	tornado/curl_httpclient.py
2	1	tornado/httpclient.py

--302f57ee	2014-05-10T13:27:46-04:00	Ben Darnell	ben@bendarnell.com	Improve performance by using Future interface when writing HTTP responses.

Previously, we passed a callback to IOStream.write() and also checked
IOStream.writing() to see if the write completed synchronously (which is
the common case).  If it did, we would complete the request immediately
but the write callback would remain on the IOLoop until its next iteration,
keeping the request state from being garbage collected.

In benchmarks, this would manifest as as something like a memory leak,
since benchmarks often handle many requests in one IOLoop iteration.
This slowed things down (by about 10% in my benchmarks) by increasing
pressure on the garbage collector.

302f57ee
19	21	tornado/http1connection.py

--33a84e01	2014-05-08T20:54:42-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1042 from moijes12/fix1033_2

Changed _on_close method tornado/simple_httpclient.py to raise the error instead of raising an HTTPError
33a84e01
--7fcbe30b	2014-05-08T13:57:39-05:00	Kyle Kelley	kyle.kelley@rackspace.com	Clean up style when rejecting/passing on origin

7fcbe30b
4	6	tornado/websocket.py

--bc2b146f	2014-05-08T13:53:11-05:00	Kyle Kelley	kyle.kelley@rackspace.com	Test when origin contains a path.

bc2b146f
15	0	tornado/test/websocket_test.py

--fb39ba2c	2014-02-24T20:32:36-06:00	Kyle Kelley	kyle.kelley@rackspace.com	Move origin parsing in to check_origin

fb39ba2c
8	10	tornado/websocket.py

--47a85301	2014-01-27T20:22:59-07:00	Kyle Kelley	kyle.kelley@rackspace.com	Move nil origin check out to execute

47a85301
5	9	tornado/websocket.py

--9963e737	2014-01-25T17:07:44-07:00	Kyle Kelley	kyle.kelley@rackspace.com	Modify origin handling & normalization. Add tests.

9963e737
33	6	tornado/test/websocket_test.py
37	31	tornado/websocket.py

--8cf5f0a0	2014-01-25T08:22:10-07:00	Kyle Kelley	kyle.kelley@rackspace.com	Response of None on failure

8cf5f0a0
1	1	docs/overview.rst
1	1	tornado/test/websocket_test.py

--217ba684	2014-01-24T13:47:49-06:00	Kyle Kelley	kyle.kelley@rackspace.com	Add tests, fix allowed_origins, rebase tests

217ba684
33	0	tornado/test/websocket_test.py
5	2	tornado/websocket.py

--75fd4db1	2014-01-24T10:20:59-06:00	Kyle Kelley	kyle.kelley@rackspace.com	Change to check_origin, add override statement.

75fd4db1
33	27	tornado/websocket.py

--27637a30	2014-01-24T00:17:57-06:00	Kyle Kelley	kyle.kelley@rackspace.com	Handle varying origin name

27637a30
8	0	tornado/websocket.py

--917b54af	2014-01-23T23:25:44-06:00	Kyle Kelley	kyle.kelley@rackspace.com	Disable cross origin websockets by default.

917b54af
31	0	tornado/websocket.py

--7849162c	2014-05-07T23:06:01-04:00	Ben Darnell	ben@bendarnell.com	Add a test with newlines in template tags to control whitespace in output.

7849162c
14	0	tornado/test/template_test.py

--41c4116a	2014-05-06T08:57:17-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1045 from schlamar/fix-win-tests

Fixed tests on Windows.
41c4116a
--63ff9d69	2014-05-06T08:55:34-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1044 from schlamar/wouldblock-const

Use constant for blocking errnos.
63ff9d69
--a1bc78b4	2014-05-06T11:35:51+02:00	schlamar	marc.schlaich@gmail.com	Fixed tests on Windows.

a1bc78b4
1	1	tornado/test/ioloop_test.py
1	0	tornado/test/netutil_test.py

--702892a6	2014-05-06T11:20:37+02:00	schlamar	marc.schlaich@gmail.com	Use constant for blocking errnos.

702892a6
7	2	tornado/netutil.py

--d19cba34	2014-05-05T22:53:07-04:00	Ben Darnell	ben@bendarnell.com	Merge branch 'branch3.2'

Conflicts:
	docs/releases.rst
	setup.py
	tornado/__init__.py
	tornado/test/web_test.py
	tornado/web.py

d19cba34
--636965fd	2014-05-05T22:44:01-04:00	Ben Darnell	ben@bendarnell.com	Give credit to Joost Pol for reporting the security issue.

636965fd
2	0	docs/releases/v3.2.1.rst

--98969318	2014-05-05T22:28:23-04:00	Ben Darnell	ben@bendarnell.com	Set version number to 3.2.1

98969318
1	1	setup.py
2	2	tornado/__init__.py

--3488413e	2014-05-05T22:27:20-04:00	Ben Darnell	ben@bendarnell.com	v3.2.1 release notes

3488413e
1	0	docs/releases.rst
39	0	docs/releases/v3.2.1.rst

--ae864fa1	2014-05-05T21:58:22-04:00	Ben Darnell	ben@bendarnell.com	Document the cookie versioning interface.

ae864fa1
4	0	docs/web.rst
50	2	tornado/web.py

--dd7bc466	2014-05-04T22:59:12-04:00	Ben Darnell	ben@bendarnell.com	Add a v2 secure cookie format.

This format fixes some weaknesses in the original format that would allow
characters to be shifted from the "value" field to the "name" or "timestamp"
fields.  It also upgrades the signature from HMAC-SHA1 to HMAC-SHA256,
adds an explicit version field, and adds an as-yet-unused field to
support key rotation in the future.

dd7bc466
121	10	tornado/test/web_test.py
89	17	tornado/web.py

--eed7975d	2014-05-04T20:03:09-04:00	Ben Darnell	ben@bendarnell.com	Add versioning parameters to secure_cookie/signed_value APIs.

eed7975d
53	8	tornado/web.py

--b68ade80	2014-05-05T21:30:33-04:00	Ben Darnell	ben@bendarnell.com	Merge branch 'stable' into branch3.2

b68ade80
--1f33de04	2014-04-08T11:23:21-07:00	Matthew Brett	matthew.brett@gmail.com	Add SystemError to errors from compilation

OSX generates a SystemError from a missing compiler; trap with other
compilation errors.

1f33de04
2	1	setup.py

--292f8fd6	2014-05-04T23:52:05+05:30	moijes12	moijes12@gmail.com	Changed tornado/simple_httpclient.py to raise the error instead of
storing the error message and then raising an HTTPError. 
Changed the websocket tests for network_fail and network timeout to
expect an IOError instead of an HTTPError.
292f8fd6
1	1	tornado/simple_httpclient.py
2	4	tornado/test/websocket_test.py

--ab27cabc	2014-05-03T12:09:35-04:00	Ben Darnell	ben@bendarnell.com	Relax this timing-sensitive test

ab27cabc
2	1	tornado/test/ioloop_test.py

--aa5ca2ab	2014-04-16T14:36:33+05:30	Abhishek Kumar Singh	abhishek4bhopati@gmail.com	Update overview.rst with typos in nginx conf.

Minor correction in the production nginx server conf with proxy_redirect as off; previously it was false.

aa5ca2ab
1	1	docs/overview.rst

--3d87bf59	2014-04-27T23:20:16-04:00	Ben Darnell	ben@bendarnell.com	Document @authenticated's behavior around query parameters.

Closes #998.

3d87bf59
5	0	tornado/web.py

--a255719a	2014-04-27T23:15:19-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1017 from SuminAndrew/curl-dns-timeouts

fix timeouts less than 1 sec when libcurl is compiled without c-ares
a255719a
--ec4b7e46	2014-04-27T21:03:08-04:00	Ben Darnell	ben@bendarnell.com	Remove ca-certificates bundle and instead depend on the certifi package.

ec4b7e46
0	1	MANIFEST.in
5	5	README.rst
5	5	docs/index.rst
4	0	docs/releases/next.rst
1	0	maint/requirements.txt
4	2	setup.py
0	3562	tornado/ca-certificates.crt
10	3	tornado/simple_httpclient.py
2	2	tornado/test/simple_httpclient_test.py

--72732270	2014-04-27T14:14:14-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1021 from bdarnell/http_refactor

Major HTTP refactoring for streaming uploads
72732270
--073a535d	2014-04-27T12:58:40-04:00	Ben Darnell	ben@bendarnell.com	Fix unix socket test on linux.

Unix socket addresses are bytes on linux (but str on mac).  This mostly
works but causes errors in py3's -bb strict mode.

073a535d
4	0	maint/vm/ubuntu12.04/tox.ini
6	0	tornado/httpserver.py

--61c05ab4	2014-04-27T12:25:12-04:00	Ben Darnell	ben@bendarnell.com	Remove the has_body flag from write_headers.

It was only used client-side and we can infer whether we need to add
a framing mechanism from the method instead.

61c05ab4
2	4	tornado/http1connection.py
1	5	tornado/httputil.py
1	4	tornado/simple_httpclient.py
1	2	tornado/wsgi.py

--8630b3b7	2014-04-27T11:36:54-04:00	Ben Darnell	ben@bendarnell.com	Test and document the legacy HTTPRequest.write interface.

8630b3b7
6	1	tornado/http1connection.py
18	0	tornado/test/httpserver_test.py

--42a00ef9	2014-04-27T00:31:30-04:00	Ben Darnell	ben@bendarnell.com	Make HTTP1Connection and WSGIConnection subclasses of HTTPConnection.

42a00ef9
1	1	tornado/http1connection.py
3	2	tornado/httputil.py
3	2	tornado/wsgi.py

--b4dc5aef	2014-04-27T00:07:15-04:00	Ben Darnell	ben@bendarnell.com	Remove unused protocol field from HTTP1ConnectionParams

b4dc5aef
1	3	tornado/http1connection.py
2	2	tornado/httpserver.py
1	1	tornado/simple_httpclient.py

--425a31d2	2014-04-26T23:56:16-04:00	Ben Darnell	ben@bendarnell.com	Document all the new HTTP stuff

425a31d2
3	0	docs/conf.py
5	0	docs/gen.rst
5	0	docs/http1connection.rst
1	0	docs/iostream.rst
1	0	docs/networking.rst
86	7	docs/releases/next.rst
2	0	docs/web.rst
2	0	tornado/gen.py
73	9	tornado/http1connection.py
8	2	tornado/httpclient.py
18	21	tornado/httpserver.py
108	4	tornado/httputil.py
4	1	tornado/ioloop.py
10	0	tornado/web.py
1	0	tornado/wsgi.py

--500a6055	2014-04-26T20:32:10-04:00	Ben Darnell	ben@bendarnell.com	Merge branch 'master' into http_refactor

Conflicts:
	tornado/iostream.py

500a6055
--5a1497df	2014-04-26T20:13:46-04:00	Ben Darnell	ben@bendarnell.com	Update docs for changes in 3.3.

5a1497df
17	35	docs/concurrent.rst
1	0	docs/ioloop.rst
4	8	docs/releases/next.rst
1	1	docs/releases/v3.2.0.rst
57	4	tornado/concurrent.py
62	22	tornado/iostream.py
5	0	tornado/web.py

--217de139	2014-04-26T19:23:42-04:00	Ben Darnell	ben@bendarnell.com	Catch up on next-release notes.

217de139
31	0	docs/releases/next.rst

--d007a2f9	2014-04-26T19:11:09-04:00	Ben Darnell	ben@bendarnell.com	Return Futures from RequestHandler.flush and HTTP1Connection.write{,_headers}

d007a2f9
21	2	tornado/http1connection.py
2	4	tornado/test/simple_httpclient_test.py
4	3	tornado/test/web_test.py
7	3	tornado/web.py

--544887c3	2014-04-26T17:07:41-04:00	Ben Darnell	ben@bendarnell.com	Add client-side support for Expect: 100-continue.

Don't send the 100-continue response if the header callback already sent
a response.

544887c3
2	1	tornado/http1connection.py
8	1	tornado/httpclient.py
14	0	tornado/simple_httpclient.py
23	1	tornado/test/simple_httpclient_test.py

--0d215897	2014-04-26T14:39:59-04:00	Ben Darnell	ben@bendarnell.com	Call the superclass's on_connection_close in this test.

This fixes the last py3.3 uncollectable garbage warning.

0d215897
1	0	tornado/test/web_test.py

--41597204	2014-04-26T14:26:41-04:00	Ben Darnell	ben@bendarnell.com	Add on_close to HTTPServerConnectionDelegate.

Add close_all_connections method to HTTPServer for testing cleanup.
On Python versions before 3.4, the GC has problems with generators,
so the previous approach of closing all the file descriptors and
leave the rest to the GC no longer works.  (Only Python 3.3 prints
the uncollectable garbage warnings, but the problem is present
in earlier versions).

41597204
17	3	tornado/http1connection.py
15	2	tornado/httpserver.py
4	1	tornado/httputil.py
1	0	tornado/testing.py

--fd00f9ca	2014-04-26T13:06:15-04:00	Ben Darnell	ben@bendarnell.com	Add on_connection_close to the HTTPMessageDelegate interface.

This allows handlers to detect when the connection was closed during
the upload of the request body.

fd00f9ca
6	0	tornado/http1connection.py
10	0	tornado/httpserver.py
3	0	tornado/httputil.py
17	1	tornado/test/web_test.py
13	1	tornado/web.py

--33370aa7	2014-04-21T00:26:40-04:00	Ben Darnell	ben@bendarnell.com	Help out the CPython GC by clearing some references in IOLoop.close.

This prevents some of the ResourceWarnings from the test suite on python
3.3 (older versions didn't report the leaks; newer versions are better
at freeing generators).  Since this is in IOLoop.close, it mainly
affects tests.

33370aa7
2	0	tornado/ioloop.py

--ce3ca514	2014-04-20T23:26:11-04:00	Ben Darnell	ben@bendarnell.com	Move HTTP/1.0 Connection: keep-alive behavior to http1connection.

Also remove the supports_http_1_1 check from GzipContentEncoding
since versions don't really matter with the accept-encoding check.

ce3ca514
7	0	tornado/http1connection.py
15	7	tornado/test/httpserver_test.py
1	8	tornado/web.py

--894bab4d	2014-04-20T17:01:43-04:00	Ben Darnell	ben@bendarnell.com	Move address manipulation from HTTP1Connection to HTTPServer.

The connection now contains only an opaque 'origin' object to which
the caller can attach address info.  This object can also be mutated
as in HTTPServer's xheader support.

894bab4d
10	32	tornado/http1connection.py
64	31	tornado/httpserver.py
5	4	tornado/httputil.py
3	2	tornado/simple_httpclient.py
1	1	tornado/test/httpserver_test.py
14	4	tornado/wsgi.py

--f2d4b8ec	2014-04-20T16:16:39-04:00	Ben Darnell	ben@bendarnell.com	Clean up and comment http1connection internals.

Be specific about read/write vs request/response; the code moved from
HTTPServer often conflated the two.

f2d4b8ec
59	50	tornado/http1connection.py
3	4	tornado/simple_httpclient.py

--292e72d5	2014-04-20T13:58:49-04:00	Ben Darnell	ben@bendarnell.com	Make HTTP1Connection single-use-only.

The server loop is now on a separate HTTP1ServerConnection class.

292e72d5
99	83	tornado/http1connection.py
13	18	tornado/httpserver.py
6	4	tornado/simple_httpclient.py
1	1	tornado/test/httpserver_test.py

--a92b4ac0	2014-04-20T10:28:23-04:00	Ben Darnell	ben@bendarnell.com	Synchronize chunk size between HTTP1Connection and IOStream.

Increase IOStream default chunk size to 64KB.

a92b4ac0
2	1	tornado/httpserver.py
6	3	tornado/iostream.py
9	3	tornado/tcpserver.py

--adba10d6	2014-04-20T10:22:32-04:00	Ben Darnell	ben@bendarnell.com	Remove HTTPServer.__init__'s **kwargs.

New keyword arguments to this constructor are no longer likely to
be simple pass-through arguments to TCPServer.

adba10d6
0	1	tornado/http1connection.py
2	4	tornado/httpserver.py

--89d794c9	2014-04-20T01:01:20-04:00	Ben Darnell	ben@bendarnell.com	Add max_body_size and body_timeout limits to http1connection.

These limits can be set on a per-request basis during headers_received.

89d794c9
29	2	tornado/http1connection.py
7	2	tornado/httpserver.py
114	2	tornado/test/httpserver_test.py

--d3bf5868	2014-04-19T21:22:43-04:00	Ben Darnell	ben@bendarnell.com	Optimize gen.with_timeout for tornado futures.

We can avoid some IOLoop and stack_context interactions if we know
that the Future will resolve on the IOLoop's thread.

d3bf5868
15	4	tornado/gen.py
19	0	tornado/test/gen_test.py

--5faab93a	2014-04-19T20:13:40-04:00	Ben Darnell	ben@bendarnell.com	Timeout micro-optimizations.

Use the (C) timedelta.total_seconds function when available.  But it's
still a bit faster to use numeric timeouts instead of back-and-forth
through timedelta, so do that instead in http1connection.

5faab93a
1	1	tornado/http1connection.py
5	1	tornado/ioloop.py

--e239a8a7	2014-04-19T18:51:36-04:00	Ben Darnell	ben@bendarnell.com	Use add_callback_from_signal in benchmark.py's sigchld handler.

This would manifest as an occasional deadlock when an 'ab' process
finished.

e239a8a7
1	1	demos/benchmark/benchmark.py

--18cfb371	2014-04-19T16:04:53-04:00	Ben Darnell	ben@bendarnell.com	Don't log errors about content-length mismatch when the connection closes.

18cfb371
2	1	tornado/http1connection.py
17	0	tornado/test/web_test.py

--ae7447ab	2014-04-19T15:05:56-04:00	Ben Darnell	ben@bendarnell.com	Add a max_bytes to one remaining read_until in http1connection.

ae7447ab
1	1	tornado/http1connection.py

--7335cc24	2014-04-18T22:16:55-04:00	Ben Darnell	ben@bendarnell.com	Read less aggressively in IOStream.

Previously, we would drain the socket buffer into the IOStream read buffer
before trying to satisfy application requests.  This would result in
unnecessary memory use, and on a fast network reads could fail because the
buffer would fill up.  Now we stop reading when we can satisfy the current
request (at least for read_bytes and read_until with max_bytes; unbounded
read_until still reads aggressively).

This commit includes a change to IOStream close_callback semantics.  Since
the only way to reliably detect a closed connection (across all IOLoop
implementations) is to read past the end of the stream, the IOStream will
not detect a closed connection while there is some buffered data that could
satisfy a future read.

Closes #772.

7335cc24
47	4	tornado/iostream.py
41	6	tornado/test/iostream_test.py

--049ab336	2014-04-16T09:27:13-04:00	Ben Darnell	ben@bendarnell.com	Merge pull request #1037 from toanant/patch-1

Update overview.rst with typos in nginx conf.
049ab336
--d39c65e3	2014-04-16T14:36:33+05:30	Abhishek Kumar Singh	abhishek4bhopati@gmail.com	Update overview.rst with typos in nginx conf.

Minor correction in the production nginx server conf with proxy_redirect as off; previously it was false.
d39c65e3
1	1	docs/overview.rst

--243f2827	2014-04-13T21:25:10-04:00	Ben Darnell	ben@bendarnell.com	Add a `streaming` option to _run_read_callback and move all calls to _consume
into that method.

243f2827
20	20	tornado/iostream.py

--ce4eb7f5	2014-04-13T20:52:26-04:00	Ben Darnell	ben@bendarnell.com	Fix IOStream.reading when Futures are used.

Reduce some duplication in IOStream _handle_read and _try_inline_read.

ce4eb7f5
8	11	tornado/iostream.py

--c5292057	2014-04-13T11:22:55-04:00	bdarnell	ben@bendarnell.com	Merge pull request #1034 from kouki-dan/work

Delete description for cookie capacity
c5292057
--73c8c218	2014-04-09T19:31:27+09:00	Kouki Saito	dan.addr.skd@gmail.com	Delete description for cookie capacity

73c8c218
1	0	demos/twitter/twitterdemo.py

--213d7214	2014-04-08T21:13:22-04:00	bdarnell	ben@bendarnell.com	Merge pull request #1030 from matthew-brett/fix-osx-no-compiler

Add SystemError to errors from compilation
213d7214
--99c326dd	2014-04-08T21:12:12-04:00	bdarnell	ben@bendarnell.com	Merge pull request #1029 from daftshady/master

fixed broken reference link
99c326dd
--5347ae21	2014-04-08T11:23:21-07:00	Matthew Brett	matthew.brett@gmail.com	Add SystemError to errors from compilation

OSX generates a SystemError from a missing compiler; trap with other
compilation errors.

5347ae21
2	1	setup.py

--f9a44f0c	2014-04-09T02:50:36+09:00	daftshady	daftonshady@gmail.com	fixed broken reference link

f9a44f0c
2	1	tornado/platform/common.py

--3c66b6a5	2014-04-08T08:04:37-04:00	bdarnell	ben@bendarnell.com	Fix typo

Closes #1028
3c66b6a5
1	1	tornado/httpclient.py

--587ed89a	2014-04-06T14:17:59+01:00	Ben Darnell	ben@bendarnell.com	Add timeouts for idle keepalive connections in HTTPServer.

Add gen.with_timeout wrapper.

587ed89a
4	1	tornado/concurrent.py
33	1	tornado/gen.py
15	2	tornado/http1connection.py
7	3	tornado/httpserver.py
37	1	tornado/test/gen_test.py
48	1	tornado/test/httpserver_test.py

--5b624ab7	2014-04-06T13:10:16+01:00	Ben Darnell	ben@bendarnell.com	Add a configurable header size limit to HTTPServer and simple_httpclient.

5b624ab7
6	2	tornado/http1connection.py
4	2	tornado/httpserver.py
9	4	tornado/simple_httpclient.py
18	0	tornado/test/httpserver_test.py
29	0	tornado/test/simple_httpclient_test.py
1	1	tornado/websocket.py

--8999596d	2014-04-06T12:43:33+01:00	Ben Darnell	ben@bendarnell.com	Add max_bytes parameter to read_until and read_until_regex.

8999596d
51	2	tornado/iostream.py
119	0	tornado/test/iostream_test.py

--b489ef6d	2014-04-06T11:53:50+01:00	Ben Darnell	ben@bendarnell.com	Guard against framing errors when applications manually specify a Content-Type
that doesn't match the data they send.

Split HTTPMessageException into HTTPInputException and HTTPOutputException.

b489ef6d
40	9	tornado/http1connection.py
11	4	tornado/httputil.py
3	2	tornado/test/simple_httpclient_test.py
52	0	tornado/test/web_test.py
25	2	tornado/wsgi.py

--c20ab354	2014-03-31T10:54:15-04:00	bdarnell	ben@bendarnell.com	Merge pull request #1023 from zakkie/feature/fix-testcase

put assertion outside of the exception handler
c20ab354
--32c7a328	2014-03-30T23:15:46+09:00	Akihiro Yamazaki	yamazaki@iij.ad.jp	correct testcases

32c7a328
3	1	tornado/test/concurrent_test.py
4	1	tornado/test/ioloop_test.py
37	19	tornado/test/template_test.py
8	4	tornado/test/testing_test.py
4	2	tornado/test/util_test.py

--f95b4d7a	2014-03-29T17:23:32+00:00	Ben Darnell	ben@bendarnell.com	Implement flow control for streaming RequestHandlers.

f95b4d7a
4	1	tornado/http1connection.py
2	2	tornado/httpserver.py
61	0	tornado/test/web_test.py
24	2	tornado/web.py

--800d1dce	2014-03-29T16:22:55+00:00	Ben Darnell	ben@bendarnell.com	Add a chunk_size limitation to HTTP1Connection.

HTTPMessageDelegate will no longer receive more than chunk_size bytes
in a single call.

800d1dce
32	11	tornado/http1connection.py
4	2	tornado/httpserver.py
91	2	tornado/test/httpserver_test.py
13	3	tornado/util.py

--c39e69f4	2014-03-29T15:45:52+00:00	Ben Darnell	ben@bendarnell.com	Add a 'partial' flag to IOStream.read_bytes.

This is a more coroutine-friendly alternative to streaming_callback.

c39e69f4
12	3	tornado/iostream.py
25	0	tornado/test/iostream_test.py

--681e51b3	2014-03-29T15:01:14+00:00	Ben Darnell	ben@bendarnell.com	Add body_producer argument to httpclient.HTTPRequest.

This allows for sending non-contiguous or asynchronously-produced
request bodies, including chunked encoding when the content-length
is not known in advance.

681e51b3
24	11	tornado/http1connection.py
20	2	tornado/httpclient.py
1	1	tornado/httpserver.py
26	4	tornado/simple_httpclient.py
1	1	tornado/test/httpserver_test.py
44	0	tornado/test/simple_httpclient_test.py

--e63b4cb9	2014-03-29T14:03:15+00:00	Ben Darnell	ben@bendarnell.com	Add option to disable the Resolver tests with an environment variable.

The resolver tests depend on external network resources; the twisted
resolver will time out when the network is unvailable instead of
returning an immediate failure like the other implementations.

e63b4cb9
6	1	tornado/test/netutil_test.py
5	0	tornado/test/util.py

--e914a514	2014-03-28T00:27:39+09:00	Akihiro Yamazaki	yamazaki@iij.ad.jp	use "with self.assertRaises" pattern

e914a514
1	3	tornado/test/concurrent_test.py
3	5	tornado/test/httpclient_test.py
1	5	tornado/test/ioloop_test.py
9	22	tornado/test/template_test.py
2	7	tornado/test/testing_test.py
2	5	tornado/test/util_test.py

--ccbe5a27	2014-03-27T09:37:29+09:00	Akihiro Yamazaki	yamazaki@iij.ad.jp	put assertion outside of the exception handler

ccbe5a27
3	2	tornado/test/httpclient_test.py
2	1	tornado/test/ioloop_test.py
10	8	tornado/test/template_test.py
2	1	tornado/test/testing_test.py
2	1	tornado/test/util_test.py

--7508e216	2014-03-25T21:56:01-04:00	bdarnell	ben@bendarnell.com	Merge pull request #1022 from shinriyo/master

tab to space
7508e216
--142b5fb9	2014-03-26T10:04:07+09:00	shinriyo	shinriyo@gmail.com	tab to space

tab to space and indent fix
142b5fb9

--42df0361	2014-03-23T22:22:39-04:00	Ben Darnell	ben@bendarnell.com	When a streaming-body request finishes early, stop reading the request data.

delegate.data_received should no longer be called after conn.finish().

42df0361
35	14	tornado/http1connection.py
33	7	tornado/test/web_test.py

--02579a35	2014-03-23T21:31:33-04:00	Ben Darnell	ben@bendarnell.com	Introduce streaming request body support for RequestHandler.

02579a35
52	2	tornado/test/web_test.py
49	4	tornado/web.py

--b5b21327	2014-03-23T21:28:29-04:00	bdarnell	ben@bendarnell.com	Merge pull request #1020 from dhcmrlchtdj/fix-template-doc

Fix a mistake in template document.
b5b21327
--adea4f51	2014-03-23T18:19:17+04:00	Andrey Sumin	an.sumin@hh.ru	suggest to use libcurl with async dns resolver in httpclient docs

adea4f51
5	0	tornado/httpclient.py

--958c3f32	2014-03-23T18:25:25+08:00	huangxiaokai	huangxiaokai@meituan.com	Fix a mistake in template document.

958c3f32
1	1	tornado/template.py

--37cf8b9e	2014-03-22T13:48:59-04:00	Ben Darnell	ben@bendarnell.com	Introduce a fast path for coroutines that run to completion without yielding.

This mitigates the performance impact of allowing coroutines in
RequestHandler._execute when that capability is not actually used.

37cf8b9e
33	8	tornado/gen.py
7	4	tornado/web.py

--4b8a9943	2014-03-22T13:20:06-04:00	bdarnell	ben@bendarnell.com	Merge pull request #1019 from minrk/clear_instance

add IOLoop.clear_instance
4b8a9943
--dd450263	2014-03-21T10:59:25-07:00	MinRK	benjaminrk@gmail.com	add IOLoop.clear_instance

like clear_current, but for the global IOLoop instance
dd450263
6	0	tornado/ioloop.py

--d41caf16	2014-03-17T00:25:10-04:00	Ben Darnell	ben@bendarnell.com	Simplify RequestHandler._execute by making it a coroutine.

d41caf16
16	0	tornado/gen.py
18	29	tornado/web.py

--c8ce4517	2014-03-16T22:17:38-04:00	Ben Darnell	ben@bendarnell.com	Stop overriding _execute in WebSocketHandler; use get() instead.

Revise HTTP1Connection detach protocol.

As a side effect, this now decodes the arguments to open() in the same
way as the arguments to get().

c8ce4517
4	4	maint/test/websocket/client.py
12	4	tornado/http1connection.py
4	10	tornado/websocket.py

--adc7e4f1	2014-03-16T18:43:49-04:00	Ben Darnell	ben@bendarnell.com	Add chunk and callback arguments to write_headers.

This restores an optimization that allows small responses to be written out
in the same system call as the headers.

adc7e4f1
15	6	tornado/http1connection.py
8	6	tornado/web.py
5	1	tornado/wsgi.py

--10e1108a	2014-03-16T12:57:54-04:00	Ben Darnell	ben@bendarnell.com	Make Application an HTTPServerConnectionDelegate.

HTTPServer now forwards delegate events to its request callback
if it implements this interface.  This allows the application to be
in the loop as the request is being read.

10e1108a
9	0	tornado/http1connection.py
47	20	tornado/httpserver.py
6	4	tornado/httputil.py
101	58	tornado/web.py

--e9c83cbb	2014-03-16T00:21:51-04:00	Ben Darnell	ben@bendarnell.com	HTTPServer: Support requests that are received in multiple chunks.

e9c83cbb
3	2	tornado/httpserver.py
4	2	tornado/test/httpserver_test.py

--4f734ddc	2014-03-15T23:42:16-04:00	Ben Darnell	ben@bendarnell.com	Allow gzip to be used with WSGIApplication.

Now that transfer encodings have been moved to http1connection,
the content-level output transforms can be used with wsgi.

4f734ddc
1	0	tornado/test/web_test.py
1	6	tornado/wsgi.py

--ca7f4d07	2014-03-15T23:39:59-04:00	Ben Darnell	ben@bendarnell.com	Move chunked-response generation into http1connection.

ca7f4d07
32	2	tornado/http1connection.py
1	33	tornado/web.py

--39f18880	2014-03-15T23:00:13-04:00	Ben Darnell	ben@bendarnell.com	Pass start_line to headers_received as a tuple instead of a string.

39f18880
7	3	tornado/http1connection.py
2	8	tornado/httpserver.py
18	0	tornado/httputil.py
4	5	tornado/simple_httpclient.py
1	3	tornado/websocket.py

--6c7eac6c	2014-03-15T22:30:23-04:00	Ben Darnell	ben@bendarnell.com	Unify WSGI support with the HTTPConnection abstraction.

Deprecate WSGIApplication in favor of a WSGIAdapter that can wrap
an ordinary Application.

Remove the wsgi module's separate HTTPRequest variant and tornado.web's
wsgi special cases.

6c7eac6c
3	1	demos/appengine/blog.py
6	6	docs/wsgi.rst
1	9	tornado/httpserver.py
10	0	tornado/httputil.py
19	6	tornado/test/wsgi_test.py
3	17	tornado/web.py
87	108	tornado/wsgi.py

--361b6126	2014-03-15T20:11:02-04:00	Ben Darnell	ben@bendarnell.com	Move outgoing HTTP header generation to HTTP1Connection.

361b6126
9	1	tornado/http1connection.py
4	0	tornado/httputil.py
5	11	tornado/simple_httpclient.py
12	17	tornado/web.py

--4ff47bb4	2014-03-15T00:50:25-04:00	Ben Darnell	ben@bendarnell.com	Update links for comments about json list output.

The vulnerability in the older link affects only ancient browsers,
but there are other issues that are more recent.

Fixes #1009.

4ff47bb4
2	1	tornado/web.py

--99474fe8	2014-03-15T00:45:09-04:00	Ben Darnell	ben@bendarnell.com	Refactor unittest/unittest2 imports to fix issues with unittest2 on py3.

Never use unittest2 on python 3 (it appears to not interoperate with
the standard unittest module).  On python 2, use the same logic in
tornado.testing and tornado.test.util to select an implementation.

Fixes #1005.

99474fe8
6	3	tornado/test/util.py
6	0	tornado/testing.py
13	0	tox.ini

--d2226ff8	2014-03-13T10:15:41-04:00	Ben Darnell	ben@bendarnell.com	Improve simple_httpclient ssl configuration to pass howsmyssl.com.

Remove insecure cipher suites and disable TLS compression.  The option
to disable compression was only added in Python 3.3 so we do not
pass the test on older versions, but we come as close as possible with
the APIs available.

Closes #1014.

d2226ff8
4	0	tornado/netutil.py
3	1	tornado/simple_httpclient.py

--2aef15df	2014-03-13T10:04:36-04:00	Ben Darnell	ben@bendarnell.com	Fix command-line tornado.httpclient on python 3.

2aef15df
2	2	tornado/httpclient.py

--180e8186	2014-03-11T00:09:28-04:00	bdarnell	ben@bendarnell.com	Merge pull request #1012 from dlutxx/br310

remove a redundant assignment in read_until_close.
180e8186
--f1f66d1b	2014-03-10T22:32:17-04:00	bdarnell	ben@bendarnell.com	Merge pull request #1008 from yaccz/fix/1007

twisted can be installed without twisted.names fixes #1007
f1f66d1b
--1759dc69	2014-03-10T18:22:39+08:00	xuxiang	dlutxx@gmail.com	remove useless code of BaseIOStream

1759dc69
0	1	tornado/iostream.py

--a749b999	2014-03-08T01:20:09+01:00	yac	yac@gentoo.org	twisted can be installed without twisted.names fixes #1007

a749b999
1	0	tornado/test/netutil_test.py

--753de8d0	2014-03-04T15:54:42+09:00	INADA Naoki	inada-n@klab.com	Remove `write_buffer_size` read-only property.

753de8d0
0	5	tornado/iostream.py

--b1f5cc59	2014-03-03T10:59:18-05:00	bdarnell	ben@bendarnell.com	Merge pull request #996 from cardoe/exception-fix

use errno attr instead of index into args for errno
b1f5cc59
--76cba7eb	2014-03-03T14:06:37+09:00	INADA Naoki	inada-n@klab.com	Add max_write_buffer_size to iostream.

76cba7eb
10	1	tornado/iostream.py

--9cb44229	2014-03-03T13:58:09+09:00	INADA Naoki	inada-n@klab.com	Add iostream.write_buffer_size property.

9cb44229
8	0	tornado/iostream.py

--122be5ed	2014-03-02T23:10:48-05:00	Ben Darnell	ben@bendarnell.com	Add a test for HTTPServer's recently-acquired support for chunked requests.

122be5ed
33	13	tornado/test/httpserver_test.py

--16b9bc34	2014-03-02T22:42:11-05:00	Ben Darnell	ben@bendarnell.com	Add support for gzipped request bodies to HTTPServer.

16b9bc34
12	3	tornado/http1connection.py
6	3	tornado/httpserver.py
5	1	tornado/httputil.py
42	1	tornado/test/httpserver_test.py
7	1	tornado/test/web_test.py
2	1	tornado/wsgi.py

--a47e500d	2014-03-02T21:26:15-05:00	Ben Darnell	ben@bendarnell.com	Move gzip decompression from simple_httpclient to http1connection.

a47e500d
34	1	tornado/http1connection.py
2	20	tornado/simple_httpclient.py

--90dcf5a3	2014-03-02T21:15:22-05:00	Ben Darnell	ben@bendarnell.com	Some cleanup and renamings.

Replaced some server-specific names and cut down on overuse of "process"
as a generic verb.

90dcf5a3
13	13	tornado/http1connection.py
14	11	tornado/httpserver.py
4	4	tornado/httputil.py
3	3	tornado/simple_httpclient.py
6	7	tornado/test/httpserver_test.py

--a3d6fc6d	2014-03-02T15:42:19-05:00	Ben Darnell	ben@bendarnell.com	Use HTTP1Connection in SimpleAsyncHTTPClient.

This incidentally adds support for chunked request bodies on the server side.

a3d6fc6d
73	19	tornado/http1connection.py
3	1	tornado/httpserver.py
19	0	tornado/httputil.py
45	77	tornado/simple_httpclient.py
19	27	tornado/test/httpserver_test.py
18	0	tornado/test/simple_httpclient_test.py
11	2	tornado/websocket.py

--d4627e09	2014-03-02T11:06:06-05:00	Ben Darnell	ben@bendarnell.com	Exclude another timing-sensitive test from the travis build.

d4627e09
2	1	tornado/test/httpclient_test.py

--e52db2f1	2014-03-02T11:03:29-05:00	bdarnell	ben@bendarnell.com	Merge pull request #999 from mengzhuo/master

update Template Loader with 'with' statement
e52db2f1
--41a8f1a3	2014-03-02T22:20:49+08:00	Meng Zhuo	mengzhuo1203@gmail.com	update Template Loader with 'with' statment

41a8f1a3
1	2	tornado/template.py

--f81a25e1	2014-02-28T08:48:26-06:00	Doug Goldstein	cardoe@cardoe.com	define and use errno_from_exception abstraction

If an OSError or IOError are instantiated without an errno value, e.g.
e = OSError(). The existing code would give an IndexError: tuple index
out of range. However there have been cases that the errno attribute
wasn't populated so instead of switching to it this introduces a helper
function to ensure we get the errno value through whatever means
possible.

f81a25e1
3	4	tornado/ioloop.py
5	5	tornado/iostream.py
5	5	tornado/netutil.py
3	2	tornado/process.py
2	1	tornado/tcpserver.py
18	0	tornado/util.py

--e564ddbe	2014-02-24T00:53:53-05:00	Ben Darnell	ben@bendarnell.com	Move HTTPServerRequest-specific logic from http1connection to httpserver.

e564ddbe
26	77	tornado/http1connection.py
63	3	tornado/httpserver.py
21	0	tornado/httputil.py

--5c283f9c	2014-02-23T16:39:29-05:00	Ben Darnell	ben@bendarnell.com	Refactor HTTP1Connection to use coroutines.

5c283f9c
49	36	tornado/http1connection.py

--5d7e37c0	2014-02-23T15:57:18-05:00	Ben Darnell	ben@bendarnell.com	Fix doc references to HTTPRequest.

5d7e37c0
0	8	docs/httpserver.rst
1	1	docs/overview.rst
1	1	docs/releases/v2.1.0.rst
1	1	docs/releases/v2.3.0.rst
1	1	docs/releases/v3.0.0.rst
1	1	docs/releases/v3.1.0.rst
1	1	docs/releases/v3.2.0.rst
1	1	docs/web.rst
5	3	tornado/httpserver.py
5	1	tornado/httputil.py
2	2	tornado/web.py
2	2	tornado/wsgi.py

--e22cd67d	2014-02-23T15:30:47-05:00	Ben Darnell	ben@bendarnell.com	Fix close_callback handling when the Future read interface is used.

e22cd67d
4	0	tornado/iostream.py
22	0	tornado/test/iostream_test.py

--a7cda608	2014-02-23T12:28:02-05:00	Ben Darnell	ben@bendarnell.com	Move some logic from HTTPRequest to HTTP1Connection.

This removes some imports from httputil that are not allowed on app engine.

a7cda608
23	1	tornado/http1connection.py
7	25	tornado/httputil.py

--656f78e1	2014-02-23T11:59:56-05:00	Ben Darnell	ben@bendarnell.com	HTTP refactoring part 1: move shareable parts out of httpserver.py.

tornado.httpserver.HTTPRequest -> tornado.httputil.HTTPServerRequest
tornado.httpsrever.HTTPConnection -> tornado.http1connection.HTTP1Connection

656f78e1
211	0	tornado/http1connection.py
3	405	tornado/httpserver.py
214	1	tornado/httputil.py

--824226d7	2014-02-23T12:49:11-05:00	Ben Darnell	ben@bendarnell.com	Fix bit-rotted app engine tests.

sys.argv is no longer empty in dev_appserver.

824226d7
1	1	maint/test/appengine/common/cgi_runtests.py

--f55f9d07	2014-02-22T23:25:51-05:00	Ben Darnell	ben@bendarnell.com	Add a warning label to WSGIContainer.

f55f9d07
10	0	tornado/wsgi.py

--559514de	2014-02-21T20:42:10-05:00	Ben Darnell	ben@bendarnell.com	Disable port-allocation test on mac to avoid annoying firewall prompts.

559514de
8	0	tornado/test/netutil_test.py

--2ad4a908	2014-02-21T20:27:30-05:00	bdarnell	ben@bendarnell.com	Merge pull request #977 from schlamar/fix-port-allocation

Fixed automatic port allocation in bind_sockets.
2ad4a908
--151eef74	2014-01-23T12:23:53+01:00	schlamar	marc.schlaich@gmail.com	Fixed automatic port allocation in bind_sockets.

bind_sockets should use the same port on IPv4 and IPv6 if port=None.

151eef74
9	0	tornado/netutil.py
8	1	tornado/test/netutil_test.py

--b9c6c33e	2014-02-18T23:52:58-05:00	Ben Darnell	ben@bendarnell.com	Catch up on next-release notes.

b9c6c33e
67	0	docs/releases/next.rst

--2dc57c57	2014-02-18T23:15:19-05:00	Ben Darnell	ben@bendarnell.com	Document the fact that tornado.options configures logging by default.

Add tests and comments for how to disable this configuration.
Make it slightly easier to disable by making the command line
flag case-insensitive and allowing `None` instead of the string "none"
when setting the flag in code.

Closes #952.

2dc57c57
1	1	tornado/log.py
16	2	tornado/options.py
49	0	tornado/test/log_test.py

--1eb003f2	2014-02-18T00:08:09-05:00	Ben Darnell	ben@bendarnell.com	Add python 3.4 tests to tox

1eb003f2
15	4	tox.ini

--58d5ffc2	2014-02-17T18:46:40-05:00	Ben Darnell	ben@bendarnell.com	Add support for the websocket close status code and reason fields.

Closes #890.

58d5ffc2
27	1	tornado/test/websocket_test.py
53	9	tornado/websocket.py

--175da105	2014-02-16T23:59:17-05:00	Ben Darnell	ben@bendarnell.com	Compress all text/* content types, not just a whitelist.

Closes #982.

175da105
9	5	tornado/web.py

--f2cae31d	2014-02-16T23:41:15-05:00	Ben Darnell	ben@bendarnell.com	Add a py26-trollius test case and fix a bug with timedelta on 2.6.

f2cae31d
3	2	tornado/platform/asyncio.py
10	2	tox.ini

--47c7f63f	2014-02-16T23:06:18-05:00	Ben Darnell	ben@bendarnell.com	Add a fast path to stack_context when there are no active contexts.

This case is increasingly common now that coroutines are decoupled
from stack contexts.

47c7f63f
12	0	tornado/stack_context.py

--5c32f9d1	2014-02-16T22:05:55-05:00	Ben Darnell	ben@bendarnell.com	Remove _iostream_return_future from write and connect as well.

5c32f9d1
35	43	tornado/iostream.py

--16533508	2014-02-16T21:39:19-05:00	Ben Darnell	ben@bendarnell.com	Bring Future support for IOStream read operations into IOStream itself.

This speeds things up in comparison to the _iostream_return_future
decorator by removing unnecessary abstraction and especially by allowing
Futures to bypass some of the hoops IOStream jumps through to ensure a
clean slate for its callbacks.

16533508
39	34	tornado/iostream.py

--7aa1de9f	2014-02-16T20:34:02-05:00	Ben Darnell	ben@bendarnell.com	Microoptimizations for coroutines
* Lazily initialize data structures for YieldPoints
* Get rid of Runner.exc_info

7aa1de9f
22	19	tornado/gen.py

--8e07f3d8	2014-02-16T20:29:37-05:00	Ben Darnell	ben@bendarnell.com	Fold TracebackFuture into Future.

Since it is no longer possible for TracebackFuture to modify
concurrent.futures.Future instead, there is no need for separate
classes.  Removing the subclass speeds things up a bit by removing
a level of indirection.

Also microoptimized a few methods of Future.

8e07f3d8
32	31	tornado/concurrent.py

--184d796b	2014-01-26T13:55:57-05:00	Ben Darnell	ben@bendarnell.com	gen: Defer creation of stack context until a YieldPoint is reached.

The runner alone can catch all necessary exceptions as long as Futures
are used; stack contexts are only needed for YieldPoints (especially
Callback/Wait; Task could be changed to use a local-only stack
context).

This is slightly backwards incompatible for code that assumes the existence
of a stack context without yielding anything.

184d796b
27	10	tornado/gen.py
6	0	tornado/test/gen_test.py

--71158fe8	2014-01-26T19:11:51-05:00	Ben Darnell	ben@bendarnell.com	Detect stack context inconsistency in gen.Runner.

The existing checks in StackContext.__exit__ are run after the damage has
been done and may raise exceptions in the wrong place; gen.Runner
is a more reliable place to detect this problem.

Throwing the exception into the generator provides a better stack trace
for the problem and also simplifies some of the complexity of testing for
this feature.

71158fe8
9	3	tornado/gen.py
0	12	tornado/test/stack_context_test.py

--0ea4de34	2014-01-26T15:25:10-05:00	Ben Darnell	ben@bendarnell.com	gen.Runner now communicates back to the decorator via a Future instead of a callback.

This allows for failures to be reported without relying on stack_context.

0ea4de34
11	12	tornado/gen.py

--b2ee3321	2014-01-26T15:16:36-05:00	Ben Darnell	ben@bendarnell.com	Consolidate implementations of gen.engine and gen.coroutine.

The shared implementation is nearly identical to the old gen.coroutine,
with a small tweak for the callback argument.

b2ee3321
18	33	tornado/gen.py

--9cf95ff7	2014-01-20T17:57:57-05:00	Ben Darnell	ben@bendarnell.com	Pivot tornado.gen to use Futures natively.

This improves performance of applications using @coroutine and Futures,
at the expense of some performance degradation for the older YieldPoint
interfaces.

9cf95ff7
29	23	tornado/gen.py

--dce2ffe1	2014-01-25T22:18:08-05:00	Ben Darnell	ben@bendarnell.com	tornado.concurrent.Future is now always thread-unsafe.

This improves performance and provides more consistent semantics
(independent of the presence or absence of the concurrent.futures
package).

The parts of Tornado that accept Futures will accept both Tornado's
thread-unsafe Futures and the thread-safe concurrent.futures.Future.

dce2ffe1
6	3	tornado/concurrent.py
3	3	tornado/gen.py
3	3	tornado/ioloop.py
0	8	tornado/test/concurrent_test.py

--b1482368	2014-01-20T17:23:20-05:00	Ben Darnell	ben@bendarnell.com	Add a benchmark for coroutine processing.

b1482368
47	0	demos/benchmark/gen_benchmark.py

--d0ee6db9	2014-01-25T18:15:55-05:00	Ben Darnell	ben@bendarnell.com	Improve the stack traces given for timeouts with @gen_test.

d0ee6db9
11	1	tornado/test/testing_test.py
33	6	tornado/testing.py

--869fb744	2014-01-25T17:16:17-05:00	Ben Darnell	ben@bendarnell.com	Raise an error if IOLoop.start() is called while it is already running.

869fb744
2	0	tornado/ioloop.py
15	0	tornado/test/ioloop_test.py

--80694289	2014-01-25T13:43:27-05:00	Ben Darnell	ben@bendarnell.com	Add support in AsyncTestCase for detecting undecorated generators.

Fix a test that was not being run because of this issue.

80694289
33	0	tornado/test/testing_test.py
2	1	tornado/test/websocket_test.py
38	2	tornado/testing.py

--b1ff5391	2014-01-24T17:59:44-08:00	bdarnell	ben@bendarnell.com	Merge pull request #979 from mike4999/simple_fix

 Fix for RequestHandler.write   to check for NoneType in argument
b1ff5391
--e442a6dc	2014-01-24T14:04:00+03:00	Michael Atambo	mikeat4999@gmail.com	This is a fix to check  the argument to RequestHandler.write()
is one of the accepted types: dict, bytes or unicode and raise a TypeError otherwise

e442a6dc
2	0	tornado/web.py

--66a647d2	2014-01-19T22:59:37-05:00	Ben Darnell	ben@bendarnell.com	Return a Future from IOStream methods.

This makes it easier to use IOStreams directly from coroutines.

Closes #953.

66a647d2
49	2	tornado/iostream.py
62	2	tornado/test/iostream_test.py
12	4	tornado/test/util_test.py
10	0	tornado/util.py

--c51970d7	2014-01-20T08:58:09-08:00	bdarnell	ben@bendarnell.com	Merge pull request #976 from daftshady/master

removed unnecessary else statements
c51970d7
--43f2f4c4	2014-01-20T11:57:16-05:00	Ben Darnell	ben@bendarnell.com	Pin sphinx version to 1.2 in tests.

Sphinx 1.2.1 has a bug that breaks our build:
https://bitbucket.org/birkenfeld/sphinx/pull-request/212/fix-an-exception-introduced-by/diff

43f2f4c4
1	1	.travis.yml
1	1	tox.ini

--d29ab8a5	2014-01-20T22:33:38+09:00	daftshady	daftonshady@gmail.com	removed unnecessary else statements

d29ab8a5
0	3	tornado/iostream.py

--4057cc78	2014-01-19T19:01:07-05:00	Ben Darnell	ben@bendarnell.com	Remove some unused imports (found by pyflakes)

4057cc78
0	1	tornado/platform/asyncio.py
0	1	tornado/test/httpclient_test.py
0	1	tornado/test/ioloop_test.py

--ef72aac8	2014-01-19T18:58:06-05:00	Ben Darnell	ben@bendarnell.com	Add tornado.test.__main__ so the tests can be run with "-m tornado.test".

(This doesn't work on python 2.6)

ef72aac8
14	0	tornado/test/__main__.py
4	1	tornado/test/runtests.py

--665bd981	2014-01-19T18:55:53-05:00	Ben Darnell	ben@bendarnell.com	Remove some vestigial references to 2to3.

665bd981
1	1	maint/test/websocket/tox.ini
0	4	runtests.sh
1	1	tox.ini

--6a859357	2014-01-18T17:55:09-05:00	Ben Darnell	ben@bendarnell.com	Fix a typo that snuck into the autoreload docs.

6a859357
1	1	tornado/autoreload.py

--35ae2c53	2014-01-18T16:42:06-05:00	Ben Darnell	ben@bendarnell.com	Make tornado.netutil.add_accept_handler pass a fileobj to the IOLoop.

Officially allow mixing of fds and file objects so that callers of
add_accept_handler don't need to know about this change.

As a side effect, fixes a problem with autoreload on windows.

Closes #737.

35ae2c53
1	1	tornado/netutil.py
9	4	tornado/platform/asyncio.py
12	0	tornado/test/ioloop_test.py

--0416a689	2014-01-18T16:04:49-05:00	Ben Darnell	ben@bendarnell.com	Pass the correct file object to IOLoop handler functions.

0416a689
3	1	tornado/ioloop.py
3	3	tornado/platform/twisted.py
25	0	tornado/test/ioloop_test.py

--df6db559	2014-01-18T15:41:03-05:00	Ben Darnell	ben@bendarnell.com	Document file descriptor change and start new release notes.

df6db559
6	0	docs/ioloop.rst
1	0	docs/releases.rst
24	0	docs/releases/next.rst
27	4	tornado/ioloop.py

--7552caed	2014-01-18T13:09:18-05:00	Ben Darnell	ben@bendarnell.com	Allow and encourage the use of file objects instead of integer fds in IOLoop.

This fixes a problem in tests in which a closing IOLoop would os.close()
all of its file descriptors while socket objects for those fds still
existed.  When those socket objects were garbage collected, they would
close the fd a second time (by which time it may have been reassigned
to a new socket).

Due to subtleties of garbage collection this has only been observed
with the asyncio event loop in tests of curl_httpclient.

7552caed
44	11	tornado/ioloop.py
14	6	tornado/iostream.py
2	5	tornado/platform/asyncio.py
1	1	tornado/platform/kqueue.py
1	1	tornado/platform/select.py
11	3	tornado/platform/twisted.py
29	2	tornado/test/ioloop_test.py
2	5	tox.ini

--f52976ae	2014-01-17T20:57:57-05:00	Ben Darnell	ben@bendarnell.com	Add pycares to the -full tox configs and remove custom resolver tests.

The resolvers are tested in netutil_test when their dependencies are
available, and re-running the entire test suite with a different resolver
is unlikely to expose any new problems.  (the resolver tests are still
present in travis.yml for now, though)

f52976ae
10	41	tox.ini

--fda31703	2014-01-16T23:33:00-05:00	Ben Darnell	ben@bendarnell.com	Require the extension to be built in tox -full runs.

fda31703
4	0	tox.ini

--de480f94	2014-01-16T23:12:59-05:00	Ben Darnell	ben@bendarnell.com	Merge branch 'branch3.2'

de480f94
--1cb446e0	2014-01-16T23:12:42-05:00	Ben Darnell	ben@bendarnell.com	Don't require the extension to be present when building docs.

1cb446e0
1	0	.travis.yml

--1cc39293	2014-01-16T23:00:26-05:00	Ben Darnell	ben@bendarnell.com	Reinstate the 'cd maint' in .travis.yml.

This turned out to be breaking the speedups module.

1cc39293
5	1	.travis.yml

--18676fa9	2014-01-16T22:49:31-05:00	Ben Darnell	ben@bendarnell.com	Add better debugging for ImportErrors resulting from TORNADO_EXTENSION=1

18676fa9
14	0	tornado/test/websocket_test.py

--70659cbc	2014-01-16T22:32:32-05:00	Ben Darnell	ben@bendarnell.com	Add a new TORNADO_EXTENSION environment variable for testing purposes.

This variable can be set to 0 to suppress or 1 to require the use of the
extension (instead of the default to use it when it is available but silently
fall back).  Require the extension to be present on travis-ci.

70659cbc
3	0	.travis.yml
8	2	setup.py
6	3	tornado/websocket.py

--21d6cde1	2014-01-15T18:10:51-08:00	bdarnell	ben@bendarnell.com	Merge pull request #973 from cgohlke/patch-1

Fix msvc compile error and improve 64 bit compatibility
21d6cde1
--57a02223	2014-01-14T21:47:35-08:00	cgohlke	cgohlke@uci.edu	Fix msvc compile error and improve 64 bit compatibility
57a02223
8	5	tornado/speedups.c

--5a9194f7	2014-01-14T23:16:26-05:00	Ben Darnell	ben@bendarnell.com	Refactor the unwieldy tox.ini file.

Fill in some gaps in the coverage (mostly on the python 3 side, and
using more consistent dependencies throughout) and move the 3.x tests
that don't care about a specific 3.x version to 3.3.

This is still less thorough than the travis.yml, which runs everything for
every python version.

5a9194f7
150	139	tox.ini

--ff2b777e	2014-01-14T21:42:24-05:00	Ben Darnell	ben@bendarnell.com	Bump version number to 3.3.dev1

ff2b777e
1	1	setup.py
2	2	tornado/__init__.py

--0e1a8305	2014-01-14T08:51:32-05:00	Ben Darnell	ben@bendarnell.com	Update README.rst to match docs/index.rst.

0e1a8305
22	6	README.rst

--76a6987a	2014-01-14T08:41:27-05:00	Ben Darnell	ben@bendarnell.com	Set version number to 3.2.

76a6987a
1	1	setup.py
2	2	tornado/__init__.py

--defcb473	2014-01-14T08:40:48-05:00	Ben Darnell	ben@bendarnell.com	Finalize 3.2 release notes

defcb473
1	1	docs/releases.rst
4	4	docs/releases/{next.rst => v3.2.0.rst}

--cfe10ee2	2014-01-10T23:31:29-05:00	Ben Darnell	ben@bendarnell.com	Fix shell quoting in travis config.

cfe10ee2
1	1	.travis.yml

--a02729d3	2014-01-10T23:27:33-05:00	Ben Darnell	ben@bendarnell.com	Pin pycurl on travis to <7.19.3, removing it from py3.x.

SSL issues prevent pycurl 7.19.3 from being installed on travis.

a02729d3
4	4	.travis.yml

--db93108d	2014-01-10T23:19:25-05:00	Ben Darnell	ben@bendarnell.com	Now that pycurl 7.19.3 with py3 support is out, add it to tox/travis.

db93108d
4	4	.travis.yml
9	1	tox.ini

--24ccf2fe	2014-01-09T20:15:41-05:00	Ben Darnell	ben@bendarnell.com	Add a link to the Stack Overflow 'tornado' tag from the docs.

24ccf2fe
1	0	docs/index.rst

--c2043a33	2014-01-09T20:12:34-05:00	Ben Darnell	ben@bendarnell.com	Replace redundant dict.get() with [].

c2043a33
1	1	tornado/log.py

--b2039a3d	2014-01-07T22:01:38-05:00	Ben Darnell	ben@bendarnell.com	Set version number to 3.2b2

b2039a3d
1	1	setup.py
2	2	tornado/__init__.py

--bc0103ac	2014-01-07T22:00:53-05:00	Ben Darnell	ben@bendarnell.com	Update release notes for 3.2.0b2

bc0103ac
3	0	docs/releases/next.rst

--2b9f7925	2014-01-07T01:14:37-05:00	Ben Darnell	ben@bendarnell.com	Add trollius (py2 backport of asyncio) to tox config.

This passes the twisted integration tests but currently has some issues
with pycurl.

2b9f7925
3	0	tornado/platform/asyncio.py
2	3	tornado/test/twisted_test.py
14	1	tox.ini

--f9c8664e	2014-01-06T22:39:29-05:00	Ben Darnell	ben@bendarnell.com	Rename "normal" to "end_color" in log format strings.

When not colorizing, use empty strings instead of two copies of "normal".

Update docs.

f9c8664e
1	1	docs/releases/next.rst
8	5	tornado/log.py

--d2a56867	2013-12-25T02:02:31+01:00	Andrea Ratto	andrearatto@yahoo.it	Improved extensibility of LogFormatter

* refactored code separating coloring logic
* allow full line customization of the format
* possibly faster operation

d2a56867
46	38	tornado/log.py
0	1	tornado/test/log_test.py

--1a2460ca	2014-01-06T18:51:07-05:00	Ben Darnell	ben@bendarnell.com	Move _setup_logging to BaseIOLoop and use it in asyncio and twisted implementations.

1a2460ca
16	15	tornado/ioloop.py
1	0	tornado/platform/asyncio.py
1	0	tornado/platform/twisted.py

--daab25b9	2014-01-06T18:49:33-05:00	Ben Darnell	ben@bendarnell.com	Remove inaccurate IOLoop logging test cases.

daab25b9
1	47	tornado/test/ioloop_test.py

--902e6a2c	2014-01-06T18:19:57-05:00	Ben Darnell	ben@bendarnell.com	Merge commit 'c2a25a'

* commit 'c2a25a':
  Correct example variable, use consistant quoting

Closes #972

902e6a2c
--7bb05359	2014-01-06T15:08:18-08:00	bdarnell	ben@bendarnell.com	Merge pull request #971 from gmr/logging-patch

Don't call logging.basicConfig if logging is already configured (#775). Replaces #887
7bb05359
--c2a25ac3	2014-01-06T16:55:35-05:00	Gavin M. Roy	gavinmroy@gmail.com	Correct example variable, use consistant quoting

c2a25ac3
7	6	tornado/auth.py

--6e287d8c	2014-01-06T16:47:54-05:00	Gavin M. Roy	gavinmroy@gmail.com	Don't call logging.basicConfig if logging is already configured (#775).
Will not call logging.basicConfig if there is a root logger,
tornado logger or tornado.application logger.

Updated patch to reflect comments about tests and method privacy.

6e287d8c
16	9	tornado/ioloop.py
48	0	tornado/test/ioloop_test.py

--48a5969c	2014-01-04T11:33:50-05:00	Ben Darnell	ben@bendarnell.com	Add a warning to the StaticFileHandler docs against overriding .get().

48a5969c
5	0	tornado/web.py

--c9af9a72	2014-01-02T20:51:59-05:00	Ben Darnell	ben@bendarnell.com	Remove redundant uses of @asynchronous with @gen.coroutine.

c9af9a72
0	1	demos/auth/authdemo.py
0	1	demos/chat/chatdemo.py
0	9	tornado/auth.py
0	1	tornado/gen.py
0	1	tornado/test/gen_test.py

--be70cb08	2013-12-31T17:50:12-05:00	Ben Darnell	ben@bendarnell.com	Doc updates.

* Version-added tags
* Add some missing methods
* Ignore asyncio module for coverage reports
* Work around a sphinx 1.2 regression

be70cb08
2	0	docs/asyncio.rst
6	0	docs/conf.py
2	0	docs/web.rst
4	1	tornado/auth.py
10	1	tornado/escape.py
4	0	tornado/log.py
4	0	tornado/web.py

--de6fa77d	2013-12-31T13:47:28-05:00	Ben Darnell	ben@bendarnell.com	Update future imports for recently added files.

(This is most meaningful for tornado.platform.asyncio, which needs
absolute imports for the python 2 backport of asyncio).

de6fa77d
2	0	tornado/platform/asyncio.py
1	0	tornado/platform/caresresolver.py
1	0	tornado/test/resolve_test_helper.py
1	0	tornado/test/websocket_test.py

--d7d24217	2013-12-31T12:28:44-05:00	Ben Darnell	ben@bendarnell.com	Add usage comement to run_fixers.py.

d7d24217
2	0	maint/scripts/run_fixers.py

--9577776e	2013-12-30T14:18:58-08:00	bdarnell	ben@bendarnell.com	Merge pull request #969 from ronnix/patch-1

Fix asyncio code example
9577776e
--f414b491	2013-12-30T22:35:33+01:00	Ronan Amicel	ronan.amicel@gmail.com	Fix asyncio code example
f414b491
1	1	docs/asyncio.rst

--541331a0	2013-12-30T14:18:28-05:00	Ben Darnell	ben@bendarnell.com	Set version number to 3.2b1.

541331a0
1	1	setup.py
2	2	tornado/__init__.py

--bf2cf0e2	2013-12-30T14:17:57-05:00	Ben Darnell	ben@bendarnell.com	Add python 3.4 tag to setup.py

bf2cf0e2
1	0	setup.py

--326d283c	2013-12-30T13:24:53-05:00	Ben Darnell	ben@bendarnell.com	Reorganize and expand next-release notes.

326d283c
158	56	docs/releases/next.rst

--ada9c0a4	2013-12-30T12:19:50-05:00	Ben Darnell	ben@bendarnell.com	Fix doc build on travis after removal of 'cd maint'

ada9c0a4
1	1	.travis.yml

--bdee92ac	2013-12-30T12:10:55-05:00	Ben Darnell	ben@bendarnell.com	Remove 'cd maint' from travis script.

This was needed for 2to3, which we no longer use.  The changed
directory meant that coveralls wasn't seeing our .coveragerc.

bdee92ac
0	4	.travis.yml

--275da3c2	2013-12-30T11:58:31-05:00	Ben Darnell	ben@bendarnell.com	Correctly skip coverage collection on 2.6.

275da3c2
0	1	.travis.yml

--ea6cb29b	2013-12-30T11:52:49-05:00	Ben Darnell	ben@bendarnell.com	Disable coverage collection on python 2.6.

ea6cb29b
5	0	.travis.yml

--9360bbfc	2013-12-30T11:37:58-05:00	Ben Darnell	ben@bendarnell.com	Add coveralls to travis config.

9360bbfc
17	13	.travis.yml

--0f6caf59	2013-12-30T11:32:38-05:00	Ben Darnell	ben@bendarnell.com	Disable --pre flag in tox installs to fix environment recreation.

Remove an old hack for monotime package.

0f6caf59
6	2	tox.ini

--b2b83348	2013-12-29T23:56:37-05:00	Ben Darnell	ben@bendarnell.com	autopep8 whitespace fixes.

b2b83348

--647dce98	2013-12-29T23:43:23-05:00	Ben Darnell	ben@bendarnell.com	Update run_autopep8.sh flags.

647dce98
3	2	maint/scripts/run_autopep8.sh

--93714293	2013-12-29T23:33:47-05:00	Ben Darnell	ben@bendarnell.com	Upgrade maint/requirements.txt versions.

93714293
13	13	maint/requirements.txt

--a48831ca	2013-12-29T20:41:17-05:00	Ben Darnell	ben@bendarnell.com	Disallow ipv6 in curl-based tests.

The test servers only listen on ipv4, and it appears that libcurl 7.19.34
has regressed in its ability to handle the case when localhost resolves
to both v4 and v6 variants but only one works.

IPv6 was already disabled by default in simple_httpclient tests.

a48831ca
4	2	tornado/test/curl_httpclient_test.py
1	1	tornado/test/httpclient_test.py
2	1	tornado/test/runtests.py

--4dfb5195	2013-12-29T19:45:34-05:00	Ben Darnell	ben@bendarnell.com	Use a more reliable method to generate resolver errors.

On some platforms even getaddrinfo is fooled by the fake NXDOMAIN results.

4dfb5195
4	2	tornado/test/netutil_test.py

--f5ac2102	2013-12-29T14:57:29-05:00	Ben Darnell	ben@bendarnell.com	Fixes for soon-to-be-released py3-compatible version of pycurl.

f5ac2102
4	2	tornado/curl_httpclient.py
5	4	tornado/test/curl_httpclient_test.py

--f55e0703	2013-12-28T20:11:58-05:00	Ben Darnell	ben@bendarnell.com	Mark another timing-sensitive test as skipOnTravis.

f55e0703
2	1	tornado/test/websocket_test.py

--9d57a0cd	2013-12-28T20:11:20-05:00	Ben Darnell	ben@bendarnell.com	Disable the "bad_host" tests on CaresResolver

This is an unfortunate hack, but c-ares doesn't handle fake NXDOMAIN
responses in the same way as other resolvers.

9d57a0cd
9	0	tornado/test/netutil_test.py

--de39a398	2013-12-28T16:44:20-08:00	bdarnell	ben@bendarnell.com	Merge pull request #965 from ajdavis/twisted-resolver-err

Error handling in TwistedResolver
de39a398
--f5d3b5db	2013-12-28T19:38:16-05:00	Ben Darnell	ben@bendarnell.com	Add some markup to the old template intro docs.

Closes #967.

f5d3b5db
8	7	tornado/template.py

--465e15f3	2013-12-24T15:02:07-06:00	A. Jesse Jiryu Davis	jesse@10gen.com	Error handling in TwistedResolver

465e15f3
4	2	tornado/platform/twisted.py
18	0	tornado/test/netutil_test.py

--893c30d2	2013-12-23T17:33:46-05:00	Ben Darnell	ben@bendarnell.com	Improve log message for invalid unicode.

Truncate long values, and include the argument name if available.

893c30d2
2	1	tornado/web.py

--511df843	2013-12-23T14:25:46-08:00	bdarnell	ben@bendarnell.com	Merge pull request #963 from minrk/invalid-unicode

bad unicode in URLs shouldn't cause 500
511df843
--dbc2c53d	2013-12-23T14:23:36-08:00	MinRK	benjaminrk@gmail.com	expect log message in test_decode_argument_invalid_unicode
dbc2c53d
1	0	tornado/test/web_test.py

--34796817	2013-12-23T17:08:01-05:00	Ben Darnell	ben@bendarnell.com	Remove new HTTPRequest.if_modified_since property.

This property was unusual in that its getter returned a value its
setter would not accept, and was redundant with direct access to the
headers.

Use the property setters in the constructor instead of duplicating logic.

34796817
8	16	tornado/httpclient.py
0	16	tornado/test/httpclient_test.py

--12d1ed56	2013-12-22T16:34:06-08:00	MinRK	benjaminrk@gmail.com	rase 400, not 500 on invalid unicode in decode_argument
12d1ed56
3	0	tornado/web.py

--d0e27f1a	2013-12-23T13:58:10-08:00	bdarnell	ben@bendarnell.com	Merge pull request #945 from chrismcguire/request_body_property

Add properties corresponding to HTTPRequest constructor arguments
d0e27f1a
--58633428	2013-12-23T16:10:42-05:00	Ben Darnell	ben@bendarnell.com	Minor cleanups for import deadlock test:
* Avoid _test.py suffix for file that doesn't contain test cases.
* Resolve localhost instead of tornadoweb.org to avoid network dependency.
* Tighten timeout and add an alarm so failed tests don't leave orphaned
  child processes.
* Avoid busy loop while waiting for child to exit.

58633428
7	3	tornado/test/netutil_test.py
1	1	tornado/test/{resolve_test.py => resolve_test_helper.py}

--d3f22273	2013-12-23T13:01:48-08:00	bdarnell	ben@bendarnell.com	Merge pull request #964 from ajdavis/resolver-deadlock

Prevent a deadlock if ThreadedResolver resolves a unicode hostname at module-import time.
d3f22273
--6049e2db	2013-12-16T18:56:05-05:00	A. Jesse Jiryu Davis	jesse@10gen.com	Prevent a deadlock if ThreadedResolver resolves a unicode hostname at module-import time.

6049e2db
9	1	tornado/netutil.py
25	0	tornado/test/netutil_test.py
11	0	tornado/test/resolve_test.py

--1c0f4257	2013-12-21T22:29:40-08:00	MinRK	benjaminrk@gmail.com	test that invalid unicode doesn't raise 500

1c0f4257
7	0	tornado/test/web_test.py

--f79bc418	2013-12-22T13:07:10+08:00	Anton Shestakov	engored@ya.ru	Un-force relative in format_date
f79bc418
0	2	tornado/locale.py

--7963f1d6	2013-11-25T13:08:03-05:00	Chris McGuire	chris.r.mcguire@gmail.com	Set altered HTTPRequest attributes as parameters.

7963f1d6
56	5	tornado/httpclient.py
42	0	tornado/test/httpclient_test.py

--1e8582f3	2013-12-07T08:02:24-05:00	Brian Turek	brian.turek@gmail.com	Fixed bad Sphinx target reference

1e8582f3
1	1	tornado/websocket.py

--fec89881	2013-12-07T07:49:08-05:00	Brian Turek	brian.turek@gmail.com	Added support for on_message_callback for WebSocket clients

fec89881
10	4	tornado/websocket.py

--03d41df7	2013-12-02T04:55:49-08:00	bdarnell	ben@bendarnell.com	Merge pull request #949 from Lardjo/patch-1

Added closing parenthesis
03d41df7
--c04c5252	2013-12-02T11:04:01+03:00	Konstantin	knikitanov@me.com	Update gen.py

Docs. Missing closing parenthesis on example.
c04c5252
1	1	tornado/gen.py

--e952de3f	2013-12-01T13:14:42-08:00	bdarnell	ben@bendarnell.com	Merge pull request #944 from anton-ryzhov/reset_flags

Reset state on `start()` end
e952de3f
--840d4334	2013-12-01T13:09:59-08:00	bdarnell	ben@bendarnell.com	Merge pull request #940 from klaussfreire/master

Speed up gen.corouting when yielding done Futures
840d4334
--08d75e19	2013-12-01T16:01:35-05:00	Ben Darnell	ben@bendarnell.com	Make setuptools optional again in setup.py.

08d75e19
1	1	setup.py

--179ac959	2013-12-01T15:47:05-05:00	Ben Darnell	ben@bendarnell.com	Update docs for LogFormatter constructor arguments.

179ac959
4	5	tornado/log.py

--0ca65d1f	2013-12-01T12:43:46-08:00	bdarnell	ben@bendarnell.com	Merge pull request #931 from SuminAndrew/LogFormatter-format

add custom fmt and datefmt to LogFormatter
0ca65d1f
--19bdb153	2013-12-01T15:07:16-05:00	Ben Darnell	ben@bendarnell.com	Avoid a quote mark that renders incorrectly in PDF mode.

Closes #935.

19bdb153
1	1	docs/overview.rst

--cb653c5e	2013-12-01T15:04:02-05:00	Ben Darnell	ben@bendarnell.com	Document the attributes required by @run_on_executor.

Closes #933.

cb653c5e
3	0	tornado/concurrent.py

--237018db	2013-12-01T06:44:09-08:00	bdarnell	ben@bendarnell.com	Merge pull request #936 from ticosax/add-timeout-on-future

Pass timeout argument to Future.result
237018db
--4ec4d8db	2013-11-30T10:21:44-08:00	bdarnell	ben@bendarnell.com	Merge pull request #937 from lepture/fix-assert

Raise TypeError instead of AssertionError.
4ec4d8db
--7700df76	2013-11-25T19:06:08+04:00	Anton Ryzhov	anton@ryzhov.me	Reset state on `start()` end

7700df76
3	0	tornado/ioloop.py

--2f856f6f	2013-11-19T14:24:48-03:00	Claudio Freire	claudiofreire@klaumpp.jampp.local	Speed up gen.corouting when yielding done Futures

2f856f6f
10	1	tornado/gen.py

--eece1318	2013-11-18T10:17:50+08:00	Hsiaoming Yang	me@lepture.com	Raise TypeError instead of AssertionError.

eece1318
9	3	tornado/escape.py

--932dcc7d	2013-11-17T19:36:28+01:00	Nicolas Delaby	ticosax@free.fr	Pass timeout argument to Future.result

932dcc7d
2	2	tornado/concurrent.py
14	0	tornado/test/concurrent_test.py

--a25aebb5	2013-11-06T11:15:03+04:00	AndreySumin	an.sumin@hh.ru	add custom fmt and datefmt to LogFormatter

a25aebb5
17	6	tornado/log.py

--87ef2a8f	2013-11-04T08:33:40-05:00	Ben Darnell	ben@bendarnell.com	Document the HTTPResponse.effective_url attribute.

87ef2a8f
3	0	tornado/httpclient.py

--473821f4	2013-11-07T15:11:48-05:00	Ben Darnell	ben@bendarnell.com	Update next-release notes and document the asyncio module.

473821f4
36	0	docs/asyncio.rst
1	0	docs/integration.rst
18	1	docs/releases/next.rst
9	3	tornado/web.py

--372ebb56	2013-11-06T16:44:15-05:00	Ben Darnell	ben@bendarnell.com	Clean up some uncollectable garbage in the test suite.

372ebb56
7	1	tornado/test/stack_context_test.py

--6f56d1a4	2013-11-06T14:57:31-05:00	Ben Darnell	ben@bendarnell.com	Document the fact that WebSocketClientConnection should not be used directly.

Closes #929.

6f56d1a4
5	1	tornado/websocket.py

--463d9ecd	2013-11-06T14:16:01-05:00	Ben Darnell	ben@bendarnell.com	Catch exceptions from parse_qs_bytes in POST bodies and log them.

This is consistent with error handling for multipart/form-data.
parse_qs is very liberal, but the conversion to unicode
on python 3 may fail.  This is most common for binary data sent from
clients where x-www-form-urlencoded is the default, which is not
actually intended to be interpreted as arguments.

Closes #921.

463d9ecd
4	0	tornado/httputil.py
15	0	tornado/test/httpserver_test.py

--fa47362e	2013-11-06T11:53:23-05:00	Ben Darnell	ben@bendarnell.com	Fix speedups.c when compiled with gcc instead of clang.

fa47362e
2	1	tornado/speedups.c

--a3246808	2013-11-06T11:53:00-05:00	Ben Darnell	ben@bendarnell.com	Point Ubuntu 12.04 Vagrant file to a readily-available base image.

a3246808
2	1	maint/vm/ubuntu12.04/Vagrantfile

--4ec9831f	2013-11-05T17:58:45-05:00	Ben Darnell	ben@bendarnell.com	Make the C extension optional.

4ec9831f
85	0	setup.py

--0ca7fa01	2013-11-05T17:39:03-05:00	Ben Darnell	ben@bendarnell.com	Replace cython-based extension module with a hand-written one.

This avoids the complexity of ensuring that cython is installed
at build time.

0ca7fa01
0	3	.gitignore
1	1	MANIFEST.in
9	6	setup.py
48	0	tornado/speedups.c
0	16	tornado/speedups.pyx
5	0	tornado/websocket.py
0	4	tox.ini

--4a5fdb1e	2013-11-05T15:53:51-05:00	Ben Darnell	ben@bendarnell.com	Add backports.ssl_match_hostname dependency in place of our copy.

This function has changed recently and it makes more sense to stop
maintaining a separate copy, even though it does introduce our first
required dependency.

4a5fdb1e
14	3	docs/index.rst
3	0	maint/requirements.txt
13	11	setup.py
7	71	tornado/netutil.py

--4f276caf	2013-11-04T12:23:26-08:00	bdarnell	ben@bendarnell.com	Merge pull request #928 from ajdavis/better-assertion-in-httpclient

Better AsyncHTTPClient error for GET with body or POST without one. Fixes #927.
4f276caf
--5896bbec	2013-11-04T15:19:32-05:00	Ben Darnell	ben@bendarnell.com	simple_httpclient: Start the connection timeout before the Resolver call.

Timeouts were previously unenforced during DNS resolution.

5896bbec
9	4	tornado/simple_httpclient.py
21	0	tornado/test/simple_httpclient_test.py

--126645d4	2013-11-04T14:57:05-05:00	A. Jesse Jiryu Davis	jesse@mongodb.com	Better AsyncHTTPClient error for GET with body or POST without one.

126645d4
8	0	tornado/curl_httpclient.py
8	2	tornado/simple_httpclient.py
13	0	tornado/test/httpclient_test.py

--99609569	2013-11-04T11:42:09-08:00	bdarnell	ben@bendarnell.com	Merge pull request #926 from liangsun/master

Add `name` parameter for URLSpec in tuple/list format.
99609569
--228bc8c5	2013-11-04T18:03:33+08:00	Liang Sun	i@liangsun.org	Add name parameter for URLSpec in tuple/list format.

228bc8c5
2	9	tornado/web.py

--cd8c2918	2013-11-03T21:10:56-05:00	Ben Darnell	ben@bendarnell.com	Update next-release notes.

cd8c2918
39	1	docs/releases/next.rst
23	2	docs/web.rst
1	0	docs/websocket.rst
3	0	tornado/gen.py
14	0	tornado/httpserver.py
8	0	tornado/web.py
17	1	tornado/websocket.py

--36fb165a	2013-11-03T16:20:01-05:00	Ben Darnell	ben@bendarnell.com	Fix --debug_gc option on python 3.

36fb165a
5	0	tornado/test/runtests.py

--b61ce6dc	2013-11-03T16:18:40-05:00	Ben Darnell	ben@bendarnell.com	Don't make the request if it timed out in the queue.

Use IOLoop time instead of request.start_time (which is wall time).
Misc test fixes.

b61ce6dc
7	1	tornado/simple_httpclient.py
16	18	tornado/test/simple_httpclient_test.py

--1195a23f	2013-11-03T15:07:34-05:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'codeb2cc/async-request-timeout' into merge

1195a23f
--46c67e1d	2013-11-03T15:02:24-05:00	Ben Darnell	ben@bendarnell.com	Rearrange newly-added optional arguments for backwards compatibility.

46c67e1d
2	3	tornado/auth.py

--92ac5012	2013-11-03T14:37:43-05:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'sclm/GoogleOAuth2' into merge

Conflicts:
	docs/releases/next.rst

92ac5012
--15bccd8a	2013-11-03T14:01:41-05:00	Ben Darnell	ben@bendarnell.com	Add test for the websocket connection-refused fix.

15bccd8a
13	1	tornado/test/websocket_test.py

--086de753	2013-11-03T10:52:31-08:00	bdarnell	ben@bendarnell.com	Merge pull request #910 from Caligatio/patch-1

Fixed WebSocketClient connections not closing on initial connection failure
086de753
--160adb03	2013-11-03T13:43:09-05:00	Ben Darnell	ben@bendarnell.com	Change hard-coded SSL protocol version for Python 2.6 to TLSv1.

The compatibility advantage of SSLv3 was always small, and it's probably
better to use TLSv1 than SSLv3 now.

Closes #911.

160adb03
4	4	tornado/simple_httpclient.py

--d0cf31c4	2013-11-03T13:22:17-05:00	Ben Darnell	ben@bendarnell.com	Fix some cases where curl_httpclient options could leak to subsequent requests.

Document the remaining cases which cannot cleanly be set back to their default
values.

Uncovered by #912.

d0cf31c4
3	0	tornado/curl_httpclient.py
20	7	tornado/httpclient.py

--8b5f3f46	2013-11-02T16:46:32-04:00	Ben Darnell	ben@bendarnell.com	Add generated speedups.c to .gitignore.

8b5f3f46
3	0	.gitignore

--10c0e77b	2013-11-02T15:55:45-04:00	Ben Darnell	ben@bendarnell.com	Add test for specifying handlers by name.

10c0e77b
23	0	tornado/test/web_test.py

--c95464fc	2013-11-02T12:10:35-07:00	bdarnell	ben@bendarnell.com	Merge pull request #925 from mengzhuo/master

unify web.handlers
c95464fc
--d6add0cb	2013-11-01T10:11:31+08:00	Meng Zhuo	mengzhuo1203@gmail.com	unify web.handlers

d6add0cb
8	7	tornado/web.py

--b3520e5d	2013-10-26T22:47:42-04:00	Ben Darnell	ben@bendarnell.com	Remvoe auto2to3 exclusion rules.

auto2to3 is no longer a part of the Tornado development process,
and the MANIFEST exclusion rule just results in scary-looking warnings
when installing.

b3520e5d
0	1	.gitignore
0	1	MANIFEST.in

--0500ad6e	2013-10-26T22:42:26-04:00	Ben Darnell	ben@bendarnell.com	Add more tests for the cython websocket mask function

0500ad6e
9	0	tornado/test/websocket_test.py

--e8dc5e42	2013-10-25T15:46:13-04:00	Ben Darnell	ben@bendarnell.com	Add cython-based speedup for websocket mask function.

This optimization is currently activated only if Cython is present
when Tornado is installed.

e8dc5e42
1	0	MANIFEST.in
11	0	setup.py
16	0	tornado/speedups.pyx
26	1	tornado/test/websocket_test.py
28	15	tornado/websocket.py
4	0	tox.ini

--0d0f5835	2013-10-26T20:00:27-04:00	Ben Darnell	ben@bendarnell.com	Add a tox config for the py33 backport of asyncio.

Update some old comments.

0d0f5835
11	7	tox.ini

--e074040c	2013-10-18T16:07:11-04:00	Ben Darnell	ben@bendarnell.com	Split AsyncIOLoop to make it possible to use the global asyncio event loop.

AsyncIOLoop works more like Tornado's native IOLoop so it's better for
our tests, but AsyncIOMainLoop is more appropriate for most real-world
usage.

e074040c
21	6	tornado/platform/asyncio.py
7	2	tornado/test/httpclient_test.py
4	2	tornado/test/process_test.py

--9194631a	2013-10-18T15:46:55-04:00	Ben Darnell	ben@bendarnell.com	Initial version of asyncio/tulip-based IOLoop.

Currently always creates a new asyncio event loop instead of using
an existing one.

9194631a
119	0	tornado/platform/asyncio.py

--491ec5ce	2013-10-18T11:49:25-04:00	Ben Darnell	ben@bendarnell.com	Add close method to websocket client; fix socket leaks in websocket_test.

These leaks are detected only in python 3.4 thanks to its improved
generator GC.

491ec5ce
17	6	tornado/test/websocket_test.py
6	0	tornado/websocket.py

--add55d51	2013-10-26T19:43:48-04:00	Ben Darnell	ben@bendarnell.com	Disable test_subprocess on LayeredTwistedIOLoop.

This test fails occasionally in this configuration (but strangely, the
other subprocess tests work).  I haven't been able to track it down
so just disable it for now to prevent spurious travis-ci errors.

add55d51
8	0	tornado/test/process_test.py

--689d9c8e	2013-10-26T18:27:25-04:00	Ben Darnell	ben@bendarnell.com	Check for the existence of sys.stderr.isatty before calling it.

Only the `write` method is guaranteed to exist on sys.stderr and sys.stdout.

Closes #920.

689d9c8e
1	1	tornado/log.py

--95a25b19	2013-10-20T15:26:27-04:00	Ben Darnell	ben@bendarnell.com	Return the correct type when yielding an empty dict.

95a25b19
1	1	tornado/gen.py
8	0	tornado/test/gen_test.py

--9cc94a29	2013-10-20T12:10:56-07:00	bdarnell	ben@bendarnell.com	Merge pull request #915 from anton-ryzhov/yield_dict

Yielding dicts from coroutine
9cc94a29
--15e2812a	2013-10-17T19:44:09+04:00	Anton Ryzhov	anton@ryzhov.me	Documentation for yielding dicts

15e2812a
2	1	docs/gen.rst
6	2	tornado/gen.py

--71c0a9b8	2013-10-17T19:37:00+04:00	Anton Ryzhov	anton@ryzhov.me	Yielding dict in coroutine

71c0a9b8
10	2	tornado/gen.py
27	0	tornado/test/gen_test.py

--a10c1646	2013-10-13T14:11:10-07:00	bdarnell	ben@bendarnell.com	Merge pull request #913 from tahajahangir/patch-1

Don't raise connection reset errors in `set_nodelay`
a10c1646
--0581156e	2013-10-13T17:07:18-04:00	Ben Darnell	ben@bendarnell.com	Fix double logging of exceptions with both @asynchronous and @coroutine.

Tornado 3.1 made the @asynchronous decorator optional when @coroutine
is used, but if it was used anyway both @asynchronous and the new code
would log any uncaught exceptions.

0581156e
6	0	tornado/web.py

--311126cd	2013-10-13T21:13:45+03:30	Taha Jahangir	mtjahangir@gmail.com	Don't raise connection reset errors in `set_nodelay`

If connection was reset, `request.finish()` wrongly raises socket.error instead of ignoring the error.
311126cd
1	1	tornado/iostream.py

--36e7de9d	2013-10-08T16:24:29-04:00	Brian Turek	brian.turek@gmail.com	Fixed WebSocketClient connections not closing on initial connection failure

36e7de9d
1	0	tornado/websocket.py

--fd3d1919	2013-10-05T20:38:39-04:00	Ben Darnell	ben@bendarnell.com	Polish for extra debug-mode settings.

Split template_cache into two settings, for template and static files.
Rename several options.  Update docs.

fd3d1919
19	15	docs/overview.rst
9	7	tornado/autoreload.py
6	4	tornado/web.py

--8c4392ae	2013-10-05T17:32:23-07:00	bdarnell	ben@bendarnell.com	Merge pull request #896 from jniznan/master

Possibility to disable autoreload when debug is on
8c4392ae
--8ca89169	2013-10-05T20:26:14-04:00	Ben Darnell	ben@bendarnell.com	Expand argument-origin tests to include the plural methods.

8ca89169
35	23	tornado/test/web_test.py

--8fc7a26e	2013-10-05T20:02:03-04:00	Ben Darnell	ben@bendarnell.com	Undo erronous chmod +x's

8fc7a26e
0	0	tornado/escape.py
0	0	tornado/httpserver.py
0	0	tornado/httputil.py
0	0	tornado/test/httputil_test.py
0	0	tornado/test/runtests.py
0	0	tornado/web.py
0	0	tornado/wsgi.py

--f4f85959	2013-10-05T17:01:03-07:00	bdarnell	ben@bendarnell.com	Merge pull request #907 from MrTravisB/master

Support distinguishing argument origin between query and body.
f4f85959
--010728ad	2013-10-05T10:26:15-07:00	Travis Beauvais	tbeauvais@gmail.com	ise items() since iteritems() not in py3

010728ad
1	1	tornado/httpserver.py
1	1	tornado/wsgi.py

--e7ed9d31	2013-10-05T10:13:17-07:00	Travis Beauvais	tbeauvais@gmail.com	Fix wsgi

e7ed9d31
4	1	tornado/wsgi.py

--30d15413	2013-10-05T09:45:45-07:00	Travis Beauvais	tbeauvais@gmail.com	- Plural query/body arg methods.
- Updated Tests.
- Don't change signature of public methods.

30d15413
4	0	docs/web.rst
0	0	tornado/escape.py
4	1	tornado/httpserver.py
3	5	tornado/httputil.py
9	18	tornado/test/httputil_test.py
0	0	tornado/test/runtests.py
51	1	tornado/test/web_test.py
33	13	tornado/web.py
1	1	tornado/wsgi.py

--d45711ab	2013-09-28T12:53:16-07:00	Travis Beauvais	tbeauvais@gmail.com	Support argument origin

d45711ab
4	1	tornado/httpserver.py
5	3	tornado/httputil.py
18	9	tornado/test/httputil_test.py
1	1	tornado/test/web_test.py
34	3	tornado/web.py
5	1	tornado/wsgi.py

--26cb4268	2013-09-04T15:36:00+02:00	Juraj Niznan	jurajniznan@gmail.com	possibility to disable autoreload when debug is on

26cb4268
2	0	tornado/autoreload.py
2	1	tornado/process.py
2	1	tornado/tcpserver.py
10	4	tornado/web.py

--38330def	2013-09-22T13:02:11-04:00	Ben Darnell	ben@bendarnell.com	Fix unix socket error test on python 3 on linux.

The remote address of a unix socket is apparently an empty character
string on mac but an empty byte string on linux.

38330def
1	1	tornado/test/httpserver_test.py

--8fa3bec8	2013-09-22T12:50:19-04:00	Ben Darnell	ben@bendarnell.com	Don't assume IP-style socket addresses in error messages.

Closes #900.

8fa3bec8
2	2	tornado/httpserver.py
24	14	tornado/test/httpserver_test.py

--8bd3ef08	2013-09-08T14:02:21-04:00	Ben Darnell	ben@bendarnell.com	Fix warnings during final GC of the test suite in python 3.4a1.

3.4 can GC things that were uncollectable before, like abandoned generators.
It also seems generates ResourceWarnings for unclosed files in places
where older versions did not.

8bd3ef08
6	3	tornado/test/httpclient_test.py
1	1	tornado/test/simple_httpclient_test.py
12	0	tornado/test/stack_context_test.py

--51c9796b	2013-09-08T12:15:53-04:00	Ben Darnell	ben@bendarnell.com	Add a default_handler_class setting for custom 404 pages.

The previous solution for custom 404s (a r'.*' rule at the end of the
handlers list) proved to be undiscoverable for many users, and it
could be nontrivial to put the rule in the right place in the presence
of multiple add_handlers calls and the implicit StaticFileHandler rules.

51c9796b
45	0	tornado/test/web_test.py
8	1	tornado/web.py

--684fda2b	2013-09-07T21:15:59-04:00	Ben Darnell	ben@bendarnell.com	Set Connection: keep-alive header directly without going through set_header.

set_header is not allowed in WebSocketHandler, but some proxies add
this header unconditionally.

Closes #897.

684fda2b
1	1	tornado/web.py

--b5ec807e	2013-09-07T21:14:26-04:00	Ben Darnell	ben@bendarnell.com	Allow preconstructed HTTPRequest objects in websocket_connect.

In particular this allows for headers to be passed in to simulate
browser authentication behavior.

b5ec807e
16	2	tornado/test/websocket_test.py
8	1	tornado/websocket.py

--13c149a5	2013-09-04T08:41:24-04:00	Stephen McMillen	sclm3000@gmail.com	Clean up GoogleOAuth2Mixin, fold scope and response_type into the base OAuth2Mixin

13c149a5
15	30	tornado/auth.py

--2d5f3964	2013-09-02T13:12:58+08:00	Codeb Fan	codeb2cc@gmail.com	Remove `async_timeout` and use `connect_timeout` instead

2d5f3964
0	3	tornado/httpclient.py
1	1	tornado/simple_httpclient.py
1	1	tornado/test/simple_httpclient_test.py

--0352fe00	2013-09-01T14:37:40-04:00	Ben Darnell	ben@bendarnell.com	Merge branch 'branch3.1'

Conflicts:
	docs/releases.rst
	setup.py
	tornado/__init__.py

0352fe00
--f36652d4	2013-09-01T14:21:36-04:00	Ben Darnell	ben@bendarnell.com	Set version number to 3.1.1

f36652d4
1	1	setup.py
2	2	tornado/__init__.py

--203f3b85	2013-09-01T14:20:03-04:00	Ben Darnell	ben@bendarnell.com	Add 3.1.1 release notes.

203f3b85
1	0	docs/releases.rst
10	0	docs/releases/v3.1.1.rst

--3755fb84	2013-08-04T18:10:21-04:00	Ben Darnell	ben@bendarnell.com	RequestHandler sets its close callback on the HTTPConnection, not the IOStream.

Fixes a bug in which close callbacks would never be called for subsequent
requests on a reused connection.

3755fb84
2	2	tornado/web.py

--a82336b0	2013-07-11T14:00:37-04:00	Ben Darnell	ben@bendarnell.com	Fix exception in StaticFileHandler when range requested is larger than file.

a82336b0
20	0	tornado/test/web_test.py
4	0	tornado/web.py

--83782256	2013-09-01T12:02:08-04:00	Stephen McMillen	sclm3000@gmail.com	Stop making an absolute URL for GoogleOAuth2Mixin

83782256
1	1	tornado/auth.py

--fd3ea209	2013-09-01T11:48:46-04:00	Stephen McMillen	sclm3000@gmail.com	Rename the object param in GoogleOAuth2Mixin from overwrites to extra_params.

fd3ea209
3	5	tornado/auth.py

--ff9f9c3c	2013-08-29T17:32:49-04:00	Ben Darnell	ben@bendarnell.com	Bump verison number to 3.2.dev2

ff9f9c3c
1	1	setup.py
2	2	tornado/__init__.py

--f4ad3b77	2013-08-24T22:06:00-04:00	Ben Darnell	ben@bendarnell.com	Check for empty strings and zero bytes in is_valid_ip.

Closes #893.

f4ad3b77
4	0	tornado/netutil.py
4	0	tornado/test/netutil_test.py

--8e0e4e1c	2013-08-22T18:03:24-07:00	bdarnell	ben@bendarnell.com	Merge pull request #889 from pabelanger/temp/license

Add top level LICENSE file
8e0e4e1c
--7614acb4	2013-08-22T19:28:35-04:00	Paul Belanger	paul.belanger@polybeacon.com	Add top level LICENSE file

Simlpe commit to add the Apache License, Version 2.0 to the top level
directory.

Signed-off-by: Paul Belanger <paul.belanger@polybeacon.com>

7614acb4
202	0	LICENSE

--65a4f8a7	2013-08-21T15:48:55+08:00	Codeb Fan	codeb2cc@gmail.com	Add a test case for async_timeout in SimpleAsyncHTTPClient.

65a4f8a7
18	0	tornado/test/simple_httpclient_test.py

--e48c794c	2013-08-21T14:56:29+08:00	Codeb Fan	codeb2cc@gmail.com	Add timeout for requests in SimpleAsyncHTTPClient's queue.

The connect_timeout and request_timeout in HTTPRequest only matter when
the _HTTPConnection get created. In heavy-loadded situation requests in
SimpleAsyncHTTPClient may have already timeouted before they pop out
from queue and get actual processed. This commit adds an timeout
callback for every request appended to SimpleAsyncHTTPClient's request
queue that cannot be processed immediately.

e48c794c
3	0	tornado/httpclient.py
25	3	tornado/simple_httpclient.py

--8e7effda	2013-08-18T23:54:59-04:00	Ben Darnell	ben@bendarnell.com	In add_callback, hold the lock while writing to the waker pipe.

This protects against a shutdown race condition seen occasionally in
the ThreadedResolver unittests.  This slightly increases contention
on the callback lock in multi-threaded scenarios, but the cost is
limited by the fact that we only write to the pipe once per IOLoop
iteration.

Closes #875.

8e7effda

--6ec711cd	2013-08-18T19:24:14-04:00	Ben Darnell	ben@bendarnell.com	Add a distinct exception for writing a WebSocket message on a closed connection.

This replaces an AttributeError on NoneType.

Closes #879.

6ec711cd
9	0	tornado/websocket.py

--fdbebacb	2013-08-18T19:20:48-04:00	Ben Darnell	ben@bendarnell.com	Document the fact that the {% module %} directive requires a RequestHandler.

Closes #880.

fdbebacb
4	0	tornado/template.py

--96977453	2013-08-18T19:17:15-04:00	Ben Darnell	ben@bendarnell.com	Emphasize and clarify docs for AsyncHTTPClient.close.

96977453
10	3	tornado/httpclient.py

--e03e8263	2013-08-18T19:12:07-04:00	Ben Darnell	ben@bendarnell.com	Document Windows support (or lack thereof).

Closes #871.

e03e8263
6	3	docs/index.rst

--5a4410d8	2013-08-13T00:02:34-04:00	Ben Darnell	ben@bendarnell.com	Update next-release notes.

5a4410d8
17	0	docs/releases/next.rst

--4a1f0246	2013-08-12T23:52:30-04:00	Ben Darnell	ben@bendarnell.com	Add comments for domain and path arguments to cookie-clearing methods.

4a1f0246
12	2	tornado/web.py

--54c7ed3d	2013-08-12T20:47:39-07:00	bdarnell	ben@bendarnell.com	Merge pull request #874 from skazhy/clear-all-cookies-custom-domain

Allow deleting all cookies on custom domains
54c7ed3d
--6d7ae043	2013-08-12T23:34:00-04:00	Ben Darnell	ben@bendarnell.com	Update ca-certificates.crt to the current Mozilla version.

This file was generated by downloading
https://mxr.mozilla.org/mozilla/source/security/nss/lib/ckfw/builtins/certdata.txt?raw=1
in a web browser to avoid the chicken-and-egg problem with mk-ca-bundle's
built-in downloading, and then running "mk-ca-bundle.pl -n".

Note that we were not affected by the recently-fixed curl bug
(https://github.com/bagder/curl/commit/51f0b798fa), but only because
it had been so long since we had updated this file.

6d7ae043
3543	3557	tornado/ca-certificates.crt

--55a6b825	2013-08-09T13:43:20+03:00	Karlis Lauva	skazhy@gmail.com	Allow deleting all cookies on custom domains

55a6b825
2	2	tornado/web.py

--1037f083	2013-08-04T18:35:50-04:00	Ben Darnell	ben@bendarnell.com	Less crude fix for #855: only do anything for already-connected sockets.

1037f083
10	3	tornado/iostream.py

--62d8f121	2013-08-04T18:33:37-04:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'pitrou/issue855-ssl-auto-handshake'

62d8f121
--38f90072	2013-08-04T18:10:21-04:00	Ben Darnell	ben@bendarnell.com	RequestHandler sets its close callback on the HTTPConnection, not the IOStream.

Fixes a bug in which close callbacks would never be called for subsequent
requests on a reused connection.

38f90072
2	2	tornado/web.py

--f2e23670	2013-08-04T18:08:01-04:00	Ben Darnell	ben@bendarnell.com	Clear the IOStream buffers on close even when there is no close callback.

Closes #828. (again)

f2e23670
3	3	tornado/iostream.py

--bfba45ba	2013-08-04T15:45:35-04:00	Ben Darnell	ben@bendarnell.com	Route all callback error logging in IOLoop through handle_callback_exception.

bfba45ba
3	5	tornado/ioloop.py

--d35e5b8a	2013-07-19T19:42:54-07:00	bdarnell	ben@bendarnell.com	Merge pull request #859 from schlamar/patch-1

Make poll timeout patchable.
d35e5b8a
--fa41dd7d	2013-07-19T13:36:00+02:00	Marc Schlaich	marc.schlaich@googlemail.com	Make poll timeout patchable.
fa41dd7d
4	1	tornado/ioloop.py

--3b1ae9d0	2013-07-17T19:30:24-04:00	Stephen McMillen	sclm3000@gmail.com	Fix up documentation for the class and the Sphinx reference.

3b1ae9d0
3	0	docs/auth.rst
2	2	tornado/auth.py

--1942f97d	2013-07-17T18:59:13-04:00	Stephen McMillen	sclm3000@gmail.com	Add in Google OAuth2 support.

1942f97d
1	0	docs/releases/next.rst
82	0	tornado/auth.py

--0f032042	2013-07-17T15:09:05+02:00	Antoine Pitrou	solipsis@pitrou.net	Crude fix for issue #855: automatically initiate SSL handshake in SSLIOStream.
Perhaps this should be exposed as an option instead?

0f032042
4	0	tornado/iostream.py
0	10	tornado/test/iostream_test.py

--191972be	2013-07-15T18:10:05-07:00	bdarnell	ben@bendarnell.com	Merge pull request #851 from taguchimail/master

Correctly handle EAGAIN when writing to PipeIOStreams
191972be
--e4e93e9b	2013-07-15T18:04:09-07:00	bdarnell	ben@bendarnell.com	Merge pull request #848 from SuprDewd/issue_820

Fixed laziness of current_user in UI modules, and added tests for current_user.
e4e93e9b
--11236e77	2013-07-12T16:35:09+10:00	Ben Dyer	ben.dyer@taguchimail.com	Correctly handle EAGAIN when writing to PipeIOStreams

BaseIOStream._handle_write needs to catch IOError and OSError as
well as socket.error in order to handle EAGAIN when writing to a
PipeIOStream (which doesn't appear to raise socket.error when the
buffer is full).

This also provides consistency with the exceptions caught by
BaseIOStream._read_to_buffer.

11236e77
1	1	tornado/iostream.py
18	0	tornado/test/iostream_test.py

--6ccd3aef	2013-07-11T14:00:37-04:00	Ben Darnell	ben@bendarnell.com	Fix exception in StaticFileHandler when range requested is larger than file.

6ccd3aef
20	0	tornado/test/web_test.py
4	0	tornado/web.py

--29e067f0	2013-07-10T00:10:34+00:00	SuprDewd	suprdewd@gmail.com	Fixed laziness of current_user in UI modules, and added tests for current_user. #820

29e067f0
85	0	tornado/test/web_test.py
4	1	tornado/web.py

--c4399628	2013-07-07T13:38:08-04:00	Ben Darnell	ben@bendarnell.com	Clear the write buffer when an IOStream is closed.

Closes #828.

c4399628
4	0	tornado/iostream.py

--a33d48d3	2013-07-07T13:30:00-04:00	Ben Darnell	ben@bendarnell.com	Unify lists of errnos used in IOStream.

We generally want to treat aborted connections the same regardless of the
specific errno, but some calls caught ECONNRESET and ECONNABORTED
while others only caught ECONNRESET.  Reported in #828.

a33d48d3
17	8	tornado/iostream.py

--459a9d83	2013-07-07T12:29:09-04:00	Ben Darnell	ben@bendarnell.com	Start next release notes

459a9d83
1	0	docs/releases.rst
16	0	docs/releases/next.rst

--4851494a	2013-07-07T12:13:52-04:00	Ben Darnell	ben@bendarnell.com	Clear the loop variable in addition to the callback list.

Closes #844.

4851494a
1	1	tornado/ioloop.py

--403d1321	2013-07-05T13:13:40-04:00	Ben Darnell	ben@bendarnell.com	Update FacebookGraphMixin with new authorization url.

The old url still works, but results in an extra redirect.

403d1321
1	1	tornado/auth.py

--8bc337a9	2013-07-05T13:08:44-04:00	Ben Darnell	ben@bendarnell.com	Use TracebackFuture for all internal Futures for better tracebacks on py2.x.

8bc337a9
2	2	tornado/auth.py
2	2	tornado/httpclient.py
1	1	tornado/ioloop.py
3	3	tornado/websocket.py

--a5ab2db7	2013-07-05T12:57:03-04:00	Ben Darnell	ben@bendarnell.com	Clear local variables in IOLoop to allow GC before we start polling.

Closes #836.

a5ab2db7
4	0	tornado/ioloop.py

--c82e97ff	2013-07-05T12:53:37-04:00	Ben Darnell	ben@bendarnell.com	Close pipe file descriptors if subprocess.Popen fails.

Closes #834.

c82e97ff
11	0	tornado/process.py

--5f2c3b36	2013-07-05T12:46:49-04:00	Ben Darnell	ben@bendarnell.com	Add apostrophes to xhtml_escape.

Closes #833.

5f2c3b36
3	2	tornado/escape.py
1	1	tornado/test/escape_test.py

--eea50c08	2013-06-30T20:25:16-04:00	Ben Darnell	ben@bendarnell.com	Update twisted test blacklist for the newly-released 13.1.0.

eea50c08
4	0	tornado/test/twisted_test.py
4	6	tox.ini

--99c911f4	2013-06-30T16:38:44-07:00	bdarnell	ben@bendarnell.com	Merge pull request #831 from erkyrath/master

Fixed incorrect error message in _when_complete (#829)
99c911f4
--cb0dd065	2013-06-24T16:39:25-07:00	Ben Darnell	ben@bendarnell.com	Fix run_with_stack_context test.

This test would never fail because it didn't check the result of its
Future.  Thanks to Florian Ludwig for pointing this out.

cb0dd065
3	2	tornado/test/stack_context_test.py

--50d7a19f	2013-06-22T14:03:50-04:00	Andrew Plotkin	zgithub@eblong.com	Fix issue 829 -- error message is displaying wrong incorrect result.
50d7a19f
1	1	tornado/web.py

--913997eb	2013-06-17T19:51:22-07:00	bdarnell	ben@bendarnell.com	Merge pull request #824 from GrahamDumpleton/master

WSGI specification requires that close() be called on iterable no matter what happens.
913997eb
--bc955f44	2013-06-17T22:49:27-04:00	Ben Darnell	ben@bendarnell.com	Set master branch version to 3.2.dev1

bc955f44
1	1	setup.py
2	2	tornado/__init__.py

--72556cf9	2013-06-17T15:49:42+10:00	Graham Dumpleton	Graham.Dumpleton@gmail.com	WSGI specification requires that close() be called on iterable no matter what happens.

72556cf9
2	0	tornado/wsgi.py

--2d7ce584	2013-06-15T14:15:54-04:00	Ben Darnell	ben@bendarnell.com	Set version to 3.1.

2d7ce584
1	1	setup.py
2	2	tornado/__init__.py

--21b20760	2013-06-15T14:15:24-04:00	Ben Darnell	ben@bendarnell.com	Move next release notes to v3.1.

21b20760
1	1	docs/releases.rst
4	4	docs/releases/{next.rst => v3.1.0.rst}

--d2df3539	2013-06-15T14:03:25-04:00	Ben Darnell	ben@bendarnell.com	Release note updates.

d2df3539
10	0	docs/releases/next.rst

--cdd57fab	2013-06-14T19:30:30-04:00	Ben Darnell	ben@bendarnell.com	Remove obsolete comment about twitter's support for callback urls.

cdd57fab
4	4	tornado/auth.py

--7faf5735	2013-06-13T12:14:52-04:00	Ben Darnell	ben@bendarnell.com	Add another small encoding test for xhtml_escape.

7faf5735
3	0	tornado/test/escape_test.py

--d088cb69	2013-06-11T23:52:36-04:00	Ben Darnell	ben@bendarnell.com	Fix default IOLoop in Subprocess.

Exit callbacks would fail for Subprocesses that did not explicitly
set an IOLoop.

d088cb69
1	1	tornado/process.py

--3cf90980	2013-06-11T23:32:40-04:00	Ben Darnell	ben@bendarnell.com	Set CLOEXEC on subprocess pipe endpoints so they are not inherited by the child.

This is what the subprocess module does when it creates pipes, and is
necessary so that a close of the writing side of the stdin pipe will
be recognized by the child process.

3cf90980
11	3	tornado/process.py
14	0	tornado/test/process_test.py

--44dbe6a0	2013-06-11T19:16:12-07:00	bdarnell	ben@bendarnell.com	Merge pull request #823 from schlamar/bind-sockets-ipv6

Fix bind_sockets if OS does not support IPv6
44dbe6a0
--6161d0f9	2013-06-11T22:11:49-04:00	Ben Darnell	ben@bendarnell.com	Doc updates from Zhigang Wang

6161d0f9
1	8	tornado/gen.py

--be65543b	2013-06-11T14:38:32+02:00	schlamar	marc.schlaich@gmail.com	Fix bind_sockets if OS does not support IPv6

be65543b
5	0	tornado/netutil.py

--3638ce49	2013-06-06T06:32:07-07:00	bdarnell	ben@bendarnell.com	Merge pull request #819 from dominiqueplante/master

update comparison check to follow PEP8
3638ce49
--63328eb5	2013-06-05T23:37:13-07:00	Dominique Plante	dominique.plante@gmail.com	update comparison to follow pep8

63328eb5
1	1	tornado/template.py

--62374071	2013-06-05T21:57:03-04:00	Ben Darnell	ben@bendarnell.com	Document websocket error handling change (and StreamClosedError).

62374071
5	0	docs/iostream.rst
3	0	docs/releases/next.rst
6	0	tornado/iostream.py

--60693e01	2013-06-05T21:43:16-04:00	Ben Darnell	ben@bendarnell.com	Catch StreamClosedErrors in WebSocketHandler and abort.

When the stream is closed with buffered data, the close callback won't
be run until all buffered data is consumed, but any attempt to write
to the stream will fail, as will reading past the end of the buffer.
This requires a try/except around each read or write, analogous to the
one introduced in HTTPServer in commit 3258726f.

Closes #604.
Closes #661.

60693e01
19	1	tornado/test/websocket_test.py
19	0	tornado/websocket.py

--b61bc5a7	2013-06-05T09:21:52-04:00	Ben Darnell	ben@bendarnell.com	Set version number to 3.1b1

b61bc5a7
1	1	setup.py
2	2	tornado/__init__.py

--279d5d30	2013-06-05T01:00:09-04:00	Ben Darnell	ben@bendarnell.com	Release note updates

279d5d30
20	0	docs/releases/next.rst

--e4c266a6	2013-06-02T21:18:32-04:00	Ben Darnell	ben@bendarnell.com	gen.coroutine works with auth now so we can use it in the docs.

e4c266a6
8	8	tornado/auth.py

--e8fae5cf	2013-06-02T21:16:48-04:00	Ben Darnell	ben@bendarnell.com	Merge branch 'branch3.0'

Conflicts:
	docs/releases.rst
	setup.py
	tornado/__init__.py
	tornado/auth.py

e8fae5cf
--1a3088b5	2013-06-02T16:27:28-04:00	Ben Darnell	ben@bendarnell.com	Version bump and release notes for 3.0.2.

1a3088b5
1	0	docs/releases.rst
12	0	docs/releases/v3.0.2.rst
1	1	setup.py
2	2	tornado/__init__.py

--64d8b86d	2013-05-31T21:49:08-04:00	Ben Darnell	ben@bendarnell.com	Update twitter base urls to use api 1.1 and HTTPS.

This is in preparation for the shutdown of version 1 of the API on
June 11.

Closes #809.

64d8b86d
5	5	tornado/auth.py

--39d89b62	2013-06-02T16:04:57-04:00	Ben Darnell	ben@bendarnell.com	Copy .gitignore update from master to branch3.0

39d89b62
2	0	.gitignore

--03578d96	2013-06-01T17:36:20-04:00	Ben Darnell	ben@bendarnell.com	Restore a recently-removed ExpectLog in simple_httpclient_test.

Some IOLoops still log warnings when a connection is refused.

03578d96
1	0	tornado/test/simple_httpclient_test.py

--be529443	2013-06-01T17:30:33-04:00	Ben Darnell	ben@bendarnell.com	Reuse a single ThreadPoolExecutor for all ThreadedResolvers.

The primary motivation is that shutting down a ThreadPoolExecutor takes
100ms in the 2.x backported version of concurrent.futures.  It's also
generally unnecessary to create lots of DNS resolver threads just
because multiple resolver objects are used.

Document ExecutorResolver for public use.

be529443
39	4	tornado/netutil.py
1	1	tornado/test/netutil_test.py

--c938106f	2013-05-31T22:34:54-04:00	Ben Darnell	ben@bendarnell.com	Fix tests broken by move to verify_credentials

c938106f
13	0	tornado/test/auth_test.py

--85ff9eb1	2013-05-31T22:27:02-04:00	Ben Darnell	ben@bendarnell.com	Get the current user's twitter information with /account/verify_credentials.

This is more robust against potentially-changing screen names.

Closes #51.

85ff9eb1
1	1	tornado/auth.py

--5d131ca6	2013-05-31T21:49:08-04:00	Ben Darnell	ben@bendarnell.com	Update twitter base urls to use api 1.1 and HTTPS.

This is in preparation for the shutdown of version 1 of the API on
June 11.

Closes #809.

5d131ca6
5	5	tornado/auth.py

--9298756e	2013-05-31T21:46:53-04:00	Ben Darnell	ben@bendarnell.com	Add a simple end-to-end demo of TwitterMixin.

9298756e
2	0	.gitignore
12	0	demos/twitter/home.html
92	0	demos/twitter/twitterdemo.py
1	1	tornado/auth.py

--fafa9d32	2013-05-31T20:45:42-04:00	Ben Darnell	ben@bendarnell.com	Make the auth*_redirect methods all return Futures.

The OAuth 1.0 authorize_redirect is asynchronous, but this is not obvious
since it doesn't take a callback and instead just calls self.finish.
This fails in coroutines because the request will be auto-finished too soon.
Add Future returns to this method, and to all the rest for consistency.

Update docs and add tests for the various styles of login handlers.

fafa9d32
92	27	tornado/auth.py
50	6	tornado/test/auth_test.py

--57eb740c	2013-05-31T20:03:02-04:00	Ben Darnell	ben@bendarnell.com	Doc patch for 3.0: replace @gen.coroutine with @gen.engine.

The oauth 1.0 redirect methods are asynchronous even though they don't
take a callback, so we don't want the end of the coroutine to trigger
a call to self.finish.

57eb740c
8	8	tornado/auth.py

--78390909	2013-05-31T16:32:22-07:00	bdarnell	ben@bendarnell.com	Merge pull request #817 from ysimonson/feature/no-body-in-logs

Hide request body on error dump
78390909
--fd4d8997	2013-05-31T19:30:37-04:00	Ben Darnell	ben@bendarnell.com	Remove logging of uncaught exceptions from SimpleAsyncHTTPClient.

This logging was basically redundant since the exception is still
made available to the caller through the response's error object.

Closes #815.

fd4d8997
0	1	tornado/simple_httpclient.py
0	5	tornado/test/simple_httpclient_test.py

--9036f061	2013-05-31T14:05:57-04:00	Yusuf Simonson	simonson@gmail.com	Do not include body in HTTPRequest's __repr__

9036f061
1	2	tornado/httpserver.py

--8516e6bb	2013-05-30T07:18:43-07:00	bdarnell	ben@bendarnell.com	Merge pull request #808 from wolever/standards-complient-range

Edge cases of Range header are standards compliant
8516e6bb
--1f45fc82	2013-05-29T15:04:15-04:00	David Wolever	david@wolever.net	Edge cases of Range header are standards compliant

Fix a few Range header edge cases to ensure that it is as
standards-compliant as possible.

1f45fc82
3	0	tornado/httputil.py
14	0	tornado/test/web_test.py
11	8	tornado/web.py

--eff4c5e7	2013-05-29T14:37:51-04:00	David Wolever	david@wolever.net	Return a valid Content-Range header

eff4c5e7
4	4	tornado/httputil.py
3	3	tornado/test/web_test.py

--d68b6295	2013-05-27T18:01:08-04:00	Ben Darnell	ben@bendarnell.com	Add versionadded tags throughout the docs.

d68b6295
9	4	docs/releases/next.rst
6	0	tornado/auth.py
9	0	tornado/escape.py
3	0	tornado/httpclient.py
4	1	tornado/httpserver.py
5	0	tornado/ioloop.py
2	0	tornado/iostream.py
5	1	tornado/netutil.py
14	3	tornado/options.py
2	0	tornado/stack_context.py
3	0	tornado/tcpserver.py
13	6	tornado/testing.py
39	3	tornado/web.py
2	0	tornado/websocket.py

--210312c4	2013-05-27T17:18:38-04:00	Ben Darnell	ben@bendarnell.com	Autopep8 fixes.

210312c4
2	1	tornado/test/gen_test.py

--9ce47af0	2013-05-27T17:15:24-04:00	Ben Darnell	ben@bendarnell.com	Update autopep8 blacklist

9ce47af0
2	1	maint/scripts/run_autopep8.sh

--86143dfe	2013-05-27T17:15:12-04:00	Ben Darnell	ben@bendarnell.com	Update development dependency versions.

86143dfe
10	9	maint/requirements.txt

--e2af4cf2	2013-05-27T15:34:35-04:00	Ben Darnell	ben@bendarnell.com	Remove unused imports identified by pyflakes.

e2af4cf2
0	1	tornado/httputil.py
0	1	tornado/platform/twisted.py
0	1	tornado/stack_context.py

--929f8d11	2013-05-27T15:29:07-04:00	Ben Darnell	ben@bendarnell.com	Fix exception name in backported ssl fix.

929f8d11
1	1	tornado/netutil.py

--7e5d58b0	2013-05-27T15:19:04-04:00	Ben Darnell	ben@bendarnell.com	Add an overridable attribute FacebookGraphMixin._FACEBOOK_BASE_URL.

Closes #241.

7e5d58b0
4	1	docs/releases/next.rst
2	1	tornado/auth.py

--d904186b	2013-05-27T09:02:38-07:00	bdarnell	ben@bendarnell.com	Merge pull request #805 from chinyue/master

Add check in case email.utils.parsedate failed
d904186b
--65acce1b	2013-05-27T11:57:26+08:00	Chinyue Chen	chinyue@gmail.com	Add check in case parsedate failed.

email.utils.parsedate returns None if failed to parse date, add a check
to handle that.

65acce1b
1	0	tornado/web.py

--822e91a4	2013-05-26T21:54:07-04:00	Ben Darnell	ben@bendarnell.com	Use py26-compatible syntax in tests.

822e91a4
4	3	tornado/test/stack_context_test.py

--46850a7b	2013-05-26T17:50:09-04:00	Ben Darnell	ben@bendarnell.com	Fix an exception when the outermost stack_context is deactivated.

Add more tests for deactivation in various scenarios.

46850a7b
7	4	tornado/stack_context.py
46	0	tornado/test/stack_context_test.py

--c7bc4b61	2013-05-26T14:15:12-04:00	Ben Darnell	ben@bendarnell.com	Add a stack_context benchmark.

c7bc4b61
75	0	demos/benchmark/stack_context_benchmark.py

--4b88839a	2013-05-26T12:44:00-04:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'mrjoes/master' into merge

4b88839a
--f55614a6	2013-05-25T19:15:24-04:00	Ben Darnell	ben@bendarnell.com	Organize release notes by module

f55614a6
148	73	docs/releases/next.rst

--dedc6f61	2013-05-25T18:48:30-04:00	Ben Darnell	ben@bendarnell.com	Update release notes

dedc6f61
12	0	docs/releases/next.rst

--467a2973	2013-05-25T18:38:11-04:00	Ben Darnell	ben@bendarnell.com	Remove a seemingly unneded timeout that made this test timing-sensitive.

467a2973
1	1	tornado/test/iostream_test.py

--60952528	2013-05-25T18:31:20-04:00	Ben Darnell	ben@bendarnell.com	Re-add a missing abspath call.

This is needed when __file__ is not absolute.

60952528
1	0	tornado/web.py

--7b03cd62	2013-05-25T18:20:01-04:00	Ben Darnell	ben@bendarnell.com	Avoid references to self.settings in StaticFileHandler instance methods.

This fixes support for secondary StaticFileHandlers configured separately
from the default static_path.

Changed the interfaces of some new-to-3.1 methods to avoid passing in
settings to class methods used in both class and instance contexts.

Closes #796.

7b03cd62
1	1	tornado/test/web_test.py
14	9	tornado/web.py

--9c4a59e1	2013-05-25T17:51:46-04:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'wolever/fix-staticfile-serving' into merge

Conflicts:
	tornado/test/web_test.py

9c4a59e1
--94198fac	2013-05-25T15:26:37-04:00	Ben Darnell	ben@bendarnell.com	Use remove and add instead of update_handler in curl_httpclient.

Curl sometimes fails to tell us that it has closed a socket
and reopened a new one with the same file descriptor, leading
to problems in some IOLoops.  This should fix the recurring problem
of update_handler errors in various less-common use cases.

Closes #801.
Closes #538.

94198fac
10	4	tornado/curl_httpclient.py

--ec7fd4e5	2013-05-25T15:02:08-04:00	Ben Darnell	ben@bendarnell.com	Add a test for digest auth in curl_httpclient.

I wrote this to test for a file descriptor bug, but can't reproduce it
on my system.

ec7fd4e5
50	2	tornado/test/curl_httpclient_test.py

--e7d28e4e	2013-05-24T20:36:31-04:00	Ben Darnell	ben@bendarnell.com	Improve error messages bytes/unicode conversion functions.

e7d28e4e
6	3	tornado/escape.py

--d2e57a33	2013-05-24T00:41:23-04:00	Ben Darnell	ben@bendarnell.com	Revert change to use time.strftime (from 3.0).

time.strftime is influenced by the user's locale (if one is set with
locale.setlocale), so it's not what we want.  Go back to the (slower)
email.utils functions.

Fixes #800.

d2e57a33
7	5	tornado/httputil.py
3	0	tornado/test/runtests.py
3	2	tornado/test/web_test.py
1	1	tornado/web.py
5	1	tox.ini

--5037e323	2013-05-24T00:19:46-04:00	Ben Darnell	ben@bendarnell.com	Add py27-docs to tox envlist.

5037e323
1	1	tox.ini

--a9c94f32	2013-05-23T23:57:30-04:00	Ben Darnell	ben@bendarnell.com	Backport changes from ssl.match_hostname in Python 3.3.

Includes two commits:
* Fix potential CPU DoS via abusive wildcard pattern
  http://hg.python.org/cpython/rev/fafd33db6ff6
* Fall back to common name when SAN doesn't contain any DNS names
  http://hg.python.org/cpython/rev/1b37827984ba

Closes #799.

a9c94f32
11	3	tornado/netutil.py

--a965b360	2013-05-23T23:52:19-04:00	Ben Darnell	ben@bendarnell.com	Fix regression in async prepare: don't continue of prepare called finish.

a965b360
17	0	tornado/test/web_test.py
1	0	tornado/web.py

--8e2052f6	2013-05-23T23:12:05-04:00	Ben Darnell	ben@bendarnell.com	$TMPDIR isn't set on travis-ci.

8e2052f6
1	1	.travis.yml

--3d5333f7	2013-05-23T23:02:37-04:00	Ben Darnell	ben@bendarnell.com	Actually install sphinx on travis; fix directory reference.

3d5333f7
2	1	.travis.yml

--a0c4003a	2013-05-23T22:57:27-04:00	Ben Darnell	ben@bendarnell.com	Fix a dangling doc reference, and add a doc check to tox and travis.

a0c4003a
1	0	.travis.yml
3	2	tornado/web.py
7	0	tox.ini

--dc8316bc	2013-05-22T19:55:23+02:00	cloudaice	cloudaice@163.com	fixed bugs

dc8316bc
2	2	tornado/auth.py

--5398252b	2013-05-23T19:36:43-07:00	bdarnell	ben@bendarnell.com	Merge pull request #789 from ajdavis/opts-enhancements

Make options instance more dict-like.
5398252b
--f57fd525	2013-05-23T17:06:35-04:00	A. Jesse Jiryu Davis	jesse@10gen.com	OptionParser.group_dict() now requires a group. Add as_dict().

f57fd525
7	5	tornado/options.py
5	4	tornado/test/options_test.py

--86c2bf83	2013-05-21T17:06:53-04:00	David Wolever	david@wolever.net	Test revealing StaticFileHandler path regression.

A bisect suggests that the regression was introduced in
3f04edf5546e388293d8d1d2f015ca74f8a93217

86c2bf83
19	6	tornado/test/web_test.py

--2dfbbd61	2013-05-20T22:06:19-07:00	bdarnell	ben@bendarnell.com	Merge pull request #794 from wolever/accept-range-in-static-file-handler

Send HTTP 200 in response to `Range: bytes=0-`
2dfbbd61
--55ae667b	2013-05-21T00:47:15-04:00	David Wolever	david@wolever.net	Only send Content-Range with HTTP 206

55ae667b
1	1	tornado/test/web_test.py

--a1adcaf0	2013-05-21T00:40:50-04:00	David Wolever	david@wolever.net	Note about conditional return of HTTP 206

a1adcaf0
4	0	tornado/web.py

--96e0ea55	2013-05-21T00:37:35-04:00	David Wolever	david@wolever.net	Merge master

96e0ea55
--5b794dee	2013-05-21T00:14:46-04:00	David Wolever	david@wolever.net	Send HTTP 200 in response to Range: bytes=0-

5b794dee
14	2	tornado/test/web_test.py
7	1	tornado/web.py

--1b2901f0	2013-05-20T14:43:12+03:00	Serge S. Koval	serge.koval+github@gmail.com	Parameter is no longer necessary

1b2901f0
4	4	tornado/stack_context.py

--a8bbe101	2013-05-20T14:35:21+03:00	Serge S. Koval	serge.koval+github@gmail.com	Unnecessary import removed

a8bbe101
0	2	tornado/stack_context.py

--6de33e28	2013-05-20T14:34:19+03:00	Serge S. Koval	serge.koval+github@gmail.com	stack_context deactivation support

6de33e28
7	2	tornado/gen.py
50	5	tornado/stack_context.py
13	2	tornado/test/gen_test.py
34	1	tornado/test/stack_context_test.py

--2b054d4d	2013-05-19T23:19:53-04:00	Ben Darnell	ben@bendarnell.com	Release note updates.

2b054d4d
19	0	docs/releases/next.rst

--0c238d6f	2013-05-19T14:23:17-04:00	Ben Darnell	ben@bendarnell.com	Read static files in 64-KB chunks.

Based on #526, but updated for the new interfaces in StaticFileHandler.

Unlike #526, this change does not actually wait for each chunk to be
flushed before reading the next one.  Flushing raises some additional
complications (wsgi compatibility, chunked encoding vs content-length)
that are probably not worthwhile for the intended use of StaticFileHandler.
Reading in chunks has benefits even if we don't wait for the flush
(i.e. memory fragmentation), and this change establishes the necessary
subclass interfaces so we can add flushing in the future.

0c238d6f
43	10	tornado/web.py

--2e73d4b6	2013-05-19T13:57:31-04:00	Ben Darnell	ben@bendarnell.com	Add start and end parameters to get_content() instead of reading everything.

2e73d4b6
18	21	tornado/httputil.py
2	1	tornado/test/web_test.py
31	6	tornado/web.py

--e59aa2f4	2013-05-19T13:18:53-04:00	Ben Darnell	ben@bendarnell.com	Make static_url pass arbitrary kwargs to make_static_url.

The include_version argument to make_static_url is no longer mandatory
in subclasses.

e59aa2f4
1	1	tornado/test/web_test.py
13	9	tornado/web.py

--aadfa668	2013-05-19T13:11:53-04:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'birknilson/static_version_override' into merge

Conflicts:
	tornado/test/web_test.py

aadfa668
--1ccf71a5	2013-05-19T12:41:12-04:00	Ben Darnell	ben@bendarnell.com	Add method StaticFileHandler.get_content_version.

This method is easier for subclasses to override (the base class still
handles caching) and lets us use the post-validation absolute path,
fixing some issues with default_filename support.

Improve StaticFileHandler test coverage.

1ccf71a5
1	0	MANIFEST.in
1	0	setup.py
1	0	tornado/test/static/dir/index.html
54	0	tornado/test/web_test.py
24	9	tornado/web.py

--9f96115b	2013-05-19T12:02:03-04:00	Ben Darnell	ben@bendarnell.com	Add back a lost call to abspath (which may or may not cause test failures
depending on how they were run).

9f96115b
1	1	tornado/web.py

--e8fa7465	2013-05-19T11:53:43-04:00	Ben Darnell	ben@bendarnell.com	Document recent additions to StaticFileHandler.

Make httputil's range functions private.

e8fa7465
13	13	tornado/httputil.py
4	4	tornado/test/web_test.py
145	77	tornado/web.py

--7e95b7cf	2013-05-19T10:55:13-04:00	Ben Darnell	ben@bendarnell.com	Cleanups after the big StaticFileHandler merge.

Some reshuffling of logic between class and instance methods.

7e95b7cf
7	4	tornado/test/web_test.py
56	56	tornado/web.py

--3f04edf5	2013-05-19T00:18:08-04:00	Ben Darnell	ben@bendarnell.com	Rough merge of the birknilson and wolever StaticFileHandler branches.

Some of Birk's new methods become classmethods so they can be used
in get_version.

This silences the warning logged in CustomStaticFileTest.

3f04edf5
19	8	tornado/test/web_test.py
22	24	tornado/web.py

--f0e37159	2013-05-18T23:59:00-04:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'birknilson/refactoring/reduce_statichandler_complexity' into merge

Conflicts:
	tornado/web.py

f0e37159
--25506060	2013-05-18T23:50:19-04:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'wolever/accept-range-in-static-file-handler' into merge

25506060
--c022f7c9	2013-05-18T19:58:18-04:00	Ben Darnell	ben@bendarnell.com	Update redbot tests to work with current versions of redbot.

c022f7c9
10	10	maint/test/redbot/red_test.py
2	0	maint/test/redbot/tox.ini

--8a0e824b	2013-05-18T16:36:37-04:00	David Wolever	david@wolever.net	206 in response to Range, refactor ETag checking

8a0e824b
1	0	tornado/test/web_test.py
33	5	tornado/web.py

--2d683cd9	2013-05-18T16:34:10-04:00	Ben Darnell	ben@bendarnell.com	Add PATCH and OPTIONS support by default to curl_httpclient.

Add some tests to cover all the standard (and non-standard) http methods.

Closes #792.

2d683cd9
1	1	tornado/curl_httpclient.py
21	0	tornado/test/httpclient_test.py
72	0	tornado/test/web_test.py

--4791695b	2013-05-18T16:03:45-04:00	Ben Darnell	ben@bendarnell.com	Remove redundant call to find_named_blocks in template processing.

self._get_ancestors already returns self.file in the appropriate position.

Closes #791.

4791695b
0	1	tornado/template.py

--640db694	2013-05-18T16:00:06-04:00	David Wolever	david@wolever.net	Fixing errant paren, missing format value

640db694
1	1	tornado/httputil.py
2	1	tornado/web.py

--907216ea	2013-05-18T15:30:41-04:00	David Wolever	david@wolever.net	Return HTTP 416 Range Not Satisfiable, not 406

907216ea
1	1	tornado/test/web_test.py
5	2	tornado/web.py

--225aceb6	2013-05-17T12:01:22-04:00	A. Jesse Jiryu Davis	jesse@10gen.com	Replace options.as_dict() with group_dict()

225aceb6
21	6	tornado/options.py
16	5	tornado/test/options_test.py

--f253bea3	2013-05-17T09:49:05-04:00	A. Jesse Jiryu Davis	jesse@10gen.com	options[key] should return a value, not an _Option instance

f253bea3
1	1	tornado/options.py
4	0	tornado/test/options_test.py

--802bb9c6	2013-05-17T00:34:36-04:00	David Wolever	david@wolever.net	Handle negative byte ranges

802bb9c6
17	6	tornado/httputil.py
16	0	tornado/test/web_test.py

--167acb0f	2013-05-17T00:11:40-04:00	David Wolever	david@wolever.net	Tests for Range header

167acb0f
15	0	tornado/test/web_test.py

--b9352f8a	2013-05-17T00:11:22-04:00	David Wolever	david@wolever.net	Set Accept-Range header, return 406 on invalid range

b9352f8a
5	0	tornado/web.py

--54d7594b	2013-05-17T00:08:33-04:00	Ben Darnell	ben@bendarnell.com	Merge branch 'branch3.0'

54d7594b
--6fce4f80	2013-05-17T00:07:25-04:00	Ben Darnell	ben@bendarnell.com	Dereference the current YieldPoint as soon as it resolves.

These references could otherwise keep a chain of old references alive
(test code: https://groups.google.com/group/python-tornado/browse_thread/thread/37d3928817e4924d)

6fce4f80
1	0	tornado/gen.py

--6f2ac240	2013-05-16T23:59:30-04:00	David Wolever	david@wolever.net	Fix bytes/str issues

6f2ac240
7	6	tornado/test/web_test.py

--2e79c063	2013-05-16T22:56:14-04:00	Ben Darnell	ben@bendarnell.com	Add test for option redefinition error.

2e79c063
8	0	tornado/test/options_test.py

--02e9e68f	2013-05-16T19:37:30-04:00	David Wolever	david@wolever.net	(incomplete) Honnoring Range request header

02e9e68f
57	0	tornado/httputil.py
9	0	tornado/web.py

--5dd18d30	2013-05-16T18:45:06-04:00	David Wolever	david@wolever.net	Use 'get_version' to calculate static file hashes.

5dd18d30
14	2	tornado/test/web_test.py
10	1	tornado/web.py

--5868b7ed	2013-05-16T14:14:27-04:00	A. Jesse Jiryu Davis	jesse@10gen.com	Make options instance more dict-like.

5868b7ed
21	0	tornado/options.py
25	0	tornado/test/options_test.py

--91a2a059	2013-05-16T11:06:41+02:00	cloudaice	cloudaice@163.com	comparison to None should be 'if cond is not None'

91a2a059
2	2	tornado/options.py

--66b5db04	2013-05-16T10:54:37+02:00	cloudaice	cloudaice@163.com	fixed bug when raise error in options

66b5db04
2	2	tornado/options.py

--81935f56	2013-05-16T01:44:45-07:00	项超	cloudaice@gmail.com	Merge pull request #1 from facebook/master

merge master from facebook tornado
81935f56
--833d6975	2013-05-15T22:47:35-04:00	Ben Darnell	ben@bendarnell.com	Add a close method to Resolver and use it where necessary.

This fixes a thread leak when running the test suite with
ThreadedResolver.

833d6975
3	0	tornado/concurrent.py
11	0	tornado/netutil.py
11	1	tornado/simple_httpclient.py
1	0	tornado/test/httpclient_test.py
5	3	tornado/test/httpserver_test.py
2	2	tornado/test/simple_httpclient_test.py
3	1	tornado/websocket.py

--34a28586	2013-05-15T21:44:34-04:00	Ben Darnell	ben@bendarnell.com	Add a missing stack_context.wrap in SSLIOStream.connect.

Run some of simple_httpclient test in both HTTP and HTTPS modes, which
would have detected this bug.

Closes #787.

34a28586
1	1	tornado/iostream.py
25	10	tornado/test/simple_httpclient_test.py

--6f9cbabe	2013-05-13T00:49:16-04:00	Ben Darnell	ben@bendarnell.com	Release note updates

6f9cbabe
18	0	docs/releases/next.rst

--582106b9	2013-05-13T00:08:04-04:00	Ben Darnell	ben@bendarnell.com	Remove whitespace/control-character check from RequestHandler.redirect.

Control characters (and newlines and tabs) will be caught in
set_header (which will raise an exception instead of silently
stripping them).  Spaces will now be allowed through, producing
invalid urls, but at least they won't mess up the header framing.

Closes #617.

582106b9
1	3	tornado/web.py

--a6d158f1	2013-05-12T23:32:24-04:00	Ben Darnell	ben@bendarnell.com	Clean up cancelled timeout handles when the queue gets full of them.

Based on a patch by Giampaolo Radola:
https://github.com/facebook/tornado/issues/408

Closes #408.

a6d158f1
11	0	tornado/ioloop.py
14	0	tornado/test/ioloop_test.py

--6b8a38f0	2013-05-12T20:26:44-04:00	Ben Darnell	ben@bendarnell.com	Respect HTTPServer's no_keep_alive option in RequestHandler.clear.

Also make the keep-alive header check case-insensitive for consistency
with the corresponding code in HTTPServer.

Fixes #31.

6b8a38f0
5	2	tornado/web.py

--8b0f5d6c	2013-05-12T20:02:54-04:00	Ben Darnell	ben@bendarnell.com	Allow handlers to assign to self.current_user

8b0f5d6c
15	0	tornado/test/web_test.py
4	0	tornado/web.py

--ca8495d9	2013-05-12T19:34:12-04:00	Ben Darnell	ben@bendarnell.com	Allow prepare to be asynchronous, and detect coroutines by their result.

The prepare method does not use the @asynchronous decorator, only
@gen.coroutine (or @return_future; it detects the Future return type).
The same logic is now available for the regular http verb methods as well.

Closes #605.

ca8495d9
2	0	docs/web.rst
38	2	tornado/test/gen_test.py
42	6	tornado/web.py

--5c47e5d5	2013-05-12T19:32:20-04:00	Ben Darnell	ben@bendarnell.com	Don't try sending another error response in _handle_request_exception
if the stack context catches an error after the request is done.

(this may be related to the error discussed in the comments of #751)

5c47e5d5
28	0	tornado/test/web_test.py
5	0	tornado/web.py

--e2896587	2013-05-12T18:08:23-04:00	Ben Darnell	ben@bendarnell.com	Release note and doc updates

e2896587
1	0	docs/iostream.rst
38	1	docs/releases/next.rst
2	0	docs/testing.rst
1	0	docs/web.rst
1	0	docs/websocket.rst
1	1	tornado/websocket.py

--e6aaaf01	2013-05-12T13:36:56-07:00	bdarnell	ben@bendarnell.com	Merge pull request #748 from wsantos/fix732

Add max_buffer_size argument to TCPServer's constructor
e6aaaf01
--47ab0ce2	2013-05-12T16:24:19-04:00	Ben Darnell	ben@bendarnell.com	Check for ECONNRESET in addition to EPIPE on send().

ECONNRESET appears to be the error code used here on Windows.

Closes #757.
Closes #758.

47ab0ce2
1	1	tornado/iostream.py

--ea37c2ac	2013-05-12T13:16:13-07:00	bdarnell	ben@bendarnell.com	Merge pull request #784 from tahajahangir/patch-1

Don't log EPIPE (broken pipe) errors as warnings
ea37c2ac
--917fe80f	2013-05-12T16:12:27-04:00	Ben Darnell	ben@bendarnell.com	Use plus=False when constructing and decoding url paths.

917fe80f
14	0	tornado/test/web_test.py
3	2	tornado/web.py
2	1	tornado/wsgi.py

--7056d6fb	2013-05-12T15:48:52-04:00	Ben Darnell	ben@bendarnell.com	Add a 'plus' argument to url_{un,}escape, defaulting to True.

Closes #25.

7056d6fb
34	8	tornado/escape.py
15	2	tornado/test/escape_test.py

--0b397cce	2013-05-12T22:46:13+04:30	Taha Jahangir	mtjahangir@gmail.com	Don't log EPIPE (broken pipe) errors as warnings

Broken pipe errors are usually caused by connection reset, and its better to not log EPIPE errors to minimize log spam
0b397cce
4	0	tornado/iostream.py

--3305d192	2013-05-12T13:17:20-04:00	Ben Darnell	ben@bendarnell.com	Add a run_with_stack_context function to more easily use stack contexts in coroutines.

3305d192
24	0	tornado/stack_context.py
21	1	tornado/test/stack_context_test.py

--4dee9157	2013-05-12T12:47:27-04:00	Ben Darnell	ben@bendarnell.com	Add a distinct MissingArgumentError class for get_argument.

Closes #782.

4dee9157
1	0	docs/web.rst
19	1	tornado/test/web_test.py
14	2	tornado/web.py

--5f98cfd2	2013-05-12T12:37:11-04:00	Ben Darnell	ben@bendarnell.com	Move _UIModuleNamespace from the top of web.py to the UIModule implementation.

5f98cfd2
16	16	tornado/web.py

--0d91e8b4	2013-05-10T18:45:33-07:00	bdarnell	ben@bendarnell.com	Merge pull request #783 from gwk/master

Add note about handler regex capture to StaticFileHandler documentation.
0d91e8b4
--f3f59420	2013-05-10T17:32:28-04:00	gwk	george.w.king@gmail.com	Added note regarding regex group capture to StaticFileHandler docs.

f3f59420
6	2	tornado/web.py

--833fb21c	2013-05-08T20:47:57-07:00	bdarnell	ben@bendarnell.com	Merge pull request #777 from mauriciosl/master

bind_unused_port raising gaierror: [Errno 8]
833fb21c
--10cb3988	2013-05-08T22:40:27-04:00	Ben Darnell	ben@bendarnell.com	Add note about frequently-seen pull request to add **kwargs to json_encode.

10cb3988
3	0	tornado/escape.py

--c54c0bf6	2013-05-07T21:31:46-07:00	bdarnell	ben@bendarnell.com	Merge pull request #780 from keakon/patch-1

add missing parameter doc
c54c0bf6
--2a727d91	2013-05-07T21:31:15-07:00	bdarnell	ben@bendarnell.com	Merge pull request #779 from clowwindy/master

fix a typo in httpclient docs
2a727d91
--fb4a1c4e	2013-05-08T11:44:12+08:00	keakon	keakon@gmail.com	add missing parameter doc
fb4a1c4e
1	0	tornado/httpclient.py

--896d8ac4	2013-05-08T11:28:03+08:00	clowwindy	clowwindy42@gmail.com	Update httpclient.py

fix typo
896d8ac4
1	1	tornado/httpclient.py

--dceb544f	2013-05-07T18:00:23-03:00	Mauricio Souza Lima	mauricio.lima@corp.globo.com	change bind_unused_port to pass None as port

bind_unused_port was passing 0 as port number to the socket module.
This generated some exceptional behaviour on systems where nslookup of
localhost didn't returned the loopback interface.

dceb544f
1	1	tornado/testing.py

--84bd64bd	2013-05-05T12:58:34-04:00	Ben Darnell	ben@bendarnell.com	Create UIModule proxies on demand instead of in RequestHandler init.

It would be nice to do something similar for UI methods, but it's tricker
and they are less common (there are three UIModules defined by default
for every handler).

84bd64bd
18	3	tornado/web.py

--4eacb896	2013-05-05T12:31:30-04:00	Ben Darnell	ben@bendarnell.com	Add a test that covers creation and binding of UIModules and methods.

4eacb896
45	1	tornado/test/web_test.py

--671f9924	2013-05-05T11:46:55-04:00	Ben Darnell	ben@bendarnell.com	Precompile the regex used on severy set_header call.

The regex was cached by the re module, but the overhead of looking it
up in the cache added up to almost 1% of the time in benchmark.py.

671f9924
4	1	tornado/web.py

--28746b94	2013-05-05T10:45:36-04:00	Ben Darnell	ben@bendarnell.com	Rewrite HTTPHeaders normalization to limit the growth of the cache.

Reorganize the code into a dict subclass for speed: cache hits are now
just a dict lookup, with no python function call.  (this saves about 1%
on demos/benchmark/benchmark.py on cpython 2.7)

Remove the regex-based fast path, which has not had any real impact since
we added the dict cache.

28746b94
37	27	tornado/httputil.py

--91fd578d	2013-05-05T10:18:13-04:00	Ben Darnell	ben@bendarnell.com	Catch and ignore EINVAL errors from setsockopt.

This seems to happen a lot in benchmark runs when sockets are closed
after a request.

91fd578d
7	0	tornado/iostream.py

--56e56f2a	2013-05-05T09:55:37-04:00	Ben Darnell	ben@bendarnell.com	Clear the NODELAY flag in set_nodelay(False).

56e56f2a
1	1	tornado/iostream.py

--0fe807b5	2013-05-04T21:50:31-04:00	Ben Darnell	ben@bendarnell.com	Add an interface to set the TCP_NODELAY flag on an IOStream.

Use this flag from simple_httpclient (always) and httpserver (when a complete
response is available), and add an accessor for WebSocketHandler.

Also make simple_httpclient send headers and body in a single
IOStream.write call.

0fe807b5
7	0	tornado/httpserver.py
19	0	tornado/iostream.py
4	2	tornado/simple_httpclient.py
14	0	tornado/websocket.py

--1b4556f1	2013-05-04T00:13:53-04:00	Ben Darnell	ben@bendarnell.com	Add overrideable method RequestHandler.log_exception.

Most apps that currently override _handle_request_exception can now
use a combination of log_exception and write_error.

Closes #730.

1b4556f1
54	0	tornado/test/web_test.py
19	6	tornado/web.py

--8512ec47	2013-05-03T22:45:12-04:00	Ben Darnell	ben@bendarnell.com	Update docs for AsyncTestCase to make @gen_test more prominent.

8512ec47
18	6	tornado/testing.py

--5cb85426	2013-04-30T23:37:37-04:00	Ben Darnell	ben@bendarnell.com	Add an exception handler in _try_inline_read to ensure close_callback is run.

This is probably just a stopgap until some larger refactoring around
pending_callbacks, but will help with the max_buffer_size leak.

5cb85426
8	0	tornado/iostream.py

--c633aa50	2013-04-30T23:01:54-04:00	Ben Darnell	ben@bendarnell.com	Fix another case in which streaming read_until_close passed data to the final callback.

Closes #774.

c633aa50
4	0	tornado/iostream.py
12	7	tornado/test/iostream_test.py

--a9b1e8b3	2013-04-29T00:08:41-04:00	Ben Darnell	ben@bendarnell.com	Release note updates.

a9b1e8b3
23	3	docs/releases/next.rst

--12780c1f	2013-04-28T23:25:23-04:00	Ben Darnell	ben@bendarnell.com	Fix a memory leak in HTTPServer with very large file uploads.

This is not quite a true leak since the garbage collector will
reclaim everything when it runs, but it might as well be a leak
because CPython's garbage collector uses heuristics based on the
number of allocated objects to decide when to run.  Since this
scenario resulted in a small number of very large objects, the process
could consume a large amount of memory.

The actual change is to ensure that HTTPConnection always sets a
close_callback on the IOStream instead of waiting for the Application
to set one.  I also nulled out a few more references to break up cycles.

Closes #740.
Closes #747.
Closes #760.

12780c1f
10	15	tornado/httpserver.py

--8fdd57d2	2013-04-28T18:40:31-04:00	Ben Darnell	ben@bendarnell.com	Fix locale.format_date on python 3.

There's probably more work to be done on this largely-untested code,
but this was the case I could find by grepping for stray references
to `long`.

8fdd57d2
2	1	tornado/locale.py
9	0	tornado/test/locale_test.py

--1a1b0498	2013-04-28T18:31:57-04:00	Ben Darnell	ben@bendarnell.com	Prefix all "reserved" names used by the template system with _tt_
to avoid collisions with user-defined names.

Inspired by #768.

1a1b0498
23	20	tornado/template.py
1	1	tornado/test/template_test.py
5	4	tornado/web.py

--9b28d605	2013-04-28T18:17:15-04:00	Ben Darnell	ben@bendarnell.com	Use weakrefs instead of __del__ in reference cycle test.

This avoids an awkward and otherwise meaningless use of Task(None).

9b28d605
11	10	tornado/test/gen_test.py

--572a400a	2013-04-28T18:10:16-04:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'homm/master'

572a400a
--cf59ed64	2013-04-29T01:32:53+04:00	homm	homm86@gmail.com	Use add_callback to trigger ioloop in test.

cf59ed64
1	1	tornado/test/gen_test.py

--a2d2eb2c	2013-04-28T17:29:26-04:00	Ben Darnell	ben@bendarnell.com	Add a --debug_gc flag to runtests to easily turn on extra logging.

a2d2eb2c
7	0	tornado/test/runtests.py

--13aa5a18	2013-04-28T17:28:02-04:00	Ben Darnell	ben@bendarnell.com	Fix options with multiple=True on python 3; add tests.

13aa5a18
2	1	tornado/options.py
37	0	tornado/test/options_test.py

--3acb7494	2013-04-29T00:28:03+04:00	homm	homm86@gmail.com	Fix typo.

3acb7494
4	4	tornado/test/gen_test.py

--d1cc3c99	2013-04-28T23:25:28+04:00	homm	homm86@gmail.com	Avoid circular references in StackContext and ExceptionStackContext.

d1cc3c99
6	0	tornado/stack_context.py

--b4f36e70	2013-04-28T21:35:48+04:00	homm	homm86@gmail.com	Remove reference to last task and his arguments in engine to free memory.

b4f36e70
6	1	tornado/gen.py
21	0	tornado/test/gen_test.py

--520b02f3	2013-04-28T12:17:00-04:00	Ben Darnell	ben@bendarnell.com	Fix resolver implementation on Solaris.

Closes #766.

520b02f3
6	1	tornado/netutil.py

--0bb4d9b9	2013-04-27T22:54:55-04:00	Ben Darnell	ben@bendarnell.com	Catch additional errors to prevent warnings logged when connections
are closed immediately after opening.

Closes #750.

0bb4d9b9
6	1	tornado/iostream.py
7	0	tornado/netutil.py
11	1	tornado/tcpserver.py

--2faa4b61	2013-04-24T13:30:43-03:00	Waldecir Santos	waldecir@gmail.com	Corrected or logic to make use of max_buffer_size if it is setted

2faa4b61
1	1	tornado/iostream.py

--1ec7dfe2	2013-04-17T15:00:09-03:00	Waldecir Santos	waldecir@gmail.com	Expose IOStream's max_buffer_size, so we can set it in TCPServer and others.

1ec7dfe2
2	2	tornado/iostream.py
4	3	tornado/tcpserver.py

--13ee29d1	2013-04-23T20:21:50-07:00	bdarnell	ben@bendarnell.com	Merge pull request #752 from oyerli/patch-1

Unnecessary MozWebSocket in the WebSocket demo
13ee29d1
--54916851	2013-04-23T23:17:24-04:00	Ben Darnell	ben@bendarnell.com	Don't try to run HTTPConnection._close_callback if it is None.

This was the case for WSGIContainer.

Closes #751.

54916851
1	0	tornado/httpserver.py

--1a3eb799	2013-04-23T19:13:34-07:00	bdarnell	ben@bendarnell.com	Merge pull request #745 from davidwilemski/xheaders

support ip lists in X-Forwarded-For headers
1a3eb799
--449652b6	2013-04-21T21:30:23+03:00	Ozan Yerli	oyerli@gmail.com	Unnecessary MozWebSocket in the WebSocket demo

WebSocket is implemented in all modern web browsers.
449652b6
0	4	demos/websocket/static/chat.js

--e23cbd47	2013-04-18T14:20:37-04:00	David Wilemski	david@davidwilemski.com	support ip lists in X-Forwarded-For headers

e23cbd47
3	1	tornado/httpserver.py
15	0	tornado/test/httpserver_test.py

--e4bba5ce	2013-04-18T10:40:20-04:00	Ben Darnell	ben@bendarnell.com	Expand docs for @asynchronous decorator and other cleanups.

Closes #742.

e4bba5ce
9	6	docs/web.rst
2	2	tornado/gen.py
1	1	tornado/testing.py
7	0	tornado/web.py

--efeb3500	2013-04-18T09:33:57-04:00	Ben Darnell	ben@bendarnell.com	Fix the same typo in docs/index.rst

efeb3500
1	1	docs/index.rst

--40a53533	2013-04-18T06:33:39-07:00	bdarnell	ben@bendarnell.com	Merge pull request #739 from eguven/master

Fix typo in README
40a53533
--9cb9fd9b	2013-04-18T10:26:08+03:00	Eren Güven	erenguven0@gmail.com	Fix typo in README

9cb9fd9b
1	1	README.rst

--0d44009c	2013-04-17T20:33:18-07:00	bdarnell	ben@bendarnell.com	Merge pull request #723 from ajdavis/gen-test-timeout

Make gen_test's timeout configurable
0d44009c
--d80fa56c	2013-04-15T18:12:48-07:00	MinRK	benjaminrk@gmail.com	use getattr to check for close method in IOLoop.close

instead of catching AttributeError directly
d80fa56c
4	3	tornado/ioloop.py

--a4279d24	2013-04-15T11:36:58-07:00	MinRK	benjaminrk@gmail.com	try close method to close FDs in IOLoop

If an object has a `close` method, use that first,
then fallback on `os.close`.

This is useful in subclasses that support polling things (zmq sockets, specifically)
that are not simple FDs (and Jython, I hear?).

a4279d24
3	0	tornado/ioloop.py

--688afb5c	2013-04-14T17:03:46-04:00	Ben Darnell	ben@bendarnell.com	Start a new next-release-notes file

688afb5c
1	0	docs/releases.rst
30	0	docs/releases/next.rst

--eb710ff0	2013-04-14T16:07:40-04:00	Ben Darnell	ben@bendarnell.com	Fix the import_object ImportError on Python 3.

Python 3 also changed exception messages slightly so remove one case
from the doctest.

eb710ff0
2	8	tornado/util.py

--55d33945	2013-04-14T16:03:08-04:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'kachayev/import-object'

55d33945
--2744f370	2013-04-14T15:58:02-04:00	Ben Darnell	ben@bendarnell.com	Break up a reference cycle with RequestHandler.ui when handler exits cleanly.

This is not strictly necessary, but allows for CPython's refcounting
GC to reclaim the handler sooner than waiting for a full GC.

Closes #383.

2744f370
3	0	tornado/web.py

--3e4b4cac	2013-04-14T15:42:24-04:00	Ben Darnell	ben@bendarnell.com	Break reference cycle between WebSocketHandler and WebSocketProtocol on close.

This isn't strictly necessary, but it allows the refcounting CPython GC
to clean things up without waiting for a full GC.

Closes #382.

3e4b4cac
1	0	tornado/websocket.py

--6e00a75a	2013-04-14T15:31:50-04:00	Ben Darnell	ben@bendarnell.com	Always send oauth_version=1.0, even when using 1.0a.

This is required by the spec (http://oauth.net/core/1.0/#auth_step1).
Many providers (including Google and Twitter) allow a value of either
1.0 or 1.0a here, but e.g. LinkedIn requires 1.0.

Closes #236.

6e00a75a
3	3	tornado/auth.py
1	1	tornado/test/auth_test.py

--227ca881	2013-04-14T13:58:55-04:00	Ben Darnell	ben@bendarnell.com	Add link to PDF docs.

227ca881
2	0	docs/documentation.rst

--0d80ca78	2013-04-13T20:39:24-04:00	Ben Darnell	ben@bendarnell.com	Merge commit '0771f'

0d80ca78
--8ca13ef0	2013-04-13T20:35:24-04:00	Ben Darnell	ben@bendarnell.com	Handle malformed headers more gracefully.

Closes #699.

8ca13ef0
4	0	tornado/httpserver.py
34	4	tornado/test/httpserver_test.py

--75a29468	2013-04-13T17:15:11-07:00	bdarnell	ben@bendarnell.com	Merge pull request #693 from apieceofredcloth/master

Allow lists as well as tuples in handler definitions
75a29468
--8eacd5ba	2013-04-13T19:35:39-04:00	Ben Darnell	ben@bendarnell.com	Document the fact that auth_mode="digest" only works with curl.

Add check in simple_httpclient that only basic mode is used.

8eacd5ba
2	0	tornado/curl_httpclient.py
4	1	tornado/httpclient.py
3	0	tornado/simple_httpclient.py
19	1	tornado/test/httpclient_test.py

--98b0262d	2013-04-13T16:21:03-07:00	bdarnell	ben@bendarnell.com	Merge pull request #700 from icaromedeiros/master

Digest authentication for curl_httpclient
98b0262d
--e0e8f7e1	2013-04-13T18:22:16-04:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'mrjoes/perf'

e0e8f7e1
--d2457ec1	2013-04-13T18:15:49-04:00	Ben Darnell	ben@bendarnell.com	Parse if-modified-since timestamps without going through time_t or local time.

This fixes a bug on windows in which mktime cannot work with times before
the epoch.

Closes #713.

d2457ec1
24	0	tornado/test/web_test.py
2	2	tornado/web.py

--7485f2a0	2013-04-14T00:28:36+03:00	Serge S. Koval	serge.koval+github@gmail.com	_handle_exception in testing.py ignores passed exception

7485f2a0
1	1	tornado/testing.py

--4059df20	2013-04-13T17:20:07-04:00	Ben Darnell	ben@bendarnell.com	Ignore negative return values from CurlMulti.timeout.

pycurl has a wraparound bug that can turn very large timeouts into
negative numbers.

Closes #712.

4059df20
1	1	tornado/curl_httpclient.py

--78d9cc65	2013-04-14T00:02:49+03:00	Serge S. Koval	serge.koval+github@gmail.com	Don't use range for performance reasons

78d9cc65
3	2	tornado/stack_context.py

--f716564d	2013-04-14T00:00:27+03:00	Serge S. Koval	serge.koval+github@gmail.com	Use range instead of xrange

f716564d
1	1	tornado/stack_context.py

--74c6075d	2013-04-13T16:39:58-04:00	Ben Darnell	ben@bendarnell.com	Fix escaping error in blog demo

Closes #726.

74c6075d
1	1	demos/blog/templates/base.html

--fd728664	2013-04-13T23:12:37+03:00	Serge S. Koval	serge.koval+github@gmail.com	Comparison fix

fd728664
2	2	tornado/stack_context.py

--681e76a4	2013-04-13T23:09:50+03:00	Serge S. Koval	serge.koval+github@gmail.com	Optimized StackContext implementation

681e76a4
2	7	tornado/gen.py
95	76	tornado/stack_context.py
3	0	tornado/test/gen_test.py
0	32	tornado/test/stack_context_test.py

--62dde35e	2013-04-13T14:31:07-04:00	A. Jesse Jiryu Davis	jesse@10gen.com	Configurable timeout for gen_test and AsyncTestCase.wait()

62dde35e
37	18	tornado/test/testing_test.py
22	10	tornado/testing.py

--526f94e5	2013-04-13T14:29:22-04:00	A. Jesse Jiryu Davis	jesse@10gen.com	testing_test style cleanup

526f94e5
2	4	tornado/test/testing_test.py

--741e9c8e	2013-04-12T15:40:33-04:00	A. Jesse Jiryu Davis	jesse@10gen.com	Fix and simplify testing of gen_test

741e9c8e
25	14	tornado/test/testing_test.py

--bf21f83c	2013-04-12T15:39:43-04:00	A. Jesse Jiryu Davis	jesse@10gen.com	gen_test requires `timeout` passed as a keyword argument

bf21f83c
5	12	tornado/testing.py

--7cb8072e	2013-04-12T10:15:21-04:00	Ben Darnell	ben@bendarnell.com	Bump version number in the master branch

7cb8072e
1	1	setup.py
2	2	tornado/__init__.py

--cab39beb	2013-04-11T15:17:26-04:00	A. Jesse Jiryu Davis	jesse@10gen.com	Make gen_test's timeout configurable

cab39beb
54	1	tornado/test/testing_test.py
39	2	tornado/testing.py

--8b728248	2013-04-10T23:53:58-04:00	Ben Darnell	ben@bendarnell.com	Re-add google webmaster tools site verification code.

8b728248
3	0	docs/index.rst

--e5559087	2013-04-08T23:26:51-04:00	Ben Darnell	ben@bendarnell.com	Set version number to 3.0.1

e5559087
1	1	setup.py
2	2	tornado/__init__.py

--1e69faa1	2013-04-08T23:11:08-04:00	Ben Darnell	ben@bendarnell.com	Make the websocket_connect error handling more comprehensive.

Now covers successful http responses that return a non-websocket body
and network errors that prevent a body from being returned.

Added a connect_timeout parameter to websocket_connect.

1e69faa1
2	0	docs/releases/v3.0.1.rst
34	11	tornado/test/websocket_test.py
14	5	tornado/websocket.py

--cc745780	2013-04-08T19:49:29-07:00	bdarnell	ben@bendarnell.com	Merge pull request #707 from protoss-player/master

websocket_connect should not hang on HTTP errors
cc745780
--f229efbf	2013-04-08T22:46:30-04:00	Ben Darnell	ben@bendarnell.com	Update debug mode docs.

f229efbf
20	6	docs/overview.rst

--5b3e9ec4	2013-04-08T22:22:34-04:00	Ben Darnell	ben@bendarnell.com	Add 3.0.1 release notes.

5b3e9ec4
1	0	docs/releases.rst
20	0	docs/releases/v3.0.1.rst

--d42ccf03	2013-04-08T19:00:19-07:00	bdarnell	ben@bendarnell.com	Merge pull request #704 from chrislea/master

Add check for ssl.CertificateError in netutil.py
d42ccf03
--6e63b238	2013-04-08T21:47:35-04:00	Ben Darnell	ben@bendarnell.com	HTTPResponse.request should always be an HTTPRequest, never a _RequestProxy.

Closes #718.

6e63b238
3	0	tornado/httpclient.py
13	0	tornado/test/httpclient_test.py

--fedb7f68	2013-04-08T18:14:26-07:00	bdarnell	ben@bendarnell.com	Merge pull request #720 from wsantos/facebook_future

Add future interface to FacebookGraphMixin
fedb7f68
--5a42c4b9	2013-04-08T15:41:09-03:00	Waldecir Santos	waldecir@gmail.com	Add future interface to FacebookGraphMixin

5a42c4b9
13	12	tornado/auth.py

--d02b031b	2013-04-07T13:07:23-04:00	Ben Darnell	ben@bendarnell.com	Add an ioloop command line flag to the benchmark script.

d02b031b
4	0	demos/benchmark/benchmark.py

--0de3de6f	2013-04-04T22:30:52-04:00	Ben Darnell	ben@bendarnell.com	Update pyuv test for latest version of pyuv and tornado-pyuv

0de3de6f
2	4	maint/test/pyuv/tox.ini

--218ec037	2013-04-02T20:29:34-04:00	Ben Darnell	ben@bendarnell.com	Fix precedence of StringIO imports for LogTrapTestCase.

io.StringIO doesn't allow byte strings even on python 2, which causes
it to fail with the standard log formatter (but not tornado's "pretty
logging").

Closes #708.

218ec037
2	2	tornado/testing.py

--1ebd2457	2013-04-02T19:27:26+04:00	Vadim Semenov	protoss.player@gmail.com	tests: test for websocket_connect failure
1ebd2457
11	0	tornado/test/websocket_test.py

--fc967002	2013-04-02T00:11:10-04:00	Ben Darnell	ben@bendarnell.com	Set the __test__ attribute on gen_test to False.

Without this, if a nose-using project imported gen_test nose would try
to run it as a test.

fc967002
5	0	tornado/testing.py

--a69a43b5	2013-04-02T03:03:12+04:00	Vadim Semenov	protoss.player@gmail.com	websocket_connect: don't hang on HTTP errors
a69a43b5
3	0	tornado/websocket.py

--85478c54	2013-03-31T18:34:48-04:00	Ben Darnell	ben@bendarnell.com	Fix exceptions in the gen module to work correctly with tuple keys.

Previously this would result in a TypeError instead of the intended exception.

85478c54
7	5	tornado/gen.py
65	0	tornado/test/gen_test.py

--476767c4	2013-03-31T17:45:19-04:00	Ben Darnell	ben@bendarnell.com	Merge branch 'branch3.0'

476767c4
--86c07fb4	2013-03-31T17:44:22-04:00	Ben Darnell	ben@bendarnell.com	Copy the notice about dict-style access to options to the backwards-compat section.

86c07fb4
2	0	docs/releases/v3.0.0.rst

--a8d8c38e	2013-03-29T15:33:02-07:00	Chris Lea	chris.lea@gmail.com	add check for ssl.CertificateError

a8d8c38e
1	1	tornado/netutil.py

--6a8bfce5	2013-03-29T09:48:45-04:00	Ben Darnell	ben@bendarnell.com	Include readme in the setup.py long_description field.

This should let pypi pick it up automatically on upload.

6a8bfce5
1	0	MANIFEST.in
4	0	setup.py

--bba0838e	2013-03-29T09:47:52-04:00	Ben Darnell	ben@bendarnell.com	Bump version number in the master branch

bba0838e
1	1	setup.py
2	2	tornado/__init__.py

--c64d3d15	2013-03-29T09:32:15-04:00	Ben Darnell	ben@bendarnell.com	Pypi's rst rendering doesn't like it when the same anchortext is reused
for different targets.

c64d3d15
1	1	README.rst

--6c6b72f3	2013-03-29T09:02:04-04:00	Ben Darnell	ben@bendarnell.com	Set version number to 3.0

6c6b72f3
1	1	setup.py
2	2	tornado/__init__.py

--660f75fa	2013-03-29T09:01:44-04:00	Ben Darnell	ben@bendarnell.com	Finalize 3.0 release notes.

660f75fa
1	1	docs/releases.rst
4	4	docs/releases/{next.rst => v3.0.0.rst}

--c3cc5563	2013-03-29T08:55:39-04:00	Ben Darnell	ben@bendarnell.com	Downloads are now hosted on pypi instead of github.

c3cc5563
1	1	docs/conf.py
0	1	setup.py

--4cdf3007	2013-03-28T00:13:20-04:00	Ben Darnell	ben@bendarnell.com	Fix another broken link on readme.

4cdf3007
1	1	README.rst

--144968b1	2013-03-28T00:12:10-04:00	Ben Darnell	ben@bendarnell.com	Fix rst markup in readme

144968b1
1	1	README.rst

--06e6c078	2013-03-28T00:11:06-04:00	Ben Darnell	ben@bendarnell.com	Replace the outdated README.md with a lightly-edited version of docs/index.rst

06e6c078
0	56	README.md
116	0	README.rst

--9a193ae5	2013-03-27T23:29:01-04:00	Ben Darnell	ben@bendarnell.com	Update pypi description field.

9a193ae5
1	1	setup.py

--dd388bf1	2013-03-27T22:55:04-04:00	Ben Darnell	ben@bendarnell.com	Fix options.parse_config_file on Python 3.

Add a test for this function.

Closes #702.

dd388bf1
3	2	MANIFEST.in
5	4	setup.py
3	2	tornado/options.py
2	0	tornado/test/options_test.cfg
8	0	tornado/test/options_test.py

--e48cf355	2013-03-24T23:22:20-04:00	Ben Darnell	ben@bendarnell.com	Bump version to 3.0b2

e48cf355
1	1	setup.py
2	2	tornado/__init__.py

--646f92fc	2013-03-24T23:21:08-04:00	Ben Darnell	ben@bendarnell.com	Delete HTTPConnection._close_callback in between requests.

Previously the close callback would cause a reference to the previous
RequestHandler to be retained while waiting for the next request.

646f92fc
15	1	tornado/httpserver.py

--e00e4c61	2013-03-23T21:25:14-04:00	Ben Darnell	ben@bendarnell.com	Fix error handling with the combination of @asynchronous and @gen.coroutine.

Also make self.finish() optional for coroutines since we can finish
if the future resolves successfully.

e00e4c61
63	0	tornado/test/gen_test.py
17	1	tornado/web.py

--e8bc6afd	2013-03-22T11:24:49-03:00	icaromedeiros	icaro.medeiros@gmail.com	digest authentication

e8bc6afd
5	0	tornado/curl_httpclient.py
5	3	tornado/httpclient.py

--8ddc760f	2013-03-18T20:52:23-04:00	Ben Darnell	ben@bendarnell.com	Fix draft76 websocket protocol; fix websocket demo for python 3.

8ddc760f
2	1	demos/websocket/chatdemo.py
4	3	tornado/websocket.py

--b5a27a3a	2013-03-17T13:42:12-04:00	Ben Darnell	ben@bendarnell.com	Document tornado.concurrent.Future.

All internal links now point there instead of to concurrent.future.Futures.

b5a27a3a
40	0	docs/concurrent.rst
5	5	docs/gen.rst
10	11	docs/releases/next.rst
4	4	tornado/auth.py
14	11	tornado/concurrent.py
11	12	tornado/gen.py
3	3	tornado/httpclient.py
6	6	tornado/ioloop.py
6	6	tornado/netutil.py

--004bf1c3	2013-03-16T19:34:01-04:00	Ben Darnell	ben@bendarnell.com	Bump version number to 3.0b1

004bf1c3
1	1	setup.py
4	4	tornado/__init__.py

--813f89cf	2013-03-16T19:12:20-04:00	Ben Darnell	ben@bendarnell.com	Convert auth demo to coroutines.

813f89cf
8	10	demos/auth/authdemo.py

--088489ab	2013-03-16T19:05:11-04:00	Ben Darnell	ben@bendarnell.com	Move gen from "utilities" to "asynchronous networking"

088489ab
1	0	docs/networking.rst
0	1	docs/utilities.rst

--6bf30d08	2013-03-16T18:52:07-04:00	Ben Darnell	ben@bendarnell.com	Add/update docs for twisted, caresresolver, and util modules

6bf30d08
20	0	docs/caresresolver.rst
1	0	docs/integration.rst
17	16	docs/releases/next.rst
23	3	docs/twisted.rst
5	0	docs/util.rst
1	0	docs/utilities.rst
4	3	tornado/netutil.py
1	1	tornado/platform/caresresolver.py
2	2	tornado/platform/twisted.py
22	12	tornado/util.py

--8525507e	2013-03-16T18:01:57-04:00	Ben Darnell	ben@bendarnell.com	Doc updates: modules starting with W.

8525507e
120	104	tornado/web.py
16	14	tornado/websocket.py
15	13	tornado/wsgi.py

--17c0e496	2013-03-16T13:43:04-04:00	Ben Darnell	ben@bendarnell.com	Skip ThreadedResolver tests on pypy.

There seem to be problems with thread/signal interactions.

17c0e496
1	1	.travis.yml

--693ebbe1	2013-03-16T13:13:58-04:00	Ben Darnell	ben@bendarnell.com	Doc updates, modules N-T.

693ebbe1
12	11	tornado/netutil.py
23	19	tornado/options.py
6	4	tornado/process.py
17	16	tornado/stack_context.py
4	5	tornado/tcpserver.py
7	11	tornado/template.py
60	68	tornado/testing.py

--c11f8d0e	2013-03-16T11:50:31-04:00	Ben Darnell	ben@bendarnell.com	Doc updates, modules H-L

c11f8d0e
1	1	docs/httpclient.rst
2	2	docs/ioloop.rst
45	47	tornado/httpclient.py
7	8	tornado/httpserver.py
15	11	tornado/httputil.py
79	63	tornado/ioloop.py
53	41	tornado/iostream.py
36	32	tornado/locale.py

--e4feeba2	2013-03-16T10:34:00-04:00	Ben Darnell	ben@bendarnell.com	Turn on dangling-reference warning in sphinx for local builds.

Reformat the HTTPFile docs where were causing odd reference errors.

e4feeba2
1	1	docs/Makefile
3	4	tornado/httputil.py

--ae61c719	2013-03-16T01:41:50-04:00	Ben Darnell	ben@bendarnell.com	Fix dangling references in old release notes.

ae61c719
17	17	docs/releases/v2.1.0.rst
24	24	docs/releases/v2.2.0.rst
1	1	docs/releases/v2.2.1.rst
27	28	docs/releases/v2.3.0.rst
16	16	docs/releases/v2.4.0.rst
1	1	docs/releases/v2.4.1.rst

--1d698551	2013-03-16T01:25:22-04:00	Ben Darnell	ben@bendarnell.com	Fix docstring for locale.load_translations.

When unicode strings started using the u() function, this string
was no longer considered a docstring.

1d698551
6	6	tornado/locale.py

--9f3dec0c	2013-03-16T01:21:53-04:00	Ben Darnell	ben@bendarnell.com	Fix most of the rest of the dangling references.

9f3dec0c
2	2	docs/tcpserver.rst
9	9	docs/twisted.rst
1	1	docs/web.rst
26	26	tornado/httpclient.py
18	16	tornado/httpserver.py
2	2	tornado/httputil.py
5	4	tornado/ioloop.py
2	2	tornado/iostream.py
20	20	tornado/netutil.py
10	9	tornado/options.py
2	2	tornado/process.py
1	1	tornado/stack_context.py
7	7	tornado/tcpserver.py
4	3	tornado/template.py
1	1	tornado/testing.py
8	6	tornado/web.py
2	1	tornado/websocket.py

--974c229c	2013-03-16T00:52:04-04:00	Ben Darnell	ben@bendarnell.com	Update chat demo to be more exemplary.

Use gen.coroutine in auth handler (but not in wait_for_messages
because it makes things less clear and we don't have good cancellation
support).  No more mixin.  Python 3 compatible.

974c229c
67	70	demos/chat/chatdemo.py

--53fc8fd3	2013-03-16T00:18:46-04:00	Ben Darnell	ben@bendarnell.com	Rewrite gen docs to make coroutine the primary decorator.

53fc8fd3
0	1	docs/conf.py
13	3	docs/gen.rst
83	31	tornado/gen.py

--9c1b189f	2013-03-15T23:29:42-04:00	Ben Darnell	ben@bendarnell.com	Fix dangling links in next.rst

9c1b189f
133	128	docs/releases/next.rst

--b166bdf4	2013-03-15T23:09:49-04:00	Ben Darnell	ben@bendarnell.com	Fix dangling references in recently-revised docs.

b166bdf4
1	1	docs/index.rst
15	14	tornado/auth.py
6	6	tornado/autoreload.py
13	9	tornado/concurrent.py

--0984b2cf	2013-03-15T22:56:03-04:00	Ben Darnell	ben@bendarnell.com	Turn on intersphinx support for links to the standard library.

0984b2cf
5	0	docs/conf.py

--f7a2fad7	2013-03-15T22:46:51-04:00	Ben Darnell	ben@bendarnell.com	Minor doc updates for modules A-E

f7a2fad7
15	10	tornado/autoreload.py
6	0	tornado/concurrent.py
1	1	tornado/curl_httpclient.py
10	9	tornado/escape.py

--d577bc51	2013-03-15T22:24:13-04:00	Ben Darnell	ben@bendarnell.com	Convert auth module code samples to use gen.coroutine.

d577bc51
37	56	tornado/auth.py

--950d7d38	2013-03-15T22:16:37-04:00	Ben Darnell	ben@bendarnell.com	Doc updates for the auth module.

950d7d38
26	14	docs/auth.rst
169	104	tornado/auth.py

--059f0e8d	2013-03-14T23:45:48-04:00	Ben Darnell	ben@bendarnell.com	Rename WebSocketConnect to websocket_connect.

Add docs for undocumented functions and modules.

059f0e8d
5	0	docs/concurrent.rst
2	0	docs/ioloop.rst
1	0	docs/networking.rst
1	1	docs/releases/next.rst
5	0	docs/tcpserver.rst
1	0	docs/utilities.rst
8	0	docs/websocket.rst
5	0	tornado/concurrent.py
5	0	tornado/httpserver.py
19	0	tornado/ioloop.py
32	0	tornado/netutil.py
3	3	tornado/test/websocket_test.py
17	4	tornado/websocket.py

--6e3c288e	2013-03-14T23:07:58-04:00	Ben Darnell	ben@bendarnell.com	Add new methods to docs, found by sphinx coverage extension.

6e3c288e
4	2	docs/gen.rst
1	0	docs/ioloop.rst
2	0	docs/testing.rst

--ebac4c0d	2013-03-14T22:44:18-04:00	Ben Darnell	ben@bendarnell.com	Fix bad merge

ebac4c0d
0	3	tornado/httputil.py

--ae166d72	2013-03-14T21:36:34-04:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'norman-labs/branch2.4'

Conflicts:
	tornado/httputil.py

ae166d72
--0771f8c8	2013-03-13T19:21:23+04:00	Vladlen Y. Koshelev	vlad.kosh@gmail.com	Add hooks for HTTPClient and HTTPConnection customization.

0771f8c8
26	18	tornado/simple_httpclient.py

--330d8ecf	2013-03-12T18:54:24-07:00	bdarnell	ben@bendarnell.com	Merge pull request #695 from evanj/master

httpserver: If no X-Scheme header, use the normal request value.
330d8ecf
--081af7c4	2013-03-12T16:23:52-04:00	Evan Jones	ej@evanjones.ca	httpserver: If no X-Scheme header, use the normal request value.

Previously, if xheaders is True and there are no X headers passed (e.g. when
developing locally), scheme was always "http". This makes in "http" or
"https", based on what was actually used for the request.

Add tests for the X-Scheme and X-Forwarded-Proto headers.

081af7c4
17	12	tornado/httpserver.py
42	3	tornado/test/httpserver_test.py

--16932d8c	2013-03-10T23:04:06-04:00	Ben Darnell	ben@bendarnell.com	Rewrite text on index page.

16932d8c
58	66	docs/index.rst

--1dad2811	2013-03-11T10:54:05+08:00	yushengjun	apieceofredcloth@gmail.com	update the statement of testing if a handler is a list or tuple

1dad2811
1	1	tornado/web.py

--22756928	2013-03-10T21:32:36-04:00	Ben Darnell	ben@bendarnell.com	Build pdfs from documentation.rst, not index.rst

22756928
1	1	docs/conf.py

--abc5780a	2013-03-10T19:11:59-04:00	Ben Darnell	ben@bendarnell.com	Just skip all timing-sensitive tests on travis-ci.

abc5780a
2	1	tornado/test/gen_test.py
3	1	tornado/test/ioloop_test.py
2	1	tornado/test/simple_httpclient_test.py
5	0	tornado/test/util.py

--d2a9b85d	2013-03-10T16:49:19-04:00	Ben Darnell	ben@bendarnell.com	Fix internal links for pdf output.

d2a9b85d
4	4	docs/index.rst
6	0	docs/tornado.css

--4ea711af	2013-03-10T16:24:38-04:00	Ben Darnell	ben@bendarnell.com	Fix sphinx config in its new home, restore Makefile and custom css.

4ea711af
24	0	docs/Makefile
3	3	docs/conf.py
1	1	docs/releases/next.rst
67	0	docs/tornado.css

--5872959a	2013-03-10T16:05:20-04:00	Ben Darnell	ben@bendarnell.com	Move website/sphinx/ to docs/, remove rest of appengine website dir.

5872959a
0	0	{website/sphinx => docs}/auth.rst
0	0	{website/sphinx => docs}/autoreload.rst
0	0	{website/sphinx => docs}/conf.py
0	0	{website/sphinx => docs}/documentation.rst
0	0	{website/sphinx => docs}/escape.rst
-	-	{website/sphinx => docs}/favicon.ico
0	0	{website/sphinx => docs}/gen.rst
0	0	{website/sphinx => docs}/httpclient.rst
0	0	{website/sphinx => docs}/httpserver.rst
0	0	{website/sphinx => docs}/httputil.rst
0	0	{website/sphinx => docs}/index.rst
0	0	{website/sphinx => docs}/integration.rst
0	0	{website/sphinx => docs}/ioloop.rst
0	0	{website/sphinx => docs}/iostream.rst
0	0	{website/sphinx => docs}/locale.rst
0	0	{website/sphinx => docs}/log.rst
0	0	{website/sphinx => docs}/netutil.rst
0	0	{website/sphinx => docs}/networking.rst
0	0	{website/sphinx => docs}/options.rst
0	0	{website/sphinx => docs}/overview.rst
0	0	{website/sphinx => docs}/process.rst
0	0	{website/sphinx => docs}/releases.rst
0	0	{website/sphinx => docs}/releases/next.rst
0	0	{website/sphinx => docs}/releases/v1.0.0.rst
0	0	{website/sphinx => docs}/releases/v1.0.1.rst
0	0	{website/sphinx => docs}/releases/v1.1.0.rst
0	0	{website/sphinx => docs}/releases/v1.1.1.rst
0	0	{website/sphinx => docs}/releases/v1.2.0.rst
0	0	{website/sphinx => docs}/releases/v1.2.1.rst
0	0	{website/sphinx => docs}/releases/v2.0.0.rst
0	0	{website/sphinx => docs}/releases/v2.1.0.rst
0	0	{website/sphinx => docs}/releases/v2.1.1.rst
0	0	{website/sphinx => docs}/releases/v2.2.0.rst
0	0	{website/sphinx => docs}/releases/v2.2.1.rst
0	0	{website/sphinx => docs}/releases/v2.3.0.rst
0	0	{website/sphinx => docs}/releases/v2.4.0.rst
0	0	{website/sphinx => docs}/releases/v2.4.1.rst
0	0	{website/sphinx => docs}/stack_context.rst
0	0	{website/sphinx => docs}/template.rst
0	0	{website/sphinx => docs}/testing.rst
-	-	{website/sphinx => docs}/tornado.png
0	0	{website/sphinx => docs}/twisted.rst
0	0	{website/sphinx => docs}/utilities.rst
0	0	{website/sphinx => docs}/web.rst
0	0	{website/sphinx => docs}/webframework.rst
0	0	{website/sphinx => docs}/websocket.rst
0	0	{website/sphinx => docs}/wsgi.rst
0	24	website/Makefile
0	32	website/app.yaml
0	0	website/index.yaml
0	120	website/static/base.css
-	-	website/static/facebook.png
-	-	website/static/favicon.ico
-	-	website/static/friendfeed.png
0	2	website/static/robots.txt
0	67	website/static/sphinx.css
-	-	website/static/tornado.png
-	-	website/static/twitter.png
0	28	website/templates/base.html
0	67	website/templates/index.html
0	1	website/tornado
0	47	website/website.py

--4b182cee	2013-03-10T16:00:58-04:00	Ben Darnell	ben@bendarnell.com	Merge branch 'branch2.4'

4b182cee
--7ce64842	2013-03-10T15:58:05-04:00	Ben Darnell	ben@bendarnell.com	Add favicon to sphinx config

7ce64842
1	0	website/sphinx/conf.py
-	-	website/sphinx/favicon.ico

--95c2ff87	2013-03-10T15:30:18-04:00	Ben Darnell	ben@bendarnell.com	Merge branch 'branch2.4'

95c2ff87
--e49ba0c5	2013-03-10T15:08:43-04:00	Ben Darnell	ben@bendarnell.com	Add a max-width for body text to match the appengine site

e49ba0c5
4	0	website/static/sphinx.css

--0b9e5ce9	2013-03-10T15:04:06-04:00	Ben Darnell	ben@bendarnell.com	Get the tricky parts of the sphinx conversion working.

0b9e5ce9
19	1	website/sphinx/conf.py
11	5	website/sphinx/index.rst

--11af3765	2013-03-10T14:25:06-04:00	Ben Darnell	ben@bendarnell.com	Add a sphinx/rst version of the tornadoweb.org index page. (WIP)

11af3765
0	0	website/sphinx/{index.rst => documentation.rst}
125	15	website/sphinx/index.rst
-	-	website/sphinx/tornado.png

--73ed33ed	2013-03-09T12:30:36-05:00	Ben Darnell	ben@bendarnell.com	sphinx: Set the html_theme variable explicitly.

This should let our custom css show on readthedocs.org.

73ed33ed
1	0	website/sphinx/conf.py

--9ec81761	2013-03-09T22:05:00-05:00	Ben Darnell	ben@bendarnell.com	Relax a timing sensitive test that fails occasionally on travis-ci

9ec81761
1	1	tornado/test/simple_httpclient_test.py

--76a4b1f2	2013-03-09T21:43:11-05:00	Ben Darnell	ben@bendarnell.com	Update release notes

76a4b1f2
15	0	website/sphinx/releases/next.rst

--fb743545	2013-03-09T12:30:36-05:00	Ben Darnell	ben@bendarnell.com	sphinx: Set the html_theme variable explicitly.

This should let our custom css show on readthedocs.org.

fb743545
1	0	website/sphinx/conf.py

--1b578ebd	2013-03-08T21:29:13-05:00	Ben Darnell	ben@bendarnell.com	travis.yml: skip caresresolver test on pypy.

1b578ebd
1	1	.travis.yml

--9e66435e	2013-03-08T19:04:08-05:00	Ben Darnell	ben@bendarnell.com	Fix the inevitable typos in .travis.yml.

9e66435e
2	2	.travis.yml

--7431ffe1	2013-03-08T19:03:49-05:00	Ben Darnell	ben@bendarnell.com	Fix TwistedIOLoop on python 2.6.

7431ffe1
1	1	tornado/platform/twisted.py
10	0	tox.ini

--20afb404	2013-03-08T18:26:36-05:00	Ben Darnell	ben@bendarnell.com	Rewrite travis.yml to make it simpler and more comprehensive.

Unlike tox, travis never reuses virtualenvs so setup/install time dominates.
Each test configuration only takes a few seconds once everything is
installed, so it's better to run fewer environments with lots of tests
in each.

This reduces the configuration to 10 environments (two for each python version,
with and without dependencies installed).  All tests are run in every
environment where they can run (unlike the tox config, which has many
variants that only run under py27)

20afb404
20	50	.travis.yml

--8a198cc4	2013-03-08T17:03:38-05:00	Ben Darnell	ben@bendarnell.com	On python 3, json_encode no longer supports byte strings as input.

This matches the behavior of the underlying json library.
recursive_unicode was more expensive than the actual json encoding for
complex structures, and was useless on python 2.

8a198cc4
5	5	tornado/escape.py
5	3	tornado/test/escape_test.py

--e72eee12	2013-03-08T16:47:30-05:00	Ben Darnell	ben@bendarnell.com	Use native strings instead of byte strings for oauth responses.

e72eee12
11	7	tornado/auth.py
1	1	tornado/test/auth_test.py

--14531ee3	2013-03-08T16:18:22-05:00	Ben Darnell	ben@bendarnell.com	Capture the stack context of gen callbacks as they are generated.

This guards against functions that add their own stack context
without wrapping their callbacks.

14531ee3
2	2	tornado/gen.py
42	4	tornado/test/gen_test.py

--73c0aee4	2013-03-05T21:53:40-05:00	Ben Darnell	ben@bendarnell.com	Use _try_inline_read instead of _read_from_buffer in read_until_close.

Closes #686.

73c0aee4
1	2	tornado/iostream.py

--dbff2b52	2013-03-04T00:00:59-05:00	Ben Darnell	ben@bendarnell.com	Update and expand travis.yml.

This should cover everything from tox.ini

dbff2b52
44	7	.travis.yml

--95508549	2013-03-03T23:09:57-05:00	Ben Darnell	ben@bendarnell.com	Re-apply autopep8.

95508549

--680c4402	2013-03-03T23:07:44-05:00	Ben Darnell	ben@bendarnell.com	Update import_test.

(although I think autoreload is the last module left with no real test
coverage)

680c4402
5	10	tornado/test/import_test.py

--44215060	2013-03-03T23:04:23-05:00	Ben Darnell	ben@bendarnell.com	Pyflakes cleanups.

44215060
1	1	tornado/curl_httpclient.py
4	0	tornado/httputil.py
0	1	tornado/platform/caresresolver.py
1	1	tornado/simple_httpclient.py
0	1	tornado/testing.py
7	16	tornado/websocket.py

--9364e5e1	2013-03-03T22:54:38-05:00	Ben Darnell	ben@bendarnell.com	Fix type check that pep8 complains about.

9364e5e1
2	1	tornado/curl_httpclient.py

--7f2bcfe8	2013-03-03T22:47:30-05:00	Ben Darnell	ben@bendarnell.com	Organize release notes and add highlights section.

7f2bcfe8
130	80	website/sphinx/releases/next.rst

--b8063e48	2013-03-03T20:47:15-05:00	Ben Darnell	ben@bendarnell.com	Introduce TracebackFuture and use it where applicable.

This allows for better tracebacks when using Futures on Python 2.

b8063e48
34	6	tornado/concurrent.py
7	9	tornado/gen.py
5	4	tornado/ioloop.py
21	0	tornado/test/concurrent_test.py

--e9e003eb	2013-03-03T20:14:22-05:00	Ben Darnell	ben@bendarnell.com	When @return_future's callback is run with no args, don't pass an arg to client callback.

e9e003eb
7	1	tornado/concurrent.py
9	1	tornado/test/concurrent_test.py

--94a5a402	2013-03-03T19:29:39-05:00	Ben Darnell	ben@bendarnell.com	Allow the callback in @return_future to be run with no arguments.

94a5a402
2	1	tornado/concurrent.py
9	0	tornado/test/concurrent_test.py

--a522a2f1	2013-03-03T18:22:52-05:00	Ben Darnell	ben@bendarnell.com	Bump version to 2.4.post4

a522a2f1
1	1	setup.py
2	2	tornado/__init__.py

--e97f9afe	2013-03-03T18:17:29-05:00	Ben Darnell	ben@bendarnell.com	return_future and friends now pass the result, not the Future, to the callback.

Functions and decorators that take an optional callback and return
a future (return_future, gen.concurrent, and run_executor) no longer pass
the Future object to the callback.  This results in somewhat less flexible
error handling, but is more consistent with prevailing practice without
Futures.

e97f9afe
14	7	tornado/concurrent.py
6	2	tornado/gen.py
1	1	tornado/netutil.py
2	2	tornado/simple_httpclient.py
10	9	tornado/test/concurrent_test.py
2	4	tornado/test/gen_test.py
2	3	tornado/test/netutil_test.py

--bc4917b6	2013-03-03T12:23:28-05:00	Ben Darnell	ben@bendarnell.com	Use autoescape in websocket chat demo.

bc4917b6
0	1	demos/websocket/chatdemo.py
1	1	demos/websocket/templates/index.html
1	2	demos/websocket/templates/message.html

--5c7d6d3e	2013-03-03T12:18:34-05:00	Ben Darnell	ben@bendarnell.com	Autoescaping is now the default, so remove the explicit setting in chatdemo.

5c7d6d3e
0	1	demos/chat/chatdemo.py

--920f96db	2013-03-03T12:16:03-05:00	Ben Darnell	ben@bendarnell.com	Use distinct cookie names across all the demo apps.

920f96db
3	3	demos/auth/authdemo.py
3	3	demos/blog/blog.py
3	3	demos/chat/chatdemo.py
3	3	demos/facebook/facebook.py

--17ec459c	2013-03-03T12:09:29-05:00	Ben Darnell	ben@bendarnell.com	Use autoescape in blog demo.

17ec459c
1	1	demos/blog/blog.py
1	1	demos/blog/templates/archive.html
3	3	demos/blog/templates/compose.html
1	1	demos/blog/templates/entry.html
6	6	demos/blog/templates/feed.xml
1	1	demos/blog/templates/home.html
2	2	demos/blog/templates/modules/entry.html

--9876ede0	2013-03-03T11:56:47-05:00	Ben Darnell	ben@bendarnell.com	Remove embedded copy of markdown.py from blog demo.

9876ede0
2	1	demos/blog/README
0	1877	demos/blog/markdown.py

--f220182a	2013-03-03T11:54:35-05:00	Ben Darnell	ben@bendarnell.com	Use autoescape in appengine blog demo.

f220182a
0	1	demos/appengine/blog.py
1	1	demos/appengine/templates/archive.html
5	5	demos/appengine/templates/base.html
3	3	demos/appengine/templates/compose.html
1	1	demos/appengine/templates/entry.html
6	6	demos/appengine/templates/feed.xml
1	1	demos/appengine/templates/home.html
2	2	demos/appengine/templates/modules/entry.html

--19f7351d	2013-03-03T11:16:07-05:00	Ben Darnell	ben@bendarnell.com	Remove markdown support from app engine blog demo.

19f7351d
7	6	demos/appengine/blog.py
0	1877	demos/appengine/markdown.py
2	2	demos/appengine/static/blog.css
2	3	demos/appengine/templates/compose.html

--b00167b9	2013-03-03T11:08:25-05:00	Ben Darnell	ben@bendarnell.com	Modernize app engine demo: py27, non-CGI interface, get_template_namespace.

b00167b9
4	3	demos/appengine/app.yaml
4	12	demos/appengine/blog.py

--d5426b86	2013-03-02T19:37:02-05:00	Ben Darnell	ben@bendarnell.com	Upgrade requirement packages.

Upgrades are available for tox and virtualenv, but don't work for me
because of https://github.com/pypa/virtualenv/issues/366 (to be fixed
in virtualenv 1.9).

d5426b86
8	8	maint/requirements.txt

--56393ac9	2013-03-02T19:29:04-05:00	Ben Darnell	ben@bendarnell.com	Release note updates

56393ac9
11	0	website/sphinx/releases/next.rst

--2ad9659f	2013-03-02T19:08:22-05:00	Ben Darnell	ben@bendarnell.com	All functions that take an IOLoop default to current() instead of instance().

This means among other things that it's no longer necessary to pass
IOLoops explicitly in tests.

2ad9659f
1	1	tornado/autoreload.py
1	1	tornado/httpclient.py
2	2	tornado/ioloop.py
1	1	tornado/iostream.py
2	2	tornado/netutil.py
1	1	tornado/platform/caresresolver.py
3	3	tornado/platform/twisted.py
1	1	tornado/process.py
1	1	tornado/tcpserver.py
2	2	tornado/test/iostream_test.py
1	1	tornado/websocket.py

--80bee0c2	2013-03-02T18:58:02-05:00	Ben Darnell	ben@bendarnell.com	Add IOLoop.run_sync convenience method.

80bee0c2
2	4	maint/scripts/test_resolvers.py
3	9	tornado/httpclient.py
52	2	tornado/ioloop.py
42	1	tornado/test/ioloop_test.py
5	14	tornado/testing.py

--7c85e784	2013-03-02T18:46:07-05:00	Ben Darnell	ben@bendarnell.com	Test the IOLoop.current method and add it to TwistedIOLoop.

7c85e784
1	0	tornado/platform/twisted.py
18	0	tornado/test/ioloop_test.py
1	0	tornado/test/twisted_test.py

--0e15cdca	2013-03-02T17:27:02-05:00	Ben Darnell	ben@bendarnell.com	Make DummyFuture class private.

It's now only exposed and used when concurrent.futures is not available.

0e15cdca
2	2	tornado/concurrent.py
2	12	tornado/ioloop.py

--75851332	2013-03-02T14:55:10-05:00	Ben Darnell	ben@bendarnell.com	Fix twisted version check.

75851332
1	1	tornado/test/netutil_test.py

--4d51ee80	2013-03-02T11:48:53-08:00	bdarnell	ben@bendarnell.com	Merge pull request #686 from omribahumi/master

Flushing the buffer when calling IOStream.read_until_close()
4d51ee80
--4bfbbad3	2013-03-02T14:45:43-05:00	Ben Darnell	ben@bendarnell.com	Fix resolver test script.

4bfbbad3
1	1	maint/scripts/test_resolvers.py

--fbba77ea	2013-03-02T14:30:42-05:00	Ben Darnell	ben@bendarnell.com	Convert resolvers to @gen.coroutine.

This adds a requirement that there be a "current" IOLoop, which introduced
a few ripples.

fbba77ea
2	1	tornado/httpclient.py
3	4	tornado/platform/caresresolver.py
5	4	tornado/platform/twisted.py
1	0	tornado/test/netutil_test.py
2	0	tornado/test/twisted_test.py

--b0212d54	2013-03-02T14:00:53-05:00	Ben Darnell	ben@bendarnell.com	Test twisted and cares resolvers in netutil_test.

b0212d54
27	0	tornado/test/netutil_test.py

--6c6aba46	2013-03-02T13:55:35-05:00	Ben Darnell	ben@bendarnell.com	Convert auth methods from return_future plus gen.engine to gen.coroutine.

6c6aba46
6	8	tornado/auth.py

--58b0dabd	2013-03-02T13:29:48-05:00	Ben Darnell	ben@bendarnell.com	Add @gen.coroutine and gen.Return for future-based (and py33-style) coroutines.

58b0dabd
86	6	tornado/gen.py
275	2	tornado/test/gen_test.py
1	1	tornado/testing.py

--a070dec2	2013-02-28T20:18:22+02:00	Omri Bahumi	omrib@everything.me	Python3 compatibility for test_streaming_callback_with_data_in_buffer

a070dec2
4	4	tornado/test/iostream_test.py

--abaecb03	2013-02-28T19:49:50+02:00	Omri Bahumi	omrib@everything.me	Added test_streaming_callback_with_data_in_buffer to iostream_test.py

abaecb03
16	0	tornado/test/iostream_test.py

--4de9ab87	2013-02-28T00:11:32+02:00	Omri Bahumi	omrib@everything.me	Flushing the buffer when calling IOStream.read_until_close()

Ran into this when calling IOStream.read_until_close() after calling
IOStream.read_until("\r\n"), leaving data in the buffer.

4de9ab87
1	0	tornado/iostream.py

--bdede4c9	2013-02-26T22:53:46-05:00	Ben Darnell	ben@bendarnell.com	Accumulated release note updates.

bdede4c9
35	0	website/sphinx/releases/next.rst

--054e644e	2013-02-24T14:19:23-05:00	Ben Darnell	ben@bendarnell.com	Simplify the Resolver interface.

Most callers do not need the full generality of getaddrinfo, and
most alternative resolver implementations cannot provide it.

054e644e
17	12	tornado/netutil.py
2	3	tornado/platform/caresresolver.py
2	3	tornado/platform/twisted.py
4	6	tornado/simple_httpclient.py
5	16	tornado/test/netutil_test.py

--d735bd81	2013-02-24T12:43:06-05:00	Ben Darnell	ben@bendarnell.com	Add a resolver test script for external queries that cannot be unittested.

Note an issue with CaresResolver (it cannot resolve www.dropbox.com when
family==AF_UNSPEC)

d735bd81
1	0	maint/requirements.txt
60	0	maint/scripts/test_resolvers.py
5	0	tornado/platform/caresresolver.py
2	2	tornado/platform/twisted.py

--b02c202b	2013-02-24T12:25:04-05:00	Ben Darnell	ben@bendarnell.com	Add a c-ares-based resolver implementation.

b02c202b
72	0	tornado/platform/caresresolver.py
18	1	tox.ini

--7069d183	2013-02-24T11:47:30-05:00	Ben Darnell	ben@bendarnell.com	Move HTTPServer's valid_ip function to netutil.

7069d183
2	13	tornado/httpserver.py
17	0	tornado/netutil.py
13	1	tornado/test/netutil_test.py

--0e44baf7	2013-02-23T18:46:08-05:00	Ben Darnell	ben@bendarnell.com	Add a test that runs TwistedIOLoop on top of TornadoReactor.

This exposed a few more small bugs.

0e44baf7
14	7	tornado/platform/twisted.py
1	1	tornado/test/process_test.py
36	0	tornado/test/twisted_test.py
12	3	tox.ini

--57130dfb	2013-02-23T13:15:04-05:00	Ben Darnell	ben@bendarnell.com	Add TwistedResolver for non-threaded async DNS resolution.

57130dfb
66	2	tornado/platform/twisted.py
10	1	tox.ini

--5d230aa0	2013-02-23T12:53:04-05:00	Ben Darnell	ben@bendarnell.com	If a @return_future function raises immediately, don't run the callback.

5d230aa0
9	2	tornado/concurrent.py
4	7	tornado/test/concurrent_test.py

--99188df2	2013-02-23T10:59:13-05:00	Ben Darnell	ben@bendarnell.com	stack_context.wrap() the callback passed in to a @return_future function.

99188df2
2	2	tornado/concurrent.py
6	0	tornado/test/concurrent_test.py

--4731072f	2013-02-23T10:53:31-05:00	Ben Darnell	ben@bendarnell.com	Move fallback exception raising in AsyncTestCase from run() to tearDown().

This allows the exception to be reported as a test failure instead of
making the test run blow up.

4731072f
9	2	tornado/testing.py

--4e156a97	2013-02-23T10:31:53-05:00	Ben Darnell	ben@bendarnell.com	Add a test case for the synchronous HTTPClient.

4e156a97
43	1	tornado/test/httpclient_test.py

--d4167f97	2013-02-20T22:03:28-05:00	Ben Darnell	ben@bendarnell.com	Clean up more timeouts when shutting down HTTP clients or finishing tests.

d4167f97
2	0	tornado/curl_httpclient.py
1	0	tornado/test/httpclient_test.py
3	2	tornado/testing.py

--88e94c81	2013-02-20T18:51:54-08:00	bdarnell	ben@bendarnell.com	Merge pull request #684 from vkosh/master

Remove timeout callback on errors during connect or request.
88e94c81
--f5c6a4d4	2013-02-20T02:27:11+04:00	Vladlen Y. Koshelev	vlad.kosh@gmail.com	Remove timeout callback on errors during connect or request.

f5c6a4d4
6	4	tornado/simple_httpclient.py

--1c1f85d0	2013-02-18T23:20:16-05:00	Ben Darnell	ben@bendarnell.com	Test the @return_future return value assertion and move it again.

1c1f85d0
6	2	tornado/concurrent.py
15	1	tornado/test/concurrent_test.py

--f695e4e4	2013-02-18T23:03:19-05:00	Ben Darnell	ben@bendarnell.com	Exceptions in a @return_future function go to both the caller and the Future.

Add a test for the UnboundLocal error seen here and remove the
no-longer-needed initialization.  I'm not 100% sure we want to do both
(due to the risk of callback-doubling), but the old way where the caller
saw one error and the future resolved to a different error was clearly
incorrect, and leaving the future unresolved doesn't seem right either.

f695e4e4
1	1	tornado/concurrent.py
5	0	tornado/test/concurrent_test.py

--7368cfcc	2013-02-18T16:23:36-08:00	bdarnell	ben@bendarnell.com	Merge pull request #683 from vkosh/master

Unshadow list built-in in httputil.HTTPHeaders.get_all()
7368cfcc
--b3585b0e	2013-02-19T01:16:54+04:00	Vladlen Y. Koshelev	vlad.kosh@gmail.com	Fix docstrings quoting.

b3585b0e
10	10	tornado/stack_context.py
1	1	tornado/test/httpserver_test.py
6	6	tornado/testing.py

--4a5c2673	2013-02-19T00:39:17+04:00	Vladlen Y. Koshelev	vlad.kosh@gmail.com	Rename local var so it doesn't shadow the "list" built-in.

4a5c2673
2	2	tornado/httputil.py

--ff2e119a	2013-02-18T10:46:48-05:00	Ben Darnell	ben@bendarnell.com	Add pypi classifiers so we'll show up on python3-compatible lists.

ff2e119a
11	0	setup.py

--96f654ed	2013-02-18T00:28:05-05:00	Ben Darnell	ben@bendarnell.com	Ensure the result variable is initialized even when an exception is handled.

96f654ed
1	0	tornado/concurrent.py

--b605c0a5	2013-02-17T23:57:38-05:00	Ben Darnell	ben@bendarnell.com	Make Resolver's callback argument optional when the Future result is used.

b605c0a5
1	1	tornado/concurrent.py
12	1	tornado/test/netutil_test.py

--21acd099	2013-02-17T23:12:15-05:00	Ben Darnell	ben@bendarnell.com	Make Resolver Configurable and test with a threaded resolver.

21acd099
24	5	tornado/netutil.py
2	1	tornado/simple_httpclient.py
1	1	tornado/test/httpserver_test.py
6	8	tornado/test/netutil_test.py
3	0	tornado/test/runtests.py
1	1	tornado/websocket.py
10	1	tox.ini

--5ba5cdcc	2013-02-17T22:46:52-05:00	Ben Darnell	ben@bendarnell.com	Add a future-based interface to AsyncHTTPClient.fetch.

5ba5cdcc
1	1	tornado/curl_httpclient.py
24	2	tornado/httpclient.py
0	1	tornado/simple_httpclient.py
15	2	tornado/test/httpclient_test.py

--1785e0a7	2013-02-17T19:16:14-05:00	Ben Darnell	ben@bendarnell.com	simple_httpclient._HTTPConnection now takes a resolver directly.

This makes the "client" parameter optional for websocket connections.

1785e0a7
4	3	tornado/simple_httpclient.py
2	2	tornado/test/httpserver_test.py
5	8	tornado/websocket.py

--20a3d626	2013-02-17T19:08:10-05:00	Ben Darnell	ben@bendarnell.com	Make simple_httpclient's hostname_mapping a Resolver wrapper.

20a3d626
37	1	tornado/netutil.py
3	4	tornado/simple_httpclient.py
11	1	tornado/test/simple_httpclient_test.py

--909c0336	2013-02-17T18:40:51-05:00	Ben Darnell	ben@bendarnell.com	Add a test for simple_httpclient's hostname_mapping.

909c0336
17	0	tornado/test/simple_httpclient_test.py

--5b459c07	2013-02-17T18:28:44-05:00	Ben Darnell	ben@bendarnell.com	Centralize some shared logic bewteen HTTPClient implementations.

5b459c07
3	9	tornado/curl_httpclient.py
16	0	tornado/httpclient.py
5	14	tornado/simple_httpclient.py

--1824da47	2013-02-17T17:54:09-05:00	Ben Darnell	ben@bendarnell.com	Use the future interface internally for _oauth_get_user.

Added a new method _oauth_get_user_future because the old method was
de facto public for third-party auth plugins.

1824da47
29	16	tornado/auth.py

--6fd76976	2013-02-17T17:13:45-05:00	Ben Darnell	ben@bendarnell.com	Add future interface to most of the rest of the auth module.

_oauth_get_user still uses callbacks internally, and I haven't
changed the old deprecated FacebookMixin.

6fd76976
31	26	tornado/auth.py
13	0	tornado/concurrent.py

--a3a709ae	2013-02-17T16:21:01-05:00	Ben Darnell	ben@bendarnell.com	Add a Future-based interface to tornado.auth's twitter_request.

This allows new clients to receive exception messages from failed
requests, without breaking compatibility with existing callback-based
clients.

a3a709ae
42	10	tornado/auth.py
46	5	tornado/test/auth_test.py

--c567f04f	2013-02-17T12:25:22-05:00	Ben Darnell	ben@bendarnell.com	Factor argument replacement logic out of @return_future

c567f04f
6	18	tornado/concurrent.py
21	1	tornado/test/util_test.py
40	0	tornado/util.py

--75176a01	2013-02-17T00:20:01-05:00	Ben Darnell	ben@bendarnell.com	Add autobahn tests for client side of websockets.

75176a01
41	27	maint/test/websocket/client.py
19	0	maint/test/websocket/fuzzingclient.json
12	0	maint/test/websocket/fuzzingserver.json
20	0	maint/test/websocket/run-client.sh
1	1	maint/test/websocket/{run.sh => run-server.sh}

--8e290020	2013-02-17T00:03:45-05:00	Ben Darnell	ben@bendarnell.com	Add a simple websocket client and unittest

8e290020
5	2	tornado/simple_httpclient.py
1	0	tornado/test/runtests.py
32	0	tornado/test/websocket_test.py
155	22	tornado/websocket.py

--ddbb7e8a	2013-02-16T11:18:50-05:00	Ben Darnell	ben@bendarnell.com	Add a test for subprocess with stderr as a separate stream

ddbb7e8a
10	0	tornado/test/process_test.py

--e7665ccf	2013-02-16T08:15:20-08:00	bdarnell	ben@bendarnell.com	Merge pull request #682 from martynsmith/patch-1

Fix typo in stream setup for stderr
e7665ccf
--7b7c4274	2013-02-16T11:07:23-05:00	Ben Darnell	ben@bendarnell.com	Use xrange instead of range on python 2.

Closes #681.

7b7c4274
5	1	tornado/websocket.py

--08898b35	2013-02-16T15:25:26+13:00	Martyn Smith	martyn@dollyfish.net.nz	Fix typo in stream setup for stderr
08898b35
1	1	tornado/process.py

--9bf6dd15	2013-02-15T20:30:50-05:00	Ben Darnell	ben@bendarnell.com	s/xrange/range/ for python 3.

Closes #681.

9bf6dd15
1	1	tornado/websocket.py

--1282b6ef	2013-02-15T19:45:53-05:00	Ben Darnell	ben@bendarnell.com	Add an assertion for inconsistent StackContexts when used with generators.

1282b6ef
28	4	tornado/stack_context.py
43	2	tornado/test/stack_context_test.py

--d98afd41	2013-02-13T23:03:25-05:00	Ben Darnell	ben@bendarnell.com	Add a tox config for testing with the pyuv-based IOLoop.

d98afd41
15	0	maint/test/pyuv/tox.ini

--0126e2ea	2013-02-13T22:52:17-05:00	Ben Darnell	ben@bendarnell.com	Document and test the ability to call remove_timeout after it has fired.

0126e2ea
3	1	tornado/ioloop.py
6	0	tornado/test/ioloop_test.py

--7327cde9	2013-02-13T22:35:14-05:00	Ben Darnell	ben@bendarnell.com	Fix a straggling reference to netutil.TCPServer in comments.

7327cde9
1	1	tornado/httpserver.py

--3b109377	2013-02-13T21:05:41-05:00	Ben Darnell	ben@bendarnell.com	Prevent __future__ imports in tornado from leaking into user code.

This could happen with the command-line mode of autoreload or
in templates.

3b109377
3	1	tornado/template.py
10	0	tornado/test/template_test.py
19	1	tornado/test/util_test.py
6	16	tornado/util.py

--b07a4c36	2013-02-13T13:31:02-05:00	Ben Darnell	ben@bendarnell.com	Remove epoll.c from MANIFEST.in

b07a4c36
0	1	MANIFEST.in

--336e134b	2013-02-13T13:30:18-05:00	Ben Darnell	ben@bendarnell.com	Bump version number to 2.4.post3

336e134b
1	1	setup.py
2	2	tornado/__init__.py

--da5c2be0	2013-02-11T19:13:25-05:00	Ben Darnell	ben@bendarnell.com	Fix quadratic performance in gen.engine when yielding a large list.

da5c2be0
6	1	tornado/gen.py
12	0	tornado/test/gen_test.py

--534c5569	2013-02-09T15:52:47-05:00	Ben Darnell	ben@bendarnell.com	Make LogTrapTestCase fail more gracefully in unknown logging configurations.

This allows LogTrapTestCases to be run under nose, which does its own
log buffering.

Closes #674

534c5569
9	9	tornado/testing.py

--7623dbfe	2013-02-09T13:59:00-05:00	Ben Darnell	ben@bendarnell.com	Add a workaround for a bug in the latest version of libcurl

7623dbfe
9	0	tornado/curl_httpclient.py

--e20d2f68	2013-02-09T12:55:06-05:00	Ben Darnell	ben@bendarnell.com	Escape non-ascii bytes in tracebacks line-by-line instead of all at once.

Previously if there were any bytes that needed escaping, the newlines
would get escaped as well, ruining the message formatting.

Closes #675 (again)

e20d2f68
6	2	tornado/log.py
4	1	tornado/test/log_test.py

--280c2863	2013-02-08T20:14:13-05:00	Ben Darnell	ben@bendarnell.com	Clarify docstring of IOLoop.stop.

The mention of "after the current iteration" was meant to emphasize that the
stop was not instantaneous, but it could have also been read as a guarantee
that one more poll call would take place.

Closes #672.

280c2863
4	1	tornado/ioloop.py

--84a6ff02	2013-02-08T19:40:27-05:00	Ben Darnell	ben@bendarnell.com	Merge commit 'e3f8aa' from heynemann/master

Closes #677

84a6ff02
--f6f78cbb	2013-02-08T19:21:10-05:00	Ben Darnell	ben@bendarnell.com	Handle non-ascii data in logged exceptions like in the main message.

Closes #675

f6f78cbb
6	4	tornado/log.py
12	1	tornado/test/log_test.py

--e3f8aa81	2013-02-06T15:35:35-02:00	Bernardo Heynemann	heynemann@gmail.com	Pre-compiling regex that removes control characters.

Given that this regex might be used a lot in the lifetime of a given server (each request that uses get_argument for unicode strings) it seems sensible to store the compiled version of the regex.

e3f8aa81
2	1	tornado/web.py

--172e095e	2013-02-05T20:00:17-05:00	Ben Darnell	ben@bendarnell.com	Switch one last test from get_unused_port to bind_unused_port.

Closes #676.

172e095e
3	3	tornado/test/concurrent_test.py

--e7d9e8a5	2013-02-05T19:51:51-05:00	Ben Darnell	ben@bendarnell.com	Update pyflakes version.

The new version no longer complains about all our conditional imports.

e7d9e8a5
1	1	maint/requirements.txt

--d6d5e272	2013-02-03T19:28:30-05:00	Ben Darnell	ben@bendarnell.com	Add a test for non-login use of twitter_request.

d6d5e272
32	3	tornado/test/auth_test.py

--fa9534bb	2013-02-02T22:40:53-05:00	Ben Darnell	ben@bendarnell.com	Add a script for setting up a windows VM for testing.

This works with the images provided by http://modern.ie.

fa9534bb
87	0	maint/vm/windows/bootstrap.py
43	0	maint/vm/windows/tox.ini

--5db74ae4	2013-01-27T20:16:58-05:00	Ben Darnell	ben@bendarnell.com	Protect the tornado.gen import in testing.py for app engine.

5db74ae4
2	1	tornado/testing.py

--34edd2e8	2013-01-27T18:07:21-05:00	Ben Darnell	ben@bendarnell.com	Support lists of futures in @gen.engine.

34edd2e8
7	4	tornado/gen.py
17	1	tornado/test/gen_test.py

--8a9179f2	2013-01-27T17:47:37-05:00	Ben Darnell	ben@bendarnell.com	Add decorator for @gen.engine-like tests.

Futures are awkward to use in stop/wait tests, and this makes it possible
to be consistent between tests and regular code.

Uses the (now-renamed) deactivate_stack_context callback
to detect when a test finishes cleanly.

8a9179f2
6	5	tornado/gen.py
6	1	tornado/test/concurrent_test.py
22	1	tornado/test/testing_test.py
33	0	tornado/testing.py
3	0	website/sphinx/releases/next.rst

--3a428c03	2013-01-27T17:03:15-05:00	Ben Darnell	ben@bendarnell.com	Rename future_wrap to return_future.

Allow exceptions from the initial synchronous phase to pass through
to the caller.  Add docs and tests.

3a428c03
56	3	tornado/concurrent.py
76	3	tornado/test/concurrent_test.py

--747b8950	2013-01-27T16:28:35-05:00	Ben Darnell	ben@bendarnell.com	A couple of small 2.6-isms.

We can use namedtuple and the new 0o octal literal notation.

747b8950
2	17	tornado/gen.py
1	1	tornado/netutil.py
7	1	website/sphinx/gen.rst

--2baf3c02	2013-01-27T14:01:59-05:00	Ben Darnell	ben@bendarnell.com	Centralize formatting of HTTP-style dates.

Use time.strftime, which turns out to be a bit faster than either
datetime.strftime or email.utils.formatdate.

2baf3c02
2	5	tornado/httpclient.py
23	0	tornado/httputil.py
30	1	tornado/test/httputil_test.py
3	9	tornado/web.py

--e5f47639	2013-01-27T10:53:39-05:00	Ben Darnell	ben@bendarnell.com	Fix typo in next.rst.

e5f47639
1	1	website/sphinx/releases/next.rst

--9df23246	2013-01-26T15:43:01-05:00	Ben Darnell	ben@bendarnell.com	Use httputil.HTTPHeaders for outgoing headers in RequestHandler.

It's still a bit slower, but less than the 10% noted in the old comment.
Case sensitivity here has proven more surprising and problematic than
expected as users try to overwrite headers set by the framework.

9df23246
3	1	tornado/httputil.py
2	2	tornado/test/web_test.py
5	11	tornado/web.py
1	1	tornado/wsgi.py
2	0	website/sphinx/releases/next.rst

--bace5883	2013-01-26T14:53:12-05:00	Ben Darnell	ben@bendarnell.com	Note a performance improvement on PyPy in the release notes.

sys.exc_info() is very slow on pypy.  Commit
24c3d41748728cf4f3ea1509044b4abc7cea666e removed an unconditional
call to sys.exc_info when there is no error.  Performance on
demo/benchmark/benchmark.py went from 3k qps to 5k.

bace5883
2	0	website/sphinx/releases/next.rst

--65984591	2013-01-26T13:33:52-05:00	Ben Darnell	ben@bendarnell.com	Split up next.rst by module.

65984591
241	157	website/sphinx/releases/next.rst

--b26c07b6	2013-01-24T23:13:00-05:00	Ben Darnell	ben@bendarnell.com	Get the test suite passing on windows again.

b26c07b6
6	0	tornado/test/iostream_test.py
4	0	tornado/test/netutil_test.py

--279aaffa	2013-01-23T23:23:57-05:00	Ben Darnell	ben@bendarnell.com	Get twisted_test running on python 3 too.

Twisted 12.3.0 can be installed from a source checkout on python3.
Some modules, including twisted.web, are not available so skip those
tests separately.

279aaffa
13	5	tornado/test/twisted_test.py

--efae6e04	2013-01-23T22:35:16-05:00	Ben Darnell	ben@bendarnell.com	Document --disable-ipv6 fix and only apply it when family==AF_UNSPEC.

efae6e04
6	1	tornado/netutil.py
3	0	website/sphinx/releases/next.rst

--1316fd60	2013-01-23T19:32:38-08:00	bdarnell	ben@bendarnell.com	Merge pull request #670 from schlamar/patch-1

Fix bind_sockets when python is compiled with --disable-ipv6
1316fd60
--a5c1b541	2013-01-23T22:27:00-05:00	Ben Darnell	ben@bendarnell.com	Preliminary support for ubuntu's python3-pycurl port.

a5c1b541
27	12	tornado/curl_httpclient.py
5	0	website/sphinx/releases/next.rst

--60cc236c	2013-01-23T21:22:34-05:00	Ben Darnell	ben@bendarnell.com	Add vagrant config for ubuntu 12.10.

This release is interesting because it includes a python3 port of
pycurl (which is difficult to use from tox but can at least be tested
manually).

60cc236c
9	0	maint/vm/ubuntu12.10/Vagrantfile
32	0	maint/vm/ubuntu12.10/setup.sh
33	0	maint/vm/ubuntu12.10/tox.ini

--48e81bae	2013-01-22T09:33:03+01:00	Marc Schlaich	marc.schlaich@googlemail.com	Update tornado/netutil.py

`socket.getadrrinfo` yields some strange output if Python is compiled with `--disable-ipv6`, resulting in a `bad family` error.
See http://bugs.python.org/issue16208
48e81bae
2	0	tornado/netutil.py

--443c7f34	2013-01-20T22:22:02-05:00	Ben Darnell	ben@bendarnell.com	Add server_hostname to IOStream.connect, for SNI and cert verification

SSL hostname verification now happens in SSLIOStream instead of
simple_httpclient (and supporting code has moved to netutil).

443c7f34
41	3	tornado/iostream.py
73	1	tornado/netutil.py
4	69	tornado/simple_httpclient.py
4	0	website/sphinx/releases/next.rst

--6355af95	2013-01-20T21:28:04-05:00	Ben Darnell	ben@bendarnell.com	On py32+, methods that take ssl_options now also accept SSLContext objects.

This is necessary to support SNI and NPN.

6355af95
2	1	tornado/httpserver.py
6	5	tornado/iostream.py
51	0	tornado/netutil.py
5	5	tornado/tcpserver.py
10	0	tornado/test/httpserver_test.py
22	0	tornado/test/iostream_test.py
3	0	website/sphinx/releases/next.rst

--b3d8cd30	2013-01-20T19:58:35-05:00	Ben Darnell	ben@bendarnell.com	Move TCPServer to its own module.

It's backwards-incompatible for people who used it directly, but that's
what 3.0 is for. ;)  TCPServer made it impossible to import netutil
from iostream due to cyclic imports, which seems backwards.

b3d8cd30
5	5	tornado/httpserver.py
0	206	tornado/netutil.py
4	122	tornado/{netutil.py => tcpserver.py}
1	1	tornado/test/concurrent_test.py
1	0	website/sphinx/releases/next.rst

--ec884dbe	2013-01-20T19:32:27-08:00	bdarnell	ben@bendarnell.com	Merge pull request #669 from mleonhard/master

Fix s3server.py to stop truncating downloads of images and other non-text files
ec884dbe
--56fcc364	2013-01-20T16:48:05-08:00	Michael Leonhard	mike@restbackup.com	Fix s3server.py to stop truncating downloads of images and other non-text files

56fcc364
1	1	demos/s3server/s3server.py

--553145c7	2013-01-20T16:05:37-05:00	Ben Darnell	ben@bendarnell.com	Fix typos in TwistedIOLoop that always sent both read and write events to all handlers.

553145c7
4	4	tornado/platform/twisted.py
21	1	tornado/test/ioloop_test.py

--0c3c8f76	2013-01-20T15:46:01-05:00	Ben Darnell	ben@bendarnell.com	Make autoreload close the IOLoop through the standard interface.

This makes it compatible with TwistedIOLoop.

0c3c8f76
1	9	tornado/autoreload.py

--9c26f969	2013-01-20T15:40:31-05:00	Ben Darnell	ben@bendarnell.com	Fix some iter{items,keys,values} calls that slipped through the cracks.

Add tests for the functions that were thereby revealed to have none.

9c26f969
3	3	tornado/auth.py
1	1	tornado/curl_httpclient.py
1	1	tornado/httpclient.py
35	1	tornado/test/auth_test.py
14	1	tornado/test/httpclient_test.py
2	2	tornado/test/twisted_test.py
14	0	tornado/test/web_test.py
1	1	tornado/web.py

--769bc52e	2013-01-20T11:39:18-05:00	Ben Darnell	ben@bendarnell.com	Fix memory leak with gen.engine, RequestHandler.flush, and closed connections.

This was unfortunately difficult to reproduce in a unit test, even though
the test program attached to bug 660 easily reproduces it.

Closes #660.

769bc52e
12	0	tornado/httpserver.py
2	0	tornado/iostream.py
1	1	tornado/web.py
5	0	website/sphinx/releases/next.rst

--45b2c30e	2013-01-19T17:14:25-05:00	Ben Darnell	ben@bendarnell.com	web_test's wsgi_safe can be a class decorator too.

45b2c30e
20	16	tornado/test/web_test.py
1	1	tornado/test/wsgi_test.py

--15329144	2013-01-19T17:05:32-05:00	Ben Darnell	ben@bendarnell.com	Save the address family when an HTTPConnection is created.

Previously, if a non-IP socket was closed prematurely,
we would still try to reference stream.socket.family to decide
what format self.address was in, resulting in an uncaught exception.

Closes #656.

15329144
5	1	tornado/httpserver.py

--dec2d744	2013-01-19T14:35:28-05:00	Ben Darnell	ben@bendarnell.com	No more  need to check for 'ssl is None' or 'multiprocessing is None'

dec2d744
0	1	tornado/process.py
0	3	tornado/simple_httpclient.py
0	4	tornado/test/httpserver_test.py
0	4	tornado/test/iostream_test.py

--05b8d051	2013-01-19T14:33:37-05:00	Ben Darnell	ben@bendarnell.com	Use real class decorators and remove other py25-era workarounds

05b8d051
1	4	tornado/httpserver.py
0	2	tornado/locale.py
3	4	tornado/platform/twisted.py
0	4	tornado/simple_httpclient.py
2	7	tornado/test/curl_httpclient_test.py
7	6	tornado/test/httpserver_test.py
1	2	tornado/test/ioloop_test.py
3	8	tornado/test/iostream_test.py
0	5	tornado/test/log_test.py
1	2	tornado/test/netutil_test.py
2	2	tornado/test/process_test.py
7	9	tornado/test/twisted_test.py

--e582e587	2013-01-19T13:48:02-05:00	Ben Darnell	ben@bendarnell.com	Update autopep8 to 0.8.5 and run it.

e582e587
2	2	maint/requirements.txt
4	4	tornado/web.py

--3a8a0ebf	2013-01-19T13:38:48-05:00	Ben Darnell	ben@bendarnell.com	Remove conditional imports for py25.

ssl, json, and multiprocessing are now ubiquitous.

Also misc pyflakes cleanups (unused imports)

3a8a0ebf
0	1	tornado/auth.py
0	2	tornado/concurrent.py
2	28	tornado/escape.py
1	5	tornado/httpserver.py
0	1	tornado/httputil.py
0	1	tornado/ioloop.py
1	5	tornado/iostream.py
1	5	tornado/netutil.py
0	1	tornado/platform/epoll.py
0	1	tornado/platform/twisted.py
1	6	tornado/process.py
1	6	tornado/simple_httpclient.py
0	1	tornado/test/httpclient_test.py
2	8	tornado/test/httpserver_test.py
1	6	tornado/test/iostream_test.py
0	1	tornado/test/template_test.py
0	1	tornado/test/testing_test.py
0	1	tornado/testing.py
1	2	tornado/wsgi.py

--92530260	2013-01-19T13:29:10-05:00	Ben Darnell	ben@bendarnell.com	Remove the remaining traces of tornado.util.b.

92530260
1	1	tornado/auth.py
1	1	tornado/httpserver.py
1	1	tornado/httputil.py
1	1	tornado/iostream.py
0	1	tornado/platform/common.py
0	1	tornado/platform/posix.py
1	1	tornado/simple_httpclient.py
1	1	tornado/test/auth_test.py
0	1	tornado/test/concurrent_test.py
1	1	tornado/test/escape_test.py
0	1	tornado/test/gen_test.py
3	3	tornado/test/httpclient_test.py
1	1	tornado/test/httpserver_test.py
16	17	tornado/test/httputil_test.py
0	1	tornado/test/iostream_test.py
1	1	tornado/test/locale_test.py
1	1	tornado/test/log_test.py
0	1	tornado/test/process_test.py
0	1	tornado/test/simple_httpclient_test.py
0	1	tornado/test/stack_context_test.py
11	11	tornado/test/template_test.py
1	1	tornado/test/util_test.py
5	5	tornado/test/web_test.py
1	1	tornado/test/wsgi_test.py
0	11	tornado/util.py
3	3	tornado/web.py
1	1	tornado/websocket.py
1	1	tornado/wsgi.py
1	0	website/sphinx/releases/next.rst

--16c6893a	2013-01-19T13:16:30-05:00	Ben Darnell	ben@bendarnell.com	Replace (most) calls to tornado.util.b() with byte literals.

sed -E -e "s/b\('([^']*)'\)/b'\1'/g" -i '' tornado/*.py
sed -E -e 's/b\("([^"]*)"\)/b"\1"/g' -i '' tornado/*.py

16c6893a
7	7	tornado/auth.py
3	3	tornado/httpserver.py
5	5	tornado/httputil.py
2	2	tornado/iostream.py
1	1	tornado/platform/common.py
1	1	tornado/platform/posix.py
13	13	tornado/simple_httpclient.py
1	1	tornado/test/auth_test.py
5	5	tornado/test/concurrent_test.py
3	3	tornado/test/escape_test.py
4	4	tornado/test/gen_test.py
17	17	tornado/test/httpclient_test.py
49	49	tornado/test/httpserver_test.py
22	22	tornado/test/httputil_test.py
41	41	tornado/test/iostream_test.py
1	1	tornado/test/locale_test.py
4	4	tornado/test/log_test.py
7	7	tornado/test/process_test.py
10	10	tornado/test/simple_httpclient_test.py
1	1	tornado/test/stack_context_test.py
33	33	tornado/test/template_test.py
1	1	tornado/test/util_test.py
38	38	tornado/test/web_test.py
3	3	tornado/test/wsgi_test.py
27	27	tornado/web.py
4	4	tornado/websocket.py
4	4	tornado/wsgi.py

--356045e7	2013-01-19T12:58:54-05:00	Ben Darnell	ben@bendarnell.com	Doc updates for py25 removal

356045e7
13	12	README.md
3	2	website/sphinx/releases/next.rst
4	5	website/templates/index.html

--6abdb916	2013-01-13T22:30:22-05:00	Ben Darnell	ben@bendarnell.com	Remove py25 from travis.yml

6abdb916
0	4	.travis.yml

--217b7eb5	2013-01-13T21:59:21-05:00	Ben Darnell	ben@bendarnell.com	Remove our custom epoll module now that we only support 2.6+.

217b7eb5
0	9	setup.py
0	112	tornado/epoll.c
1	5	tornado/ioloop.py
1	43	tornado/platform/epoll.py

--7faeeb15	2013-01-13T21:53:12-05:00	Ben Darnell	ben@bendarnell.com	Remove more py25 testing configs

7faeeb15
0	8	maint/test/appengine/py25/app.yaml
0	1	maint/test/appengine/py25/cgi_runtests.py
0	1	maint/test/appengine/py25/runtests.py
0	1	maint/test/appengine/py25/tornado
0	8	maint/test/appengine/tox.ini
4	4	maint/test/websocket/run.sh
1	1	maint/test/websocket/tox.ini
0	4	maint/vm/ubuntu10.04/setup.sh
1	17	maint/vm/ubuntu10.04/tox.ini
0	4	maint/vm/ubuntu12.04/setup.sh
1	17	maint/vm/ubuntu12.04/tox.ini

--900d5a26	2013-01-13T21:31:55-05:00	Ben Darnell	ben@bendarnell.com	Get all the tests passing under py3 without 2to3

900d5a26
0	4	setup.py
30	25	tornado/auth.py
15	8	tornado/escape.py
12	7	tornado/httputil.py
1	1	tornado/ioloop.py
2	1	tornado/iostream.py
3	3	tornado/locale.py
1	1	tornado/netutil.py
1	1	tornado/options.py
5	1	tornado/process.py
2	2	tornado/template.py
0	2	tornado/test/auth_test.py
2	2	tornado/test/escape_test.py
2	2	tornado/test/gen_test.py
7	7	tornado/test/httpserver_test.py
1	1	tornado/test/iostream_test.py
2	2	tornado/test/locale_test.py
2	2	tornado/test/log_test.py
2	2	tornado/test/template_test.py
10	10	tornado/test/web_test.py
2	2	tornado/testing.py
25	20	tornado/web.py
9	4	tornado/wsgi.py

--ed786510	2013-01-13T21:19:45-05:00	Ben Darnell	ben@bendarnell.com	Get autoreload working in py3 without 2to3.

ed786510
2	1	tornado/autoreload.py
2	1	tornado/ioloop.py
4	4	tornado/util.py

--051cd609	2013-01-13T21:15:45-05:00	Ben Darnell	ben@bendarnell.com	Checkpoint: tests can now be imported in python 3 without 2to3.

The tests are not passing, but this fixes up all the import-time problems.
The tests still work under 2to3 or python 2.

051cd609
5	1	tornado/auth.py
20	18	tornado/escape.py
2	3	tornado/httpclient.py
4	1	tornado/httpserver.py
4	0	tornado/httputil.py
5	1	tornado/ioloop.py
8	7	tornado/log.py
1	1	tornado/netutil.py
4	3	tornado/options.py
5	1	tornado/simple_httpclient.py
8	4	tornado/template.py
2	2	tornado/test/escape_test.py
5	1	tornado/test/twisted_test.py
5	1	tornado/testing.py
36	16	tornado/util.py
15	8	tornado/web.py
6	4	tornado/wsgi.py

--65df55da	2013-01-13T19:35:04-05:00	Ben Darnell	ben@bendarnell.com	Convert print to a function and add future imports.

Automated with 2to3 and custom fixer.
2to3 -f print tornado > print.diff
2to3 -f print -d tornado > print_doctest.diff
maint/scripts/run_fixers.py -f future_import tornado > future.diff
cd tornado
git apply ../{print,print_doctest,future}.diff

65df55da
1	0	maint/scripts/custom_fixers/fix_future_imports.py
1	1	tornado/__init__.py
1	1	tornado/auth.py
2	2	tornado/autoreload.py
1	1	tornado/concurrent.py
1	1	tornado/curl_httpclient.py
1	1	tornado/escape.py
1	1	tornado/gen.py
3	3	tornado/httpclient.py
1	1	tornado/httpserver.py
2	2	tornado/httputil.py
1	1	tornado/ioloop.py
5	5	tornado/iostream.py
1	1	tornado/locale.py
1	1	tornado/log.py
1	1	tornado/netutil.py
7	7	tornado/options.py
1	1	tornado/platform/auto.py
1	1	tornado/platform/common.py
1	1	tornado/platform/epoll.py
1	1	tornado/platform/interface.py
1	1	tornado/platform/kqueue.py
1	1	tornado/platform/posix.py
1	1	tornado/platform/select.py
1	1	tornado/platform/twisted.py
1	1	tornado/platform/windows.py
1	1	tornado/process.py
1	1	tornado/simple_httpclient.py
1	1	tornado/stack_context.py
2	2	tornado/template.py
1	1	tornado/test/auth_test.py
1	1	tornado/test/concurrent_test.py
1	1	tornado/test/curl_httpclient_test.py
1	1	tornado/test/escape_test.py
1	1	tornado/test/gen_test.py
2	0	tornado/test/gettext_translations/extract_me.py
1	1	tornado/test/httpclient_test.py
1	1	tornado/test/httpserver_test.py
1	1	tornado/test/httputil_test.py
1	1	tornado/test/import_test.py
1	1	tornado/test/ioloop_test.py
1	1	tornado/test/iostream_test.py
1	1	tornado/test/locale_test.py
1	1	tornado/test/log_test.py
1	1	tornado/test/netutil_test.py
1	1	tornado/test/options_test.py
1	1	tornado/test/process_test.py
1	1	tornado/test/runtests.py
1	1	tornado/test/simple_httpclient_test.py
1	1	tornado/test/stack_context_test.py
1	1	tornado/test/template_test.py
1	1	tornado/test/testing_test.py
1	1	tornado/test/twisted_test.py
1	1	tornado/test/util.py
1	1	tornado/test/util_test.py
1	1	tornado/test/web_test.py
1	1	tornado/test/wsgi_test.py
2	2	tornado/testing.py
1	1	tornado/util.py
1	1	tornado/web.py
1	1	tornado/websocket.py
1	1	tornado/wsgi.py

--0d693ee0	2013-01-13T19:16:33-05:00	Ben Darnell	ben@bendarnell.com	Change "except Type, value" to "except Type as value".

Necessary for py3, supported since py26.
2to3 -n -w -f except tornado

0d693ee0
2	2	tornado/autoreload.py
1	1	tornado/concurrent.py
3	3	tornado/curl_httpclient.py
1	1	tornado/httpclient.py
2	2	tornado/httpserver.py
2	2	tornado/ioloop.py
9	9	tornado/iostream.py
1	1	tornado/locale.py
1	1	tornado/log.py
4	4	tornado/netutil.py
1	1	tornado/platform/common.py
2	2	tornado/process.py
1	1	tornado/test/concurrent_test.py
1	1	tornado/test/ioloop_test.py
2	2	tornado/test/process_test.py
1	1	tornado/test/simple_httpclient_test.py
1	1	tornado/test/util_test.py
1	1	tornado/test/web_test.py
1	1	tornado/testing.py
2	2	tornado/web.py

--d1bb68e3	2013-01-13T19:11:03-05:00	Ben Darnell	ben@bendarnell.com	Convert all unicode literals to tornado.util.u.

Mostly done by the fixer script with manual import updates,
although the raw literal in escape.py needed special handling.

d1bb68e3
8	8	tornado/auth.py
6	2	tornado/escape.py
68	67	tornado/locale.py
7	7	tornado/test/auth_test.py
50	50	tornado/test/escape_test.py
3	3	tornado/test/httpclient_test.py
10	10	tornado/test/httpserver_test.py
4	4	tornado/test/locale_test.py
8	8	tornado/test/log_test.py
11	11	tornado/test/template_test.py
15	15	tornado/test/web_test.py
2	2	tornado/test/wsgi_test.py

--45789e3f	2013-01-13T18:41:26-05:00	Ben Darnell	ben@bendarnell.com	Add a simple sanity-check test for locale data.

45789e3f
10	0	tornado/test/locale_test.py

--8b40fafe	2013-01-13T18:10:01-05:00	Ben Darnell	ben@bendarnell.com	Add tornado.util.u and a fixer script to start using it.

8b40fafe
17	0	maint/scripts/custom_fixers/fix_unicode_literal.py
8	1	tornado/test/util_test.py
10	0	tornado/util.py

--5cb63c9c	2013-01-13T18:09:43-05:00	Ben Darnell	ben@bendarnell.com	Drop py25 from the main tox.ini

5cb63c9c
1	20	tox.ini

--35cdbf05	2013-01-12T12:19:30-05:00	Ben Darnell	ben@bendarnell.com	Fix typo in docs

35cdbf05
1	1	tornado/ioloop.py

--0b43aef0	2012-12-30T21:38:09+01:00	Ben Darnell	ben@bendarnell.com	Fix an import that's been missing since the options/log refactoring.

Add a test for this previously-uncovered code.

0b43aef0
8	6	tornado/log.py
32	1	tornado/test/log_test.py

--a8cb0ee5	2012-12-27T15:50:53+01:00	Ben Darnell	ben@bendarnell.com	Test with twisted 12.3

a8cb0ee5
2	2	tox.ini

--800ebbf0	2012-12-22T12:08:03-05:00	Ben Darnell	ben@bendarnell.com	Allow tuples for the IOStream.close exc_info argument.

Update release notes.

800ebbf0
8	4	tornado/iostream.py
4	0	website/sphinx/releases/next.rst

--51703de1	2012-12-22T11:49:35-05:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'ajdavis/issue-651'

51703de1
--ffd129ab	2012-12-20T23:51:17-05:00	Ben Darnell	ben@bendarnell.com	Release notes for add_headers change

ffd129ab
4	0	website/sphinx/releases/next.rst

--4088c8e5	2012-12-20T23:42:38-05:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'jparise/append-handlers' into merge

4088c8e5
--190d47e7	2012-12-20T20:17:47-08:00	bdarnell	ben@bendarnell.com	Merge pull request #654 from davidwilemski/patch-1

Fix typo in releases/next.rst
190d47e7
--edce0448	2012-12-14T21:15:53-05:00	David Wilemski	david@davidwilemski.com	Fix typo in releases/next.rst
edce0448
1	1	website/sphinx/releases/next.rst

--24c3d417	2012-12-11T11:45:21-05:00	A. Jesse Jiryu Davis	jesse@10gen.com	Avoid setting IOStream.error to wrong exception, close #651

24c3d417
18	14	tornado/iostream.py
20	1	tornado/test/iostream_test.py

--440e5355	2012-12-08T19:34:16-05:00	Ben Darnell	ben@bendarnell.com	Replace a couple of contextmanager functions with ExceptionStackContext.

440e5355
6	10	tornado/simple_httpclient.py
4	8	tornado/testing.py

--ec55acbe	2012-12-08T19:21:25-05:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'rhettg/master' into work

ec55acbe
--6d9407f9	2012-12-08T18:37:45-05:00	Ben Darnell	ben@bendarnell.com	Run AsyncHTTPClient callbacks on the IOLoop for a clean stack.

Closes #652.

6d9407f9
1	1	tornado/simple_httpclient.py
22	1	tornado/test/httpclient_test.py
2	0	website/sphinx/releases/next.rst

--5b4f0282	2012-12-08T19:17:27-05:00	Ben Darnell	ben@bendarnell.com	TwistedIOLoop now supports overriding handle_callback_exception.

5b4f0282
9	3	tornado/platform/twisted.py
15	1	tornado/test/ioloop_test.py

--3c24b7b9	2012-12-08T18:32:17-05:00	Ben Darnell	ben@bendarnell.com	Remove some now-unnecessary calls to functools.partial

3c24b7b9
1	2	tornado/ioloop.py
1	1	tornado/process.py

--1ddbe823	2012-12-08T18:27:12-05:00	Ben Darnell	ben@bendarnell.com	Add forgotten release note.

1ddbe823
2	0	website/sphinx/releases/next.rst

--ea79e8a9	2012-12-08T18:25:11-05:00	Ben Darnell	ben@bendarnell.com	add_callback now takes *args, **kwargs.

This reduces the need for functools.partial or lambda wrappers, and
works better with stack_context in some cases since binding the
arguments within IOLoop lets it see whether the function is already
wrapped.

ea79e8a9
9	7	tornado/ioloop.py
5	4	tornado/platform/twisted.py
60	1	tornado/test/ioloop_test.py
2	0	website/sphinx/releases/next.rst

--11f90d07	2012-12-07T16:13:57-08:00	Rhett Garber	rhettg@gmail.com	Don't catch and hide exceptions caused by callbacks in http client

11f90d07
8	0	tornado/simple_httpclient.py

--6cf1fa13	2012-12-07T14:28:13-05:00	Ben Darnell	ben@bendarnell.com	curl_httpclient: don't call remove_handler if we never added it.

Re-order IOLoop and self._fds operations for consistency.

6cf1fa13
3	2	tornado/curl_httpclient.py

--c6593a38	2012-12-07T14:19:48-05:00	Ben Darnell	ben@bendarnell.com	Catch all exceptions, not just {OS,IO}Error in IOLoop.remove_handler.

Attempting to remove a non-existent fd raises IOError on epoll
but KeyError on kqueue; this change swallows any exeption to make
both platforms consistent.

c6593a38
1	1	tornado/ioloop.py
2	0	tornado/platform/twisted.py
9	0	tornado/test/ioloop_test.py

--4ca0a0f2	2012-12-02T13:37:54-05:00	Ben Darnell	ben@bendarnell.com	Add path_{kw,}args attributes to RequestHandler.

4ca0a0f2
25	0	tornado/test/web_test.py
7	4	tornado/web.py
5	0	website/sphinx/releases/next.rst
8	0	website/sphinx/web.rst

--69ead028	2012-12-02T12:33:51-05:00	Ben Darnell	ben@bendarnell.com	Return a Vary: Accept-Encoding header whenever gzip is enabled.

This is one of two problems found with redbot.  The other,
that etags should change when content-encoding is used, is trickier to
fix and seems to be less problematic.

Closes #578.

69ead028
33	6	maint/test/redbot/red_test.py
31	0	tornado/test/web_test.py
4	0	tornado/web.py

--0b1b515f	2012-12-02T11:13:42-05:00	Ben Darnell	ben@bendarnell.com	Add tests using the Redbot library for HTTP validation and caching.

0b1b515f
7	0	maint/test/redbot/README
145	0	maint/test/redbot/red_test.py
8	0	maint/test/redbot/tox.ini

--eea63fc2	2012-12-01T21:27:34-05:00	Ben Darnell	ben@bendarnell.com	Document the use of self.xsrf_token to set the cookie for ajax-only apps.

Closes #645.

eea63fc2
5	1	website/sphinx/overview.rst

--e25b753e	2012-12-01T18:17:07-05:00	Ben Darnell	ben@bendarnell.com	Document the need to pass Connection: close when using no_keep_alive.

Closes #641.

e25b753e
15	10	tornado/httpserver.py

--e4ebf8be	2012-12-01T15:50:40-05:00	Ben Darnell	ben@bendarnell.com	Add a mock.patch-compatible wrapper for options objects.

e4ebf8be
1	0	maint/requirements.txt
43	0	tornado/options.py
51	0	tornado/test/options_test.py
16	2	tox.ini
3	0	website/sphinx/releases/next.rst

--8c5ad60d	2012-11-26T21:46:16-05:00	Ben Darnell	ben@bendarnell.com	Doc cleanups.

* Fix doc generation for httpclient.py (unescaped \r\n)
* Manually specify signature of Template constructor
* Include IOLoop.time

Closes #644.

8c5ad60d
1	1	tornado/httpclient.py
3	0	tornado/template.py
3	0	website/sphinx/conf.py
3	2	website/sphinx/ioloop.rst
1	1	website/sphinx/template.rst

--12c4e9ff	2012-11-25T12:01:14-05:00	Ben Darnell	ben@bendarnell.com	ErrorHandler no longer requires XSRF tokens.

Closes #638.

12c4e9ff
21	1	tornado/test/web_test.py
6	0	tornado/web.py
3	0	website/sphinx/releases/next.rst

--d6f583fc	2012-11-25T11:38:25-05:00	Ben Darnell	ben@bendarnell.com	Add protocol kwarg to HTTPServer constructor.

d6f583fc
14	8	tornado/httpserver.py
11	0	tornado/test/httpserver_test.py
3	0	website/sphinx/releases/next.rst

--5f4d98c4	2012-11-25T11:26:13-05:00	Ben Darnell	ben@bendarnell.com	Accept Content-Length headers in 304 responses.

Closes #639.

5f4d98c4
4	4	tornado/simple_httpclient.py
20	0	tornado/test/httpclient_test.py
2	0	website/sphinx/releases/next.rst

--6683077a	2012-11-24T22:28:13-05:00	Ben Darnell	ben@bendarnell.com	Remove now-redundant entries from next.rst, bump version to 2.4.post2.

6683077a
1	1	setup.py
2	2	tornado/__init__.py
0	4	website/sphinx/releases/next.rst

--307c5237	2012-11-24T21:54:18-05:00	Ben Darnell	ben@bendarnell.com	Merge branch 'branch2.4'

Conflicts:
	setup.py
	tornado/__init__.py
	tornado/test/auth_test.py
	website/sphinx/releases.rst

307c5237
--169ac4ef	2012-11-24T21:22:10-05:00	Ben Darnell	ben@bendarnell.com	Bump version to 2.4.1, update release notes.

169ac4ef
1	1	setup.py
2	2	tornado/__init__.py
1	0	website/sphinx/releases.rst
15	0	website/sphinx/releases/v2.4.1.rst

--722731d5	2012-11-08T23:29:45-05:00	Ben Darnell	ben@bendarnell.com	Fix a bug with IOStream.read_until_close with a streaming_callback.

If the underlying socket was already closed the buffered data
would be passed to the final callback rather than the streaming callback.

Conflicts:
	website/sphinx/releases/next.rst

722731d5
7	1	tornado/iostream.py
36	0	tornado/test/iostream_test.py

--c113ac17	2012-11-17T15:15:31-05:00	Ben Darnell	ben@bendarnell.com	Fix TwitterMixin on Python 3.

Also add tests, and add get_auth_http_client method to all auth mixins.

Closes #634.

Conflicts:
	tornado/test/auth_test.py
	website/sphinx/releases/next.rst

c113ac17
45	12	tornado/auth.py
65	2	tornado/test/auth_test.py

--18a66beb	2012-11-17T16:35:42-05:00	Ben Darnell	ben@bendarnell.com	Fix a memory leak in stack_context.

The old_contexts reference in StackContexts could maintain a chain of
old irrelevant contexts, so clear it once it's no longer needed.
This was mainly a problem in gen.engine, where additional contexts
would accumulate in memory (but not on the stack) for each asynchronous
operation.

Also clear the deactivate_stack_context in gen.Runner to allow
the StackContext to be garbage-collected sooner.

18a66beb
1	0	tornado/gen.py
1	0	tornado/stack_context.py
22	0	tornado/test/gen_test.py

--080f285b	2012-11-19T10:14:01-05:00	Ben Darnell	ben@bendarnell.com	Use AsyncHTTPClient's defaults option in AsyncHTTPSTestCase.

Fix test_non_ssl_request, which has apparently been testing the wrong
thing for some time.

080f285b
2	1	tornado/test/httpserver_test.py
2	5	tornado/testing.py

--26078cdb	2012-11-18T21:35:36-05:00	Ben Darnell	ben@bendarnell.com	Remove redundant logging of read errors in IOStream.

The logging in read_from_fd is generally redundant with logging at
higher levels - the error would be logged again in _handle_read,
or propagated from _try_inline_read.

Closes #632.

26078cdb
0	2	tornado/iostream.py
33	0	tornado/test/iostream_test.py

--1a5b3375	2012-11-18T19:29:18-05:00	Ben Darnell	ben@bendarnell.com	Allow default HTTPRequest attributes to be set globally via configure.

Closes #379.

1a5b3375
6	2	tornado/curl_httpclient.py
38	6	tornado/httpclient.py
9	4	tornado/simple_httpclient.py
52	0	tornado/test/httpclient_test.py
4	1	tornado/test/httpserver_test.py
10	0	website/sphinx/releases/next.rst

--aeff86a0	2012-11-18T17:13:31-05:00	Ben Darnell	ben@bendarnell.com	Remove outdated warnings and config instructions from simple_httpclient.

aeff86a0
1	11	tornado/simple_httpclient.py

--d42de2d0	2012-11-18T16:24:49-05:00	Ben Darnell	ben@bendarnell.com	Merge branch 'branch2.4'

Conflicts:
	website/sphinx/database.rst

d42de2d0
--488c0d27	2012-11-18T16:19:33-05:00	Ben Darnell	ben@bendarnell.com	Upgrade appengine website to python 2.7.

488c0d27
7	6	website/app.yaml
0	9	website/website.py

--05e0a386	2012-11-18T16:09:45-05:00	Ben Darnell	ben@bendarnell.com	Update app engine id for HRD migration.

05e0a386
1	1	website/app.yaml

--f5d4a92e	2012-11-18T15:27:22-05:00	Ben Darnell	ben@bendarnell.com	Document the deprecation of tornado.database in the 2.4 branch.

f5d4a92e
5	0	website/sphinx/database.rst

--36432165	2012-11-18T11:45:38-08:00	Jon Parise	jon@indelible.org	_get_host_handlers() now returns all host matches.

This approach has more clearly defined precedence rules than the
previous insertion-time strategy implemented in add_handlers().

It also correctly leaves pattern matching in the hands of the regular
expression evaluator as opposed to directly comparing pattern strings.

36432165
35	0	tornado/test/web_test.py
7	17	tornado/web.py

--a5fffe32	2012-11-18T10:38:09-08:00	Jon Parise	jon@indelible.org	Merge branch 'master' into append-handlers

a5fffe32
--65d27e5a	2012-11-18T12:25:13-05:00	Ben Darnell	ben@bendarnell.com	Make header_callback behavior consistent across both HTTP clients.

SimpleAsyncHTTPClient now sends the first and last lines to the callback,
matching CurlAsyncHTTPClient's behavior.

All secondary callbacks are now wrapped for stack_context.

Closes #637.

65d27e5a
12	7	tornado/httpclient.py
3	0	tornado/simple_httpclient.py
31	0	tornado/test/curl_httpclient_test.py
61	0	tornado/test/httpclient_test.py
7	0	website/sphinx/releases/next.rst

--3f5e6589	2012-11-17T23:37:42-05:00	Ben Darnell	ben@bendarnell.com	Fix If-None-Match support for StaticFileHandler.

No longer set Cache-Control: public on static files; redbot.org says
it generally doesn't do anything useful.

3f5e6589
7	1	tornado/test/web_test.py
0	5	tornado/web.py
2	0	website/sphinx/releases/next.rst

--bff07405	2012-11-17T16:35:42-05:00	Ben Darnell	ben@bendarnell.com	Fix a memory leak in stack_context.

The old_contexts reference in StackContexts could maintain a chain of
old irrelevant contexts, so clear it once it's no longer needed.
This was mainly a problem in gen.engine, where additional contexts
would accumulate in memory (but not on the stack) for each asynchronous
operation.

Also clear the deactivate_stack_context in gen.Runner to allow
the StackContext to be garbage-collected sooner.

bff07405
1	0	tornado/gen.py
1	0	tornado/stack_context.py
22	0	tornado/test/gen_test.py

--b7246521	2012-11-17T15:44:21-05:00	Ben Darnell	ben@bendarnell.com	Ensure that add_callback fails cleanly if called while IOLoop is closing.

Previously there would (sometimes) be an exception when writing to the
waker pipe.

Closes #635.

b7246521
5	0	tornado/ioloop.py
19	0	tornado/test/ioloop_test.py

--e7485f85	2012-11-17T15:15:31-05:00	Ben Darnell	ben@bendarnell.com	Fix TwitterMixin on Python 3.

Also add tests, and add get_auth_http_client method to all auth mixins.

Closes #634.

e7485f85
45	12	tornado/auth.py
65	2	tornado/test/auth_test.py
4	0	website/sphinx/releases/next.rst

--5f597b58	2012-11-10T19:18:28-08:00	bdarnell	ben@bendarnell.com	Merge pull request #627 from jparise/urlspec-repr

Add a helpful __repr__ implementation to URLSpec.
5f597b58
--465f572d	2012-11-10T19:17:37-08:00	bdarnell	ben@bendarnell.com	Merge pull request #624 from pablopda/master

Move README so github web interface recognize its markup language
465f572d
--b71650ff	2012-11-08T23:29:45-05:00	Ben Darnell	ben@bendarnell.com	Fix a bug with IOStream.read_until_close with a streaming_callback.

If the underlying socket was already closed the buffered data
would be passed to the final callback rather than the streaming callback.

b71650ff
7	1	tornado/iostream.py
36	0	tornado/test/iostream_test.py
3	0	website/sphinx/releases/next.rst

--68f52c12	2012-11-06T17:33:24-08:00	Jon Parise	jon@indelible.org	Allow add_handlers() to append to existing hosts.

This change removes the restriction that all handlers for a given host
pattern be registered in a single call to add_handlers().

68f52c12
11	2	tornado/web.py

--b27c54c2	2012-11-06T16:04:36-08:00	Jon Parise	jon@indelible.org	Add a helpful __repr__ implementation to URLSpec.

b27c54c2
5	0	tornado/web.py

--5ee48f9d	2012-11-02T18:29:40-03:00	Pablo Perez De Angelis	pablo@pablopda.com.ar	Mv README so github web interface recognize its markup language

5ee48f9d
0	0	README => README.md

--958301dd	2012-11-01T10:23:27-07:00	Ben Darnell	ben@bendarnell.com	Release notes for 302/303 change.

958301dd
4	0	website/sphinx/releases/next.rst

--ff343ae9	2012-10-31T22:53:08-07:00	Ben Darnell	ben@bendarnell.com	simple_httpclient: Treat 302 like 303.

Cherry-picked from https://github.com/bergundy/tornado/commit/e49b263de2f4aa7b9748531b2ccf6b50b28b1bd5

Closes #623.

ff343ae9
7	2	tornado/simple_httpclient.py
13	12	tornado/test/simple_httpclient_test.py

--81475d51	2012-10-29T22:33:54-07:00	Ben Darnell	ben@bendarnell.com	AsyncHTTPTestCase no longer closes AsyncHTTPClients on the global IOLoop.

Code that uses the global IOLoop may retain a global reference to
an AsyncHTTPClient as well, which would become inoperable after a test
had closed it.

81475d51
2	0	tornado/testing.py
2	0	website/sphinx/releases/next.rst

--317508b7	2012-10-23T18:06:08-03:00	Peter Sobot	github@petersobot.com	Added more sensical callback time verification.
317508b7
2	2	tornado/ioloop.py

--041388cb	2012-10-23T15:33:17-03:00	Peter Sobot	github@petersobot.com	Added period check in PeriodicCallback

If a user currently passes in 0ms (hopefully by accident) as the
callback time for a periodic callback, Tornado consumes a huge amount
of CPU and never calls the function.
041388cb
2	0	tornado/ioloop.py

--db843a59	2012-10-18T21:20:53-04:00	Ben Darnell	ben@bendarnell.com	Add a comment to runtests.sh about python 3.

Closes #612.

db843a59
8	0	runtests.sh

--c791984d	2012-10-18T10:32:45+02:00	Jonathan Camp	jonathan.camp@norman.com	correctly handle empty POST parameters

c791984d
1	2	tornado/httputil.py
7	0	tornado/test/httpserver_test.py

--15d1746a	2012-10-07T19:11:37-07:00	Ben Darnell	ben@bendarnell.com	Actually use add_callback_from_signal from the SIGCHLD handler.

15d1746a
1	1	tornado/process.py

--c04005b7	2012-10-07T16:59:36-07:00	Ben Darnell	ben@bendarnell.com	Fix TwistedIOLoop on epoll.

Twisted's removeAll doesn't like it if a socket is closed without being
unregistered.  EPoll generates events slightly differently so be more
careful about doubled connectionLost events.

c04005b7
9	1	maint/vm/ubuntu12.04/tox.ini
8	0	tornado/platform/twisted.py
1	0	tornado/test/httpclient_test.py
1	0	tornado/test/ioloop_test.py
11	6	tornado/test/process_test.py

--3654790f	2012-10-07T14:21:42-07:00	Ben Darnell	ben@bendarnell.com	Implement TwistedIOLoop, to bridge the gap with Twisted in the other direction.

This also serves as a proof of concept for the refactored IOLoop interface.

3654790f
133	8	tornado/platform/twisted.py
6	0	tornado/test/process_test.py
8	1	tornado/test/twisted_test.py
10	3	tornado/util.py
9	1	tox.ini
4	0	website/sphinx/releases/next.rst
23	19	website/sphinx/twisted.rst

--4afeef8e	2012-10-07T16:02:50-07:00	Ben Darnell	ben@bendarnell.com	Remove the method IOLoop.running.

4afeef8e
0	7	tornado/ioloop.py
0	1	website/sphinx/ioloop.rst
1	0	website/sphinx/releases/next.rst

--1a66183f	2012-10-07T11:16:41-07:00	Ben Darnell	ben@bendarnell.com	Split IOLoop into a base class and poll-based implementation.

The base class has all the methods with docstrings; nearly all the
implementation is in a new subclass PollIOLoop.

1a66183f
224	168	tornado/ioloop.py
3	3	tornado/platform/epoll.py
2	2	tornado/platform/kqueue.py
2	2	tornado/platform/select.py

--8b32830d	2012-10-06T12:52:34-07:00	Ben Darnell	ben@bendarnell.com	Move IOLoop subclasses to their own modules under platform.

8b32830d
9	1	maint/vm/ubuntu12.04/tox.ini
10	170	tornado/ioloop.py
68	0	tornado/platform/epoll.py
91	0	tornado/platform/kqueue.py
75	0	tornado/platform/select.py
1	1	tox.ini

--832ac4f6	2012-10-06T12:51:25-07:00	Ben Darnell	ben@bendarnell.com	Add a little more slack to this timing test.

It seems to fail a lot on VMs.

832ac4f6
1	1	tornado/test/testing_test.py

--2d7520e7	2012-10-06T21:06:52-07:00	Ben Darnell	ben@bendarnell.com	Check self.closed() in the inner read loop of IOStream.

This was causing error logs in the keepalive tests (but only on epoll)

2d7520e7
2	3	tornado/iostream.py

--50e0a97f	2012-10-05T22:09:07-07:00	Ben Darnell	ben@bendarnell.com	Avoid creating multiple redundant autoreload callbacks.

50e0a97f
11	6	tornado/autoreload.py
4	0	website/sphinx/releases/next.rst

--773cbf66	2012-10-04T21:35:02-07:00	Ben Darnell	ben@bendarnell.com	One more log spam test: connect then immediately close the connection.

773cbf66
8	0	tornado/test/httpserver_test.py

--c5908622	2012-10-04T21:14:41-07:00	Ben Darnell	ben@bendarnell.com	Add tests and release notes for {% apply %} unicode fix.

c5908622
12	0	tornado/test/template_test.py
3	0	website/sphinx/releases/next.rst

--54c807cc	2012-10-04T21:08:27-07:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'dmitric/master'

54c807cc
--7c34eeca	2012-10-04T21:01:56-07:00	Ben Darnell	ben@bendarnell.com	Fix typo in release notes (thanks jparise!))

7c34eeca
1	1	website/sphinx/releases/next.rst

--5339614d	2012-10-04T14:07:29-04:00	Dmitri Cherniak	dmitric@gmail.com	Ensure result from apply block is utf8

5339614d
1	1	tornado/template.py

--3258726f	2012-10-03T22:36:46-07:00	Ben Darnell	ben@bendarnell.com	Reduce log spam from closed client connections.

Added a bunch of tests for keepalive functionality and fixed two cases
where we'd log an exception when the client was gone.  ECONNRESET
errors in IOStream reads now just close the connection instead of
logging an error (the exception information is still available on
stream.error in the close callback for apps that want it).
HTTPConnection now also checks for a closed connection and cleans up
instead of logging an error.

IOStream now raises a new exception class StreamClosedError instead of
IOError.

3258726f
6	0	tornado/httpserver.py
9	1	tornado/iostream.py
140	1	tornado/test/httpserver_test.py
7	0	website/sphinx/releases/next.rst

--20deb5ca	2012-09-30T23:57:49-07:00	Ben Darnell	ben@bendarnell.com	Add time_func parameter to IOLoop, and make it possible to use time.monotonic.

This means that calls to IOLoop.add_timeout that pass a number must be
updated to use IOLoop.time instead of time.time.

There are still some places where we use time.time in the code, but they
are either places where wall time is desired, or non-critical deltas (e.g.
printing elapsed time at the end of a request).

Thanks to apenwarr and mgenti for pull requests and discussion relating to
this change. (#558 and #583)

20deb5ca
1	1	tornado/curl_httpclient.py
26	10	tornado/ioloop.py
11	0	tornado/platform/auto.py
1	1	tornado/platform/twisted.py
3	3	tornado/simple_httpclient.py
1	1	tornado/test/ioloop_test.py
1	1	tornado/test/iostream_test.py
13	3	tornado/test/runtests.py
2	2	tornado/test/testing_test.py
1	1	tornado/testing.py
1	1	tornado/websocket.py
15	1	tox.ini
12	0	website/sphinx/releases/next.rst

--469e2274	2012-09-30T22:57:32-07:00	Ben Darnell	ben@bendarnell.com	IOLoop poller implementations are now subclasses of IOLoop.

Update testing command-line flags to allow configuration of a non-default
IOLoop.

469e2274
39	26	tornado/ioloop.py
8	0	tornado/test/runtests.py
0	11	tornado/testing.py
11	0	tox.ini
15	0	website/sphinx/releases/next.rst

--91c5eb83	2012-09-30T22:19:59-07:00	Ben Darnell	ben@bendarnell.com	Extract configure logic from AsyncHTTPClient to a base class.

IOLoop now extends this base class as well, although no other
implementations are provided yet.  This does not include the
pseudo-singleton magic from AsyncHTTPClient.

91c5eb83
22	42	tornado/httpclient.py
11	2	tornado/ioloop.py
89	1	tornado/test/util_test.py
89	0	tornado/util.py

--13a62380	2012-09-30T19:10:16-07:00	Ben Darnell	ben@bendarnell.com	AsyncHTTPClient: remove legacy magic around max_clients arg.

Fix a bug in which configured kwargs would be applied to a non-configured
class.

13a62380
4	13	tornado/httpclient.py
0	5	tornado/test/simple_httpclient_test.py
4	0	website/sphinx/releases/next.rst

--9a04c2b6	2012-09-30T16:13:49-07:00	Ben Darnell	ben@bendarnell.com	OptionParser now contains a dict rather than subclassing dict.

9a04c2b6
18	16	tornado/options.py
2	0	website/sphinx/releases/next.rst

--2aab06ba	2012-09-30T16:06:21-07:00	Ben Darnell	ben@bendarnell.com	Doc updates for the options module

2aab06ba
81	52	tornado/options.py
15	4	website/sphinx/options.rst

--9229d59c	2012-09-30T15:44:45-07:00	Ben Darnell	ben@bendarnell.com	Rename _Options to OptionParser, and fix bugs with --help

9229d59c
5	5	tornado/options.py
26	4	tornado/test/options_test.py
3	0	website/sphinx/releases/next.rst

--f61352c8	2012-09-30T15:28:33-07:00	Ben Darnell	ben@bendarnell.com	Add per-option callbacks, and implement --help with them.

f61352c8
36	12	tornado/options.py
27	14	tornado/test/options_test.py
6	0	website/sphinx/releases/next.rst

--fc6f1d5e	2012-09-30T15:05:29-07:00	Ben Darnell	ben@bendarnell.com	Introduce parse callbacks in the options module.

This is a generalization of the existing magic for logging.  Logging
configuration is now moved to log.py.

fc6f1d5e
52	0	tornado/log.py
38	53	tornado/options.py
20	1	tornado/test/options_test.py
8	0	website/sphinx/releases/next.rst

--fe0182da	2012-09-30T12:00:10-07:00	Ben Darnell	ben@bendarnell.com	AsyncHTTPTestCase: bind the server port earlier so it's available
in user-overridable methods like get_app.

fe0182da
2	3	tornado/testing.py

--3747af59	2012-09-29T17:47:41-07:00	Ben Darnell	ben@bendarnell.com	Add futures to travis and vm tests, update assorted dependency versions.

3747af59
3	3	.travis.yml
6	5	maint/requirements.txt
2	1	maint/vm/freebsd/setup.sh
2	1	maint/vm/freebsd/tox.ini
3	2	maint/vm/ubuntu10.04/setup.sh
3	0	maint/vm/ubuntu10.04/tox.ini
3	2	maint/vm/ubuntu12.04/setup.sh
3	5	maint/vm/ubuntu12.04/tox.ini

--6e40f506	2012-09-29T17:46:50-07:00	Ben Darnell	ben@bendarnell.com	Cleanly shut down the ThreadPoolExecutor in Resolver tests.

This was somehow causing a problem on Ubuntu 10.04.

6e40f506
6	1	tornado/test/netutil_test.py

--03b00ae4	2012-09-29T16:57:04-07:00	Ben Darnell	ben@bendarnell.com	Doc coverage updates

03b00ae4
2	0	tornado/ioloop.py
2	0	website/sphinx/ioloop.rst
2	0	website/sphinx/websocket.rst

--5f5aae9d	2012-09-29T16:49:42-07:00	Ben Darnell	ben@bendarnell.com	Release notes for futures branch merge.

5f5aae9d
23	0	website/sphinx/releases/next.rst

--6e7488fb	2012-09-29T16:39:44-07:00	Ben Darnell	ben@bendarnell.com	Merge branch 'futures'

6e7488fb
--541160cb	2012-09-29T16:35:57-07:00	Ben Darnell	ben@bendarnell.com	Drop twisted tests from pypy-full configuration.

These tests seem to fail much more often on the futures branch than
master for some unknown reason. (the failures are in the
subprocess-related tests)

541160cb
5	4	tox.ini

--58bc5d34	2012-09-29T16:20:51-07:00	Ben Darnell	ben@bendarnell.com	Release notes for stack_context changes

58bc5d34
5	0	website/sphinx/releases/next.rst

--aaf8c368	2012-09-29T15:55:47-07:00	Ben Darnell	ben@bendarnell.com	Merge branch 'master' into futures

Conflicts:
	tornado/autoreload.py
	tornado/ioloop.py
	tornado/netutil.py
	tornado/simple_httpclient.py
	tornado/test/ioloop_test.py
	tornado/test/runtests.py
	tox.ini

aaf8c368
--2ded2661	2012-09-29T14:29:22-07:00	Ben Darnell	ben@bendarnell.com	Simplify StackContext logic and behavior.

Previously, there was an optimization to avoid recreating contexts
that were already on the stack.  This optimization rarely mattered
(especially given the movement to run all callbacks through
IOLoop.add_callback), and sometimes caused surprising behavior as
other exception handlers could be inserted between stack contexts that
expected to be adjacent to each other or to the wrapped function.  Now
each wrapped function recreates its full stack of contexts, even if
some of those contexts were already on the stack.

This change allows a use of NullContext in testing.py to be
removed.

2ded2661
7	25	tornado/stack_context.py
1	5	tornado/testing.py

--69e44920	2012-09-29T14:07:10-07:00	Ben Darnell	ben@bendarnell.com	Improve isolation of stack contexts.

Previously, a chain of callbacks started without any contexts could
accidentally pick up other contexts based on where the callbacks
were run.  This was due to a mistaken optimization in the no-context
case; now the behavior is the same whether the initial context was empty
or not.

69e44920
1	4	tornado/stack_context.py
43	1	tornado/test/stack_context_test.py

--98177912	2012-09-29T13:16:23-07:00	Ben Darnell	ben@bendarnell.com	Release note updates

98177912
12	0	website/sphinx/releases/next.rst

--ae7cfe40	2012-09-29T13:08:10-07:00	Ben Darnell	ben@bendarnell.com	Add IOLoop.add_callback_from_signal, which avoids deadlocks
which can occur when calling add_callback from a signal handler.

Also fix an issue in the recent set_wakeup_fd change when running
an IOLoop on a non-main thread.

ae7cfe40
36	6	tornado/ioloop.py
1	1	tornado/process.py
30	0	tornado/test/ioloop_test.py

--a759f9a0	2012-09-29T11:27:46-07:00	Ben Darnell	ben@bendarnell.com	Python 3.3 includes a fast time-independent comparison function, so use
it when available.

a759f9a0
3	0	tornado/web.py

--e5805a95	2012-09-24T00:21:38-04:00	Ben Darnell	ben@bendarnell.com	Apply my own suggested changes from pull request #555.

e5805a95
5	3	tornado/httpclient.py
9	7	tornado/web.py
0	2	tornado/wsgi.py

--719215b9	2012-09-24T00:13:25-04:00	Ben Darnell	ben@bendarnell.com	Allow non-standard HTTP codes to be passed with HTTPError.

719215b9
20	0	tornado/test/web_test.py
26	6	tornado/web.py

--54f1bd33	2012-09-23T23:26:24-04:00	Ben Darnell	ben@bendarnell.com	Merge branch 'master' into merge

Conflicts:
	tornado/simple_httpclient.py
	tornado/test/web_test.py

54f1bd33
--5c0c05d9	2012-09-23T23:12:17-04:00	Ben Darnell	ben@bendarnell.com	Fix status/reason tests for py3, -curl, and -opt modes

5c0c05d9
26	20	tornado/test/web_test.py
3	2	tornado/web.py

--d7f1bf05	2012-09-19T23:26:01-07:00	Ben Darnell	ben@bendarnell.com	Set Date header by default on all responses.

d7f1bf05
14	0	tornado/test/web_test.py
2	0	tornado/web.py

--21552e6c	2012-09-18T10:56:54+02:00	Joachim Bauch	mail@joachim-bauch.de	Support sending ping frames, trigger callback on pong frames.

21552e6c
18	1	tornado/websocket.py

--a8a7ee40	2012-09-19T23:02:56-07:00	Ben Darnell	ben@bendarnell.com	Don't try to call set_wakeup_fd on windows, it crashes the process.

a8a7ee40
3	1	tornado/ioloop.py

--18af6c79	2012-09-17T00:22:39-07:00	Ben Darnell	ben@bendarnell.com	Use signal.set_wakeup_fd in IOLoop to close a race with signal handlers.

18af6c79
32	0	tornado/ioloop.py
3	0	tornado/platform/common.py
5	1	tornado/platform/interface.py
3	0	tornado/platform/posix.py

--200c607f	2012-09-16T23:39:10-07:00	Ben Darnell	ben@bendarnell.com	Subprocess.returncode should match subprocess.Popen.returncode.

200c607f
7	3	tornado/process.py
1	2	tornado/test/process_test.py

--ca22303f	2012-09-16T23:35:20-07:00	Ben Darnell	ben@bendarnell.com	Skip pipe and subprocess tests on windows.

ca22303f
5	1	tornado/iostream.py
2	1	tornado/test/iostream_test.py
3	3	tornado/test/process_test.py
4	0	tornado/test/util.py

--2a2b4050	2012-09-16T23:24:45-07:00	Ben Darnell	ben@bendarnell.com	Add a SIGCHILD handler to Subprocess.

2a2b4050
84	4	tornado/process.py
23	0	tornado/test/process_test.py

--0eb16fc5	2012-09-16T19:53:32-07:00	Ben Darnell	ben@bendarnell.com	Release notes.

0eb16fc5
6	0	website/sphinx/releases/next.rst

--4cf8344d	2012-09-16T19:26:03-07:00	Ben Darnell	ben@bendarnell.com	Add tornado.process.Subprocess

4cf8344d
6	1	tornado/iostream.py
40	0	tornado/process.py
26	2	tornado/test/process_test.py

--6449189d	2012-09-16T17:13:53-07:00	Ben Darnell	ben@bendarnell.com	Add PipeIOStream

6449189d
35	0	tornado/iostream.py
27	1	tornado/test/iostream_test.py
3	0	website/sphinx/iostream.rst

--e88f02ef	2012-09-16T16:58:48-07:00	Ben Darnell	ben@bendarnell.com	Split IOStream into BaseIOStream and IOStream.

IOStream the socket-specific code; BaseIOStream will be the basis
for non-socket-based streams (i.e. pipes)

e88f02ef
195	129	tornado/iostream.py
36	0	website/sphinx/iostream.rst

--186e9471	2012-09-16T14:02:49-07:00	Ben Darnell	ben@bendarnell.com	Remove tornado.database, which is now distributed separately.

186e9471
1	1	.travis.yml
4	0	demos/blog/README
2	2	demos/blog/blog.py
0	1	maint/requirements.txt
0	1	maint/test/appengine/common/cgi_runtests.py
0	2	maint/vm/ubuntu10.04/setup.sh
0	3	maint/vm/ubuntu10.04/tox.ini
0	2	maint/vm/ubuntu12.04/setup.sh
0	2	maint/vm/ubuntu12.04/tox.ini
0	239	tornado/database.py
0	9	tornado/test/import_test.py
1	9	tox.ini
0	5	website/sphinx/database.rst
0	1	website/sphinx/integration.rst
2	0	website/sphinx/releases/next.rst

--4044f96c	2012-09-16T13:01:16-07:00	Ben Darnell	ben@bendarnell.com	Mention HTTPError explicitly in the write_error docs.

Closes #594.

4044f96c
5	4	tornado/web.py

--95414238	2012-09-10T09:53:08-07:00	Ben Darnell	ben@bendarnell.com	Replace get_unused_port with bind_unused_port, which binds to port 0
to allow the OS to select a port for us.

Closes #590.

95414238
2	4	tornado/test/httpclient_test.py
2	5	tornado/test/ioloop_test.py
4	5	tornado/test/iostream_test.py
3	7	tornado/test/process_test.py
3	2	tornado/test/simple_httpclient_test.py
7	5	tornado/test/twisted_test.py
25	4	tornado/testing.py
3	0	website/sphinx/releases/next.rst
2	0	website/sphinx/testing.rst

--76109201	2012-09-09T21:34:58-07:00	Ben Darnell	ben@bendarnell.com	Run more of web_test in wsgi_test.  Fix a bug with 304 in wsgi.

76109201
72	54	tornado/test/web_test.py
9	2	tornado/test/wsgi_test.py
1	0	tornado/wsgi.py

--070e08a2	2012-09-09T21:04:58-07:00	Ben Darnell	ben@bendarnell.com	Keep empty arguments in WSGI mode too.

Add another test and release notes.

070e08a2
14	0	tornado/test/web_test.py
2	5	tornado/wsgi.py
3	0	website/sphinx/releases/next.rst

--f1ae3988	2012-09-09T20:52:13-07:00	Ben Darnell	ben@bendarnell.com	Merge commit 'ebf17aa'

Closes #585.

f1ae3988
--6c0ee8d7	2012-09-09T18:55:47-07:00	Ben Darnell	ben@bendarnell.com	Add additional command-line arguments to tornado.testing.main

6c0ee8d7
19	0	tornado/testing.py
3	0	website/sphinx/releases/next.rst

--dd3b0c2c	2012-09-09T18:43:52-07:00	Ben Darnell	ben@bendarnell.com	Document the logging changes

dd3b0c2c
31	12	tornado/log.py
20	1	tornado/testing.py
5	0	website/sphinx/log.rst
11	0	website/sphinx/releases/next.rst
3	0	website/sphinx/testing.rst
1	0	website/sphinx/utilities.rst

--a1f6beec	2012-09-09T15:45:53-07:00	Ben Darnell	ben@bendarnell.com	Introduce ExpectLog as a finer-grained alternative to LogTrapTestCase,
and use it throughout the test suite.

a1f6beec
4	2	tornado/test/gen_test.py
4	3	tornado/test/httpserver_test.py
8	3	tornado/test/httputil_test.py
10	8	tornado/test/iostream_test.py
4	6	tornado/test/process_test.py
9	3	tornado/test/simple_httpclient_test.py
8	6	tornado/test/stack_context_test.py
2	2	tornado/test/template_test.py
17	9	tornado/test/web_test.py
26	0	tornado/testing.py

--97d64236	2012-09-09T15:43:24-07:00	Ben Darnell	ben@bendarnell.com	Errors while rendering templates no longer log the generated code.

Now that stack traces have source line info, the full code is hopefully
unnecessary (and if it is needed, this isn't the best way to get it).
Syntax errors in the generated code will still dump the whole thing
to the log.

97d64236
0	5	tornado/template.py

--ba0b9d43	2012-09-09T13:23:49-07:00	Ben Darnell	ben@bendarnell.com	Suppress tornado.access logs in tests, and remove LogTrapTestCase
from tests that no longer produce any logs.

ba0b9d43
2	2	tornado/test/auth_test.py
2	2	tornado/test/httpclient_test.py
4	4	tornado/test/httpserver_test.py
2	2	tornado/test/ioloop_test.py
3	0	tornado/test/runtests.py
2	2	tornado/test/simple_httpclient_test.py
4	3	tornado/test/template_test.py
2	2	tornado/test/testing_test.py
6	6	tornado/test/web_test.py
3	3	tornado/test/wsgi_test.py

--2bc828b5	2012-09-09T13:23:32-07:00	Ben Darnell	ben@bendarnell.com	autoreload also needs to guarantee that logging is configured.

2bc828b5
4	0	tornado/autoreload.py

--1bc087c0	2012-09-08T21:35:51-07:00	Ben Darnell	ben@bendarnell.com	Move LogFormatter from options.py to log.py

1bc087c0
94	0	tornado/log.py
3	88	tornado/options.py
19	18	tornado/test/{options_test.py => log_test.py}
1	100	tornado/test/options_test.py
1	0	tornado/test/runtests.py

--7d07525c	2012-09-08T21:06:46-07:00	Ben Darnell	ben@bendarnell.com	Compensate for move to non-root loggers by calling basicConfig in IOLoop.start.

The root logging methods call basicConfig automatically, but non-root loggers
do not.

7d07525c
10	0	tornado/ioloop.py

--9b944aa2	2012-09-08T20:51:31-07:00	Ben Darnell	ben@bendarnell.com	Switch from root logger to separate loggers.

Rather than using one logger per module, use three semantically-defined
loggers:  tornado.access, tornado.application, and tornado.general.

9b944aa2
13	13	tornado/auth.py
5	5	tornado/autoreload.py
8	7	tornado/curl_httpclient.py
4	3	tornado/database.py
2	2	tornado/httpserver.py
6	6	tornado/httputil.py
10	10	tornado/ioloop.py
11	11	tornado/iostream.py
6	6	tornado/locale.py
29	0	tornado/log.py
2	2	tornado/netutil.py
2	2	tornado/platform/twisted.py
6	6	tornado/process.py
3	3	tornado/simple_httpclient.py
3	3	tornado/template.py
4	3	tornado/testing.py
16	16	tornado/web.py
5	5	tornado/websocket.py
4	4	tornado/wsgi.py

--18819583	2012-09-08T12:49:22-07:00	Ben Darnell	ben@bendarnell.com	Start new release notes

18819583
1	0	website/sphinx/releases.rst
15	0	website/sphinx/releases/next.rst

--58316a4d	2012-09-06T21:38:20-07:00	Ben Darnell	ben@bendarnell.com	Merge branch 'master' into futures

58316a4d
--bcaaad19	2012-09-05T17:54:47-07:00	Ben Darnell	ben@bendarnell.com	Merge branch 'tornado3'

bcaaad19
--5b7ebadd	2012-09-05T17:54:21-07:00	Ben Darnell	ben@bendarnell.com	Add unittest2 to other test configurations.

5b7ebadd
2	1	.travis.yml
8	1	maint/vm/ubuntu10.04/tox.ini
8	1	maint/vm/ubuntu12.04/tox.ini

--f50ef8e3	2012-09-04T22:20:03-07:00	bdarnell	ben@bendarnell.com	Merge pull request #593 from phihag/correct-AI_ADDRCONFIG

Do not set AI_ADDRCONFIG in netutils.bind_sockets
f50ef8e3
--7a2442d9	2012-09-04T21:50:58-07:00	Ben Darnell	ben@bendarnell.com	Post-release version bump

7a2442d9
1	1	setup.py
2	2	tornado/__init__.py

--b85e2f6e	2012-09-04T17:04:47+02:00	Philipp Hagemeister	phihag@phihag.de	Add an example for flags

b85e2f6e
2	1	tornado/netutil.py

--587ef5ee	2012-09-04T12:34:00+02:00	Philipp Hagemeister	phihag@phihag.de	Do not set AI_ADDRCONFIG in netutil.bind_sockets

587ef5ee
0	6	tornado/netutil.py

--c744288f	2012-09-04T12:33:38+02:00	Philipp Hagemeister	phihag@phihag.de	Add a flags= option to netutil.bind_sockets

c744288f
4	1	tornado/netutil.py

--648bebf0	2012-09-03T22:09:29-07:00	Ben Darnell	ben@bendarnell.com	Final 2.4 release notes

648bebf0
1	1	website/sphinx/releases.rst
3	3	website/sphinx/releases/{next.rst => v2.4.0.rst}

--0846140f	2012-09-03T22:07:23-07:00	Ben Darnell	ben@bendarnell.com	Set version number to 2.4

0846140f
1	1	setup.py
2	2	tornado/__init__.py

--0cc0df77	2012-09-03T12:10:57-07:00	Ben Darnell	ben@bendarnell.com	Add magic for yielding futures.

Introduce IOLoop.current() as a thread-local counterpart to IOLoop.instance().

gen.engine now recognizes Futures directly.

0cc0df77
5	1	tornado/gen.py
19	0	tornado/ioloop.py
2	4	tornado/test/concurrent_test.py
2	0	tornado/testing.py

--5587a45e	2012-09-03T12:00:26-07:00	Ben Darnell	ben@bendarnell.com	Add gen.YieldFuture.

5587a45e
19	0	tornado/gen.py
20	0	tornado/test/concurrent_test.py

--cd8862d6	2012-09-02T10:50:57-07:00	Ben Darnell	ben@bendarnell.com	Flesh out future-oriented client interfaces.

Make DummyFuture a more complete imitation of Future.

Add tests demonstrating various implementation styles.

Add a decorator that simplifies use of futures.

cd8862d6
61	12	tornado/concurrent.py
171	0	tornado/test/concurrent_test.py
6	0	tornado/test/runtests.py

--fd9bcb2e	2012-09-02T09:55:31-07:00	Ben Darnell	ben@bendarnell.com	Improve autoreload for import-time errors.

We already had a special case for SyntaxErrors, but NameErrors and other
import-time errors could leave a file unwatched.

fd9bcb2e
10	0	tornado/autoreload.py

--f4c037c8	2012-09-01T14:30:55-07:00	bdarnell	ben@bendarnell.com	Merge pull request #591 from taylorhughes/master

Change example to not include legit-random-looking cookie secrets
f4c037c8
--35b432fe	2012-08-31T23:47:11-07:00	Taylor Hughes	taylor@taylor-retina.local	Make it obvious to anyone reading copy-pasted example code that the cookie secret is not suitable for production use.

35b432fe
1	1	demos/auth/authdemo.py
1	1	demos/blog/blog.py
1	1	demos/chat/chatdemo.py
1	1	demos/facebook/facebook.py
1	1	demos/websocket/chatdemo.py

--764b443b	2012-08-31T23:46:56-07:00	Taylor Hughes	taylor@taylor-retina.local	Make it obvious to anyone reading copy-pasted example code that the cookie secret is not suitable for production use.

764b443b
5	5	website/sphinx/overview.rst

--df620e43	2012-08-31T16:44:06-04:00	Ben Darnell	ben@bendarnell.com	Use new async resolver interface in simple_httpclient.

df620e43
39	34	tornado/simple_httpclient.py
1	1	tornado/test/httpserver_test.py

--e5e15314	2012-08-31T16:13:40-04:00	Ben Darnell	ben@bendarnell.com	Capture stack_context in IOLoop.add_future

e5e15314
1	0	tornado/ioloop.py
31	0	tornado/test/ioloop_test.py

--47bb3824	2012-08-30T23:10:45-04:00	Ben Darnell	ben@bendarnell.com	Add futures-based Resolver interface, and test with both sync and thread pool.

47bb3824
78	0	tornado/concurrent.py
6	4	tornado/ioloop.py
12	0	tornado/netutil.py
1	1	tornado/test/ioloop_test.py
37	0	tornado/test/netutil_test.py
1	0	tornado/test/runtests.py

--cb2c088b	2012-08-30T21:58:40-04:00	Ben Darnell	ben@bendarnell.com	Add IOLoop.add_future to return to the IOLoop after a future has completed.

cb2c088b
17	0	tornado/ioloop.py
17	0	tornado/test/ioloop_test.py

--eef8d9ff	2012-08-30T21:55:34-04:00	Ben Darnell	ben@bendarnell.com	Add concurrent.futures as an optional dependency for -full builds

eef8d9ff
6	0	tox.ini

--e1a0aea3	2012-08-30T19:44:42-04:00	Ben Darnell	ben@bendarnell.com	Replace our hacky homegrown test skipping with unittest.skip.

Add a test runner that makes the output for skipped tests more informative.

e1a0aea3
6	9	tornado/test/curl_httpclient_test.py
17	17	tornado/test/httpserver_test.py
6	5	tornado/test/iostream_test.py
3	5	tornado/test/process_test.py
13	0	tornado/test/runtests.py
5	9	tornado/test/simple_httpclient_test.py
10	10	tornado/test/twisted_test.py
4	7	tornado/test/wsgi_test.py

--4e91f672	2012-08-30T17:43:54-04:00	Ben Darnell	ben@bendarnell.com	Start using new unittest features from py27/unittest2.

Tornado's test suite now requires unittest2 on py25 and py26.
tornado.testing will use unittest2 if available but does not require
it.

This means we can no longer run the test suite under app engine 2.5,
although it still works for app engine 2.7.

4e91f672
5	1	maint/test/appengine/tox.ini
1	1	tornado/test/escape_test.py
1	1	tornado/test/httpserver_test.py
1	1	tornado/test/httputil_test.py
1	1	tornado/test/import_test.py
1	1	tornado/test/ioloop_test.py
1	1	tornado/test/locale_test.py
1	1	tornado/test/options_test.py
1	1	tornado/test/runtests.py
1	1	tornado/test/stack_context_test.py
1	1	tornado/test/testing_test.py
1	1	tornado/test/twisted_test.py
10	0	tornado/test/util.py
2	2	tornado/test/util_test.py
8	0	tornado/testing.py
9	1	tox.ini

--73c1ddfe	2012-08-30T14:41:24-04:00	Ben Darnell	ben@bendarnell.com	Move maint/appengine to maint/test/appengine

73c1ddfe
0	1	maint/appengine/py25/tornado
0	1	maint/appengine/py27/tornado
0	0	maint/{ => test}/appengine/README
0	0	maint/{ => test}/appengine/common/cgi_runtests.py
0	0	maint/{ => test}/appengine/common/runtests.py
0	0	maint/{ => test}/appengine/py25/app.yaml
0	0	maint/{ => test}/appengine/py25/cgi_runtests.py
0	0	maint/{ => test}/appengine/py25/runtests.py
1	0	maint/test/appengine/py25/tornado
0	0	maint/{ => test}/appengine/py27/app.yaml
0	0	maint/{ => test}/appengine/py27/cgi_runtests.py
0	0	maint/{ => test}/appengine/py27/runtests.py
1	0	maint/test/appengine/py27/tornado
0	0	maint/{ => test}/appengine/setup.py
0	0	maint/{ => test}/appengine/tox.ini

--3474d5f9	2012-08-30T13:42:54-04:00	Ben Darnell	ben@bendarnell.com	Twisted is dropping python 2.5 support in their upcoming 12.2.0 release.

3474d5f9
2	1	tox.ini

--0148fda3	2012-08-29T13:33:00-04:00	Ben Darnell	ben@bendarnell.com	Autobahn websocket test has moved to a separate package.

0148fda3
1	1	maint/test/websocket/client.py
1	1	maint/test/websocket/tox.ini

--b76e7961	2012-08-28T15:24:55-04:00	Ben Darnell	ben@bendarnell.com	Fix tests on windows

b76e7961
1	0	tornado/test/options_test.py
15	2	tornado/test/simple_httpclient_test.py

--38077c5e	2012-08-28T13:43:13-04:00	Ben Darnell	ben@bendarnell.com	Add link to new settings docs in release notes

38077c5e
2	1	website/sphinx/releases/next.rst

--a2e746c0	2012-08-27T19:18:38-04:00	Ben Darnell	ben@bendarnell.com	Organize next-release notes.

a2e746c0
53	26	website/sphinx/releases/next.rst

--790d86a4	2012-08-27T18:56:34-04:00	Ben Darnell	ben@bendarnell.com	Document all available application settings.

790d86a4
7	12	tornado/web.py
4	0	website/sphinx/overview.rst
71	0	website/sphinx/web.rst

--5eb9821e	2012-08-27T17:49:20-04:00	Ben Darnell	ben@bendarnell.com	Fill in missing docs and other minor doc updates.

5eb9821e
7	0	tornado/httputil.py
2	3	website/sphinx/releases/next.rst
3	0	website/sphinx/testing.rst
1	0	website/sphinx/web.rst

--b8d0742b	2012-08-27T17:45:50-04:00	Ben Darnell	ben@bendarnell.com	Run twisted tests in a temporary directory so they don't leak temp files.

This mainly affected the unix socket tests.

b8d0742b
16	2	tornado/test/twisted_test.py

--06c09038	2012-08-27T17:33:01-04:00	Ben Darnell	ben@bendarnell.com	Autopep8 cleanups.

06c09038
1	1	tornado/auth.py
1	1	tornado/web.py

--0cb3924a	2012-08-27T17:30:06-04:00	Ben Darnell	ben@bendarnell.com	Don't let autopep8 rewrite all the lines longer than 80 chars.

0cb3924a
2	1	maint/scripts/run_autopep8.sh

--84df7ad4	2012-08-27T10:43:13-07:00	Ben Darnell	ben@bendarnell.com	Release note updates

84df7ad4
6	0	website/sphinx/releases/next.rst

--54d91d5e	2012-08-26T18:03:12-07:00	Ben Darnell	ben@bendarnell.com	Fix template errors with empty blocks.

Emits a "pass" statement in every generated block whether it's empty or not;
I verified with the disassembler that the unnecessary pass statements
don't generate extra bytecodes.

Closes #546.

54d91d5e
4	0	tornado/template.py
4	0	tornado/test/template_test.py

--58671703	2012-08-26T17:43:38-07:00	Ben Darnell	ben@bendarnell.com	Refactor template namespace from render_string to its own method.

This method may be overridden as an alternative to overriding render_string
and adding to kwargs, or may be used directly to render templates
without going through render_string (as when templates are constructed
directly; see https://github.com/facebook/tornado/issues/564)

58671703
16	4	tornado/web.py
1	0	website/sphinx/web.rst

--30bc2332	2012-08-26T16:45:35-07:00	Ben Darnell	ben@bendarnell.com	Make the openid claimed_id available in OpenIDMixin

This should be used as a persistent identifier for the user
since it is the only field guaranteed not to change.

Closes #568.

30bc2332
3	0	tornado/auth.py

--4386f1b0	2012-08-26T16:23:30-07:00	Ben Darnell	ben@bendarnell.com	Make authdemo's logout less confusing.

Closes #376.

4386f1b0
8	1	demos/auth/authdemo.py

--8dc3a5d4	2012-08-24T20:26:46-07:00	Ben Darnell	ben@bendarnell.com	Release note updates

8dc3a5d4
1	0	website/sphinx/releases.rst
41	0	website/sphinx/releases/next.rst

--df9a59a2	2012-08-19T19:31:15-07:00	Ben Darnell	ben@bendarnell.com	Fix test for pre-2.7 assertions

df9a59a2
1	1	tornado/test/simple_httpclient_test.py

--b9d94fd1	2012-08-19T19:20:58-07:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'evanj/master' into merge

b9d94fd1
--0e6540bf	2012-08-19T19:02:56-07:00	Ben Darnell	ben@bendarnell.com	When closing an HTTPConnection, also clear a circular reference to self.

This reference could cause garbage collection of the connection object
to be delayed.

Closes #586.

0e6540bf
8	2	tornado/httpserver.py

--302c5032	2012-08-19T12:16:15-07:00	Ben Darnell	ben@bendarnell.com	Allow calls to SSLIOStream.write while the connection is in progress.

Skip fast-path writes while connecting, and rework the interaction
between base class and subclass to avoid the possibility of doubly-wrapped
sockets.

Closes #587.

302c5032
20	5	tornado/iostream.py
31	0	tornado/test/iostream_test.py

--0147ac24	2012-08-18T22:56:14-07:00	Ben Darnell	ben@bendarnell.com	Reorganize IOStream tests and run them in both regular and ssl mode.

In the process, discover a quirk of the server-side SSL handshake and
a possible bug with ssl in pypy.

0147ac24
124	49	tornado/test/iostream_test.py

--cbc84bc5	2012-08-18T19:39:57-07:00	Ben Darnell	ben@bendarnell.com	Add binary_form argument to get_ssl_certificate.

The default form contains only basic information; the binary form is more
complete.

cbc84bc5
8	4	tornado/httpserver.py

--ebf17aa1	2012-08-15T17:54:56-07:00	Yusuf Simonson	simonson@gmail.com	Do not remove empty GET/POST parameters

ebf17aa1
1	6	tornado/httpserver.py
5	0	tornado/test/httpserver_test.py

--2b073850	2012-08-15T10:38:09-07:00	Ben Darnell	ben@bendarnell.com	Test cleanup.

Listen on 127.0.0.1 to avoid firewall warnings. Move to AsyncHTTPTestCase
to reduce boilerplate.  Close a leaking file descriptor (ResourceWarnings
are still just printing out instead of making the tests fail)

2b073850
12	11	tornado/test/simple_httpclient_test.py

--986f415e	2012-08-15T10:22:12-07:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'bergundy/upstream'

986f415e
--0e1863c6	2012-08-15T14:48:20+03:00	Roey Berman	roey.berman@gmail.com	added b() to string assertion in simple_httpclient_test:HTTP100ContinueTestCase (python3)

0e1863c6
1	1	tornado/test/simple_httpclient_test.py

--b399c011	2012-08-15T14:36:51+03:00	Roey Berman	roey.berman@gmail.com	added b to stream write (for passing python3 tests

b399c011
3	3	tornado/test/simple_httpclient_test.py

--954777f3	2012-08-15T14:15:31+03:00	Roey Berman	roey.berman@gmail.com	ignore 1xx headers prev commit was incomplete, fixed

954777f3
3	3	tornado/simple_httpclient.py
4	6	tornado/test/simple_httpclient_test.py

--4daeaeb1	2012-08-13T10:06:48-07:00	Ben Darnell	ben@bendarnell.com	Blacklist a few more twisted tests that seem flaky

4daeaeb1
7	0	tornado/test/twisted_test.py

--685a4cd9	2012-08-13T10:06:10-07:00	Ben Darnell	ben@bendarnell.com	Update docutils dependency version.

0.9 doesn't appear to be in pypi any more.

685a4cd9
1	1	maint/requirements.txt

--ec498169	2012-08-11T17:51:27-07:00	Ben Darnell	ben@bendarnell.com	Fix str/bytes problems in the auth module on python 3.

In some cases signatures were being computed on str(byte object),
which is incorrect.  Enable python -bb flag to catch this class of
errors and fix up a few more instances.

Fixes #581.

ec498169
8	8	tornado/auth.py
16	2	tornado/test/options_test.py
10	1	tornado/test/runtests.py
3	2	tornado/test/web_test.py
3	0	tox.ini

--6385cfaa	2012-08-11T12:42:49-07:00	Ben Darnell	ben@bendarnell.com	Remove httpclient max_simultaneous_connections argument.

This argument doesn't do anything in modern versions of libcurl,
and is confusingly similar to max_clients.

6385cfaa
3	6	tornado/curl_httpclient.py
4	6	tornado/simple_httpclient.py

--91b7c473	2012-08-11T12:27:23-07:00	Ben Darnell	ben@bendarnell.com	Merge branch 'branch2.3'

91b7c473
--1acac15d	2012-08-11T12:14:09-07:00	Ben Darnell	ben@bendarnell.com	Update doc examples for xsrf_form_html.

{% module %} or {% raw %} must be used now due to auto-escaping.

1acac15d
2	2	website/sphinx/overview.rst

--359f5a3c	2012-08-11T12:09:57-07:00	Ben Darnell	ben@bendarnell.com	Latex output file must end in .tex

359f5a3c
11	0	website/Makefile
1	1	website/sphinx/conf.py

--30ee00b3	2012-08-11T09:07:33-07:00	Ben Darnell	ben@bendarnell.com	Add latex_documents configuration so readthedocs can build pdfs of the docs.

30ee00b3
4	0	website/sphinx/conf.py

--90617dfe	2012-08-11T12:09:57-07:00	Ben Darnell	ben@bendarnell.com	Latex output file must end in .tex

90617dfe
11	0	website/Makefile
1	1	website/sphinx/conf.py

--c9f0a904	2012-08-11T09:07:33-07:00	Ben Darnell	ben@bendarnell.com	Add latex_documents configuration so readthedocs can build pdfs of the docs.

c9f0a904
4	0	website/sphinx/conf.py

--f594c7b2	2012-08-06T19:43:27+04:00	Stiletto	blasux@blasux.ru	Fire shutdown event from main loop

f594c7b2
2	1	tornado/platform/twisted.py
3	0	tornado/test/twisted_test.py

--53738a9c	2012-07-31T00:25:04+04:00	Stiletto	blasux@blasux.ru	Fixed shutdown sequence in twisted reactor

53738a9c
2	3	tornado/platform/twisted.py

--aaab26a4	2012-08-02T11:13:58-04:00	Evan Jones	ej@evanjones.ca	simple_httpclient: Report errno and reason for connection errors.

Previously, this reported "Connection closed" for everything. This change
adds the exception info: HTTP 599: [Errno 61] Connection refused

aaab26a4
4	1	tornado/simple_httpclient.py
6	0	tornado/test/simple_httpclient_test.py

--121604bc	2012-07-31T17:43:12+03:00	Roey Berman	roey.berman@gmail.com	simple_httpclient: ignore 1xx headers

121604bc
7	1	tornado/simple_httpclient.py
26	4	tornado/test/simple_httpclient_test.py

--303e9635	2012-07-31T04:17:47-07:00	bdarnell	ben@bendarnell.com	Merge pull request #573 from ewdurbin/master

Allow 'oob' as a callback_uri per OAuth spec section 2.1
303e9635
--9ddbd7c1	2012-07-30T13:37:17+03:00	Roey Berman	roey.berman@gmail.com	iostream_test: moved the server.close() call from write the after write callback to just before the second read_until().

9ddbd7c1
2	1	tornado/test/iostream_test.py

--ae536157	2012-07-30T11:16:56-04:00	Ernest W. Durbin III	ewdurbin@gmail.com	more oob changes

ae536157
7	2	tornado/auth.py

--e2009030	2012-07-29T08:45:20-07:00	bdarnell	ben@bendarnell.com	Merge pull request #569 from MartinMartimeo/patch-1

Adding super(...).__init__ in web.py
e2009030
--68b5808e	2012-07-21T22:55:38+03:00	MartinMartimeo	martin.martimeo@googlemail.com	Omitting super(...).__init__() causes python, when RequestHandler is extended with multiple class inheritance, to not execute all __init__ methods of all super classes.
68b5808e
2	0	tornado/web.py

--b5288cf0	2012-07-14T10:56:03-07:00	bdarnell	ben@bendarnell.com	Merge pull request #560 from ei-grad/master

[trivial] Output a peer name to log message on ssl errors
b5288cf0
--5edd8daf	2012-07-12T19:57:38+03:00	Roey Berman	roey.berman@gmail.com	Fixed and added regression test for a bug that was introduced in 2.3
where the IOStream._close_callback would never be
called if there were pending reads.

(Cherry-picked from https://github.com/facebook/tornado/pull/561 with
amendments for compatibility with python 2.5-2.6 -bdarnell)

Closes #561.

5edd8daf
1	1	tornado/iostream.py
23	0	tornado/test/iostream_test.py

--3b56036f	2012-07-09T15:17:07+04:00	Andrew Grigorev	ei-grad@yandex-team.ru	formatting

3b56036f
1	1	tornado/iostream.py

--e9acb43f	2012-07-09T14:47:51+04:00	Andrew Grigorev	ei-grad@yandex-team.ru	output a peer name to log message on ssl errors

e9acb43f
6	1	tornado/iostream.py

--00688f9a	2012-07-03T23:03:05-07:00	bdarnell	ben@bendarnell.com	Merge pull request #557 from raullenchai/master

Fix handling of a limited form of secure_cookie tampering
00688f9a
--61007f88	2012-07-03T22:24:28-07:00	Ben Darnell	ben@bendarnell.com	Fix sphinx formatting of new docstring

61007f88
2	4	tornado/testing.py

--3ae8915e	2012-07-03T22:19:51-07:00	bdarnell	ben@bendarnell.com	Merge pull request #556 from yoinc/master

Forward testing.main kwargs to unittest.main
3ae8915e
--1ca245f0	2012-07-02T17:28:44-07:00	Raullen	raullenchai@gmail.com	return None when a secure-cookie is forged
1ca245f0
1	0	tornado/web.py

--44aebc2d	2012-06-14T18:27:40-07:00	Joey Liaw	joey@airtime.com	Forward testing.main kwargs to unittest.main

44aebc2d
10	3	tornado/testing.py

--481c2440	2012-06-30T23:40:14-04:00	Alek Storm	alek.storm@gmail.com	Add ability to get/set HTTP response reason phrase in RequestHandler and HTTPResponse

481c2440
5	2	tornado/httpclient.py
4	2	tornado/simple_httpclient.py
20	0	tornado/test/web_test.py
15	4	tornado/web.py
4	2	tornado/wsgi.py

--ed7030d2	2012-06-29T00:53:22-07:00	Ben Darnell	ben@bendarnell.com	Disallow multiple calls to add_handler for the same fd in IOLoop.

This was already true for epoll; this change adds a check for
kqueue and select implementations.

ed7030d2
4	0	tornado/ioloop.py
20	2	tornado/test/ioloop_test.py

--cfd7a96c	2012-06-28T23:57:11-07:00	bdarnell	ben@bendarnell.com	Merge pull request #551 from minrk/reuseaddr

Don't set SO_REUSEADDR on Windows
cfd7a96c
--a240c768	2012-06-28T23:54:04-07:00	bdarnell	ben@bendarnell.com	Merge pull request #547 from evanj/master

Detect SSL option errors at start up
a240c768
--ff12f295	2012-06-28T23:53:22-07:00	bdarnell	ben@bendarnell.com	Merge pull request #552 from vigasin/master

Fix SSL error handling bug that could result in 100% cpu usage.

Possibly platform-specific; observed on windows.
ff12f295
--b04e5b62	2012-06-28T23:50:23-07:00	Ben Darnell	ben@bendarnell.com	Use non-deprecated zope.interface methods in twisted bridge.

b04e5b62
4	10	tornado/platform/twisted.py
0	7	tornado/test/runtests.py
10	16	tornado/test/twisted_test.py

--8e2f3b85	2012-06-28T11:29:05-07:00	MinRK	benjaminrk@gmail.com	skip EXCLUSIVEADDRUSE on Windows

8e2f3b85
1	3	tornado/netutil.py

--32017dc6	2012-06-28T20:01:34+04:00	Ivan Vigasin	ivan_vigasin@noptix.dyndns.biz	Fix ssl socket error handling.

32017dc6
1	1	tornado/iostream.py

--73d26a47	2012-06-26T12:17:13-04:00	Evan Jones	ej@evanjones.ca	TCPServer: Do some validation of ssl_options

Previously, errors aren't detected until a client connects.

73d26a47
17	0	tornado/netutil.py
31	0	tornado/test/httpserver_test.py

--4e152b54	2012-06-27T21:08:12-07:00	MinRK	benjaminrk@gmail.com	set SO_EXCLUSIVEADDRUSER on Windows instead of SO_REUSEADDR

closes #550

4e152b54
3	0	tornado/netutil.py

--83b38823	2012-06-27T00:02:58-07:00	Ben Darnell	ben@bendarnell.com	Fix (and test and document) logging on py2 with non-ascii bytestrings.

The immediate motivation was an error in request logging when the
request contains non-ascii characters, but a more general fix is
desirable since there are probably more cases where we log utf8 byte
strings, and in general a logging system that blows up on data that
has a perfectly useful representation is not ideal.

Closes #544.

83b38823
24	1	tornado/options.py
84	1	tornado/test/options_test.py

--c469936e	2012-06-26T21:04:44-07:00	bdarnell	ben@bendarnell.com	Merge pull request #549 from polymorphm/bugfix_stack_context_wrap_kwargs

tornado.stack_context.wrap must not to restrict kwargs for function
c469936e
--aff68344	2012-06-27T05:18:54+04:00	Andrej A Antonov	polymorphm@gmail.com	fixed the bug that tornado.stack_context.wrap restricts kwargs for function

aff68344
3	1	tornado/stack_context.py

--9267fa3b	2012-06-24T19:52:53-07:00	Ben Darnell	ben@bendarnell.com	Tests and docs for break/continue in templates

9267fa3b
13	2	tornado/template.py
32	0	tornado/test/template_test.py

--3e508b3b	2012-06-19T11:25:51+08:00	Felinx Lee	felinx.lee@gmail.com	Add continue and break statement support in while and for loop for template

3e508b3b
12	2	tornado/template.py

--31c3f14a	2012-06-24T19:09:31-07:00	bdarnell	ben@bendarnell.com	Merge pull request #530 from alekstorm/body_args

Factored out body argument-parsing code into httputil.parse_body_arguments
31c3f14a
--ef9df4d0	2012-06-24T18:41:11-07:00	Ben Darnell	ben@bendarnell.com	Encourage "python -m tornado.test.runtests" as the way to run the tests.

Remove execute bit from tornado/test/runtests.py, which would unexpectedly
run the tests from a globally-installed version of tornado when run directly.
Add a new runtests.sh to make the recommended behavior more discoverable.
Remove run_pyversion_tests.py, which has been superceded by tox.
Update docs.

Closes #545.

ef9df4d0
1	0	MANIFEST.in
10	0	runtests.sh
0	40	tornado/test/run_pyversion_tests.py
0	0	tornado/test/runtests.py
2	2	tornado/testing.py

--d37ac924	2012-06-18T00:37:55-07:00	Ben Darnell	ben@bendarnell.com	Add pypy-full to default envlist too

d37ac924
1	1	tox.ini

--a310102c	2012-06-18T00:30:11-07:00	Ben Darnell	ben@bendarnell.com	Add a pypy-full test configuration.

Pypy compatibility has improved to the point that we can run twisted_test
under it (with one small issue that we can work around).

a310102c
1	1	tornado/test/twisted_test.py
9	3	tox.ini

--56da4149	2012-06-17T23:04:56-07:00	Ben Darnell	ben@bendarnell.com	Get rid of test_sslv2_fail.

This test is more trouble than it's worth since many distributions have
hacked sslv2 support out of their builds in various ways, and at least
one (python 2.6 on ubuntu 11.10, which happens to be the platform used
on travis-ci) has a bug that results in a segfault, killing the whole
test process.

56da4149
0	5	.travis.yml
0	28	tornado/test/httpserver_test.py

--ca378b9c	2012-06-17T22:57:23-07:00	Ben Darnell	ben@bendarnell.com	Run some (synchronous) web.py tests via wsgi too.

There's probably a more principled way to do this, but for now just port
this batch of tests, which would have caught the add_header bug from
the previous commit, and uncovered an encoding problem on python 3.

ca378b9c
28	15	tornado/test/web_test.py
7	0	tornado/test/wsgi_test.py
26	4	tornado/wsgi.py

--1924392a	2012-06-17T21:48:09-07:00	bdarnell	ben@bendarnell.com	Merge pull request #540 from zhuzhuor/master

fix RequestHandler.add_header() for WSGIApplication
1924392a
--ea646987	2012-06-17T22:30:29-04:00	Bo Zhu	zhubo03@gmail.com	fixed the bug that RequestHandler.add_header doesn't work for WSGI applications

ea646987
1	1	tornado/wsgi.py

--49fede6a	2012-06-17T14:45:45-07:00	bdarnell	ben@bendarnell.com	Merge pull request #539 from msabramo/travis-py26-allow-failure

Enhance the set of configurations tested by Travis CI
49fede6a
--c7fe53b0	2012-06-17T00:30:31-07:00	Marc Abramowitz	marc@marc-abramowitz.com	.travis.yml: Test py32 with LANG=C and LANG=en_US.utf-8

c7fe53b0
4	0	.travis.yml

--d02f5999	2012-06-17T00:07:37-07:00	Marc Abramowitz	marc@marc-abramowitz.com	.travis.yml: Test with more full dependencies using "matrix: include:"
feature of .travis.yml

d02f5999
11	0	.travis.yml

--ee5af796	2012-06-16T23:58:54-07:00	Marc Abramowitz	marc@marc-abramowitz.com	Add py25 (depends on simplejson) to .travis.yml

ee5af796
2	0	.travis.yml

--10ba26da	2012-06-16T23:56:42-07:00	Marc Abramowitz	marc@marc-abramowitz.com	Add pypy to .travis.yml

10ba26da
1	0	.travis.yml

--d9d90e33	2012-06-16T23:46:03-07:00	Marc Abramowitz	marc@marc-abramowitz.com	Add py26 back but make it an allowable failure

d9d90e33
6	2	.travis.yml

--4cdc02fa	2012-06-14T21:40:42-07:00	bdarnell	ben@bendarnell.com	Merge pull request #536 from evanj/master

Documentation fixes: auto-reloading
4cdc02fa
--ae3d20f5	2012-06-14T21:29:21-07:00	Ben Darnell	ben@bendarnell.com	Update dependency versions

ae3d20f5
11	11	maint/requirements.txt

--753bbbff	2012-06-14T15:34:42-04:00	Evan Jones	ej@evanjones.ca	Documentation: Application(debug=True); autoreload limitations.

Application: Document debug=True and cross-link to the overview.
autoreload: Note that this can lose flags and fail if you touch sys.argv.

753bbbff
5	0	tornado/autoreload.py
7	1	tornado/web.py
8	0	website/sphinx/overview.rst

--489997d1	2012-06-14T01:41:04-07:00	Ben Darnell	ben@bendarnell.com	Fix load_gettext_translations on python 3

489997d1
2	0	MANIFEST.in
13	3	setup.py
16	3	tornado/locale.py
9	0	tornado/test/gettext_translations/extract_me.py
-	-	tornado/test/gettext_translations/fr_FR/LC_MESSAGES/tornado_test.mo
22	0	tornado/test/gettext_translations/fr_FR/LC_MESSAGES/tornado_test.po
15	0	tornado/test/locale_test.py

--562d9602	2012-06-14T01:03:17-07:00	Ben Darnell	ben@bendarnell.com	Better ($LANG-independent) fix for csv translation loading on py3.

562d9602
1	0	MANIFEST.in
2	1	setup.py
11	2	tornado/locale.py
1	0	tornado/test/csv_translations/fr_FR.csv
24	0	tornado/test/locale_test.py
1	0	tornado/test/runtests.py

--fb5a62df	2012-06-14T00:28:15-07:00	Ben Darnell	ben@bendarnell.com	Ignore ImportWarnings in tests.

I can't reproduce this, but apparently in some situations setuptools
throws warnings about unrelated packages, so just turn them all off.

Closes #524

fb5a62df
3	0	tornado/test/runtests.py

--a0b4260a	2012-06-13T23:09:15-07:00	Ben Darnell	ben@bendarnell.com	Give test_request_timeout another 10ms slack.

This has been failing a lot on my freebsd VM.

a0b4260a
1	1	tornado/test/simple_httpclient_test.py

--f48578cc	2012-06-13T23:08:06-07:00	Ben Darnell	ben@bendarnell.com	Better way to force a getaddrinfo error.

This fixes the tests for users behind misbehaving DNS servers.

Closes #534.

f48578cc
5	1	tornado/test/iostream_test.py

--577e9a0c	2012-06-13T10:55:46-07:00	Ben Darnell	ben@bendarnell.com	Run the tests in optimized mode too to ensure that things still work
without assertions.

Fix one assert that should have been a runtime error (there are probably
more, but this is the only one currently covered by the test suite).

577e9a0c
1	0	.gitignore
4	2	tornado/simple_httpclient.py
17	1	tox.ini

--4c230609	2012-06-13T10:42:14-07:00	Ben Darnell	ben@bendarnell.com	Replace all assert statements in test code.

Use self.assertFoo where TestCase instances are available, otherwise
raise an exception manually.

4c230609
8	4	tornado/test/auth_test.py
1	1	tornado/test/gen_test.py
2	1	tornado/test/httpserver_test.py
1	1	tornado/test/iostream_test.py
1	1	tornado/test/process_test.py
4	2	tornado/test/simple_httpclient_test.py
2	1	tornado/test/twisted_test.py
24	12	tornado/test/web_test.py

--a303c01a	2012-06-12T21:57:01-07:00	bdarnell	ben@bendarnell.com	Merge pull request #532 from splav/master

to_unicode fix in locale.load_translations
a303c01a
--5f0d4698	2012-06-08T12:04:52-07:00	Ben Darnell	ben@bendarnell.com	Rename AsyncSSLTestCase to AsyncHTTPTestCase.

Move get_ssl_version to the httpserver_test subclasses.
Add some quick docs.

5f0d4698
12	4	tornado/test/httpserver_test.py
9	5	tornado/testing.py

--181fdf5f	2012-06-08T11:50:06-07:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'alekstorm/ssl_test' into merge

181fdf5f
--04c161e8	2012-06-08T11:42:05-07:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'alekstorm/httpclient_stack_context' into merge

04c161e8
--7a2779e9	2012-06-08T11:11:28-07:00	Ben Darnell	ben@bendarnell.com	Add flush method to GzipDecompressor interface and use it.

7a2779e9
15	2	tornado/simple_httpclient.py
21	1	tornado/util.py

--6b757584	2012-06-08T09:16:21+04:00	sergey aleksandrov	saleksandrov@scalaxy.ru	python3k to_unicode fix in locale.load_translations

6b757584
3	1	tornado/locale.py

--df099865	2012-06-07T23:23:04-04:00	Alek Storm	alek.storm@gmail.com	Add testing.AsyncSSLTestCase

Allow subclasses of AsyncHTTPTestCase to provide their own http client
and server implementations.

df099865
0	9	tornado/test/httpclient_test.py
6	33	tornado/test/httpserver_test.py
49	6	tornado/testing.py

--4b4e8905	2012-06-07T16:59:05-04:00	Alek Storm	alek.storm@gmail.com	Factored out body argument-parsing code into httputil.parse_body_arguments

Parses application/x-www-form-urlencoded or multipart/form data)

Was duplicated in httpserver and wsgi

4b4e8905
4	21	tornado/httpserver.py
19	0	tornado/httputil.py
2	12	tornado/wsgi.py

--fc006405	2012-06-07T16:43:57-04:00	Alek Storm	alek.storm@gmail.com	Factor out gzip decompressor from SimpleAsyncHTTPClient into util.GzipDecompressor

fc006405
4	7	tornado/simple_httpclient.py
12	0	tornado/util.py

--0b432be3	2012-06-03T17:37:36-07:00	Ben Darnell	ben@bendarnell.com	Use https for all links to github.

Github redirects everything to https anyway, so the links might as well
start out secure.

0b432be3
2	2	website/sphinx/overview.rst
1	1	website/sphinx/releases/v1.0.0.rst
1	1	website/sphinx/releases/v1.1.0.rst
1	1	website/sphinx/releases/v1.1.1.rst
1	1	website/sphinx/releases/v1.2.0.rst
1	1	website/sphinx/releases/v1.2.1.rst
4	4	website/templates/index.html
2	2	website/website.py

--72e1330d	2012-06-03T17:33:30-07:00	Ben Darnell	ben@bendarnell.com	Update README to match tornadoweb.org

72e1330d
36	13	README

--3451019e	2012-06-03T13:28:44-07:00	Ben Darnell	ben@bendarnell.com	Set alarms on child processes in process_test.

These alarms used to be there, but got dropped in a previous change
because I had assumed the child processes would inherit the parent's
alarm.

3451019e
3	1	tornado/test/process_test.py

--efcab59b	2012-06-03T13:26:32-07:00	Ben Darnell	ben@bendarnell.com	Post-release version bump

efcab59b
1	1	setup.py
2	2	tornado/__init__.py

--4965811f	2012-06-03T15:14:55-04:00	Alek Storm	alek.storm@gmail.com	Timeouts in SimpleAsyncHTTPClient now raise HTTPError

Previously, they ran the callbacks themselves.

4965811f
6	10	tornado/simple_httpclient.py

--13598908	2012-05-31T21:39:21-07:00	Ben Darnell	ben@bendarnell.com	Set version number to 2.3

13598908
1	1	setup.py
2	2	tornado/__init__.py

--be957adf	2012-05-31T21:39:07-07:00	Ben Darnell	ben@bendarnell.com	Final 2.3 release notes

be957adf
1	1	website/sphinx/releases.rst
4	4	website/sphinx/releases/{next.rst => v2.3.0.rst}

--2321542c	2012-05-31T10:46:42-07:00	bdarnell	ben@bendarnell.com	Merge pull request #521 from yoinc/master

Restore context for all read methods
2321542c
--4c193331	2012-05-30T17:32:29-07:00	Eden Li	eden.li@gmail.com	Restore context for all read methods.

Prior to 2db0aceb32f5c042f5306e72a4679580b4359f34 this was being done
properly, but the refactor removed stack_context.wrap causing some issues
in our upstream context managers.

4c193331
1	1	tornado/iostream.py

--5cd350ac	2012-05-27T22:10:03-07:00	Ben Darnell	ben@bendarnell.com	Set version number to 2.3rc1

5cd350ac
1	1	setup.py
2	2	tornado/__init__.py

--a358a735	2012-05-27T22:09:47-07:00	Ben Darnell	ben@bendarnell.com	Quick hack to make this test pass on cygwin

a358a735
3	0	tornado/test/iostream_test.py

--67d69340	2012-05-27T21:35:27-07:00	Ben Darnell	ben@bendarnell.com	Fix zope.interface/py25 dependencies for other tox.ini files

67d69340
1	0	maint/vm/ubuntu10.04/tox.ini
1	0	maint/vm/ubuntu12.04/tox.ini

--0219bd5e	2012-05-27T20:41:48-07:00	Ben Darnell	ben@bendarnell.com	Doc updates

0219bd5e
7	0	tornado/stack_context.py
78	49	website/sphinx/releases/next.rst
4	0	website/static/sphinx.css

--c11efb48	2012-05-27T20:16:42-07:00	Ben Darnell	ben@bendarnell.com	Release note updates

c11efb48
13	0	website/sphinx/releases/next.rst

--af7fb080	2012-05-27T20:11:52-07:00	Ben Darnell	ben@bendarnell.com	Remove unused variables

af7fb080
0	1	tornado/httpserver.py
1	1	tornado/test/web_test.py
0	1	tornado/wsgi.py

--085f1f19	2012-05-27T20:08:46-07:00	Ben Darnell	ben@bendarnell.com	Add future import to this new file for consistency

085f1f19
1	0	tornado/test/options_test.py

--dd9a8ac1	2012-05-27T20:07:56-07:00	Ben Darnell	ben@bendarnell.com	Another round of minor whitespace cleanups from autopep8

dd9a8ac1

--5e514195	2012-05-27T18:37:10-07:00	Ben Darnell	ben@bendarnell.com	Remove use of string exceptions in gen_test.

These lines are not reached, but if they were they would fail with
a less clear message than intended.

Closes #520.

5e514195
3	3	tornado/test/gen_test.py

--91180286	2012-05-27T15:09:52-07:00	Ben Darnell	ben@bendarnell.com	Connection errors can happen here too.

91180286
1	0	tornado/iostream.py

--33094192	2012-05-27T15:04:03-07:00	Ben Darnell	ben@bendarnell.com	IOStreams now save the exception object that caused them to close.

Closes #494.

33094192
10	0	tornado/iostream.py
11	0	tornado/test/iostream_test.py

--e5d5d324	2012-05-26T11:35:42-07:00	Ben Darnell	ben@bendarnell.com	Delay check for socket.family (and make it jython-friendly).

Now HTTPConnection.address will always be the socket address,
and the fake "0.0.0.0" IP is only used in contexts that want an IP
(i.e. HTTPRequest.remote_ip) but the connection is a non-IP socket.

e5d5d324
12	4	tornado/httpserver.py

--7d4623bc	2012-05-26T11:22:52-07:00	bdarnell	ben@bendarnell.com	Merge pull request #514 from ahassany/fix-connectin-check

Better connection check in RequestHandler
7d4623bc
--3dcf497f	2012-05-26T11:05:16-07:00	Ben Darnell	ben@bendarnell.com	Extract constant, add comments

3dcf497f
8	4	tornado/iostream.py

--227becd6	2012-05-26T10:56:17-07:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'ei-grad/master'

227becd6
--f41306da	2012-05-26T10:54:34-07:00	Ben Darnell	ben@bendarnell.com	Override dict.copy in HTTPHeaders to return the correct type.

Closes #519.

f41306da
4	0	tornado/httputil.py

--b8e44661	2012-05-24T16:53:51+04:00	Andrew Grigorev	ei-grad@yandex-team.ru	Split large chunks of data in IOStream.write.

Closes #515.

b8e44661
4	0	tornado/iostream.py

--b6ea32d3	2012-05-24T13:23:34-04:00	Ahmed El-Hassany	ahassany@indiana.edu	Better connection check in RequestHandler

b6ea32d3
1	1	tornado/web.py

--e101397b	2012-05-20T23:03:53-07:00	Ben Darnell	ben@bendarnell.com	Ignore any data after the final multipart boundary.

Closes #489.

e101397b
5	5	tornado/httputil.py
18	0	tornado/test/httputil_test.py

--57a3f83f	2012-05-20T22:08:59-07:00	Ben Darnell	ben@bendarnell.com	Prevent leak of StackContexts in repeated gen.engine functions.

Internally, StackContexts now return a deactivation callback,
which can be used to prevent that StackContext from propagating
further.  This is used in gen.engine because the decorator doesn't know
which arguments are callbacks that need to be wrapped outside of its
ExceptionStackContext.  This is deliberately undocumented for now.

Closes #507.

57a3f83f
6	3	tornado/gen.py
20	9	tornado/stack_context.py
18	0	tornado/test/gen_test.py
27	0	tornado/test/stack_context_test.py

--1be0cc4c	2012-05-20T17:06:03-07:00	Ben Darnell	ben@bendarnell.com	Release note updates

1be0cc4c
12	1	website/sphinx/releases/next.rst

--4c6f1137	2012-05-20T16:57:36-07:00	Ben Darnell	ben@bendarnell.com	Fix docstring formatting

4c6f1137
4	2	tornado/escape.py

--e4ee4709	2012-05-20T16:54:16-07:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'jjwchoy/master'

Modified linkify to accept a callable for extra_params.

Closes #506.

e4ee4709
--b1df6635	2012-05-20T16:51:02-07:00	Ben Darnell	ben@bendarnell.com	304 responses no longer include entity headers like Content-Length

This is required by the RFC as it may confuse caches.

b1df6635
51	0	tornado/test/web_test.py
27	2	tornado/web.py

--dd765596	2012-05-20T16:27:28-07:00	Ben Darnell	ben@bendarnell.com	Add status_code to the OutputTransform.transform_first_chunk interface.

This is needed for correct support of the 304 status code, which
has no body and should not have either a Content-Length or
Transfer-Encoding.  This is a backwards-incompatible change to an
interface that was never technically private, but not included in the
documentation and as far as I can tell was never used outside
tornado itself.

dd765596
9	8	tornado/web.py

--53452e8d	2012-05-19T14:22:03-07:00	Ben Darnell	ben@bendarnell.com	Fight bitrot in tornado.platform.twisted.

A new release of zope.interface breaks things on python 2.5, and
sets off our (overly-sensitive?) deprecation checking.

53452e8d
6	1	tornado/platform/twisted.py
9	2	tornado/test/runtests.py
2	0	tox.ini

--f618c2f6	2012-05-11T22:14:08-07:00	Ben Darnell	ben@bendarnell.com	Ignore .class files (create by jython)

f618c2f6
1	0	.gitignore

--d7945815	2012-05-11T21:48:21-07:00	Ben Darnell	ben@bendarnell.com	Move tornado.platform.windows.Waker to new module platform.common.

Cleaned up the few windows-specific bits of code.  The socket-based
Waker is also usable on Jython.

d7945815
2	1	tornado/platform/auto.py
14	26	tornado/platform/{windows.py => common.py}
0	78	tornado/platform/windows.py

--a9443b7f	2012-05-10T23:26:34-07:00	Ben Darnell	ben@bendarnell.com	Replace all occurrences of 3-argument raise statements with the
version from testing.py, which works better with 2to3.

Closes #508

a9443b7f
2	1	tornado/stack_context.py
1	0	tornado/test/runtests.py
25	0	tornado/test/util_test.py
2	6	tornado/testing.py
18	0	tornado/util.py
3	3	tornado/web.py

--25f49900	2012-05-09T21:57:44-07:00	Ben Darnell	ben@bendarnell.com	Fix path parsing in HTTPServer.

urlparse.urlsplit expects a full url, but we were using it for a bare path.
This mostly worked but would parse paths beginning with "//" incorrectly.
Fortunately all we really need to do is split the path on "?".

Closes #509.

25f49900
2	4	tornado/httpserver.py
9	0	tornado/test/httpserver_test.py

--783d76cb	2012-05-08T10:24:46+01:00	Jason Choy	jjwchoy@gmail.com	Test strip and add space still works when extra_params is a callable

783d76cb
4	0	tornado/test/escape_test.py

--4fd35b8c	2012-05-08T10:15:24+01:00	Jason Choy	jjwchoy@gmail.com	Added a test case for extra_params as a callable

4fd35b8c
4	0	tornado/test/escape_test.py

--28590fce	2012-05-07T00:18:55-07:00	Ben Darnell	ben@bendarnell.com	Fix handling of non-ascii data in reverse_url.

Closes #490.

28590fce
13	2	tornado/test/web_test.py
11	2	tornado/web.py

--2a1601fd	2012-05-06T22:59:56-07:00	Ben Darnell	ben@bendarnell.com	Update next release notes

2a1601fd
19	0	website/sphinx/releases/next.rst

--a548ab67	2012-05-06T22:46:53-07:00	Ben Darnell	ben@bendarnell.com	Refactor tornado.options to make it testable.

Now most code is in methods of the _Options class, and it is possible
to create isolated instances of that class.  The test is pretty
rudimentary, but it's a start.

a548ab67
87	67	tornado/options.py
17	0	tornado/test/options_test.py
1	0	tornado/test/runtests.py
13	1	website/sphinx/options.rst

--625c6e05	2012-05-06T21:43:25-07:00	bdarnell	ben@bendarnell.com	Merge pull request #498 from mckoss/feature/set-option

fix bug setting options programatically
625c6e05
--de3cf92a	2012-05-06T21:36:39-07:00	bdarnell	ben@bendarnell.com	Merge pull request #484 from vadimg/master

make commandline args override config file args when multiple=True
de3cf92a
--fde872df	2012-05-06T21:10:05-07:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'mckoss/feature/pretty-help' into merge

fde872df
--62ff417c	2012-05-06T18:39:57-07:00	Ben Darnell	ben@bendarnell.com	Fix test on python 3

62ff417c
1	1	tornado/test/simple_httpclient_test.py

--91ea7757	2012-05-06T18:30:16-07:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'screeley/master'

Conflicts:
	tornado/simple_httpclient.py

91ea7757
--6dbce939	2012-05-06T18:10:13-07:00	Ben Darnell	ben@bendarnell.com	Fix bug when max_clients kwarg is passed to AsyncHTTPClient.configure.

Closes #493.

6dbce939
19	2	tornado/httpclient.py
40	1	tornado/test/simple_httpclient_test.py

--9ef20e3f	2012-05-06T18:09:51-07:00	Ben Darnell	ben@bendarnell.com	Make autoreload a little more robust against weird import failures

9ef20e3f
3	1	tornado/autoreload.py

--8f44acda	2012-05-06T17:41:29-07:00	bdarnell	ben@bendarnell.com	Merge pull request #497 from polymorphm/master

tornado.ioloop.IOLoop.instance() should be threadsafe
8f44acda
--f5012b42	2012-05-06T17:29:02-07:00	Ben Darnell	ben@bendarnell.com	Document and test for type differences between get_cookie and get_secure_cookie.

Closes #501.

f5012b42
21	4	tornado/test/web_test.py
8	1	tornado/web.py

--088f0c14	2012-05-06T16:46:28-07:00	Ben Darnell	ben@bendarnell.com	Expand path encoding test to cover issues raised by pull request 505
(unicode in URLSpecs).

088f0c14
33	12	tornado/test/web_test.py

--930c945c	2012-05-06T15:20:46-07:00	bdarnell	ben@bendarnell.com	Merge pull request #503 from jparise/http-patch-method

Add support for the HTTP PATCH method.
930c945c
--c3ed68a3	2012-05-06T11:18:29-07:00	Casey Muller	github@nullterminated.com	Fix setting cookies under WSGI, broken by the rename from _new_cookies to _new_cookie in https://github.com/facebook/tornado/commit/70ea7a5a6ca956b613168c9d123ee7cc951054bf

c3ed68a3
2	2	tornado/wsgi.py

--53e7c751	2012-05-06T13:22:40+01:00	Jason Choy	jjwchoy@gmail.com	Modified linkify to accept a callable for extra_params. This allows different params based for each link, for example to treat internal and external links differently

53e7c751
12	2	tornado/escape.py

--bd1fdaab	2012-05-02T13:41:10-07:00	Jon Parise	jon@indelible.org	Add support for the HTTP PATCH method.

PATCH is a proposed standard described by RFC 5789:

    http://tools.ietf.org/html/rfc5789

bd1fdaab
1	1	tornado/httpserver.py
2	2	tornado/simple_httpclient.py
5	1	tornado/web.py

--50244877	2012-04-27T20:50:01-07:00	Ben Darnell	ben@bendarnell.com	Ubuntu 12.04 is out, so add a vagrant config for it.

Replace the 11.04 config, but keep 10.04 to cover the two LTS releases.

50244877
2	2	maint/vm/{ubuntu11.04 => ubuntu12.04}/Vagrantfile
1	9	maint/vm/{ubuntu11.04 => ubuntu12.04}/setup.sh
1	7	maint/vm/{ubuntu11.04 => ubuntu12.04}/tox.ini

--dd3ff7f8	2012-04-27T04:16:28-07:00	Mike Koss	mckoss@startpad.org	fix bug when no help text given for option - wrap returns empty list

dd3ff7f8
1	1	tornado/options.py

--47860908	2012-04-25T17:34:26-07:00	Mike Koss	mckoss@startpad.org	fix bug setting options programatically

47860908
10	5	tornado/options.py

--29f98d07	2012-04-23T22:41:11-07:00	Ben Darnell	ben@bendarnell.com	Remove python 3 colored logging fix from next release notes since it
went out in 2.2.1.

29f98d07
0	2	website/sphinx/releases/next.rst

--3df46ee3	2012-04-23T22:34:42-07:00	Ben Darnell	ben@bendarnell.com	Merge branch 'branch2.2'

Conflicts:
	setup.py
	tornado/__init__.py
	tornado/test/web_test.py
	tox.ini
	website/sphinx/releases.rst

3df46ee3
--235cb17a	2012-04-23T22:25:16-07:00	Ben Darnell	ben@bendarnell.com	Add .travis.yml file to branch2.2 just to make everything green.

235cb17a
16	0	.travis.yml

--a1bb6635	2012-01-30T11:10:17-08:00	Ben Darnell	ben@bendarnell.com	Cherry-pick cc8e893 into branch2.2

Original commit message:

Revert "Run the website in python2.7 mode"

Can't use python2.7 mode without migrating to the "high-replication
datastore", and even though we don't have any data "migration" is a
pain.

This reverts commit e960e9bc9d48906ed37b65ad6eb774ab33637170.

a1bb6635
5	6	website/app.yaml

--8d7f9f01	2012-04-23T22:04:06-07:00	Ben Darnell	ben@bendarnell.com	Version number bump for 2.2.1

8d7f9f01
1	1	setup.py
2	2	tornado/__init__.py

--c135c368	2012-04-23T22:03:17-07:00	Ben Darnell	ben@bendarnell.com	Release notes for 2.2.1

c135c368
1	0	website/sphinx/releases.rst
20	0	website/sphinx/releases/v2.2.1.rst

--1ae91f6d	2012-04-23T21:55:05-07:00	Ben Darnell	ben@bendarnell.com	Fix reponse header sanitization.

1ae91f6d
15	0	tornado/test/web_test.py
1	1	tornado/web.py

--15798a1d	2012-01-31T00:34:12-08:00	Ben Darnell	ben@bendarnell.com	Cherry-pick b151a1ee967 into branch2.2.

Original commit message:

Add a version check for the curses unicode hack so it won't break when
python 3.2.3 or 3.3 are released.

Closes #450.

15798a1d
11	6	tornado/options.py

--c1f72d50	2012-04-23T21:35:15-07:00	Ben Darnell	ben@bendarnell.com	Pin twisted versions in the 2.2 branch to 11.1.0 since that release doesn't
pass its tests with newer versions.

c1f72d50
3	3	tox.ini

--5ae39bc6	2012-04-23T01:12:09-07:00	Ben Darnell	ben@bendarnell.com	Update vagrant configs for vagrant 1.0

5ae39bc6
5	9	maint/vm/freebsd/Vagrantfile
1	1	maint/vm/ubuntu10.04/Vagrantfile
1	1	maint/vm/ubuntu11.04/Vagrantfile

--840392fa	2012-04-21T01:34:00+04:00	Andrej A Antonov	polymorphm@gmail.com	double-checked-locking in tornado.ioloop.IOLoop.instance()

840392fa
6	0	tornado/ioloop.py

--b082051f	2012-04-18T22:56:14-07:00	Ben Darnell	ben@bendarnell.com	Disable python 2.6 on travis-ci, since I don't have enough visibility
to dig into the SSL segfault.

b082051f
3	2	.travis.yml

--bcc9a0a6	2012-04-18T22:42:34-07:00	Ben Darnell	ben@bendarnell.com	Increase verbosity for tests on travis-ci to track down a segfault on 2.6

bcc9a0a6
1	1	.travis.yml

--351c3223	2012-04-18T22:22:06-07:00	Ben Darnell	ben@bendarnell.com	The RequestHandler.flush callback should be run even if there is no data.

Also IOStream._try_inline_read needs the same fake-callback change
as _handle_read (I can't seem to come up with a good isolated test for this,
but it's tickled by the empty-flush test).

Closes #492.

351c3223
5	0	tornado/iostream.py
19	0	tornado/test/web_test.py
0	1	tornado/web.py

--b875a8b5	2012-04-18T21:31:39-07:00	bdarnell	ben@bendarnell.com	Merge pull request #495 from alekstorm/template_try_else

Add `else` as possible sub-clause in `try` blocks in templates.
b875a8b5
--983fb8ba	2012-04-18T17:45:09-07:00	Ben Darnell	ben@bendarnell.com	Open template files in binary mode (to be decoded as utf8 later)

Text mode in python 3 uses an environment-dependent encoding, so
add a test and run it in both C and utf-8 locales.

983fb8ba
1	0	MANIFEST.in
2	1	setup.py
1	1	tornado/template.py
12	2	tornado/test/template_test.py
1	0	tornado/test/templates/utf8.html
12	1	tox.ini

--4e989593	2012-04-18T18:32:59-07:00	Ben Darnell	ben@bendarnell.com	Tweak a timing-sensitive test to have fewer false failures.

4e989593
4	4	tornado/test/testing_test.py
1	1	tornado/testing.py

--4416c0a6	2012-04-17T14:55:05-04:00	Alek Storm	alek.storm@gmail.com	Add `else` as possible sub-clause in `try` blocks in templates.

Add test case.

4416c0a6
2	2	tornado/template.py
10	0	tornado/test/template_test.py

--e4e85da3	2012-02-13T14:17:11-08:00	Mike Koss	mckoss@startpad.org	pretty up --help formatting

e4e85da3
13	4	tornado/options.py

--38908bf6	2012-04-01T14:41:47-07:00	Ben Darnell	ben@bendarnell.com	Make tornado.database importable when MySQLdb is not available.

This fixes the docs build on readthedocs.org.

Closes #485.

38908bf6
10	4	tornado/database.py

--92d1eb0f	2012-03-27T15:17:48-04:00	Vadim Graboys	vadim@chartbeat.com	fix handling of multiple commandline args

make commandline args override config file args when multiple=True
instead of appending to config file args

92d1eb0f
0	1	tornado/options.py

--38cccf8e	2012-03-26T12:02:13+02:00	Birk Nilson	me@birknilson.se	Cache the computed absolute path to the requested resource in
StaticFileHandler. The cache is cleared on_finish of each request
in order to ensure recomputation on each request.

38cccf8e
23	6	tornado/web.py

--2ff579a6	2012-03-25T17:22:33-07:00	Ben Darnell	ben@bendarnell.com	Release note updates

2ff579a6
10	0	website/sphinx/releases/next.rst

--41463a98	2012-03-25T17:12:00-07:00	Ben Darnell	ben@bendarnell.com	Increase performance of IOStream.read_until and read_until_regex.

_handle_read and _try_inline_read now only call _read_from_buffer
once, after calling _read_to_buffer as many times as they can.  This
allows the progressive _double_prefix calls in _read_from_buffer to
work as efficiently as possible.

In testing with a 4MB read, performance improved by a factor of 32 (8
seconds to 0.25 seconds)

41463a98
31	11	tornado/iostream.py
17	0	tornado/test/iostream_test.py

--c86b8ce0	2012-03-25T12:37:37-07:00	Ben Darnell	ben@bendarnell.com	Clean up alarm signals in process_test when the test fails

c86b8ce0
3	5	tornado/test/process_test.py

--e81f42b3	2012-03-24T16:05:11-07:00	Ben Darnell	ben@bendarnell.com	Add python 3.3 (alpha) to the tox config.

e81f42b3
5	1	tox.ini

--2f0fbd9b	2012-03-24T15:07:26-07:00	Ben Darnell	ben@bendarnell.com	Expand documentation for IOLoop.stop and IOLoop.close

2f0fbd9b
17	1	tornado/ioloop.py

--b41734bc	2012-03-24T14:53:06-07:00	Ben Darnell	ben@bendarnell.com	Rename example in docs for clarity

b41734bc
2	2	website/sphinx/overview.rst

--40dc1f09	2012-03-24T14:40:10-07:00	Ben Darnell	ben@bendarnell.com	Merge branch 'master' of github.com:facebook/tornado

40dc1f09
--4cae7b2c	2012-03-24T14:35:55-07:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'alekstorm/read_from_buffer_refactor' into merge

4cae7b2c
--3803fd66	2012-03-24T13:56:05-07:00	bdarnell	ben@bendarnell.com	Merge pull request #482 from wsantos/patch-2

Don't try to send post_args in the url with FacebookGraphMixin
3803fd66
--6ffd170b	2012-03-24T13:46:06-07:00	Ben Darnell	ben@bendarnell.com	Add HTTPServer's type test to WSGIApplication, and fix another python3 bug.

6ffd170b
13	0	tornado/test/wsgi_test.py
1	1	tornado/wsgi.py

--04188130	2012-03-24T13:23:55-07:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'jsamuel/wsgi-arg-keys' into merge

04188130
--cdaa99af	2012-03-24T13:06:50-07:00	bdarnell	ben@bendarnell.com	Merge pull request #475 from andrew-d/master

addslash / removeslash modification
cdaa99af
--c3ca9a3a	2012-03-24T12:53:58-07:00	Ben Darnell	ben@bendarnell.com	Disable twisted process tests, which don't work for me on OSX 10.6

c3ca9a3a
4	3	tornado/test/twisted_test.py

--68449f0b	2012-03-21T16:56:30-03:00	Waldecir Loureiro dos Santos Filho	waldecir@gmail.com	we dont need post_args in url, post_args will be sended in http body.
68449f0b
1	1	tornado/auth.py

--1c6dc7c3	2012-03-19T15:09:23-07:00	Justin Samuel	js@justinsamuel.com	Fix keys in wsgi request arguments being bytes in python3 when content-type is application/x-www-form-urlencoded.

1c6dc7c3
2	2	tornado/wsgi.py

--b3989173	2012-03-15T17:50:46-04:00	Alek Storm	alek.storm@gmail.com	Refactor IOStream.read_from_buffer() for speed, clarity

b3989173
21	28	tornado/iostream.py

--c34888b0	2012-03-11T18:06:22+01:00	Birk Nilson	me@birknilson.se	Move retrieval of absolute path to separate method which is also in
charge of validation.

c34888b0
25	16	tornado/web.py

--e0048efc	2012-03-09T18:46:21+01:00	Birk Nilson	me@birknilson.se	Fixed syntax error in the altered StaticFileHandler.get() method

e0048efc
1	1	tornado/web.py

--ac45401f	2012-03-09T18:25:52+01:00	Birk Nilson	me@birknilson.se	Introduce StaticFileHandler.(get_content|set_headers) which reduces the
complexity of the HTTP GET handler of static resources.

ac45401f
30	10	tornado/web.py

--722d978a	2012-03-07T22:15:36-05:00	AndrewD	andrew_j_dunham@hotmail.com	Modified addslash & removeslash to use permanent redirect

722d978a
2	2	tornado/web.py

--bcbef8c7	2012-03-05T23:25:06-08:00	Ben Darnell	ben@bendarnell.com	One more autoreload path tweak:  set $PYTHONPATH just before exec,
whether autoreload is __main__ or not.

bcbef8c7
28	14	tornado/autoreload.py

--6bbf4674	2012-03-05T22:25:25-08:00	Ben Darnell	ben@bendarnell.com	Fix signal handlers clobbered by twisted tests.

The most visible effect of the bug was that test runs with autoreload
would not respond to ctrl-c.

6bbf4674
21	0	tornado/test/twisted_test.py

--d0c206aa	2012-02-20T20:31:33-08:00	Ben Darnell	ben@bendarnell.com	Move autoreload's sys.path manipulations earlier in the file, before
as many imports as possible.

This fixes an edge case discovered in a branch where I introduced
a module named tornado.concurrent.

d0c206aa
30	15	tornado/autoreload.py

--aa7ac690	2012-03-05T21:49:41-08:00	Ben Darnell	ben@bendarnell.com	Fix some mutable values used as default arguments.

Also fix a doc discrepancy in which HTTPResponse.headers could be
a plain dict instead of an HTTPHeaders object (for errors that returned
no headers).

aa7ac690
6	3	tornado/httpclient.py
2	2	tornado/web.py

--2f35821c	2012-03-05T21:38:47-08:00	Ben Darnell	ben@bendarnell.com	Avoid modifying the headers object passed in by the client.

This fixes a problem in which the header object was reused across requests
and behavior became inconsistent when following redirects.

Closes #459.

2f35821c
7	0	tornado/httputil.py
3	1	tornado/simple_httpclient.py
8	0	tornado/test/simple_httpclient_test.py

--daeb7c41	2012-02-27T10:15:48-08:00	Ben Darnell	ben@bendarnell.com	Fix travis build for python3

daeb7c41
7	1	.travis.yml

--6c16f8ca	2012-02-27T10:09:46-08:00	Ben Darnell	ben@bendarnell.com	Try out travis-ci.org

6c16f8ca
9	0	.travis.yml

--94dc4c78	2012-02-25T16:50:51-08:00	Ben Darnell	ben@bendarnell.com	Don't swallow exceptions that escape from TestCase.run().

This fixes a case in which nose would fail to report a failing test
(if the exception's str() method raised an exception).

Closes #466.

94dc4c78
16	7	tornado/testing.py

--12b8c2e5	2012-02-23T09:58:58-05:00	Sean Creeley	sean.creeley@gmail.com	RequestHander is set up to handle "OPTIONS" requests, but the
SimpleAsyncHTTPClient does not allow "OPTIONS" requests. This is a
pain when you are trying to write test cases for CORS. This simple
patch adds "OPTIONS" to the supported _SUPPORTED_METHODS in
_HTTPConnection and a test case to go along with it.

12b8c2e5
1	1	tornado/simple_httpclient.py
14	0	tornado/test/simple_httpclient_test.py

--2ead3a81	2012-02-22T11:47:34-08:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'bergundy/master' into work

2ead3a81
--d1429ff8	2012-02-20T01:12:27-08:00	Ben Darnell	ben@bendarnell.com	Update twisted test blacklist for Twisted 12.0.0

d1429ff8
10	2	tornado/test/twisted_test.py
3	3	tox.ini

--3b181f54	2012-02-20T00:40:19-08:00	Ben Darnell	ben@bendarnell.com	Revert "Remove optional setuptools import."

This reverts commit 50b28c5d7a1ccfc3cc3a5a8fc5cf664880598fc6.

Turns out we do need setuptools in at least one situation:
distutils chokes if there are broken symlinks anywhere in the source
tree, but in testing with a VM there may be "broken" symlinks that point
outside the directory shared with the VM.

3b181f54
6	0	setup.py
0	1	website/sphinx/releases/next.rst

--530731cc	2012-02-19T22:17:45-08:00	Ben Darnell	ben@bendarnell.com	Fix the Host header when using basic auth credentials in the URL.

530731cc
3	0	tornado/simple_httpclient.py
16	0	tornado/test/simple_httpclient_test.py
2	0	website/sphinx/releases/next.rst

--0f30e150	2012-02-19T21:57:52-08:00	Ben Darnell	ben@bendarnell.com	Release note updates for the last wave of merges

0f30e150
13	0	website/sphinx/releases/next.rst

--e1dca57b	2012-02-19T21:47:07-08:00	Ben Darnell	ben@bendarnell.com	Return the Etag header on 304 responses to an If-None-Match request.

e1dca57b
1	2	tornado/web.py

--2c83f471	2012-02-19T21:37:50-08:00	Ben Darnell	ben@bendarnell.com	Revert "Use copy.deepcopy to clone HTTPRequest when following redirects."

This reverts commit b7e604646537984e967dd25447a8df3e221bf9ed.

Something about this broke the tests.

2c83f471
1	1	tornado/simple_httpclient.py

--b7e60464	2012-02-19T21:30:15-08:00	Ben Darnell	ben@bendarnell.com	Use copy.deepcopy to clone HTTPRequest when following redirects.

This gives each request in a redirect chain its own copy of the
headers dictionary.

Closes #459.

b7e60464
1	1	tornado/simple_httpclient.py

--eac1e538	2012-02-06T16:01:11+01:00	Olivier Hardy	ohardy@me.com	In template, use handler reverse_url instead of application one

eac1e538
1	1	tornado/web.py

--99d9d74c	2012-02-06T15:40:51+01:00	Olivier Hardy	ohardy@me.com	Fix locale.get_supported_locales(): remove cls parameter

99d9d74c
1	1	tornado/locale.py

--63a3ed65	2012-02-19T20:31:48-08:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'jehiah/max_simultaneous_connections_457'

63a3ed65
--9431921b	2012-02-19T20:25:43-08:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'grydstedt/master' into work

9431921b
--ceabffe2	2012-02-19T20:08:26-08:00	Ben Darnell	ben@bendarnell.com	Test for https://github.com/facebook/tornado/pull/454

ceabffe2
16	0	tornado/test/web_test.py
2	0	website/sphinx/releases/next.rst

--dca74f67	2012-02-19T20:04:13-08:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'minrk/strkeys' into work

dca74f67
--2db0aceb	2012-02-19T19:50:01-08:00	Ben Darnell	ben@bendarnell.com	Further refactoring of duplicated IOStream logic

2db0aceb
18	12	tornado/iostream.py

--01dd70c5	2012-02-19T19:41:50-08:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'birknilson/iostream_refactoring_read' into work

Conflicts:
	tornado/iostream.py

01dd70c5
--56ec1ee5	2012-02-19T19:33:08-08:00	Ben Darnell	ben@bendarnell.com	Pass parsed hostname around explictly instead of storing it on the urlsplit result.

In some versions of python (including 2.5 and 3.2 but not 2.6 or 2.7),
urlsplit results use __slots__ and therefore don't allow artibrary attributes
to be set.

Also move the storing of the parsed hostname above hostname_mapping,
since the cert should be checked against the requested url, not the remapped
one.

Closes #448.

56ec1ee5
9	6	tornado/simple_httpclient.py
1	1	tornado/test/httpserver_test.py
2	0	website/sphinx/releases/next.rst

--83a0eedf	2012-02-19T19:22:31-08:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'ei-grad/master' into work

83a0eedf
--70ea7a5a	2012-02-19T18:47:46-08:00	Ben Darnell	ben@bendarnell.com	Use a single Cookie.SimpleCookie for outgoing cookies instead of a list.

The main reason for this change is to repeated calls to set_cookie
overwrite rather than append.

Closes #445.

70ea7a5a
23	7	tornado/test/web_test.py
12	11	tornado/web.py
2	0	website/sphinx/releases/next.rst

--2539f837	2012-02-19T18:25:24-08:00	Ben Darnell	ben@bendarnell.com	Start a new release-notes file

2539f837
1	0	website/sphinx/releases.rst
11	0	website/sphinx/releases/next.rst

--6ed1eaf1	2012-02-13T15:23:24+02:00	Roey Berman	roey.berman@gmail.com	Fixed: Subsequent calls to AsyncTestCase.wait() now clear previously set timeouts.
See: http://groups.google.com/group/python-tornado/browse_thread/thread/cc77a08b15c39a14

6ed1eaf1
10	0	tornado/test/testing_test.py
4	1	tornado/testing.py

--2d665a41	2012-02-09T01:08:04-08:00	Ben Darnell	ben@bendarnell.com	Check in autopep8 script

2d665a41
2	0	maint/requirements.txt
8	0	maint/scripts/run_autopep8.sh

--605c5213	2012-02-09T01:00:11-08:00	Ben Darnell	ben@bendarnell.com	Fix weird indentation in auth.py and simple_httpclient_test.py

605c5213

--c152b784	2012-02-09T00:55:27-08:00	Ben Darnell	ben@bendarnell.com	While I'm touching every file, run autopep8 too.

Might as well get all the merge headaches over with at once :)

Ran with
$ autopep8 --ignore=E111,W602 i tornado/*.py tornado/platform/*.py tornado/test/*.py

c152b784
31	14	tornado/auth.py
4	2	tornado/autoreload.py
4	2	tornado/curl_httpclient.py
4	2	tornado/escape.py
16	4	tornado/gen.py
2	1	tornado/httpserver.py
4	2	tornado/httputil.py
6	3	tornado/ioloop.py
14	7	tornado/locale.py
6	3	tornado/options.py
2	1	tornado/platform/posix.py
2	1	tornado/platform/windows.py
4	2	tornado/process.py
8	4	tornado/template.py
3	1	tornado/test/auth_test.py
14	4	tornado/test/httpserver_test.py
4	2	tornado/test/process_test.py
8	3	tornado/test/template_test.py
7	3	tornado/test/twisted_test.py
37	17	tornado/web.py
6	6	tornado/websocket.py
4	2	tornado/wsgi.py

--58a7ff10	2012-02-09T00:17:58-08:00	Ben Darnell	ben@bendarnell.com	Turn on __future__ division too.

All existing uses of division were already using a float for at least
one operand (except the tests that just do 1/0 as a quick way to throw
an exception).

We have now turned on all the __future__ options available in python2.5.

58a7ff10
1	0	maint/scripts/custom_fixers/fix_future_imports.py
1	1	tornado/__init__.py
1	1	tornado/auth.py
1	1	tornado/autoreload.py
1	1	tornado/curl_httpclient.py
1	1	tornado/database.py
1	1	tornado/escape.py
1	1	tornado/gen.py
1	1	tornado/httpclient.py
1	1	tornado/httpserver.py
1	1	tornado/httputil.py
1	1	tornado/ioloop.py
1	1	tornado/iostream.py
1	1	tornado/locale.py
1	1	tornado/netutil.py
1	1	tornado/options.py
1	1	tornado/platform/auto.py
1	1	tornado/platform/interface.py
1	1	tornado/platform/posix.py
1	1	tornado/platform/twisted.py
1	1	tornado/platform/windows.py
1	1	tornado/process.py
1	1	tornado/simple_httpclient.py
1	1	tornado/stack_context.py
1	1	tornado/template.py
1	1	tornado/test/auth_test.py
1	1	tornado/test/curl_httpclient_test.py
1	1	tornado/test/escape_test.py
1	1	tornado/test/gen_test.py
1	1	tornado/test/httpclient_test.py
1	1	tornado/test/httpserver_test.py
1	1	tornado/test/httputil_test.py
1	1	tornado/test/import_test.py
1	1	tornado/test/ioloop_test.py
1	1	tornado/test/iostream_test.py
1	1	tornado/test/process_test.py
1	1	tornado/test/run_pyversion_tests.py
1	1	tornado/test/runtests.py
1	1	tornado/test/simple_httpclient_test.py
1	1	tornado/test/stack_context_test.py
1	1	tornado/test/template_test.py
1	1	tornado/test/testing_test.py
1	1	tornado/test/twisted_test.py
1	1	tornado/test/web_test.py
1	1	tornado/test/wsgi_test.py
1	1	tornado/testing.py
1	1	tornado/util.py
1	1	tornado/web.py
1	1	tornado/websocket.py
1	1	tornado/wsgi.py

--837da79e	2012-02-08T23:38:34-08:00	Ben Darnell	ben@bendarnell.com	Fix one last implicit relative import

837da79e
1	1	tornado/ioloop.py

--da6d821e	2012-02-08T23:22:51-08:00	Ben Darnell	ben@bendarnell.com	Standardize future imports for all files in the package.

da6d821e
2	0	tornado/__init__.py
2	0	tornado/auth.py
1	1	tornado/autoreload.py
1	1	tornado/curl_httpclient.py
2	0	tornado/database.py
2	0	tornado/escape.py
1	1	tornado/gen.py
2	0	tornado/httpclient.py
2	0	tornado/httpserver.py
2	0	tornado/httputil.py
1	1	tornado/ioloop.py
1	1	tornado/iostream.py
2	0	tornado/locale.py
2	0	tornado/netutil.py
2	0	tornado/options.py
2	0	tornado/platform/auto.py
2	0	tornado/platform/interface.py
2	0	tornado/platform/posix.py
1	1	tornado/platform/twisted.py
2	0	tornado/platform/windows.py
2	0	tornado/process.py
1	1	tornado/simple_httpclient.py
1	1	tornado/stack_context.py
1	1	tornado/template.py
2	0	tornado/test/auth_test.py
1	0	tornado/test/curl_httpclient_test.py
2	0	tornado/test/escape_test.py
1	0	tornado/test/gen_test.py
1	1	tornado/test/httpclient_test.py
2	0	tornado/test/httpserver_test.py
2	0	tornado/test/httputil_test.py
1	0	tornado/test/import_test.py
2	0	tornado/test/ioloop_test.py
1	0	tornado/test/iostream_test.py
2	0	tornado/test/process_test.py
2	0	tornado/test/run_pyversion_tests.py
2	0	tornado/test/runtests.py
1	1	tornado/test/simple_httpclient_test.py
1	1	tornado/test/stack_context_test.py
1	1	tornado/test/template_test.py
2	0	tornado/test/testing_test.py
2	0	tornado/test/twisted_test.py
1	0	tornado/test/web_test.py
1	0	tornado/test/wsgi_test.py
1	1	tornado/testing.py
2	0	tornado/util.py
1	1	tornado/web.py
2	0	tornado/websocket.py
2	0	tornado/wsgi.py

--27f9c3a7	2012-02-08T23:16:56-08:00	Ben Darnell	ben@bendarnell.com	Add a script to rewrite __future__ imports

27f9c3a7
0	0	maint/scripts/custom_fixers/__init__.py
59	0	maint/scripts/custom_fixers/fix_future_imports.py
6	0	maint/scripts/run_fixers.py

--58727227	2012-02-03T23:46:31-05:00	Jehiah Czebotar	jehiah@gmail.com	pass kwargs through HTTPClient

58727227
2	2	tornado/httpclient.py

--1157a55a	2012-02-03T15:28:31-08:00	Gustav Rydstedt	grydstedt@blizzard.com	Add support for client certificates in curl http client

1157a55a
5	2	tornado/curl_httpclient.py

--0b75124b	2012-02-02T14:05:59-08:00	MinRK	benjaminrk@gmail.com	coerce kwarg keys to str

If handler regex is unicode, the keys of groupdict are unicode, but should be
str, as Python < 2.6.5 does not accept unicode keys in:

    _execute(*args, **kwargs)

Since they are for keyword args, they will be valid identifiers, and thus ascii.

0b75124b
1	1	tornado/web.py

--05ab0be9	2012-02-02T21:35:24+01:00	Birk Nilson	me@birknilson.se	Move identical IOStream read handling in read_until, read_until_regex
and read_bytes to private method.

05ab0be9
17	26	tornado/iostream.py

--7d0af33c	2012-02-02T20:27:46+01:00	Birk Nilson	me@birknilson.se	Adding support to override, via static_url, whether the generated URLs
should include the version signature or not.

7d0af33c
13	5	tornado/test/web_test.py
20	10	tornado/web.py

--ffc9b3d4	2012-02-02T09:56:47-08:00	Ben Darnell	ben@bendarnell.com	Remove unused __main__ block that ran doctests from a non-test module.

ffc9b3d4
0	4	tornado/httputil.py

--de4c5fa6	2012-02-02T09:44:18-08:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'igorsobreira/master'

de4c5fa6
--65531eda	2012-02-01T09:15:23-08:00	Ben Darnell	ben@bendarnell.com	Enable strict warnings in test runs.

This includes python 3.2's ResourceWarnings, which exposed the
socket leaks fixed in the previous commit.

65531eda
14	0	tornado/test/runtests.py

--fa643437	2012-02-01T09:17:03-08:00	Ben Darnell	ben@bendarnell.com	Always close sockets in simple_httpclient instead of leaving them for the GC.

Also fix some other sockets left open in tests.

Closes #451.

fa643437
4	0	tornado/simple_httpclient.py
4	0	tornado/test/httpserver_test.py
4	0	tornado/test/iostream_test.py
4	1	tornado/test/simple_httpclient_test.py

--b151a1ee	2012-01-31T00:34:12-08:00	Ben Darnell	ben@bendarnell.com	Add a version check for the curses unicode hack so it won't break when
python 3.2.3 or 3.3 are released.

Closes #450.

b151a1ee
11	6	tornado/options.py

--50b28c5d	2012-01-30T23:46:36-08:00	Ben Darnell	ben@bendarnell.com	Remove optional setuptools import.

We don't rely on any setuptools features for python2 builds, and the
optional import makes our builds depend on the environment in subtle
ways (egg-info directories, etc).

50b28c5d
0	6	setup.py

--501a551e	2012-01-30T23:39:31-08:00	Ben Darnell	ben@bendarnell.com	Bump post-release version number (now pep 386 compliant!)

501a551e
1	1	setup.py
2	2	tornado/__init__.py

--cc8e8932	2012-01-30T11:10:17-08:00	Ben Darnell	ben@bendarnell.com	Revert "Run the website in python2.7 mode"

Can't use python2.7 mode without migrating to the "high-replication
datastore", and even though we don't have any data "migration" is a
pain.

This reverts commit e960e9bc9d48906ed37b65ad6eb774ab33637170.

cc8e8932
5	6	website/app.yaml

--02bc7615	2012-01-30T11:01:44-08:00	Ben Darnell	ben@bendarnell.com	Set version number to 2.2.

02bc7615
1	1	setup.py
2	2	tornado/__init__.py

--61ba1fb6	2012-01-30T11:01:35-08:00	Ben Darnell	ben@bendarnell.com	Final release notes for 2.2

61ba1fb6
1	1	website/sphinx/releases.rst
4	4	website/sphinx/releases/{next.rst => v2.2.0.rst}

--e960e9bc	2012-01-29T21:56:53-08:00	Ben Darnell	ben@bendarnell.com	Run the website in python2.7 mode

e960e9bc
6	5	website/app.yaml

--1910ea15	2012-01-29T21:53:45-08:00	Ben Darnell	ben@bendarnell.com	Add a highlights section to the release notes.

1910ea15
8	0	website/sphinx/releases/next.rst

--42656e69	2012-01-30T08:12:24+04:00	Andrew Grigorev	ei-grad@yandex-team.ru	fixed usage of bad hostname (ipv6 addresses support is broken in urlparse until 2.7)

42656e69
4	1	tornado/simple_httpclient.py

--b12edb12	2012-01-25T00:19:40-02:00	Igor Sobreira	igor@igorsobreira.com	Add test to parse_multipart_form_data() when no "name" parameter is found

b12edb12
12	0	tornado/test/httputil_test.py

--97009a38	2012-01-25T00:14:17-02:00	Igor Sobreira	igor@igorsobreira.com	Add test to parse_multipart_form_data() when line does not end with the correct line break (\r\n)

97009a38
11	0	tornado/test/httputil_test.py

--e5a60378	2012-01-24T23:48:54-02:00	Igor Sobreira	igor@igorsobreira.com	Add test to parse_multipart_form_data() when invalid Content-Disposition

e5a60378
13	0	tornado/test/httputil_test.py

--76b002e8	2012-01-24T23:43:47-02:00	Igor Sobreira	igor@igorsobreira.com	Add test to parse_multipart_form_data() when missing headers

76b002e8
10	0	tornado/test/httputil_test.py

--554570d6	2012-01-24T22:45:18-02:00	Igor Sobreira	igor@igorsobreira.com	Add test to parse_multipart_form_data() on httputil when "boundary" parameter has quotes

554570d6
15	0	tornado/test/httputil_test.py

--54f56d42	2012-01-24T00:03:52+02:00	Alexey S. Kachayev	kachayev@gmail.com	import_object will raise standard ImportError even in case of Value/Attribute error

54f56d42
15	16	tornado/util.py

--5d1ce40c	2012-01-23T23:29:50+02:00	Alexey S. Kachayev	kachayev@gmail.com	Merge remote-tracking branch 'upstream/master' into import-object

5d1ce40c
--067e465b	2012-01-23T10:20:35-08:00	Ben Darnell	ben@bendarnell.com	Document curl_httpclient empty password fix.

Accept None as auth_password in simple_httpclient for consistency with
curl_httpclient.

067e465b
1	1	tornado/simple_httpclient.py
2	0	website/sphinx/releases/next.rst

--9a8e5e4d	2012-01-23T10:12:56-08:00	Ben Darnell	ben@bendarnell.com	Merge commit 'df23c'

9a8e5e4d
--7fd17884	2012-01-23T09:45:29-08:00	Ben Darnell	ben@bendarnell.com	Fix gen.engine docs on decorator order.

Add some more test cases that use gen.engine and web.asynchronous together.

7fd17884
6	4	tornado/gen.py
35	0	tornado/test/gen_test.py

--df23c039	2012-01-23T08:33:51-05:00	dave mankoff	mankyd@gmail.com	change encode('ascii') to utf8()

df23c039
1	1	tornado/curl_httpclient.py

--463baf43	2012-01-22T18:15:01-08:00	Ben Darnell	ben@bendarnell.com	Add a timeout to test_sslv2_fail so it passes on cygwin.

463baf43
6	1	tornado/test/httpserver_test.py

--e04957d5	2012-01-22T17:52:43-08:00	Ben Darnell	ben@bendarnell.com	Doc updates

e04957d5
9	3	tornado/websocket.py
1	0	website/sphinx/web.rst
25	1	website/sphinx/websocket.rst

--9c3afde8	2012-01-22T17:04:51-08:00	Ben Darnell	ben@bendarnell.com	Release note updates

9c3afde8
41	21	website/sphinx/releases/next.rst

--98b08863	2012-01-22T15:26:35-08:00	Ben Darnell	ben@bendarnell.com	Make StaticFileHandler.parse_url_path an instance method, and make
it responsible for os.path.sep conversion.

Assorted doc updates for StaticFileHandler.

98b08863
22	14	tornado/web.py

--983fdbbe	2012-01-22T14:56:21-08:00	Ben Darnell	ben@bendarnell.com	Merge commit '59812' into work

983fdbbe
--7f7928f2	2012-01-22T14:25:16-08:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'birknilson/static_url_override' into work

7f7928f2
--3bb80eb8	2012-01-22T14:19:19-08:00	Ben Darnell	ben@bendarnell.com	Always set Etag in StaticFileHandler so it won't break if the default
Etag implementation in RequestHandler changes.

3bb80eb8
7	9	tornado/web.py

--bcb30e56	2012-01-22T17:15:10-05:00	dave mankoff	mankyd@gmail.com	fix curl basic auth

bcb30e56
3	3	tornado/curl_httpclient.py

--76dd88f1	2012-01-22T14:10:14-08:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'lerks/master' into work

76dd88f1
--1b38b58d	2012-01-21T17:39:37-08:00	Ben Darnell	ben@bendarnell.com	Update websocket chat demo to work when not addressed as localhost.

Turn on draft76 support.

1b38b58d
4	0	demos/websocket/chatdemo.py
3	2	demos/websocket/static/chat.js

--3beb8ce4	2012-01-21T17:28:07-08:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'MrJoes/master' into work

Conflicts:
	tornado/websocket.py

3beb8ce4
--442b49f8	2012-01-21T17:20:10-08:00	Ben Darnell	ben@bendarnell.com	Refactor websocket close logic; remove dependency on singleton IOLoop.

442b49f8
33	20	tornado/websocket.py

--5a18d50f	2012-01-21T17:12:22-08:00	Ben Darnell	ben@bendarnell.com	Disable slow websocket performance tests by default.

Add pypy to the mix for when we do run the perf tests.  Depending on
the benchmark pypy is ~twice as fast as cpython 2.7

5a18d50f
1	1	maint/test/websocket/client.py
7	3	maint/test/websocket/run.sh
1	1	maint/test/websocket/server.py
1	1	maint/test/websocket/tox.ini

--bc28966e	2012-01-21T16:16:36-08:00	Ben Darnell	ben@bendarnell.com	Remove stray log line

bc28966e
0	1	tornado/websocket.py

--ea0291b2	2012-01-21T15:58:35-08:00	Ben Darnell	ben@bendarnell.com	Check if the stream is closed before writing final websocket close packet.

Closes #390.

ea0291b2
3	1	tornado/websocket.py

--eee9953d	2012-01-21T15:34:11-08:00	Ben Darnell	ben@bendarnell.com	Websocket subprotocol updates.

Failure to select a subprotocol is not fatal, so rename method from
validate_subprotocol to select_subprotocol.  Subprotocols are a
comma-separated list in the RFC version, but a single value in
draft76.

eee9953d
28	23	tornado/websocket.py

--1cfcc4a7	2012-01-21T15:15:12-08:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'davidgaleano/master' into work

Conflicts:
	tornado/websocket.py

1cfcc4a7
--cc671cb5	2012-01-21T14:56:43-08:00	Ben Darnell	ben@bendarnell.com	Allow handlers to override the selection of "ws" or "wss" in the draft76
handshake, to work with SSL proxies that do not insert an X-Scheme header.

Closes #437.

cc671cb5
13	1	tornado/websocket.py

--4edf2782	2012-01-21T14:45:51-08:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'nephics/master' into work

4edf2782
--1014d568	2012-01-21T14:35:21-08:00	Ben Darnell	ben@bendarnell.com	Check in a requirements file for the tools I use while working on tornado.

1014d568
1	0	.gitignore
21	0	maint/requirements.txt

--35139ff8	2012-01-21T14:09:18-08:00	Ben Darnell	ben@bendarnell.com	Add .coveragerc for test coverage reporting.

Closes #439.

35139ff8
18	0	.coveragerc
6	4	.gitignore

--8b668633	2012-01-18T01:17:30-08:00	Ben Darnell	ben@bendarnell.com	Add 307 too and update release notes.

8b668633
1	1	tornado/simple_httpclient.py
3	1	tornado/test/simple_httpclient_test.py
1	0	website/sphinx/releases/next.rst

--24d96f02	2012-01-18T01:11:21-08:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'amorton/master'

Conflicts:
	tornado/test/simple_httpclient_test.py

24d96f02
--97b4b15c	2012-01-18T01:00:06-08:00	Ben Darnell	ben@bendarnell.com	Release note updates for twitter client changes

97b4b15c
5	0	website/sphinx/releases/next.rst

--76ba2323	2012-01-18T00:57:55-08:00	Ben Darnell	ben@bendarnell.com	Make TwitterMixin.twitter_request accept complete urls, not just partial paths.

Closes #418.

76ba2323
6	1	tornado/auth.py

--cadfb901	2012-01-18T00:51:30-08:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'gutomaia/master'

cadfb901
--6dfc1b75	2012-01-18T00:43:38-08:00	Ben Darnell	ben@bendarnell.com	Add RequestHandler.on_finish method.

Closes #367.

6dfc1b75
19	5	tornado/web.py
3	0	website/sphinx/overview.rst
9	3	website/sphinx/releases/next.rst

--af940f4e	2012-01-16T23:23:21-08:00	Ben Darnell	ben@bendarnell.com	Major update to tornado.platform.twisted.

Significantly improved compatibility (most important changes are in
TornadoReactor._invoke_callback) and expanded test coverage.

af940f4e
86	69	tornado/platform/twisted.py
201	39	tornado/test/twisted_test.py
5	3	tox.ini
2	2	website/sphinx/releases/next.rst
33	7	website/sphinx/twisted.rst

--36226505	2012-01-13T23:12:39-08:00	Ben Darnell	ben@bendarnell.com	Support non-integer timeouts for curl_httpclient.

Closes #399.

36226505
2	2	tornado/curl_httpclient.py
1	0	website/sphinx/releases/next.rst

--4457f2b9	2012-01-13T23:07:37-08:00	Ben Darnell	ben@bendarnell.com	Add a fourth release status field to tornado.version_info.

Closes #432.

4457f2b9
8	1	tornado/__init__.py
2	0	website/sphinx/releases/next.rst

--fea44c7b	2012-01-13T23:06:49-08:00	Ben Darnell	ben@bendarnell.com	Release note update

fea44c7b
2	0	website/sphinx/releases/next.rst

--9fcf106a	2012-01-13T22:51:26-08:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'pkienzle/master'

9fcf106a
--e552346a	2012-01-13T22:42:16-08:00	Ben Darnell	ben@bendarnell.com	The Connection request header should be case-insensitive.

e552346a
3	1	tornado/httpserver.py
2	0	website/sphinx/releases/next.rst

--26a06a0b	2012-01-10T10:26:15-08:00	Ben Darnell	ben@bendarnell.com	Add a new(er) ubuntu vm setup to test missing SSLv2

26a06a0b
8	0	maint/vm/ubuntu11.04/Vagrantfile
56	0	maint/vm/ubuntu11.04/setup.sh
32	0	maint/vm/ubuntu11.04/tox.ini

--b8939293	2012-01-10T10:24:10-08:00	Ben Darnell	ben@bendarnell.com	Some python/openssl builds don't have SSLv2 compiled in, so skip the
test in this case.

b8939293
10	1	tornado/test/httpserver_test.py

--5d240e49	2012-01-10T12:41:43-05:00	Paul Kienzle	paul.kienzle@nist.gov	make sure addresses returned from getaddrinfo are unique

5d240e49
2	2	tornado/netutil.py

--f62e9154	2012-01-09T23:50:43-08:00	Ben Darnell	ben@bendarnell.com	Release notes for the last two ssl changes

f62e9154
12	0	website/sphinx/releases/next.rst

--dbe1c9bc	2012-01-09T11:59:24-08:00	Ben Darnell	ben@bendarnell.com	Disable SSLv2 in simple_httpclient.

Contrary to the python documentation, SSLv2 is enabled by default
unless openssl version 1.0 or newer is used; older versions appear
to still be in use (e.g. in Ubuntu 10.04 LTS and Mac OS X Lion)

dbe1c9bc
21	0	tornado/simple_httpclient.py
11	0	tornado/test/httpserver_test.py

--17052f33	2012-01-09T10:33:01-08:00	Ben Darnell	ben@bendarnell.com	Make SSLIOStream compatible with SSLv3- and TLSv1-only servers.

Due to some implementation detail the default SSLv23 mode allows reads
before the handshake has completed, but the other modes do not.

Closes #431.

17052f33
3	1	tornado/httpclient.py
5	0	tornado/iostream.py
31	4	tornado/test/httpserver_test.py

--98f77972	2012-01-08T13:49:30-08:00	Ben Darnell	ben@bendarnell.com	Make it possible to run the test suite with --httpclient=CurlAsyncHTTPClient

98f77972
1	1	tornado/curl_httpclient.py
4	2	tornado/httpclient.py
3	1	tornado/test/httpserver_test.py
6	1	tornado/test/process_test.py
4	0	tornado/test/simple_httpclient_test.py
12	1	tox.ini

--0a949c07	2012-01-08T00:01:18-08:00	Ben Darnell	ben@bendarnell.com	Update docs for recent websocket changes

0a949c07
24	18	tornado/websocket.py
5	0	website/sphinx/conf.py
14	2	website/sphinx/releases/next.rst
2	0	website/sphinx/websocket.rst

--ef4f2bb0	2012-01-07T23:24:30-08:00	Ben Darnell	ben@bendarnell.com	Disable websocket draft76 protocol by default.

ef4f2bb0
22	7	tornado/websocket.py

--33cd3456	2012-01-07T17:31:56-08:00	Ben Darnell	ben@bendarnell.com	Add an explicit binary option to WebSocketHandler.write_message.

Switching automatically based on python's bytes vs unicode types is
error-prone in python2 where e.g. json_encode returns bytes.

Closes #429.

33cd3456
2	1	maint/test/websocket/server.py
13	12	tornado/websocket.py

--7dabdd55	2012-01-06T22:49:48+02:00	Alexey S. Kachayev	kachayev@gmail.com	Implement additional error handling in utils.import_object function

7dabdd55
22	1	tornado/util.py

--756fadac	2012-01-05T12:17:01+01:00	Jacob Sondergaard	jacob@nephics.com	Set the request cookies property to an empty dict if cookie parsing fails

This commit reverses the bug introduced in commit 4a4d871, leaving an
undefined cookies property on failure to parse a request cookie.

The bug results in a 'NoneType is not iterable' error when calling
RequestHandler.get_cookie() after a cookie parsing exception.

756fadac
1	1	tornado/httpserver.py

--bd034933	2012-01-05T00:27:45-08:00	Ben Darnell	ben@bendarnell.com	Handle redirects before processing data and sending it to streaming_callback.

Previously, if you were using follow_redirects and streaming_callback
and hit a redirect with a non-empty body, that body would be passed
to streaming_callback as well.

As a side effect, this improves compatibility with some misconfigured
sites that send Content-Encoding: gzip on redirects without actually
compressing the body.

bd034933
2	1	tornado/httpclient.py
10	10	tornado/simple_httpclient.py

--4c23ba7e	2012-01-03T21:19:51-08:00	Ben Darnell	ben@bendarnell.com	Make fork_processes raise SystemExit instead of returning None when
all child processes exit cleanly.

4c23ba7e
5	0	tornado/process.py
5	2	tornado/test/process_test.py
8	0	website/sphinx/releases/next.rst

--ffa8f152	2012-01-02T19:17:57-08:00	Ben Darnell	ben@bendarnell.com	Add comment about (non-)thread-safety of IOLoop.add_timeout.

ffa8f152
4	0	tornado/ioloop.py

--468754e3	2012-01-01T23:19:48-08:00	Ben Darnell	ben@bendarnell.com	Release note updates

468754e3
19	5	website/sphinx/releases/next.rst

--8fbe7c7d	2012-01-01T22:54:36-08:00	Ben Darnell	ben@bendarnell.com	Rewrite IP check to use getaddrinfo instead of inet_pton (more portable).

Closes #392.

8fbe7c7d
10	8	tornado/httpserver.py
42	0	tornado/test/httpserver_test.py

--5650d907	2012-01-01T22:26:12-08:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'davidwilemski/xheaders-xss' into work

5650d907
--ac9902cb	2012-01-01T19:20:05-08:00	Ben Darnell	ben@bendarnell.com	Use a StackContext to allow exceptions thrown from asynchronous functions
called by a generator to be caught normally.

Closes #405.
Closes #411.

ac9902cb
23	1	tornado/gen.py
13	0	tornado/test/gen_test.py

--008e605e	2012-01-01T16:17:35-08:00	Ben Darnell	ben@bendarnell.com	Allow exceptions thrown in the first (synchronous) phase of a gen.Task
to be caught by the generator.

008e605e
10	1	tornado/gen.py
13	0	tornado/test/gen_test.py

--494ae50a	2012-01-01T14:00:13-08:00	Ben Darnell	ben@bendarnell.com	Increase maximum IOLoop poll timeout.

I believe the previous 0.2s limit was there to work around an old bug in
the add_callback waker that has since been fixed.

494ae50a
1	2	tornado/ioloop.py

--ad632653	2011-12-30T20:20:25-08:00	Ben Darnell	ben@bendarnell.com	Support status codes other than 301 and 302 in RequestHandler.redirect().

Closes #228.
Closes #424.

ad632653
19	0	tornado/test/web_test.py
13	3	tornado/web.py

--7f5d4de7	2011-12-30T16:02:40-08:00	Ben Darnell	ben@bendarnell.com	Avoid merging the entire read buffer for IOStream.read_until.

Among other things, this dramatically speeds up downloads of large
chunked files over a fast network with SimpleHTTPClient.

Fixes #425.

7f5d4de7
47	0	demos/benchmark/chunk_benchmark.py
29	1	tornado/iostream.py

--0b31d8de	2011-12-30T14:47:21-08:00	Ben Darnell	ben@bendarnell.com	bytearray is a 2.6ism; use array.array("B") instead for 2.5 compatibility.

0b31d8de
10	3	maint/test/websocket/run.sh
1	1	maint/test/websocket/tox.ini
4	3	tornado/websocket.py

--84250a37	2011-12-30T13:29:12-08:00	Ben Darnell	ben@bendarnell.com	Invert fragment-handling logic for clarity

84250a37
19	26	tornado/websocket.py

--9f32af17	2011-12-30T12:54:36-08:00	Ben Darnell	ben@bendarnell.com	Improve websocket conformance as reported by autobahn.

Of note:
* It's now possible to send binary frames (auto-switched based on
  whether the argument to write_message is bytes or unicode)
* Invalid utf8 in text frames is now an error
* Lots of fragmentation-related improvements

9f32af17
45	6	tornado/websocket.py

--34b59827	2011-12-30T12:53:11-08:00	Ben Darnell	ben@bendarnell.com	Add websocket conformance tests using autobahn

34b59827
3	0	maint/test/README
1	0	maint/test/websocket/.gitignore
32	0	maint/test/websocket/client.py
26	0	maint/test/websocket/run.sh
20	0	maint/test/websocket/server.py
12	0	maint/test/websocket/tox.ini

--877aa9d8	2011-12-30T00:49:19-08:00	Ben Darnell	ben@bendarnell.com	Install more python versions in the linux VM so we can test epoll.c too.

Also fix a bug in the test for python 2.5 on systems where ipv6 is not
configured (socket.gaierror didn't have an `errno` attribute until 2.6)

877aa9d8
2	0	maint/vm/shared-setup.sh
28	3	maint/vm/ubuntu10.04/setup.sh
21	2	maint/vm/ubuntu10.04/tox.ini
1	1	tornado/test/simple_httpclient_test.py

--f27b49a7	2011-12-29T22:58:03-08:00	Ben Darnell	ben@bendarnell.com	Misc doc updates.

f27b49a7
1	1	tornado/curl_httpclient.py
4	0	tornado/httpclient.py
19	0	tornado/stack_context.py
8	1	tornado/testing.py
2	2	website/sphinx/releases/next.rst

--4f64fbe9	2011-12-17T14:48:23-05:00	David Wilemski	david@davidwilemski.com	A typo fix I noticed while fixing bug 392

4f64fbe9
1	1	tornado/httpserver.py

--06352848	2011-12-17T14:45:59-05:00	David Wilemski	david@davidwilemski.com	Fix for bug #392

Validates the remote_ip from xheaders using socket.inet_pton

06352848
13	0	tornado/httpserver.py

--112fdb48	2011-12-16T00:07:25-08:00	Ben Darnell	ben@bendarnell.com	Fix an implicit relative import

112fdb48
1	1	tornado/web.py

--44a97bdb	2011-12-15T23:59:42-08:00	Ben Darnell	ben@bendarnell.com	Start accumulating release notes

44a97bdb
1	0	website/sphinx/releases.rst
34	0	website/sphinx/releases/next.rst

--dae7c0f2	2011-12-15T23:35:48-08:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'alekstorm/master' into merge

dae7c0f2
--54b244d2	2011-12-15T23:27:30-08:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'alekstorm/template_comment' into merge

54b244d2
--e7a47e7b	2011-12-15T22:54:51-08:00	Ben Darnell	ben@bendarnell.com	Improve app engine tests now that SDK 1.6.1 is compatible with virtualenv

e7a47e7b
0	3	maint/appengine/README
7	4	maint/appengine/common/cgi_runtests.py
29	5	maint/appengine/common/runtests.py
4	0	maint/appengine/setup.py
19	0	maint/appengine/tox.ini

--3537a66e	2011-12-10T11:58:16+02:00	Serge S. Koval	serge.koval@gmail.com	Minor cleanup.

3537a66e
1	1	tornado/websocket.py

--93465a1b	2011-12-10T11:56:45+02:00	Serge S. Koval	serge.koval@gmail.com	Removed unnecessary checks from appropriate websocket protocol implementations.

93465a1b
5	11	tornado/websocket.py

--0b5e73b0	2011-12-08T14:48:38+02:00	Serge S. Koval	serge.koval@gmail.com	Connection header must include "Upgrade", but should not be equal to.

0b5e73b0
2	2	tornado/websocket.py

--70bb948f	2011-12-08T14:42:37+02:00	Serge S. Koval	serge.koval@gmail.com	Additional checks for WebSocket protocol handshake.

70bb948f
27	0	tornado/websocket.py

--597f70b3	2011-12-07T00:36:33-08:00	Ben Darnell	ben@bendarnell.com	A different approach to template stack traces:

Include the template source line as a comment in the generated code,
and add the magic necessary for python's normal stack traces to print
the (generated) source.

597f70b3
30	43	tornado/template.py
32	33	tornado/test/template_test.py
0	22	tornado/testing.py
0	21	tornado/util.py

--45ca697f	2011-12-07T00:18:42-08:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'alekstorm/template_trace' into merge

Conflicts:
	tornado/template.py

45ca697f
--59812edc	2011-12-02T14:28:31+00:00	Birk Nilson	me@birknilson.se	Add ability to parse static path before using it as though it was
a relative filesystem path. Thereby enabling developers to add the versioning
string as a component in the path rather than a query string. Which is required
when working with CloudFront for instance.

59812edc
15	3	tornado/test/web_test.py
5	0	tornado/web.py

--782c4def	2011-12-02T14:25:45+00:00	Birk Nilson	me@birknilson.se	Fixed issue when slicing static_url version string when none exists.

782c4def
4	3	tornado/web.py

--2468216f	2011-12-02T12:28:03+00:00	Birk Nilson	me@birknilson.se	Separate generation of static URLs and versioning in order ease customization
of how versioning is handled in subclasses.

2468216f
17	6	tornado/web.py

--52c83a41	2011-11-30T22:59:09-08:00	Ben Darnell	ben@bendarnell.com	Our tests don't work with the recently-released Twisted 11.1.0, so pin
the tests to 11.0.0 until we figure out what's going on.

52c83a41
3	3	tox.ini

--9484eb08	2011-11-30T20:51:33+00:00	Birk Nilson	me@birknilson.se	Allow override of include_host in static_url.
Thereby supporting the generation of absolute URLs even though the
handler - by default - would have generated a relative URL for instance.
The reverse scenario is of course supported also.

9484eb08
32	1	tornado/test/web_test.py
10	3	tornado/web.py

--eb79f0dd	2011-11-26T12:42:19-08:00	bdarnell	ben@bendarnell.com	Merge pull request #403 from jparise/log-levels

Mention the 'debug' level in --logging's help.
eb79f0dd
--0b06f4a0	2011-11-26T12:32:22-08:00	Ben Darnell	ben@bendarnell.com	Merge commit '7d32d64' into merge

0b06f4a0
--d81851cd	2011-11-26T11:21:04-05:00	Jon Parise	jon@indelible.org	Mention the 'debug' level in --logging's help.

There are a number of places in the Tornado code base where log
messages are logged at the logging.DEBUG level.  It's useful to
advertise this here.

d81851cd
1	1	tornado/options.py

--da783840	2011-11-22T15:48:46-08:00	MinRK	benjaminrk@gmail.com	use '%s' formatting instead of '%d' for fds in IOLoop log messages

In case some poller implementations accept sockets or values other than
integer file descriptors, this prevents tornado's log messages from
raising errors.

da783840
3	3	tornado/ioloop.py

--e8b4c7d6	2011-11-22T15:46:19-08:00	MinRK	benjaminrk@gmail.com	fix milliseconds -> seconds typo

in ioloop, a variable was called milliseconds, but its units were seconds,
which is confusing.

e8b4c7d6
2	2	tornado/ioloop.py

--7d32d649	2011-11-22T11:15:44+01:00	Thomas Miedema	thomas@mgo.nl	Fix _reseed_random when os.urandom is not implemented

7d32d649
1	1	tornado/process.py

--fc7a3dba	2011-11-13T22:52:36-08:00	bdarnell	ben@bendarnell.com	Merge pull request #396 from justinrosenthal/master

Prevent duplicate callbacks when PeriodicCallback is stopped and restarted before _next_timeout
fc7a3dba
--48459e31	2011-11-13T22:51:51-08:00	bdarnell	ben@bendarnell.com	Merge pull request #397 from swies/master

Invalid Cookie header crashes get_cookie
48459e31
--6560b773	2011-11-13T22:50:25-08:00	bdarnell	ben@bendarnell.com	Merge pull request #398 from phleet/patch-1

Documentation fix for AsyncTestCase
6560b773
--7a487155	2011-11-13T21:22:21-08:00	Ben Darnell	ben@bendarnell.com	Add very basic testing for app engine

7a487155
11	0	maint/appengine/README
72	0	maint/appengine/common/cgi_runtests.py
29	0	maint/appengine/common/runtests.py
8	0	maint/appengine/py25/app.yaml
1	0	maint/appengine/py25/cgi_runtests.py
1	0	maint/appengine/py25/runtests.py
1	0	maint/appengine/py25/tornado
9	0	maint/appengine/py27/app.yaml
1	0	maint/appengine/py27/cgi_runtests.py
1	0	maint/appengine/py27/runtests.py
1	0	maint/appengine/py27/tornado
8	2	tornado/testing.py

--0b8adeb3	2011-11-13T20:15:44-08:00	Ben Darnell	ben@bendarnell.com	Thread safety for shared data structures (templates and static file hashes)

These data structures were basically safe before thanks to the GIL, but could
lead to wasted work in multithreaded environments (such as the new python2.7
app engine)

Also fixed a bug that made debug mode not invalidate static files.

0b8adeb3
9	0	tornado/template.py
24	11	tornado/web.py

--89f35bc1	2011-11-13T18:07:32-08:00	Ben Darnell	ben@bendarnell.com	Add an option to the test runner to kill the process on SIGINT
instead of raising an exception.

This makes it easier to work with tests that get into uninterruptible
states (such as threading.Lock deadlocks)

89f35bc1
9	0	tornado/testing.py

--c7c0cafa	2011-11-12T22:56:52-08:00	Jamie Wong	phleet@gmail.com	Documentation fix for AsyncTestCase
c7c0cafa
1	1	tornado/testing.py

--b4e73a73	2011-11-11T20:35:26-08:00	Ben Darnell	ben@bendarnell.com	Local copy of sphix coverage plugin is no longer needed in version 1.1

b4e73a73
1	5	website/sphinx/conf.py
0	264	website/sphinx/sphinx_coverage.py

--f0df94ca	2011-11-06T08:56:00-08:00	Patrick Swieskowski	pat@swieskowski.net	fix crash on invalid Cookie header

f0df94ca
4	1	tornado/test/web_test.py
1	1	tornado/web.py

--700f5a70	2011-11-03T23:31:49-07:00	Justin Rosenthal	justin.rosenthal@gmail.com	Prevent duplicate callbacks when PeriodicCallback is stopped and restarted before _next_timeout

700f5a70
5	1	tornado/ioloop.py

--848244ad	2011-10-30T17:37:29+01:00	Luca Wehrstedt	lerks@users.sourceforge.net	Add Etag header on HEAD requests for StaticFileHandler.

848244ad
4	0	tornado/web.py

--60b3e662	2011-10-30T01:15:19+03:00	Luca Wehrstedt	lerks@users.sourceforge.net	Add Content-Length header on HEAD requests for StaticFileHandler.
60b3e662
1	0	tornado/web.py

--066a0c38	2011-10-25T15:24:41-07:00	David Koblas	koblas@extra.com	Use a AND instead of an OR to determine if the bits are set on the event
mask.  Also, handle some basic error cases in the event bits and twisted
callback.

066a0c38
9	2	tornado/platform/twisted.py

--326523be	2011-10-25T10:50:22-07:00	Ben Darnell	ben@bendarnell.com	Add return statements missing from HEAD/204 fix

326523be
2	0	tornado/simple_httpclient.py

--bf755719	2011-10-24T22:02:15-07:00	Ben Darnell	ben@bendarnell.com	Fix zero-byte writes in IOStream.

Previously zero-byte writes would cause the CPU to run at 100% and
would never call their callback (if any).

bf755719
3	0	tornado/iostream.py
11	0	tornado/test/iostream_test.py

--45752bfd	2011-10-24T23:38:54+13:00	Aaron Morton	aaron@the-mortons.org	Clear Content-Encoding and Transfer-Encoding

Also better test names.

45752bfd
2	1	tornado/simple_httpclient.py
8	8	tornado/test/simple_httpclient_test.py

--a9e92e21	2011-10-23T14:43:20-07:00	Ben Darnell	ben@bendarnell.com	Fix hang on HEAD requests and on 204/304 responses with no content-length.

Closes #386.

a9e92e21
29	12	tornado/simple_httpclient.py
29	0	tornado/test/simple_httpclient_test.py

--84d7b458	2011-10-23T13:39:19-07:00	Ben Darnell	ben@bendarnell.com	Sigh... More websocket protocol changes.

Closes #385.

84d7b458
13	8	tornado/websocket.py

--95b90423	2011-10-07T16:21:10-03:00	Guto Maia	guto@guto.net	allows the TwitterMixin define the callback_uri, that solves issue #377

95b90423
2	2	tornado/auth.py

--970b43bd	2011-10-07T01:06:01-07:00	Ben Darnell	ben@bendarnell.com	Add configs for testing on Vagrant-managed VMs.

970b43bd
1	0	.gitignore
3	0	maint/README
23	0	maint/vm/README
27	0	maint/vm/freebsd/Vagrantfile
30	0	maint/vm/freebsd/setup.sh
13	0	maint/vm/freebsd/tox.ini
7	0	maint/vm/shared-setup.sh
9	0	maint/vm/ubuntu10.04/Vagrantfile
25	0	maint/vm/ubuntu10.04/setup.sh
13	0	maint/vm/ubuntu10.04/tox.ini
1	0	tox.ini

--6dd03c06	2011-10-07T01:07:58-07:00	Ben Darnell	ben@bendarnell.com	Bump version number in the master branch

6dd03c06
1	1	setup.py
1	1	tornado/__init__.py

--fa159286	2011-10-04T09:59:49-07:00	Ben Darnell	ben@bendarnell.com	Set version number to 2.1.1

fa159286
1	1	setup.py
2	2	tornado/__init__.py

--ea25c04a	2011-10-04T09:50:47-07:00	Ben Darnell	ben@bendarnell.com	Add release notes for 2.1.1

ea25c04a
1	0	website/sphinx/releases.rst
29	0	website/sphinx/releases/v2.1.1.rst

--c5e19a04	2011-10-04T08:54:38-07:00	Ben Darnell	ben@bendarnell.com	Always advance _next_timeout in PeriodicCallback._schedule_next().

On fast machines (and platforms where time.time() has low resolution),
it's possible to make it through an IOLoop iteration with time.time()
unchanged, which would cause the callback to be run multiple times
regardless of the requested interval.

Closes #366.

c5e19a04
1	1	tornado/ioloop.py

--0ea54f98	2011-10-04T13:09:15+01:00	David Galeano	davidgaleano@turbulenz.biz	Added support for subprotocols.

0ea54f98
35	3	tornado/websocket.py

--93415225	2011-10-03T22:45:18-07:00	bdarnell	ben@bendarnell.com	Merge pull request #372 from WGH-/patch-1

tornado/iostream.py - long type in read_bytes
93415225
--420ad086	2011-10-03T22:28:33-07:00	Ben Darnell	ben@bendarnell.com	Errors from socket.connect() should be treated the same way as async failures.

On freebsd non-blocking connect() may return certain errors (such as
ECONNREFUSED from localhost) immediately instead of returning EINPROGRESS
and then giving the error later.

Also improve the test for ipv6 compatibility, since freebsd returns a different
error than other platforms when ipv6 is not available.

420ad086
11	2	tornado/iostream.py
5	1	tornado/test/simple_httpclient_test.py

--1057260a	2011-10-03T21:03:14+04:00	WGH-	wgh@beyondunreal.com	Edited tornado/iostream.py via GitHub
1057260a
1	1	tornado/iostream.py

--6cd8e08f	2011-10-02T21:07:02+13:00	Aaron Morton	aaron@the-mortons.org	remove content headers for 303 redirect

when doing a GET request for a 303 redirect clear the Content-Length
and Content-Type headers, they are set during the initial POST.

6cd8e08f
5	0	tornado/simple_httpclient.py

--1667e0b7	2011-09-28T23:26:58+13:00	Aaron Morton	aaron@the-mortons.org	handle HTTP 303 redirects correctly

see http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.3.4

In response to a 303 the client SHOULD make a GET to the Location,
was using the original method.

1667e0b7
6	1	tornado/simple_httpclient.py
20	0	tornado/test/simple_httpclient_test.py

--4b346bdd	2011-09-22T10:38:35-07:00	Ben Darnell	ben@bendarnell.com	Fix a case in which chunked responses could be closed prematurely.

The bug manifests with certain patterns of fast-path/slow-path writes
on the IOStream, so it's difficult to test (it was more likely to occur in
2.0 than in 2.1).

http://groups.google.com/group/python-tornado/browse_thread/thread/7228881f7af38070

4b346bdd
8	1	tornado/httpserver.py

--8572cc40	2011-09-22T00:10:43-07:00	Ben Darnell	ben@bendarnell.com	Fix connection-close detection for epoll.

Previously, closed connections with epoll sent an IOLoop.ERROR event
while there was still data in the OS's socket buffers.  Event handlers
that did not drain the entire socket buffer before processing the
close event would lose data. (this was primarily an issue for
SimpleAsyncHTTPClient)

IOLoop.ERROR no longer includes EPOLLRDHUP (which is only supposed to be
used in edge-triggered mode: https://lkml.org/lkml/2003/7/12/132), so closed
connections while reading are signaled as zero-byte reads once the buffer
is drained (this was already the behavior of the select-based IOLoop).
Closed connections while writing are still signaled with EPOLLHUP.

Backwards-compatibility note:  Listening for IOLoop.ERROR alone is no longer
sufficient for detecting closed connections on an otherwise unused socket.
IOLoop.ERROR must always be used in combination with READ or WRITE.

8572cc40
1	1	tornado/ioloop.py
3	1	tornado/iostream.py
33	3	tornado/test/iostream_test.py

--fe955fec	2011-09-22T00:31:28-07:00	Ben Darnell	ben@bendarnell.com	Bump version number in the master branch

fe955fec
1	1	setup.py
1	1	tornado/__init__.py

--d03e60d0	2011-09-22T02:41:37+00:00	Alek Storm	alek.storm@gmail.com	Print only the template trace of the bottommost UI module call, move testing.LogHandler to util.LogCaptureHandler, and rename testing.LogTestCase to testing.LogCaptureTestCase

d03e60d0
22	12	tornado/template.py
27	24	tornado/test/template_test.py
1	20	tornado/testing.py
21	0	tornado/util.py

--b419316c	2011-09-20T21:21:52-07:00	Ben Darnell	ben@bendarnell.com	Set version number to 2.1

b419316c
1	1	setup.py
2	2	tornado/__init__.py

--a9980ac1	2011-09-20T21:21:07-07:00	Ben Darnell	ben@bendarnell.com	Move next.rst to v2.1.0.rst

a9980ac1
1	1	website/sphinx/releases.rst
4	4	website/sphinx/releases/{next.rst => v2.1.0.rst}

--189c268a	2011-09-19T10:45:37-07:00	bdarnell	ben@bendarnell.com	Merge pull request #363 from daharon/master

Make HTTPHeaders.__contains__() case-insensitive, like the rest of the object
189c268a
--f6b2dbea	2011-09-19T09:32:27-07:00	Daniel Aharon	dan@danielaharon.com	Make HTTPHeaders.__contains__() case-insensitive, like the rest of the object.
f6b2dbea
4	0	tornado/httputil.py

--5cf9890b	2011-09-18T16:44:32-07:00	Ben Darnell	ben@bendarnell.com	Add a test for the bug fixed in commit e811959

5cf9890b
23	0	tornado/test/iostream_test.py

--662d8ace	2011-09-18T00:17:47+02:00	Florian Diebold	flodiebold@gmail.com	Fix the handling of messages of length 126 in the draft-10 Websocket implementation.

662d8ace
1	1	tornado/websocket.py

--e8119595	2011-09-04T18:47:01+02:00	Florian Diebold	flodiebold@gmail.com	Fix the IOStream close callback not getting called if there are pending callbacks.

_maybe_add_error_listener only does anything if _state is None.

e8119595
1	0	tornado/iostream.py

--95b70733	2011-09-17T22:00:00-07:00	Ben Darnell	ben@bendarnell.com	Close leaking listener socket in tests

95b70733
2	0	tornado/test/iostream_test.py

--7dba811d	2011-09-17T13:14:11-07:00	Ben Darnell	ben@bendarnell.com	More release note updates

7dba811d
16	3	website/sphinx/releases/next.rst

--53bf14c7	2011-09-15T11:22:22-07:00	Ben Darnell	ben@bendarnell.com	Update ca-certs file to remove Diginotar

53bf14c7
3	34	tornado/ca-certificates.crt

--ff4be521	2011-09-14T22:30:11-07:00	Ben Darnell	ben@bendarnell.com	Put overview documentation back in HTTPServer docstring, and other doc
and import cleanups

ff4be521
56	10	tornado/httpserver.py
9	6	tornado/netutil.py

--593102d1	2011-09-14T21:22:32-07:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'alekstorm/tcpserver' into merge

593102d1
--363e3739	2011-09-13T16:20:19+00:00	Alek Storm	alek.storm@gmail.com	Add {# ... #} construct to comment out entire sections

363e3739
13	1	tornado/template.py
6	1	tornado/test/template_test.py

--abcac64c	2011-09-12T18:18:35+00:00	Alek Storm	alek.storm@gmail.com	Log "stacktrace" of templace source lines when an exception is raised for more convenient debugging

abcac64c
107	66	tornado/template.py
88	3	tornado/test/template_test.py
41	0	tornado/testing.py

--b8fd0c19	2011-09-11T23:16:08-07:00	Ben Darnell	ben@bendarnell.com	Remove doc warnings about tornado.auth in python3

b8fd0c19
0	4	tornado/auth.py
1	1	website/templates/index.html

--eb5f2ceb	2011-09-11T22:50:13-07:00	Ben Darnell	ben@bendarnell.com	Add crude tests for the auth module, and fix python3 issues with oauth1

eb5f2ceb
35	28	tornado/auth.py
186	0	tornado/test/auth_test.py
1	0	tornado/test/runtests.py

--437c477a	2011-09-12T05:32:43+00:00	Alek Storm	alek.storm@gmail.com	Move `TCPServer` to `netutil`, change `handle_stream` callback to overridden method hook, move IP address hack for unix domain sockets to `HTTPConnection`

437c477a
6	185	tornado/httpserver.py
190	0	tornado/netutil.py

--ef788bce	2011-09-11T20:42:22-07:00	Ben Darnell	ben@bendarnell.com	Merge branch 'branch2.0'

ef788bce
--5872db2e	2011-09-11T15:50:34-07:00	Ben Darnell	ben@bendarnell.com	Add support for callbacks that take more than a single positional argument.

Closes #351.

5872db2e
43	14	tornado/gen.py
29	0	tornado/test/gen_test.py
5	0	website/sphinx/gen.rst

--94b483ef	2011-09-11T15:09:25-07:00	Ben Darnell	ben@bendarnell.com	Add support for lists of YieldPoints in the gen framework.

94b483ef
40	5	tornado/gen.py
31	0	tornado/test/gen_test.py
1	0	website/sphinx/conf.py

--3496f757	2011-09-10T16:38:21-07:00	bdarnell	ben@bendarnell.com	Merge pull request #356 from alekstorm/files

Convert dictionaries representing HTTP files to HTTPFile objects
3496f757
--ec953d2d	2011-09-10T23:27:40+00:00	Alek Storm	alek.storm@gmail.com	Convert dictionaries representing HTTP files to HTTPFile objects, with dictionary access for attributes retained for backwards compatibility

ec953d2d
1	4	tornado/httpserver.py
14	1	tornado/httputil.py
1	1	tornado/test/httpserver_test.py

--452ebff3	2011-09-10T23:25:10+00:00	Alek Storm	alek.storm@gmail.com	Move web._O to util.ObjectDict

452ebff3
1	1	tornado/httputil.py
3	3	tornado/test/web_test.py
12	0	tornado/util.py
3	15	tornado/web.py

--d5e924a8	2011-09-10T15:10:31-07:00	Ben Darnell	ben@bendarnell.com	Add reference docs for all template directives.

Closes #355.

d5e924a8
85	0	tornado/template.py
14	0	tornado/test/template_test.py
16	0	website/sphinx/template.rst

--1a6dd4c0	2011-09-10T14:18:51-07:00	Ben Darnell	ben@bendarnell.com	Reorder tox environments so the most important/likely-to-fail ones run first.

1a6dd4c0
1	1	tox.ini

--1b5adf99	2011-09-08T22:51:45-07:00	Ben Darnell	ben@bendarnell.com	Add on_connection_close hook to chat demo to clean up after closed connections.

Closes #354.

1b5adf99
11	4	demos/chat/chatdemo.py

--12c5699e	2011-09-08T22:45:30-07:00	Ben Darnell	ben@bendarnell.com	Extract cookie-signing methods from RequestHandler so they can be used
outside the web stack.

Closes #339.

12c5699e
7	4	tornado/test/web_test.py
45	37	tornado/web.py

--c9fb8e03	2011-09-08T22:07:32-07:00	Ben Darnell	ben@bendarnell.com	Add streaming_callback to IOStream.read_bytes and read_until_close.

Closes #300.

c9fb8e03
31	8	tornado/iostream.py
68	0	tornado/test/iostream_test.py

--dfda3a55	2011-09-08T00:09:52+00:00	Alek Storm	alek.storm@gmail.com	Factor HTTP-specific code into HTTPServer subclass of TCPServer

dfda3a55
83	74	tornado/httpserver.py

--c36e482d	2011-09-05T14:00:51-07:00	Ben Darnell	ben@bendarnell.com	Remove unused variables (discovered by pyflakes)

c36e482d
1	3	tornado/auth.py
0	1	tornado/httpserver.py
0	1	tornado/simple_httpclient.py
1	2	tornado/test/simple_httpclient_test.py
0	1	tornado/testing.py

--5997f411	2011-09-05T13:23:57-07:00	Ben Darnell	ben@bendarnell.com	Improve exception handling for gen module.

5997f411
20	4	tornado/gen.py
35	0	tornado/test/gen_test.py

--2f914601	2011-09-05T12:15:50-07:00	Ben Darnell	ben@bendarnell.com	Allow any sequence in gen.WaitAll, not just lists.

2f914601
1	2	tornado/gen.py

--39de229e	2011-09-05T12:12:07-07:00	Ben Darnell	ben@bendarnell.com	Add test for 100-continue functionality, and fix it on python 3

Closes #350.

39de229e
1	1	tornado/httpserver.py
33	2	tornado/test/httpserver_test.py
2	3	tornado/test/wsgi_test.py
1	0	website/sphinx/releases/next.rst

--f28674d3	2011-09-04T18:00:06-07:00	Ben Darnell	ben@bendarnell.com	Document tornado.platform.twisted, and rename ioloop parameter to io_loop
for consistency with other modules.

f28674d3
28	30	tornado/platform/twisted.py
1	0	website/Makefile
3	0	website/sphinx/conf.py
1	0	website/sphinx/integration.rst
19	0	website/sphinx/twisted.rst

--f05f9b9e	2011-09-04T17:47:39-07:00	Ben Darnell	ben@bendarnell.com	Reorganize release notes

f05f9b9e
104	86	website/sphinx/releases/next.rst

--b266561d	2011-09-04T15:51:25-07:00	Ben Darnell	ben@bendarnell.com	Accumulated release note updates.

b266561d
25	1	website/sphinx/releases/next.rst

--b2de4b83	2011-09-04T15:39:55-07:00	Ben Darnell	ben@bendarnell.com	Update docs with new methods

b2de4b83
4	0	website/sphinx/conf.py
1	0	website/sphinx/gen.rst
3	1	website/sphinx/ioloop.rst
1	0	website/sphinx/web.rst

--93a0dc82	2011-09-04T12:52:43-07:00	Ben Darnell	ben@bendarnell.com	Fix error in docs

93a0dc82
1	1	tornado/gen.py

--09659523	2011-09-04T11:26:36-07:00	Ben Darnell	ben@bendarnell.com	Add gen.WaitAll

09659523
20	0	tornado/gen.py
10	0	tornado/test/gen_test.py

--e4ead597	2011-09-04T00:59:57-07:00	Ben Darnell	ben@bendarnell.com	Add tornado.gen module for simpler generator-based async code.

e4ead597
250	0	tornado/gen.py
158	0	tornado/test/gen_test.py
1	0	tornado/test/runtests.py
22	0	website/sphinx/gen.rst
1	0	website/sphinx/utilities.rst

--c0142d2e	2011-09-03T13:27:28-07:00	Ben Darnell	ben@bendarnell.com	Various minor test changes for windows.

c0142d2e
3	2	tornado/autoreload.py
10	4	tornado/test/httpclient_test.py
4	0	tornado/test/httpserver_test.py
2	1	tornado/test/process_test.py
1	1	tornado/test/simple_httpclient_test.py
2	2	tornado/test/twisted_test.py

--86e4c5f5	2011-09-03T12:20:43-07:00	Ben Darnell	ben@bendarnell.com	Remove test_connect_timeout, which was only passing before due to a bug
in the timeout implementation.

86e4c5f5
0	18	tornado/test/simple_httpclient_test.py

--70cd9120	2011-08-30T20:27:19-07:00	bdarnell	ben@bendarnell.com	Merge pull request #349 from milkinc/master

Correct on_connect timeout for simple http client
70cd9120
--d4afb131	2011-08-30T20:26:04-07:00	bdarnell	ben@bendarnell.com	Merge pull request #347 from ContextLogic/optiongroup

'group' parameter in options.define()
d4afb131
--525b5da5	2011-08-30T19:05:55-07:00	Jeff Hodsdon	jeffhodsdon@gmail.com	Corrected on_connect timeout for simplehttpclient

525b5da5
2	2	tornado/simple_httpclient.py

--16d492e7	2011-08-30T14:47:34-07:00	Jeeyoung Kim	jeeyoung@contextlogic.com	In define(), added option to define our own option group, which is used in print_help().

16d492e7
14	6	tornado/options.py

--b2cdb440	2011-08-29T22:14:54-07:00	bdarnell	ben@bendarnell.com	Merge pull request #346 from mikejthompson/master

adding 'cookies' property to wsgi.HTTPRequest
b2cdb440
--3627fb54	2011-08-29T21:18:35-07:00	Mike Thompson	mike@mikejthompson.com	add 'cookies' property to wsgi.HTTPRequest

3627fb54
14	0	tornado/wsgi.py

--129d77d6	2011-08-28T18:42:35-07:00	Ben Darnell	ben@bendarnell.com	Watch the main module for tornado.autoreload's -m mode

129d77d6
7	0	tornado/autoreload.py

--51b88268	2011-08-27T23:59:48-07:00	Ben Darnell	ben@bendarnell.com	Merge commit '864044' into merge

51b88268
--e5d96e1f	2011-08-23T00:24:36+02:00	Maciej Małecki	maciej.malecki@notimplemented.org	Fix typos (argh!). #319

e5d96e1f
2	2	tornado/autoreload.py

--874aa201	2011-08-22T15:01:01+02:00	Maciej Małecki	maciej.malecki@notimplemented.org	Use subprocess.Popen on Windows, fixes #319

874aa201
8	0	tornado/autoreload.py

--7f6c66e4	2011-08-27T23:24:56-07:00	Ben Darnell	ben@bendarnell.com	Add a version of database.Connection.execute that returns the rowcount.

Closes #333.

7f6c66e4
34	0	tornado/database.py

--59286267	2011-08-27T23:08:48-07:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'alekstorm/static_args' into merge

59286267
--3066dfe8	2011-08-27T23:04:26-07:00	Ben Darnell	ben@bendarnell.com	Merge branch 'master' into merge

3066dfe8
--3a85ec90	2011-08-27T23:02:57-07:00	Ben Darnell	ben@bendarnell.com	Reinstate RequestHandler.cookies property

3a85ec90
2	0	tornado/test/web_test.py
4	0	tornado/web.py

--b52a4d9a	2011-08-27T20:51:45-04:00	Jehiah Czebotar	jehiah@gmail.com	implement request_time in simplehttp_client (and tests)

b52a4d9a
6	1	tornado/simple_httpclient.py
1	0	tornado/test/httpclient_test.py
2	0	tornado/test/simple_httpclient_test.py

--e4c154c5	2011-08-27T12:31:17-07:00	bdarnell	ben@bendarnell.com	Merge pull request #344 from akrymski/master

javascript not being gzipped
e4c154c5
--727299d9	2011-08-27T16:02:00+01:00	Artemi Krymski	akrymski@gmail.com	application/json was missing from GZIP CONTENT_TYPES

727299d9
1	1	tornado/web.py

--af520f63	2011-08-25T17:29:32+02:00	Wojciech Polak	wojciechpolak@gmail.com	Improve template execution performance.

af520f63
5	3	tornado/template.py

--a727d7af	2011-08-23T20:24:28-07:00	bdarnell	ben@bendarnell.com	Merge pull request #342 from davidwilemski/master

Template documentation fix
a727d7af
--8e83af7e	2011-08-23T23:14:08-04:00	David Wilemski	david@davidwilemski.com	Fixed typo in template documentation

8e83af7e
1	1	tornado/template.py

--e91d4a3a	2011-08-23T10:38:11-07:00	Ben Darnell	ben@bendarnell.com	Support max_age as an alias for max-age in set_cookie(**kwargs)

e91d4a3a
1	0	tornado/web.py

--6b7ddc91	2011-08-22T22:45:27-07:00	Ben Darnell	ben@bendarnell.com	timedelta.total_seconds() is new in python2.7, so do the math ourselves.

6b7ddc91
6	1	tornado/ioloop.py
5	0	tornado/test/ioloop_test.py

--86404402	2011-08-22T15:14:39-07:00	Jeeyoung Kim	jeeyoung@contextlogic.com	Implemented read_until_regex in tornado. This is similar to read_until(), except it looks for a specific delimiter. This function is used to parse the header of the website, where it is delimited by '\n' only (like http://news.ycombinator.com/rss)

86404402
25	0	tornado/iostream.py
2	2	tornado/simple_httpclient.py

--66a82a9b	2011-08-21T16:54:43-07:00	bdarnell	ben@bendarnell.com	Merge pull request #340 from alekstorm/template_namespace

Add 'namespace' parameter to template.BaseLoader constructor
66a82a9b
--437274ac	2011-08-21T15:53:00-07:00	Ben Darnell	ben@bendarnell.com	When following redirects, release connection resources immediately

437274ac
23	13	tornado/simple_httpclient.py
2	1	tornado/test/httpserver_test.py
9	0	tornado/test/simple_httpclient_test.py

--0373c7a3	2011-08-20T15:20:16+00:00	Alek Storm	alek.storm@gmail.com	Add 'namespace' parameter to template.BaseLoader constructor

Specifies custom entries in the global namespace of loaded templates.

0373c7a3
4	1	tornado/template.py
4	0	tornado/test/template_test.py

--4a4d8717	2011-08-18T06:01:50+00:00	Alek Storm	alek.storm@gmail.com	Move 'cookies' property from RequestHandler to HTTPRequest

4a4d8717
14	0	tornado/httpserver.py
7	2	tornado/test/httpserver_test.py
0	4	tornado/test/web_test.py
3	16	tornado/web.py

--2affc6d3	2011-08-17T00:19:40+00:00	Alek Storm	alek.storm@gmail.com	Add 'static_handler_args' application setting to pass extra keyword arguments
to static file handler constructor.

2affc6d3
6	6	tornado/web.py

--00bb10c4	2011-08-14T14:38:42-07:00	Ben Darnell	ben@bendarnell.com	Add static_handler_class application setting, and move most of static_url
into the handler class where it can be overridden.

00bb10c4
40	2	tornado/test/web_test.py
45	23	tornado/web.py
3	0	website/sphinx/releases/next.rst

--c1493114	2011-08-14T14:20:09-07:00	Ben Darnell	ben@bendarnell.com	Add tests for static file functionality

c1493114
1	0	MANIFEST.in
1	1	setup.py
2	0	tornado/test/static/robots.txt
21	0	tornado/test/web_test.py

--1882670c	2011-08-14T12:03:07-07:00	Ben Darnell	ben@bendarnell.com	In case the callback_uri and the uri that called authenticate_redirect
are different, use the callback as the openid realm.

1882670c
1	1	tornado/auth.py
2	0	website/sphinx/releases/next.rst

--a8241193	2011-08-14T11:40:10-07:00	Ben Darnell	ben@bendarnell.com	Release note updates

a8241193
6	3	tornado/websocket.py
28	1	website/sphinx/releases/next.rst

--04cf5c56	2011-08-14T10:55:10-07:00	Ben Darnell	ben@bendarnell.com	Clean up after the _check_file refactoring.

04cf5c56
17	11	tornado/autoreload.py

--15ebe764	2011-08-14T10:38:52-07:00	Ben Darnell	ben@bendarnell.com	Add the option to run application hooks before autoreloading.

Closes #331

15ebe764
14	0	tornado/autoreload.py

--225bf2ac	2011-08-14T09:53:55-07:00	Ben Darnell	ben@bendarnell.com	Remove tox config for pypy with mysql.

The module builds on pypy, but doesn't work (and having it loaded causes
non-deterministic failures in the process-related tests)

225bf2ac
4	7	tox.ini

--688d59d4	2011-08-06T14:21:19-07:00	Ben Darnell	ben@bendarnell.com	Accept timedelta objects in IOLoop.add_timeout.

Closes #329.

688d59d4
10	0	tornado/ioloop.py

--8e274f08	2011-08-06T13:23:35-07:00	Ben Darnell	ben@bendarnell.com	Speed up _convert_header_value

8e274f08
13	11	tornado/web.py

--bbb2d38c	2011-08-06T13:06:54-07:00	Ben Darnell	ben@bendarnell.com	Add RequestHandler.add_header to allow headers to occur multiple times.

bbb2d38c
13	0	tornado/test/web_test.py
22	2	tornado/web.py

--ef907902	2011-08-06T12:23:12-07:00	Ben Darnell	ben@bendarnell.com	Better path surgery in autoreload

ef907902
7	1	tornado/autoreload.py

--c95be878	2011-08-03T08:25:31+00:00	Alek Storm	alek.storm@gmail.com	Allow template directives to span multiple lines

c95be878
2	2	tornado/template.py

--ef95c11f	2011-08-02T23:58:41-07:00	Ben Darnell	ben@bendarnell.com	Fix style, add comments

ef95c11f
7	1	tornado/web.py

--256c004d	2011-08-02T23:54:28-07:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'alekstorm/master' into merge

256c004d
--7aec8fc9	2011-08-02T23:47:55-07:00	Ben Darnell	ben@bendarnell.com	If a PeriodicCallback runs longer than its period, skip the missed callbacks
instead of trying to run all the missed callbacks to catch up.

7aec8fc9
2	0	tornado/ioloop.py

--01be222e	2011-08-02T23:44:21-07:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'jfisteus/periodic_callback' into merge

01be222e
--6ec7b47c	2011-08-02T23:33:39-07:00	Ben Darnell	ben@bendarnell.com	Add install() method to IOLoop to allow a custom subclass as the singleton.

Singleton-related methods are now static, not class methods.

6ec7b47c
18	8	tornado/ioloop.py

--677c987a	2011-08-02T23:26:50-07:00	Ben Darnell	ben@bendarnell.com	Test that tornado.database is at least importable on all supported pythons.

Fix a problem preventing import on pypy (but apparently there are still other
issues with running MySQLdb on pypy, so the module will not actually work yet).

677c987a
2	2	tornado/database.py
27	0	tornado/test/import_test.py
17	6	tox.ini

--a286935b	2011-07-29T21:02:57+00:00	Alek Storm	alek.storm@gmail.com	Add extra '_modules' reference to modules list in template parameters, which is used by {% module ... %} directive to avoid naming conflicts with Python modules named 'modules'

a286935b
1	1	tornado/template.py
1	1	tornado/web.py

--c4c59604	2011-07-28T18:44:29+02:00	Jesus Arias Fisteus	jfisteus@gmail.com	Stabilization of the period of ioloop.PeriodicCallback.

Previously, the timeout for the following event was computed by adding
callback_time to the actual time the callback finished, which caused
calls to the callback not being trully periodic.

This commit makes callback_time be a stable period by scheduling the
next timeout callback_time after the previous timeout was scheduled.

c4c59604
7	3	tornado/ioloop.py

--8c3e46c4	2011-07-27T22:09:49-07:00	Ben Darnell	ben@bendarnell.com	Add option to print out generated template code in benchmark

8c3e46c4
5	0	demos/benchmark/template_benchmark.py

--fa5b0f26	2011-07-27T22:03:50-07:00	Ben Darnell	ben@bendarnell.com	Speed up xhtml_escape (template benchmark goes from 49ms to 32ms)

fa5b0f26
4	2	tornado/escape.py

--3a7e3089	2011-07-27T22:01:05-07:00	Ben Darnell	ben@bendarnell.com	Add a template benchmark, based on one in jinja2

3a7e3089
62	0	demos/benchmark/template_benchmark.py

--71abb9fd	2011-07-27T21:04:22-07:00	Ben Darnell	ben@bendarnell.com	More defensiveness about patterns that could lead to double callbacks.

71abb9fd
3	4	tornado/simple_httpclient.py

--a0ff0ed9	2011-07-26T10:50:32-07:00	Ben Darnell	ben@bendarnell.com	Allow unicode string literals to appear in template expressions.

Closes #313.

a0ff0ed9
2	1	tornado/template.py
17	0	tornado/test/template_test.py

--6fcc459e	2011-07-24T19:59:14-07:00	Ben Darnell	ben@bendarnell.com	Support Content-Length headers that have been duplicated by a proxy.

Closes #249.

6fcc459e
9	0	tornado/simple_httpclient.py
16	0	tornado/test/simple_httpclient_test.py

--5c6a91dd	2011-07-24T19:24:23-07:00	Ben Darnell	ben@bendarnell.com	Merge branch 'httpclient_buffer'

5c6a91dd
--f2142ee2	2011-07-24T19:23:38-07:00	Ben Darnell	ben@bendarnell.com	Fix test that depended on simple_httpclient implementation detail.

f2142ee2
1	1	tornado/test/httpserver_test.py

--aa777a07	2011-07-20T21:23:01-07:00	David Recordon	davidrecordon@David-Recordons-MacBook-Pro.local	Allow setting the maximum read buffer size when constructing a SimpleAsyncHTTPClient. Defaults to 100mb like the underlying IOStream. Tested that fetching a file over 100mb no longer gives a "Maximum read buffer size" exception.

aa777a07
12	5	tornado/simple_httpclient.py

--080dab2d	2011-07-19T19:35:22-07:00	Ben Darnell	ben@bendarnell.com	Consistently guard against uncaught exceptions leading to multiple callback
invocations in SimpleAsyncHTTPClient.

080dab2d
10	10	tornado/simple_httpclient.py

--b4324c1e	2011-07-19T19:12:28-07:00	David Recordon	davidrecordon@David-Recordons-MacBook-Pro.local	Noticed that a max_clients around 50 would cause us to run out of file descriptors. lsof showed that TCP connections would remain in the established state versus being closed. stream.close is called in error states but not success. Thus call stream.close after passing the response to the callback. Result was seeing the TCP connections being properly closed as well as no change in fetching data.

b4324c1e
1	0	tornado/simple_httpclient.py

--e360c72a	2011-07-18T23:52:27-07:00	Ben Darnell	ben@bendarnell.com	Delay IOStream close callback until all pending callbacks have been processed.

This fixes an issue with SimpleAsyncHTTPClient when the server closes the
connection and the close is processed before all of the data is read.

Closes #306.

e360c72a
12	2	tornado/iostream.py
30	1	tornado/test/httpclient_test.py

--6f9e2f61	2011-07-18T22:59:01-07:00	Ben Darnell	ben@bendarnell.com	Move httpclient_tests that never worked with curl to simple_httpclient_test.

curl_httpclient_test was previously creating SimpleAsyncHTTPClients due to a
bug, so these failing tests went unnoticed.

6f9e2f61
2	75	tornado/test/httpclient_test.py
82	3	tornado/test/simple_httpclient_test.py

--5d895f04	2011-07-18T22:34:19-07:00	Ben Darnell	ben@bendarnell.com	Fix HTTP client selection as used in curl_httpclient_test.

AsyncHTTPClient.configure() was working, but it didn't work to instantiate
the client directly like the unit tests were using.

5d895f04
14	8	tornado/httpclient.py
4	1	tornado/test/curl_httpclient_test.py
3	1	tornado/test/simple_httpclient_test.py

--0d31f1c6	2011-07-18T21:25:59-07:00	Ben Darnell	ben@bendarnell.com	Make "python -m tornado.autoreload" run with a consistent sys.path.

0d31f1c6
8	0	tornado/autoreload.py

--f376841b	2011-07-17T16:52:56-07:00	Ben Darnell	ben@bendarnell.com	Add a config file to run tornado tests under multiple python versions with tox.

Also fix a setup.py problem that was leaving files out of the sdist output.

f376841b
1	0	.gitignore
5	0	MANIFEST.in
50	0	tox.ini

--e13594da	2011-07-17T15:18:49-07:00	Ben Darnell	ben@bendarnell.com	Merge branch 'master' into twisted

e13594da
--379cd3d6	2011-07-17T15:17:36-07:00	Ben Darnell	ben@bendarnell.com	Change binary literals to hex for compatibility with python2.5

379cd3d6
5	5	tornado/websocket.py

--ef42bd8a	2011-07-17T15:13:04-07:00	Ben Darnell	ben@bendarnell.com	Fix WebSocketProtocol8 on python3

ef42bd8a
4	3	tornado/websocket.py

--c91df197	2011-07-17T15:01:07-07:00	Ben Darnell	ben@bendarnell.com	Make websocket demo work on firefox 6 beta

c91df197
4	0	demos/websocket/static/chat.js

--5abfc795	2011-07-17T15:00:52-07:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'flodiebold/master' into merge-websocket

5abfc795
--27951ad1	2011-07-17T14:07:19-07:00	Ben Darnell	ben@bendarnell.com	Rename twistedreactor -> twisted

27951ad1
2	2	tornado/platform/{twistedreactor.py => twisted.py}
1	1	tornado/test/import_test.py
1	1	tornado/test/runtests.py
2	2	tornado/test/{twistedreactor_test.py => twisted_test.py}

--1264faa3	2011-07-17T14:03:42-07:00	Ben Darnell	ben@bendarnell.com	Run parts of twisted's test suite on the tornado reactor

1264faa3
25	1	tornado/platform/twistedreactor.py
34	0	tornado/test/twistedreactor_test.py

--9d41c834	2011-07-17T22:15:21+02:00	Florian Diebold	flodiebold@gmail.com	Handle the hybi-07 version of the WebSocket protocol with the 08 implementation.

There don't seem to be any differences on the server side.

9d41c834
2	1	tornado/websocket.py

--b19a6d31	2011-07-17T12:46:22-07:00	Ben Darnell	ben@bendarnell.com	Make twisted tests run under python 2.5

b19a6d31
2	0	tornado/platform/twistedreactor.py
2	0	tornado/test/twistedreactor_test.py

--b202daa6	2011-07-17T21:25:05+02:00	Florian Diebold	flodiebold@gmail.com	Send the data of the ping frame back in the pong, as specified.

b202daa6
1	1	tornado/websocket.py

--dc74565a	2011-07-17T21:16:30+02:00	Florian Diebold	flodiebold@gmail.com	Fix an exception when connecting with an unsupported WebSocket version.

dc74565a
2	0	tornado/websocket.py

--7a70185a	2011-07-17T10:25:53-07:00	Ben Darnell	ben@bendarnell.com	Remove new backwards-incompatible arguments from StaticFileHandler.set_extra_headers

7a70185a
2	2	tornado/web.py

--110de61b	2011-07-17T10:45:54-07:00	Ben Darnell	ben@bendarnell.com	Merge commit '8dbe9ba' into work

110de61b
--a026a784	2011-07-14T19:00:44-07:00	Ovidiu Predescu	ovidiu@gmail.com	Removed run() method.

a026a784
0	3	tornado/platform/twistedreactor.py

--051a6cac	2011-07-14T16:24:42-07:00	Ovidiu Predescu	ovidiu@gmail.com	New test to check that addWriter followed by removeWriter properly removes the writer from IOLoop.

051a6cac
43	9	tornado/test/twistedreactor_test.py

--5eaa84b7	2011-07-14T16:00:02-07:00	Ovidiu Predescu	ovidiu@gmail.com	Moved twisted/reactor.py to platform/twistedreactor.py.

twistedreactor.py:
  - cleaned up logging
  - don't try to crash if stop has been called (uses _running to check it)
  - don't add reader and writers if they've already been added
  - use a NullContext when calling add_handler
  - call IOLoop.close() to properly close file descriptors
  - implement run() and instruct the reactor to not install signal handlers.

import_test.py:
  - import twistedreactor too

twistedreactor_test.py:
  - do conditional includes based on twisted
  - remove superfluous logging
  - don't use assertGreater
  - use threading instead of the thread module. Join threads at the end of test.
  - properly close the file descriptor in Reader/Writer's connectionLost().
  - make use of tornado.platform.auto's set_close_exec.
  - write only one in the pipe, and check for that.

5eaa84b7
37	8	tornado/{twisted/reactor.py => platform/twistedreactor.py}
1	0	tornado/test/import_test.py
44	30	tornado/test/twistedreactor_test.py
0	0	tornado/twisted/__init__.py

--99b3a9a7	2011-07-14T15:52:35-07:00	Ovidiu Predescu	ovidiu@gmail.com	Fix misspelling.

99b3a9a7
1	1	tornado/stack_context.py

--f0438e5d	2011-07-13T20:09:02-07:00	Ben Darnell	ben@bendarnell.com	Add a callback for flow control to RequestHandler.flush

f0438e5d
9	3	tornado/httpserver.py
20	0	tornado/test/web_test.py
11	4	tornado/web.py

--d227f3ba	2011-07-13T21:12:48+02:00	Florian Diebold	flodiebold@gmail.com	Implement the hybi-10 version of the WebSocket protocol.

d227f3ba
188	3	tornado/websocket.py

--48e60770	2011-07-09T22:33:21+02:00	Florian Diebold	flodiebold@gmail.com	Refactor WebSocket support to prepare for multiple protocol versions.

All protocol-specific functions are moved to the former
WebSocketRequest class, which is renamed to WebSocketProtocol76. The
WebSocketHandler chooses the right WebSocketProtocol implementation by
looking at the request headers.

48e60770
131	96	tornado/websocket.py

--8dbe9ba9	2011-07-13T19:56:24+02:00	Krzysztof Tarnowski	krzysztof.tarnowski@ymail.com	Enabled subclasses to specify expiration time.

8dbe9ba9
25	13	tornado/web.py

--3bb589fb	2011-07-12T13:32:59-07:00	Ovidiu Predescu	ovidiu@gmail.com	Don't use defaults in reactor.py as they cause unneeded initializations.

Fix the unittest to not initialize IOLoop's global instance.

3bb589fb
1	1	tornado/test/runtests.py
8	11	tornado/test/twistedreactor_test.py
6	2	tornado/twisted/reactor.py

--ec838edc	2011-07-12T12:08:50-07:00	Ovidiu Predescu	ovidiu@gmail.com	Added the twistedreactor_test to runtests.py.

ec838edc
1	0	tornado/test/runtests.py

--e1043bed	2011-07-12T12:04:26-07:00	Ovidiu Predescu	ovidiu@gmail.com	Added author and copyright info.

e1043bed
19	0	tornado/test/twistedreactor_test.py
28	1	tornado/twisted/reactor.py

--7326a150	2011-07-12T11:39:21-07:00	Ovidiu Predescu	ovidiu@gmail.com	Updated to not depend on IOLoop's _set_nonblocking and _set_close_exec, which were moved to a separate file.

7326a150
15	6	tornado/test/twistedreactor_test.py

--a45f6735	2011-07-12T11:28:24-07:00	Ovidiu Predescu	ovidiu@gmail.com	Added twisted-style reactor for Tornado.

a45f6735
203	0	tornado/test/twistedreactor_test.py
0	0	tornado/twisted/__init__.py
224	0	tornado/twisted/reactor.py

--2ee58f1f	2011-07-12T10:26:33-07:00	Ben Darnell	ben@bendarnell.com	Fix race condition in cross-thread IOLoop.add_callback

2ee58f1f
15	2	tornado/ioloop.py

--631d2f42	2011-07-12T09:14:16-07:00	Ben Darnell	ben@bendarnell.com	Better error message

631d2f42
2	1	tornado/web.py

--e4146307	2011-07-10T17:13:00-07:00	Ben Darnell	ben@bendarnell.com	Doc and release note updates.

e4146307
0	10	website/sphinx/overview.rst
14	0	website/sphinx/releases/next.rst

--67ff311a	2011-07-10T16:13:45-07:00	Ben Darnell	ben@bendarnell.com	Support multi-line headers

Closes #9.

67ff311a
9	0	tornado/httputil.py
26	1	tornado/test/httputil_test.py

--f771360a	2011-07-10T15:30:52-07:00	Ben Darnell	ben@bendarnell.com	Properly quote and unquote cookie values.

Closes #36.

f771360a
35	1	tornado/test/web_test.py
2	2	tornado/web.py

--f249ee3e	2011-07-10T14:00:09-07:00	Ben Darnell	ben@bendarnell.com	Fix parsing of uploaded filenames with special characters.

Closes #24.

f249ee3e
43	11	tornado/httputil.py
1	2	tornado/test/httpserver_test.py
60	1	tornado/test/httputil_test.py

--a93ccd72	2011-07-10T12:11:43-07:00	Ben Darnell	ben@bendarnell.com	Allow any properly-formatted locale, not just ones in LOCALE_NAMES.

a93ccd72
2	1	tornado/locale.py

--e354dd15	2011-07-09T17:39:55-07:00	Ben Darnell	ben@bendarnell.com	Re-enable default_certificates test

e354dd15
1	1	tornado/test/simple_httpclient_test.py

--acdf7038	2011-07-09T17:20:29-07:00	Ben Darnell	ben@bendarnell.com	allow_nonstandard_methods now also skips the check that only POST and
PUT requests have bodies

acdf7038
6	5	tornado/simple_httpclient.py

--57f5c57d	2011-07-09T14:35:59-07:00	Ben Darnell	ben@bendarnell.com	Move socket accept loop from HTTPServer to netutil.

57f5c57d
3	10	tornado/httpserver.py
23	0	tornado/netutil.py

--ea2a5cf4	2011-07-08T13:40:11+02:00	Krzysztof Tarnowski	krzysztof.tarnowski@ymail.com	Add a way of customizing cache control behavior for static files.

ea2a5cf4
6	1	tornado/web.py

--dd4b0fbf	2011-07-07T22:14:36-07:00	Ben Darnell	ben@bendarnell.com	Add basic unix socket support.

tornado.netutil.bind_unix_socket can create non-blocking listening unix
sockets, and HTTPServer can use them.  (no client-side support for this yet)
This is useful e.g. with nginx proxying incoming TCP traffic to
a backend over a unix socket (which may be easier to manage than a set of
TCP ports)

dd4b0fbf
7	0	tornado/httpserver.py
1	0	tornado/iostream.py
33	0	tornado/netutil.py
50	4	tornado/test/httpserver_test.py

--18759049	2011-07-06T09:56:46-07:00	Ben Darnell	ben@bendarnell.com	Speed up Application.__call__ when there are no matched groups

18759049
8	4	tornado/web.py

--845950af	2011-07-06T10:00:17-07:00	Ben Darnell	ben@bendarnell.com	Better benchmark script

845950af
32	6	demos/benchmark/benchmark.py

--c55a68f0	2011-07-06T17:00:28-07:00	bdarnell	ben@bendarnell.com	Merge pull request #297 from funtoo/patch-1

Install platform files too.
c55a68f0
--c17dddb9	2011-07-06T15:00:11-07:00	Daniel Robbins	drobbins@funtoo.org	Install platform files too.
c17dddb9
1	1	setup.py

--30c1f269	2011-07-05T23:53:38-07:00	Ben Darnell	ben@bendarnell.com	Don't keep the entire output in a cStringIO when gzipping chunks

30c1f269
2	4	tornado/web.py

--64d8ce60	2011-07-05T22:51:37-07:00	Ben Darnell	ben@bendarnell.com	Document IOStream fast-path/slow-path, and allow for chains of fast-path ops.

64d8ce60
29	13	tornado/iostream.py

--894fa93e	2011-07-05T22:34:26-07:00	Ben Darnell	ben@bendarnell.com	Add a fast path for IOStream writes in addition to reads.

This is a significant speedup for small requests, since it is now
possible to do a request and (synchronous) response without calling
IOLoop.add_handler.

894fa93e
8	1	tornado/iostream.py

--2603b3c1	2011-07-05T22:31:24-07:00	Ben Darnell	ben@bendarnell.com	Don't add an event handler for IOStream until we've done a read or write.

This speeds things up a bit by avoiding a system call to add a handler
for errors that is just replaced by the first read or write.

2603b3c1
18	5	tornado/iostream.py

--12709437	2011-07-05T21:53:08-07:00	Ben Darnell	ben@bendarnell.com	Make this test more robust against the timing of server exits.

12709437
32	19	tornado/test/process_test.py

--b9a68ee3	2011-07-05T00:12:30-07:00	Ben Darnell	ben@bendarnell.com	Use lists of tuples instead of dicts since this test cares about order

b9a68ee3
7	7	tornado/test/httputil_test.py

--180b2136	2011-07-04T22:34:13-07:00	Ben Darnell	ben@bendarnell.com	Non-file-based template loaders should always use posix filename semantics

180b2136
26	13	tornado/template.py

--d732f9d1	2011-07-04T22:26:39-07:00	Ben Darnell	ben@bendarnell.com	Disable this test on non-unix platforms

d732f9d1
3	0	tornado/test/process_test.py

--2963eed3	2011-07-04T21:04:53-07:00	Ben Darnell	ben@bendarnell.com	Move the waker pipe into tornado.platform.

2963eed3
9	51	tornado/ioloop.py
2	2	tornado/platform/auto.py
31	0	tornado/platform/interface.py
39	0	tornado/platform/posix.py
22	11	tornado/platform/windows.py

--7e0e73b3	2011-07-04T20:37:52-07:00	Ben Darnell	ben@bendarnell.com	Clean up hacky fcntl emulation for windows.

7e0e73b3
5	8	tornado/ioloop.py
2	11	tornado/netutil.py
31	0	tornado/platform/auto.py
26	0	tornado/platform/interface.py
23	0	tornado/platform/posix.py
1	38	tornado/platform/windows.py

--d27fc356	2011-07-04T20:33:21-07:00	Ben Darnell	ben@bendarnell.com	This looks like it's always been backwards.

d27fc356
1	1	tornado/platform/windows.py

--a89d2dc7	2011-07-04T20:20:26-07:00	Ben Darnell	ben@bendarnell.com	Move win32_support to a new tornado.platform package

a89d2dc7
0	8	tornado/httpserver.py
3	3	tornado/ioloop.py
1	1	tornado/netutil.py
0	0	tornado/platform/__init__.py
0	0	tornado/{win32_support.py => platform/windows.py}
0	1	tornado/test/import_test.py

--b0e4bedb	2011-07-04T19:24:20-07:00	Ben Darnell	ben@bendarnell.com	Release notes for multi-process stuff

b0e4bedb
7	0	website/sphinx/releases/next.rst

--fa9a1767	2011-07-04T19:15:37-07:00	Ben Darnell	ben@bendarnell.com	Check for forked status in autoreload

fa9a1767
6	0	tornado/autoreload.py

--5ef04877	2011-07-04T19:11:32-07:00	Ben Darnell	ben@bendarnell.com	Better fork_processes:  Restart processes when they exit abnormally.  Tests!

5ef04877
65	14	tornado/process.py
98	0	tornado/test/process_test.py
1	0	tornado/test/runtests.py

--93e22bb7	2011-07-04T18:12:15-07:00	Ben Darnell	ben@bendarnell.com	Don't initialize the singleton IOLoop from tearDown

93e22bb7
5	3	tornado/testing.py

--70bcb6e3	2011-07-04T17:32:31-07:00	Ben Darnell	ben@bendarnell.com	Refactor random-seed code out of fork_processes

70bcb6e3
18	11	tornado/process.py

--b2579a89	2011-07-04T17:17:00-07:00	Ben Darnell	ben@bendarnell.com	Better documentation for HTTPServer startup

b2579a89
34	19	tornado/httpserver.py

--1b27d3f2	2011-07-04T17:00:27-07:00	Ben Darnell	ben@bendarnell.com	Add the HTTPServer.add_sockets interface

1b27d3f2
28	15	tornado/httpserver.py
1	1	tornado/test/httpclient_test.py

--6a7ff97a	2011-07-04T16:32:14-07:00	Ben Darnell	ben@bendarnell.com	Pull process forking out of HTTPServer into a new module

6a7ff97a
3	48	tornado/httpserver.py
86	0	tornado/process.py
1	0	tornado/test/import_test.py
5	0	website/sphinx/process.rst
1	0	website/sphinx/utilities.rst

--767d83d5	2011-07-04T15:58:17-07:00	Ben Darnell	ben@bendarnell.com	Pull socket creation out of HTTPServer into a new module.

767d83d5
4	31	tornado/httpserver.py
80	0	tornado/netutil.py
1	0	tornado/test/import_test.py
5	0	website/sphinx/netutil.rst
1	0	website/sphinx/networking.rst

--e5136bd3	2011-07-04T13:20:19-07:00	Ben Darnell	ben@bendarnell.com	Add a better error message for a common assertion

e5136bd3
9	2	tornado/web.py

--5de86843	2011-07-04T12:16:50-07:00	Ben Darnell	ben@bendarnell.com	Revamp error handling: replace get_error_html with write_error.

5de86843
86	1	tornado/test/web_test.py
48	19	tornado/web.py
36	2	website/sphinx/overview.rst
3	0	website/sphinx/releases/next.rst
1	1	website/sphinx/web.rst

--9481ce17	2011-07-04T10:17:32-07:00	Ben Darnell	ben@bendarnell.com	Add RequestHandler.set_default_headers, which may be overridden to set
headers that will not be reset during error handling.

9481ce17
11	0	tornado/web.py
2	0	website/sphinx/overview.rst
2	0	website/sphinx/releases/next.rst
1	0	website/sphinx/web.rst

--9c17711e	2011-07-03T11:06:27-07:00	Ben Darnell	ben@bendarnell.com	Create the StackContext in @asynchronous instead of on all requests,
to improve performance in the synchronous case.

9c17711e
3	0	tornado/stack_context.py
5	2	tornado/web.py

--1e4f3236	2011-07-03T10:53:03-07:00	Ben Darnell	ben@bendarnell.com	Better handling of errors not generated by an exception; add to release notes

1e4f3236
1	1	tornado/web.py
3	0	website/sphinx/releases/next.rst

--fab11e5c	2011-07-02T19:32:51-07:00	Ben Darnell	ben@bendarnell.com	Update next release notes for recent changes

fab11e5c
11	0	website/sphinx/releases/next.rst

--0f621fe4	2011-07-02T18:34:23-07:00	Ben Darnell	ben@bendarnell.com	Add support for client SSL certificates in simple_httpclient

0f621fe4
4	0	tornado/curl_httpclient.py
6	1	tornado/httpclient.py
4	0	tornado/simple_httpclient.py

--57178528	2011-07-02T18:21:53-07:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'eklitzke/tracebacks' into merge

57178528
--ebc2cc41	2011-07-02T17:29:08-07:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'davidwilemski/master' into merge

ebc2cc41
--3f41d054	2011-07-02T18:22:51-04:00	David Wilemski	david@davidwilemski.com	Used tornado.util.import_object

3f41d054
3	8	tornado/web.py

--92fa99f9	2011-07-02T14:36:37-07:00	Ben Darnell	ben@bendarnell.com	Allow the caller to specify the listen() backlog in HTTPServer.bind.

92fa99f9
5	2	tornado/httpserver.py

--69e35c76	2011-07-02T14:20:30-07:00	Ben Darnell	ben@bendarnell.com	Merge branch 'master' into merge

69e35c76
--39935ac5	2011-07-02T13:08:03-07:00	Ben Darnell	ben@bendarnell.com	Properly check for errors on async connect instead of relying on the order
of events from the IOLoop.

39935ac5
10	0	tornado/iostream.py

--6130ea63	2011-07-02T13:07:46-07:00	Ben Darnell	ben@bendarnell.com	Skip ipv6 tests if the system isn't configured for it.

6130ea63
6	0	tornado/test/httpclient_test.py

--463e3fbc	2011-07-02T12:37:07-07:00	Ben Darnell	ben@bendarnell.com	Fix websocket handshake status line

463e3fbc

--bc42fc14	2011-07-02T03:06:25-04:00	David Wilemski	david@davidwilemski.com	Added dynamic loading of request handlers

This commit implements gh-124.

Users can specify "module.ClassName" rather than load a module that
contains a request handler and then refering to the request handler
class.

bc42fc14
11	0	tornado/web.py

--7fd7f1a5	2011-06-29T19:41:02-07:00	Ben Darnell	ben@bendarnell.com	Check for the existence of callbacks after running all timeouts

7fd7f1a5
5	3	tornado/ioloop.py

--6ac8a059	2011-06-29T17:50:13-07:00	Evan Klitzke	evan@eklitzke.org	improve the speed of add_callback by avoiding the waker pipe when possible

6ac8a059
4	1	tornado/ioloop.py

--3b6c8047	2011-06-27T23:44:11-07:00	Ben Darnell	ben@bendarnell.com	Correct documentation for HTTPRequest.arguments

3b6c8047
7	2	tornado/httpserver.py

--ae12bccf	2011-06-27T23:40:01-07:00	Ben Darnell	ben@bendarnell.com	Document the auth module's lack of python3 support

ae12bccf
3	0	tornado/auth.py
1	1	website/templates/index.html

--495b39ce	2011-06-27T23:36:20-07:00	Ben Darnell	ben@bendarnell.com	Improve auth module on python 3 (covers openid and oauth2, but not oauth1.x)

495b39ce
9	8	tornado/auth.py

--82382be0	2011-06-27T23:04:52-07:00	Ben Darnell	ben@bendarnell.com	Add more docs around autoescape changes

82382be0
8	0	website/sphinx/overview.rst
2	0	website/sphinx/releases/v2.0.0.rst

--17eed4fe	2011-06-26T18:51:12-07:00	Ben Darnell	ben@bendarnell.com	Replace all bare "except:" blocks with "except Exception:" so we don't
accidentally catch KeyboardInterrupt.

17eed4fe
1	1	tornado/auth.py
2	2	tornado/autoreload.py
1	3	tornado/curl_httpclient.py
1	1	tornado/database.py
2	2	tornado/escape.py
1	1	tornado/httpserver.py
4	10	tornado/ioloop.py
2	2	tornado/iostream.py
3	3	tornado/options.py
1	1	tornado/stack_context.py
2	2	tornado/template.py
2	2	tornado/testing.py
4	4	tornado/web.py

--b0750cb8	2011-06-26T18:43:17-07:00	Ben Darnell	ben@bendarnell.com	Reduce logging verbosity in curl_httpclient to match simple_httpclient.

b0750cb8
2	2	tornado/curl_httpclient.py

--5d36a5d9	2011-06-26T18:32:41-07:00	Ben Darnell	ben@bendarnell.com	Remove support for cookies set by pre-1.0 releases of Tornado.

5d36a5d9
2	14	tornado/web.py
7	0	website/sphinx/releases/next.rst

--84c5ddbb	2011-06-26T18:30:19-07:00	Ben Darnell	ben@bendarnell.com	Add max_age_days parameter to RequestHandler.get_secure_cookie.

Closes #27.
Closes #189.

84c5ddbb
9	4	tornado/web.py
2	0	website/sphinx/releases/next.rst

--c4bba5a9	2011-06-26T17:00:02-07:00	Ben Darnell	ben@bendarnell.com	Remove debugging print statement, log on clean exits too.

c4bba5a9
3	1	tornado/autoreload.py

--815a1f06	2011-06-26T15:24:23-07:00	Ben Darnell	ben@bendarnell.com	Add command-line interface to tornado.autoreload

815a1f06
86	2	tornado/autoreload.py
11	14	tornado/testing.py
5	0	website/sphinx/releases/next.rst

--9d1af053	2011-06-26T14:21:02-07:00	Ben Darnell	ben@bendarnell.com	Clean up shutdown process for IOLoop and HTTPClient.

This fixes an exception on exit from tornado.httpclient.main().

9d1af053
10	1	tornado/httpclient.py
31	0	tornado/ioloop.py
1	13	tornado/testing.py
3	0	website/sphinx/releases/next.rst

--5fb6e395	2011-06-26T14:03:51-07:00	Ben Darnell	ben@bendarnell.com	Consolidate httpclient main() functions

5fb6e395
1	0	tornado/curl_httpclient.py
2	20	tornado/simple_httpclient.py

--b881ec49	2011-06-26T12:27:54-07:00	Ben Darnell	ben@bendarnell.com	Add read_until_close method to IOStream and use it in SimpleAsyncHTTPClient.

b881ec49
20	0	tornado/iostream.py
1	2	tornado/simple_httpclient.py
11	0	tornado/test/iostream_test.py
7	1	website/sphinx/releases/next.rst

--7829333a	2011-06-26T11:56:18-07:00	Ben Darnell	ben@bendarnell.com	Move read_bytes(0) special-case into _consume so it uses more of the regular code path.

7829333a
4	5	tornado/iostream.py

--a1cb42e8	2011-06-26T11:24:29-07:00	Ben Darnell	ben@bendarnell.com	Fail more gracefully when SSL is not supported, and on non-HTTP urls

a1cb42e8
6	0	tornado/simple_httpclient.py

--56b0e366	2011-06-25T19:35:04-07:00	Ben Darnell	ben@bendarnell.com	Remove unused imports and variables.

Closes #278.

56b0e366
0	1	tornado/httpclient.py
1	1	tornado/websocket.py
0	1	website/website.py

--612821ff	2011-06-25T19:04:27-07:00	Ben Darnell	ben@bendarnell.com	Make websocket work in python3.

Closes #288.

612821ff
6	5	tornado/websocket.py
2	0	website/sphinx/releases/next.rst

--81dea5fb	2011-06-25T19:02:55-07:00	Ben Darnell	ben@bendarnell.com	Accept utf8-encoded byte strings in json_encode

81dea5fb
1	1	tornado/escape.py
8	1	tornado/test/escape_test.py

--b641cff9	2011-06-25T18:54:37-07:00	Ben Darnell	ben@bendarnell.com	Allow non-ascii (but still latin1) in our fake byte literals

b641cff9
1	1	tornado/test/httpserver_test.py
2	2	tornado/util.py

--84acb204	2011-06-25T18:36:48-07:00	Ben Darnell	ben@bendarnell.com	Fixed error in HTTPServer when AI_ADDRCONFIG is not available (as on WinXP)

Closes #287

84acb204
8	1	tornado/httpserver.py
1	0	website/sphinx/releases.rst
11	0	website/sphinx/releases/next.rst

--5fde3f5f	2011-06-25T18:25:37-07:00	Ben Darnell	ben@bendarnell.com	Bump version number for the master branch

5fde3f5f
1	1	setup.py
1	1	tornado/__init__.py

--cfb8b809	2011-06-23T11:14:16-07:00	Evan Klitzke	evan@eklitzke.org	add text tracebacks on 500s when in debug mode

cfb8b809
6	0	tornado/web.py

--3486b46f	2011-06-21T23:04:39-07:00	Ben Darnell	ben@bendarnell.com	Add more prominent warning about incompatible changes in 2.0

3486b46f
8	0	website/templates/index.html

--81e7a684	2011-06-21T23:00:15-07:00	Ben Darnell	ben@bendarnell.com	Add more setup.py debris to .gitignore

81e7a684
1	0	.gitignore

--94078a68	2011-06-21T22:28:35-07:00	Ben Darnell	ben@bendarnell.com	Set version number to 2.0

94078a68
1	1	setup.py
1	1	tornado/__init__.py

--a3391633	2011-06-21T22:28:20-07:00	Ben Darnell	ben@bendarnell.com	Add 2.0 release notes

a3391633
1	0	website/sphinx/releases.rst
52	0	website/sphinx/releases/v2.0.0.rst

--3e2ed8c0	2011-06-21T20:43:14-07:00	Ben Darnell	ben@bendarnell.com	Add test for unicode domain and path arguments to set_cookie

3e2ed8c0
15	1	tornado/test/web_test.py

--2f2659b4	2011-06-19T15:40:16-07:00	Ben Darnell	ben@bendarnell.com	Update homepage

2f2659b4
1	1	website/sphinx/index.rst
32	22	website/templates/index.html
1	1	website/website.py

--4c643dc3	2011-06-19T14:25:19-07:00	Ben Darnell	ben@bendarnell.com	Misc updates

4c643dc3
1	1	website/sphinx/index.rst
23	68	website/sphinx/overview.rst

--c1b832a9	2011-06-19T13:29:31-07:00	Ben Darnell	ben@bendarnell.com	Remove old markdown version of overview page

c1b832a9
2	2	website/app.yaml
0	603	website/markdown/__init__.py
0	95	website/markdown/blockparser.py
0	460	website/markdown/blockprocessors.py
0	96	website/markdown/commandline.py
0	33	website/markdown/etree_loader.py
0	0	website/markdown/extensions/__init__.py
0	140	website/markdown/extensions/toc.py
0	274	website/markdown/html4.py
0	371	website/markdown/inlinepatterns.py
0	162	website/markdown/odict.py
0	77	website/markdown/postprocessors.py
0	214	website/markdown/preprocessors.py
0	329	website/markdown/treeprocessors.py
0	9	website/templates/overview.html
0	1042	website/templates/overview.txt
3	20	website/website.py

--5ec2ab02	2011-06-19T13:01:22-07:00	Ben Darnell	ben@bendarnell.com	Remove some redundant sections; flatten document structure

5ec2ab02
0	5	website/sphinx/index.rst
4	136	website/sphinx/overview.rst
2	0	website/static/sphinx.css

--3907686f	2011-06-19T12:37:10-07:00	Ben Darnell	ben@bendarnell.com	Fix formatting that didn't convert correctly

3907686f
1	0	website/sphinx/index.rst
31	44	website/sphinx/overview.rst

--ad58facb	2011-06-19T12:10:26-07:00	Ben Darnell	ben@bendarnell.com	Convert overview from markdown to rst with pandoc

ad58facb
1261	0	website/sphinx/overview.rst

--994555f3	2011-06-19T12:05:28-07:00	Ben Darnell	ben@bendarnell.com	Style updates

994555f3
25	0	website/static/sphinx.css

--55d3be10	2011-06-19T11:23:53-07:00	Ben Darnell	ben@bendarnell.com	Run coverage check and fill in the blanks

55d3be10
7	0	tornado/httpserver.py
5	0	tornado/ioloop.py
1	0	tornado/iostream.py
11	6	tornado/locale.py
1	0	tornado/options.py
4	0	tornado/template.py
3	0	tornado/web.py
2	0	tornado/wsgi.py
6	0	website/sphinx/conf.py
3	0	website/sphinx/httpserver.rst
2	0	website/sphinx/ioloop.rst
5	0	website/sphinx/testing.rst
1	0	website/sphinx/web.rst

--300d2311	2011-06-19T10:45:35-07:00	Ben Darnell	ben@bendarnell.com	Finish this round of doc updates

300d2311
11	7	tornado/auth.py
7	1	tornado/autoreload.py
4	1	tornado/options.py
2	2	tornado/stack_context.py
3	3	tornado/testing.py
12	13	tornado/websocket.py
45	35	tornado/wsgi.py
38	0	website/sphinx/auth.rst
19	0	website/sphinx/testing.rst
14	0	website/sphinx/wsgi.rst

--6d5ebabd	2011-06-17T00:16:40-07:00	Ben Darnell	ben@bendarnell.com	IOLoop and HTTPClient docs

6d5ebabd
95	22	tornado/httpclient.py
16	5	tornado/ioloop.py
1	1	tornado/iostream.py
35	0	website/sphinx/httpclient.rst
36	1	website/sphinx/ioloop.rst
4	0	website/static/sphinx.css

--cdc76f2f	2011-06-16T22:36:33-07:00	Ben Darnell	ben@bendarnell.com	More doc updates

cdc76f2f
7	3	tornado/escape.py
61	1	tornado/httpserver.py
5	0	tornado/template.py
7	0	tornado/web.py
2	1	website/Makefile
4	1	website/sphinx/conf.py
35	1	website/sphinx/escape.rst
9	0	website/sphinx/httpserver.rst
9	0	website/sphinx/web.rst

--db579dad	2011-06-15T19:34:49-07:00	Ben Darnell	ben@bendarnell.com	New method to_basestring replaces some use of native_str.

native_str would force the argument to (utf8) bytes, while in python2
it is often more appropriate to preserve the type of the input data.

Closes #280

db579dad
17	3	tornado/escape.py
16	1	tornado/test/escape_test.py

--3d64c890	2011-06-14T14:38:42-07:00	Ben Darnell	ben@bendarnell.com	Unquote PATH_INFO in wsgi.

Closes #281
Closes #282

3d64c890
11	1	tornado/test/wsgi_test.py
1	1	tornado/wsgi.py

--31e7b78d	2011-06-11T21:57:53-07:00	Ben Darnell	ben@bendarnell.com	Update overview for new 2.0 features

31e7b78d
1	1	website/templates/overview.html
47	2	website/templates/overview.txt

--4e892013	2011-06-11T21:32:45-07:00	Ben Darnell	ben@bendarnell.com	Add past release notes to sphinx docs

4e892013
1	0	website/sphinx/index.rst
12	0	website/sphinx/releases.rst
61	0	website/sphinx/releases/v1.0.0.rst
11	0	website/sphinx/releases/v1.0.1.rst
53	0	website/sphinx/releases/v1.1.0.rst
22	0	website/sphinx/releases/v1.1.1.rst
107	0	website/sphinx/releases/v1.2.0.rst
20	0	website/sphinx/releases/v1.2.1.rst

--2f52f686	2011-06-11T19:14:41-07:00	Ben Darnell	ben@bendarnell.com	Bump version number to 2.0rc1.

2f52f686
1	1	setup.py
2	2	tornado/__init__.py

--26feb663	2011-06-11T17:22:09-07:00	Ben Darnell	ben@bendarnell.com	BACKWARDS-INCOMPATIBLE: turn on template autoescaping by default.

Disable autoescaping in demos that don't already use it.

26feb663
1	0	demos/appengine/blog.py
1	0	demos/blog/blog.py
1	0	demos/facebook/facebook.py
1	0	demos/websocket/chatdemo.py
1	1	tornado/template.py

--342c6566	2011-06-11T15:15:39-07:00	Ben Darnell	ben@bendarnell.com	Merge branch 'docs'

342c6566
--678d2eb2	2011-06-11T15:09:05-07:00	Ben Darnell	ben@bendarnell.com	Serve sphinx docs from app engine

678d2eb2
7	1	website/app.yaml
0	9	website/templates/documentation.html
9	0	website/templates/overview.html
0	0	website/templates/{documentation.txt => overview.txt}
10	4	website/website.py

--824c07f6	2011-06-11T14:53:28-07:00	Ben Darnell	ben@bendarnell.com	Include __init__ methods in autodoc too

824c07f6
1	0	website/sphinx/conf.py

--8fd9413f	2011-06-11T14:48:46-07:00	Ben Darnell	ben@bendarnell.com	Add titles to table of contents

8fd9413f
2	2	website/sphinx/auth.rst
2	2	website/sphinx/autoreload.rst
2	2	website/sphinx/database.rst
2	2	website/sphinx/escape.rst
2	2	website/sphinx/httpclient.rst
2	2	website/sphinx/httpserver.rst
2	2	website/sphinx/httputil.rst
4	1	website/sphinx/index.rst
2	2	website/sphinx/ioloop.rst
2	2	website/sphinx/iostream.rst
2	2	website/sphinx/locale.rst
2	2	website/sphinx/options.rst
2	2	website/sphinx/stack_context.rst
2	2	website/sphinx/template.rst
2	2	website/sphinx/testing.rst
2	2	website/sphinx/web.rst
1	0	website/sphinx/webframework.rst
2	2	website/sphinx/websocket.rst
2	2	website/sphinx/wsgi.rst

--0747607c	2011-06-11T14:35:54-07:00	Ben Darnell	ben@bendarnell.com	Use real section headers

0747607c
62	57	website/sphinx/web.rst

--79a9052b	2011-06-11T14:32:54-07:00	Ben Darnell	ben@bendarnell.com	One more autodoc cleanup

79a9052b
3	1	tornado/iostream.py

--38927944	2011-06-11T14:30:51-07:00	Ben Darnell	ben@bendarnell.com	Style sphinx docs to match the rest of the site

38927944
25	0	website/sphinx/conf.py
28	0	website/static/sphinx.css

--96c2f2f2	2011-06-11T13:31:29-07:00	Ben Darnell	ben@bendarnell.com	Finish automatic documentation

96c2f2f2
11	10	tornado/auth.py
1	1	tornado/database.py
4	4	tornado/options.py
7	3	tornado/stack_context.py
9	4	tornado/testing.py
2	2	tornado/websocket.py
3	3	tornado/wsgi.py
1	0	website/sphinx/auth.rst
1	0	website/sphinx/autoreload.rst
1	0	website/sphinx/database.rst
1	0	website/sphinx/httputil.rst
1	0	website/sphinx/options.rst
1	0	website/sphinx/stack_context.rst
1	0	website/sphinx/testing.rst
1	0	website/sphinx/websocket.rst
1	0	website/sphinx/wsgi.rst

--0af13b0f	2011-06-11T12:45:33-07:00	Ben Darnell	ben@bendarnell.com	Document debug mode and autoreload

0af13b0f
18	0	website/templates/documentation.txt

--482ccefa	2011-06-11T12:33:34-07:00	Ben Darnell	ben@bendarnell.com	Give template-generated code a fake "filename" to avoid confusing code-coverage tools

482ccefa
2	1	tornado/template.py

--696d9785	2011-06-11T12:19:13-07:00	Ben Darnell	ben@bendarnell.com	Demote s3server.py to a demo

696d9785
0	0	{tornado => demos/s3server}/s3server.py
0	1	tornado/test/import_test.py
0	3	website/templates/documentation.txt

--ca148606	2011-06-11T11:51:19-07:00	Ben Darnell	ben@bendarnell.com	Replace tornado.web._unicode with tornado.escape._unicode.

Add a test case where this matters (when the argument is None)

ca148606
16	0	tornado/test/web_test.py
1	11	tornado/web.py

--f6b36515	2011-06-10T00:13:20-07:00	Ben Darnell	ben@bendarnell.com	More autodoc fixes

f6b36515
2	2	tornado/httpclient.py
6	5	tornado/httpserver.py
4	3	tornado/ioloop.py
2	2	tornado/iostream.py
2	2	tornado/locale.py
5	5	tornado/template.py
1	0	website/sphinx/escape.rst
1	0	website/sphinx/httpclient.rst
1	0	website/sphinx/httpserver.rst
1	0	website/sphinx/ioloop.rst
1	0	website/sphinx/iostream.rst
1	0	website/sphinx/locale.rst
1	0	website/sphinx/template.rst

--050797cc	2011-06-09T11:03:49-07:00	Ben Darnell	ben@bendarnell.com	Use coverage checker instead of automatic member extraction

050797cc
6	1	website/Makefile
16	4	website/sphinx/conf.py
264	0	website/sphinx/sphinx_coverage.py
27	2	website/sphinx/web.rst

--53f5f3ca	2011-06-09T01:15:56-07:00	Ben Darnell	ben@bendarnell.com	Fix up docs for web.py

53f5f3ca
15	14	tornado/web.py
72	0	website/sphinx/web.rst

--4fec6aeb	2011-06-08T23:58:58-07:00	Ben Darnell	ben@bendarnell.com	Skeletal autogenerated reference documentation

4fec6aeb
6	0	website/Makefile
4	0	website/sphinx/auth.rst
4	0	website/sphinx/autoreload.rst
20	0	website/sphinx/conf.py
4	0	website/sphinx/database.rst
4	0	website/sphinx/escape.rst
4	0	website/sphinx/httpclient.rst
4	0	website/sphinx/httpserver.rst
4	0	website/sphinx/httputil.rst
21	0	website/sphinx/index.rst
9	0	website/sphinx/integration.rst
4	0	website/sphinx/ioloop.rst
4	0	website/sphinx/iostream.rst
4	0	website/sphinx/locale.rst
8	0	website/sphinx/networking.rst
4	0	website/sphinx/options.rst
4	0	website/sphinx/stack_context.rst
4	0	website/sphinx/template.rst
4	0	website/sphinx/testing.rst
11	0	website/sphinx/utilities.rst
4	0	website/sphinx/web.rst
10	0	website/sphinx/webframework.rst
4	0	website/sphinx/websocket.rst
4	0	website/sphinx/wsgi.rst

--b92e70d0	2011-06-08T23:58:30-07:00	Ben Darnell	ben@bendarnell.com	Fix a non-ascii docstring

b92e70d0
3	3	tornado/locale.py

--02ce53b1	2011-06-07T23:27:05-07:00	Ben Darnell	ben@bendarnell.com	Add the ability to escape template commands with {{! and {%!

02ce53b1
9	0	tornado/template.py
10	1	tornado/test/template_test.py

--4264418a	2011-06-07T21:57:22-07:00	Ben Darnell	ben@bendarnell.com	Merge remote-tracking branch 'inferno-/master'

4264418a
--a04baf5f	2011-06-07T12:22:23+02:00	Rickard B	rickardb@mashmobile.com	Replace IOStream._read_buffer_size() with a simple counter to speed up performance when buffer contains many chunks.

a04baf5f
5	5	tornado/iostream.py

--bc0ac367	2011-06-05T16:20:37-07:00	Ben Darnell	ben@bendarnell.com	Remove dead code

bc0ac367
0	22	demos/facebook/uimodules.py

--cdc1dbf5	2011-06-05T16:11:05-07:00	Ben Darnell	ben@bendarnell.com	Remove unused imports, add a few missing ones

cdc1dbf5
0	3	demos/facebook/facebook.py
0	1	tornado/auth.py
0	6	tornado/curl_httpclient.py
2	0	tornado/httpclient.py
1	0	tornado/httputil.py
0	1	tornado/ioloop.py
0	1	tornado/iostream.py
0	1	tornado/simple_httpclient.py
0	1	tornado/stack_context.py
0	1	tornado/test/httpclient_test.py
0	6	tornado/test/httpserver_test.py
0	1	tornado/test/ioloop_test.py
0	1	tornado/test/web_test.py
0	1	tornado/test/wsgi_test.py
0	2	tornado/testing.py
0	1	tornado/web.py
0	1	tornado/websocket.py

--5664bf07	2011-06-05T15:41:25-07:00	Ben Darnell	ben@bendarnell.com	Add a Template UIModule, allowing templates to be called with keyword
arguments instead of inheriting the caller's namespace with {% include %}.

5664bf07
1	1	demos/chat/templates/index.html
40	1	tornado/test/web_test.py
88	17	tornado/web.py

--ce3e1ded	2011-06-05T13:47:02-07:00	Ben Darnell	ben@bendarnell.com	Introduce {% module %} syntax for calling UIModules.

Add linkify and xsrf_form_html as default modules.

ce3e1ded
1	1	demos/chat/templates/index.html
1	1	demos/chat/templates/message.html
7	1	tornado/template.py
19	2	tornado/test/web_test.py
10	1	tornado/web.py

--4686042f	2011-06-05T13:10:07-07:00	Ben Darnell	ben@bendarnell.com	Refactor redundant code out of httpserver.py and wsgi.py to httputil.py

4686042f
4	43	tornado/httpserver.py
50	0	tornado/httputil.py
3	38	tornado/wsgi.py

--41b4af9c	2011-06-05T12:58:26-07:00	Ben Darnell	ben@bendarnell.com	Test multipart/form-data parsing in wsgi and fix it for python3

41b4af9c
13	0	tornado/test/wsgi_test.py
11	11	tornado/wsgi.py

--6268052c	2011-06-05T12:13:08-07:00	Ben Darnell	ben@bendarnell.com	Only listen on localhost so unittests don't cause firewall warnings

6268052c
3	2	tornado/httpserver.py
2	1	tornado/test/httpclient_test.py
1	1	tornado/testing.py

--0f378465	2011-06-04T14:35:25-07:00	Ben Darnell	ben@bendarnell.com	Documentation fix

0f378465
1	1	website/templates/documentation.txt

--b26cda15	2011-06-01T00:22:55-07:00	Ben Darnell	ben@bendarnell.com	Test use of a custom escaping function

b26cda15
18	2	tornado/test/template_test.py

--6a85be45	2011-05-30T19:03:54-07:00	Ben Darnell	ben@bendarnell.com	Add autoescape application setting and convert chatdemo to use it.

6a85be45
1	0	demos/chat/chatdemo.py
2	2	demos/chat/templates/index.html
1	2	demos/chat/templates/message.html
13	2	tornado/web.py

--ebe191e1	2011-05-30T18:51:31-07:00	Ben Darnell	ben@bendarnell.com	Add raw expressions to templates with {% raw [expr] %}

ebe191e1
6	3	tornado/template.py
12	0	tornado/test/template_test.py

--708cd9e3	2011-05-30T14:58:00-07:00	Ben Darnell	ben@bendarnell.com	First pass at template autoescaping

708cd9e3
52	14	tornado/template.py
89	0	tornado/test/template_test.py

--3acda21a	2011-05-30T14:07:10-07:00	Ben Darnell	ben@bendarnell.com	Make template.Loader and DictLoader share a common base class

3acda21a
21	19	tornado/template.py
9	0	tornado/test/template_test.py

--25494d18	2011-05-30T12:11:42-07:00	Ben Darnell	ben@bendarnell.com	Fix template rendering for non-string expressions.

Template.generate() now always returns byte strings.

25494d18
9	7	tornado/template.py
14	3	tornado/test/template_test.py

--619bbf7c	2011-05-30T01:09:11-07:00	Ben Darnell	ben@bendarnell.com	Extract etag computation so it can be customized or disabled.

619bbf7c
13	4	tornado/web.py

--2f8dd6e4	2011-05-29T23:32:22-07:00	Ben Darnell	ben@bendarnell.com	Allow the application to determine the encoding used for url parameters (previously hard-coded to utf8).

HTTPRequest.arguments now maps from native strings to bytes.  That's slightly
inconsistent, but having byte strings as dictionary keys is awkward.

2f8dd6e4
43	1	tornado/escape.py
3	8	tornado/httpserver.py
3	3	tornado/test/httpserver_test.py
54	8	tornado/test/web_test.py
30	7	tornado/web.py

--a8603159	2011-05-29T21:57:35-07:00	Ben Darnell	ben@bendarnell.com	Add an encoding argument to tornado.escape.url_unescape.

a8603159
28	3	tornado/escape.py
26	1	tornado/test/escape_test.py

--d5a94e42	2011-05-29T19:33:42-07:00	Ben Darnell	ben@bendarnell.com	Add type checks for web.py methods.

Undo some unnecessary unicodification from the python3 changes.

d5a94e42
2	2	tornado/escape.py
53	2	tornado/test/web_test.py

--79073dbe	2011-05-29T18:39:23-07:00	Ben Darnell	ben@bendarnell.com	Type checks for httpserver.HTTPRequest fields

79073dbe
1	2	tornado/httpserver.py
49	2	tornado/test/httpserver_test.py

--e5265194	2011-05-29T18:12:16-07:00	Ben Darnell	ben@bendarnell.com	Check types of HTTPClient response objects and make them consistent

e5265194
3	3	tornado/httpclient.py
3	3	tornado/simple_httpclient.py
11	4	tornado/test/httpclient_test.py

--014b76d7	2011-05-29T18:02:13-07:00	Ben Darnell	ben@bendarnell.com	Move most simple_httpclient tests to httpclient_test.py where they can
be run against both AsyncHTTPClient implementations.

014b76d7
20	0	tornado/test/curl_httpclient_test.py
11	66	tornado/test/{simple_httpclient_test.py => httpclient_test.py}
2	0	tornado/test/runtests.py
12	201	tornado/test/simple_httpclient_test.py

--f09a4a92	2011-05-29T17:27:48-07:00	Ben Darnell	ben@bendarnell.com	Add AI_ADDRCONFIG to getaddrinfo call, which may fix ipv6-related issues report on the mailing list

f09a4a92
1	1	tornado/httpserver.py

--bced671d	2011-05-29T16:07:20-07:00	Ben Darnell	ben@bendarnell.com	Test template include/extend operations

bced671d
16	0	tornado/template.py
24	1	tornado/test/template_test.py

--6f7e8850	2011-05-29T15:54:53-07:00	Ben Darnell	ben@bendarnell.com	Test WSGIApplication and make it work on python3

6f7e8850
18	0	tornado/test/wsgi_test.py
3	1	tornado/wsgi.py

--cab718ae	2011-05-29T15:45:41-07:00	Ben Darnell	ben@bendarnell.com	Make WSGIContainer work on python 3

cab718ae
1	1	tornado/httpserver.py
1	0	tornado/test/runtests.py
19	0	tornado/test/wsgi_test.py
13	8	tornado/wsgi.py

--6439fd32	2011-05-29T15:21:07-07:00	Ben Darnell	ben@bendarnell.com	Add a simple template test and make it pass in python 3

6439fd32
1	1	tornado/template.py
1	0	tornado/test/runtests.py
8	0	tornado/test/template_test.py

--63a161f5	2011-05-29T15:04:24-07:00	Ben Darnell	ben@bendarnell.com	Add script to run test suite with multiple python versions at once

63a161f5
36	0	tornado/test/run_pyversion_tests.py

--05fd0fcb	2011-05-29T14:02:27-07:00	Ben Darnell	ben@bendarnell.com	Make tornado.testing.main with no arguments work in python 3.2

05fd0fcb
8	3	tornado/testing.py

--155c20fe	2011-05-28T18:24:07-07:00	Ben Darnell	ben@bendarnell.com	Don't add an extra delimter when no arguments are given

155c20fe
1	0	tornado/httputil.py
7	0	tornado/test/httputil_test.py

--27bf4d85	2011-05-28T15:03:35-07:00	Ben Darnell	ben@bendarnell.com	Remove execute permission from files not intended to be entry points

27bf4d85
0	0	tornado/httputil.py
0	0	tornado/test/ioloop_test.py
0	0	tornado/test/stack_context_test.py
-	-	website/static/facebook.png
-	-	website/static/friendfeed.png
-	-	website/static/twitter.png

--1d4d241a	2011-05-28T14:59:49-07:00	Ben Darnell	ben@bendarnell.com	Add a test that imports all tornado modules to at least ensure there are no
syntax errors in otherwise-untested modules like auth and websocket.

1d4d241a
29	0	tornado/test/import_test.py
1	0	tornado/test/runtests.py

--68a268f7	2011-05-28T14:51:05-07:00	Ben Darnell	ben@bendarnell.com	Make OAuth2Mixin work even when OAUTH_AUTHORIZE_URL doesn't end with "?"

Based on https://github.com/facebook/tornado/pull/269

68a268f7
4	3	tornado/auth.py
13	0	tornado/httputil.py
49	0	tornado/test/httputil_test.py
1	0	tornado/test/runtests.py

--e36c9b46	2011-05-28T14:23:36-07:00	Ben Darnell	ben@bendarnell.com	Convert path components to unicode for consistency with get_argument().

e36c9b46
17	1	tornado/test/web_test.py
1	1	tornado/web.py

--298a438d	2011-05-28T13:40:38-07:00	Ben Darnell	ben@bendarnell.com	Fix HTTPServer on windows, where IPPROTO_IPV6 options are not available

298a438d
3	0	tornado/httpserver.py

--50c2e49b	2011-05-24T22:29:53-07:00	Ben Darnell	ben@bendarnell.com	Fix decoding of non-ascii characters in query strings

50c2e49b
2	2	tornado/httpserver.py
12	0	tornado/test/httpserver_test.py

--ca2be3e9	2011-05-23T23:23:39-07:00	Ben Darnell	ben@bendarnell.com	Inner headers for multipart/form-data default to utf-8

ca2be3e9
1	1	tornado/httpserver.py
1	1	tornado/test/httpserver_test.py

--a4d4c237	2011-05-23T22:08:22-07:00	Ben Darnell	ben@bendarnell.com	Fix and test encoding handling for multipart/form-data.  Now works
with non-ascii data in all parts of the request in both python2 and python3.

a4d4c237
10	9	tornado/httpserver.py
65	0	tornado/test/httpserver_test.py

--381f01f1	2011-05-20T20:10:06-07:00	Ben Darnell	ben@bendarnell.com	Make xhtml_escape work in python3; add test.

381f01f1
1	1	tornado/escape.py
15	0	tornado/test/escape_test.py

--f5fd90fe	2011-05-18T23:35:35-07:00	Ben Darnell	ben@bendarnell.com	Use the standard mime type application/json when producing json output

f5fd90fe
4	2	tornado/web.py

--c3ec7ffd	2011-05-18T23:26:23-07:00	bdarnell	ben@bendarnell.com	Merge pull request #260 from alanhogan/documentation-improvement

Document redirections and StaticFileHandler
c3ec7ffd
--4f911478	2011-05-18T19:51:31-07:00	Alan Hogan	contact@alanhogan.com	Typo, restore missing path setting, and mention the capturing group

4f911478
5	2	website/templates/documentation.txt

--cad4a308	2011-05-17T23:14:02-07:00	Ben Darnell	ben@bendarnell.com	Add simple test application for websockets

cad4a308
101	0	demos/websocket/chatdemo.py
56	0	demos/websocket/static/chat.css
67	0	demos/websocket/static/chat.js
33	0	demos/websocket/templates/index.html
2	0	demos/websocket/templates/message.html

--c5b5a6ad	2011-05-17T23:13:36-07:00	Ben Darnell	ben@bendarnell.com	Fix websocket after string type changes introduced by python3 merge

c5b5a6ad
5	4	tornado/websocket.py

--d9648660	2011-05-15T20:10:42-07:00	Ben Darnell	ben@bendarnell.com	Run SSL tests even when pycurl is not present.

d9648660
13	15	tornado/test/httpserver_test.py

--0ec8dcec	2011-05-15T20:01:58-07:00	Ben Darnell	ben@bendarnell.com	Client-side ipv6 support (disabled by default)

0ec8dcec
6	0	tornado/curl_httpclient.py
5	1	tornado/httpclient.py
28	7	tornado/simple_httpclient.py
12	0	tornado/test/simple_httpclient_test.py

--4ac778e0	2011-05-15T00:54:29-07:00	Ben Darnell	ben@bendarnell.com	Server-side ipv6 support.

Also support multiple bind addresses in one HTTPServer

4ac778e0
44	18	tornado/httpserver.py

--2bd2a0ff	2011-05-15T16:59:43-07:00	Ben Darnell	ben@bendarnell.com	Fix cookie handling after python3 encoding changes.  Add tests.

2bd2a0ff
28	0	tornado/test/web_test.py
6	4	tornado/web.py

--bd1c8ca6	2011-05-15T16:58:29-07:00	Ben Darnell	ben@bendarnell.com	Add tornado.escape.native_str() for dealing with python 2 vs 3 issues.

Rename _unicode() to to_unicode() so it doesn't look private, make its
implementation match utf8(), and document both functions.

bd1c8ca6
28	7	tornado/escape.py

--6894ba7c	2011-05-15T16:30:41-07:00	Ben Darnell	ben@bendarnell.com	Python3-ify this test

6894ba7c
17	6	tornado/test/simple_httpclient_test.py

--031dc679	2011-05-15T16:30:13-07:00	Ben Darnell	ben@bendarnell.com	Help 2to3 with a tricky three-argument raise statement

031dc679
5	0	tornado/testing.py

--6569f2a5	2011-05-15T16:29:19-07:00	Ben Darnell	ben@bendarnell.com	Python3 doesn't have a useful basestring type any more :(

6569f2a5
2	1	tornado/auth.py
2	2	tornado/httpclient.py
2	1	tornado/s3server.py
3	3	tornado/web.py

--1100a523	2011-05-15T12:05:13-07:00	Alan Hogan	contact@alanhogan.com	Document how to fake other root files despite serving with StaticFileHandler
1100a523
7	0	website/templates/documentation.txt

--910a0b54	2011-05-15T12:04:01-07:00	Alan Hogan	contact@alanhogan.com	Document RedirectHandler

910a0b54
26	1	website/templates/documentation.txt

--a287c203	2011-05-14T22:53:29-07:00	Ben Darnell	ben@bendarnell.com	Add keepalive support to benchmark, add other command-line args

a287c203
10	3	demos/benchmark/benchmark.py

--3205b368	2011-05-14T22:35:23-07:00	Ben Darnell	ben@bendarnell.com	Fix a StackContext leak introduced by the delayed IOStream callbacks

3205b368
6	0	tornado/iostream.py

--a723690e	2011-05-14T21:29:58-07:00	Ben Darnell	ben@bendarnell.com	Convert http request bodies to utf8 earlier so content-length is correct

a723690e
1	1	tornado/httpclient.py
1	1	tornado/simple_httpclient.py
20	0	tornado/test/simple_httpclient_test.py

--af29183d	2011-05-14T21:25:31-07:00	Ben Darnell	ben@bendarnell.com	Small speedups

af29183d
2	1	tornado/ioloop.py
1	1	tornado/iostream.py
2	4	tornado/stack_context.py
8	6	tornado/web.py

--5f953f6f	2011-05-14T21:18:11-07:00	Ben Darnell	ben@bendarnell.com	Freeze the iostream write buffer when send() returns 0.

5f953f6f
10	7	tornado/iostream.py

--6cb775c0	2011-05-14T20:52:42-07:00	Ben Darnell	ben@bendarnell.com	Fix handling of closed connections with epoll.  This fixes a problem with
simple_httpclient and servers that close the connection after sending the
response.

6cb775c0
4	1	tornado/iostream.py
9	0	tornado/test/iostream_test.py

--2f5f51b5	2011-05-14T20:21:05-07:00	Ben Darnell	ben@bendarnell.com	Tolerate servers that don't include reason text in the status line.

2f5f51b5
1	1	tornado/simple_httpclient.py

--5e916c27	2011-05-14T18:47:12-07:00	Ben Darnell	ben@bendarnell.com	Automatically run 2to3 when installing on python 3

5e916c27
7	0	setup.py

--3b3534c2	2011-05-14T18:06:34-07:00	Ben Darnell	ben@bendarnell.com	Merge branch 'python3'

3b3534c2
--7f17ee1b	2011-05-14T16:58:23-07:00	Ben Darnell	ben@bendarnell.com	Slightly faster utf8 function

7f17ee1b
4	5	tornado/escape.py

--eb1e5f08	2011-05-14T16:19:51-07:00	Ben Darnell	ben@bendarnell.com	Fix deprecation warnings in python 3

eb1e5f08
7	3	tornado/httpserver.py
1	1	tornado/test/simple_httpclient_test.py
1	1	tornado/test/stack_context_test.py
1	1	tornado/test/web_test.py

--4eb36de7	2011-05-14T16:15:39-07:00	Ben Darnell	ben@bendarnell.com	types.NoneType no longer exists in python 3

4eb36de7
2	2	tornado/stack_context.py

--70f08bf3	2011-05-14T16:04:54-07:00	Ben Darnell	ben@bendarnell.com	Merge branch 'master' into python3

70f08bf3
--699318c8	2011-05-12T10:50:00-07:00	Alan Hogan	contact@alanhogan.com	Describe redirections and the permanent argument

699318c8
17	0	website/templates/documentation.txt

--2b417a15	2011-05-05T22:51:26-07:00	bdarnell	ben@bendarnell.com	Merge pull request #258 from kmike/master

Better error handling for websockets
2b417a15
--9d9b5e26	2011-05-04T21:17:51+06:00	Mikhail Korobov	kmike84@gmail.com	Better error handling for exceptions in on_message for websockets: avoid extra IOErrors

9d9b5e26
1	0	tornado/websocket.py

--d762011c	2011-05-01T20:55:38-07:00	Ben Darnell	ben@bendarnell.com	Speed up a common case in iostream._merge_prefix

d762011c
2	0	tornado/iostream.py

--3cc7f2c5	2011-05-01T20:48:55-07:00	Ben Darnell	ben@bendarnell.com	Memoize HTTPHeaders._normalize_name

3cc7f2c5
10	2	tornado/httputil.py

--336bad31	2011-05-01T20:39:18-07:00	Ben Darnell	ben@bendarnell.com	StackContext speedups: special-case some common situations,
and stop using function attributes.

336bad31
13	8	tornado/stack_context.py

--7c3dea75	2011-05-01T14:33:28-07:00	Ben Darnell	ben@bendarnell.com	Fix for python2.5:  heapq used to use __le__ instead of __lt__

7c3dea75
8	0	tornado/ioloop.py

--338ba140	2011-05-01T14:09:11-07:00	Ben Darnell	ben@bendarnell.com	Make a recently-added test pass in python3

338ba140
1	1	tornado/test/simple_httpclient_test.py

--b7cbcf87	2011-05-01T14:06:00-07:00	Ben Darnell	ben@bendarnell.com	Merge branch 'master' into python3

Conflicts:
	tornado/simple_httpclient.py
	tornado/web.py

b7cbcf87
--b6c4d6d2	2011-05-01T13:54:46-07:00	Ben Darnell	ben@bendarnell.com	Change IOLoop._timeouts from a sorted list to a heapq.

Closes #195

b6c4d6d2
18	8	tornado/ioloop.py

--f8f3a9bf	2011-05-01T12:55:08-07:00	Ben Darnell	ben@bendarnell.com	Run all IOStream callbacks via IOLoop.add_callback.

Closes #252

f8f3a9bf
13	5	tornado/iostream.py

--fb9e40b7	2011-05-01T12:17:00-07:00	Ben Darnell	ben@bendarnell.com	Document the ability to modify XSRF protection by overriding check_xsrf_cookie.

Closes #254

fb9e40b7
8	0	website/templates/documentation.txt

--bae1b571	2011-05-01T11:59:11-07:00	Ben Darnell	ben@bendarnell.com	Support https for UIModule javascript_files and css_files.

Closes #256.

bae1b571
4	2	tornado/web.py

--f04b2dc4	2011-05-01T11:51:16-07:00	bdarnell	ben@bendarnell.com	Merge pull request #253 from mcella/patch-1.

RequestHandler.get_argument should raise an HTTP 400 Bad Request
f04b2dc4
--1c446409	2011-04-28T03:49:03-07:00	Michele Cella	michele.cella@gmail.com	RequestHandler.get_argument should raise an HTTP 400 Bad Request if the argument is missing, not a misleading HTTP 404 Not Found.
1c446409
2	2	tornado/web.py

--e805590e	2011-04-24T23:16:31-07:00	Ben Darnell	ben@bendarnell.com	Better check for missing messages in facebook demo

e805590e
1	1	demos/facebook/templates/modules/post.html

--cd94d92b	2011-04-24T23:15:08-07:00	Ben Darnell	ben@bendarnell.com	Check to see if actions field is present in facebook demo

Closes #251.

cd94d92b
2	0	demos/facebook/templates/modules/post.html

--b8faecd7	2011-04-24T23:13:13-07:00	Ben Darnell	ben@bendarnell.com	Add **kwargs to WebSocketHandler.__init__

Closes #250.

b8faecd7
3	2	tornado/websocket.py

--8a2c4172	2011-04-24T23:11:42-07:00	Ben Darnell	ben@bendarnell.com	Infer option types from the default when possible.

Closes #248.

8a2c4172
10	5	tornado/options.py

--f7d25fcb	2011-04-24T22:57:12-07:00	Ben Darnell	ben@bendarnell.com	Ignore hidden directories (e.g. .svn) in load_gettext_translations.

Closes #247.

f7d25fcb
1	0	tornado/locale.py

--a0e63597	2011-04-16T13:44:51-07:00	Ben Darnell	ben@bendarnell.com	Fix broken link

a0e63597
1	1	website/templates/base.html

--8b4a66cb	2011-04-16T13:41:40-07:00	Ben Darnell	ben@bendarnell.com	str.encode('base64') != base64.b64encode()

Add check for newlines in request headers.

Closes #246

8b4a66cb
6	2	tornado/simple_httpclient.py

--8eef796a	2011-04-16T13:26:03-07:00	Ben Darnell	ben@bendarnell.com	Convert WSGI content-length variable to an int at the right place

Closes #245

8eef796a
2	2	tornado/wsgi.py

--3ae67873	2011-04-16T13:23:39-07:00	Ben Darnell	ben@bendarnell.com	Make template constructor accept unicode strings

Closes #244

3ae67873
1	1	tornado/template.py

--2afc7bab	2011-03-30T21:08:12-07:00	Ben Darnell	ben@bendarnell.com	Move another curl hack (disabling Pragma: no-cache) to curl_httpclient.py

2afc7bab
4	0	tornado/curl_httpclient.py
0	2	tornado/httpclient.py

--ef895e29	2011-03-30T21:04:42-07:00	Ben Darnell	ben@bendarnell.com	Add appengine config for /favicon.ico

ef895e29
4	0	website/app.yaml

--2ac99d86	2011-03-30T18:36:57+01:00	Peter Bengtsson	peter@fry-it.com	adding favicon.ico for website

2ac99d86
-	-	website/static/favicon.ico
1	0	website/templates/base.html

--c5b98477	2011-03-28T17:13:06-04:00	Neil Rahilly	neilrahilly@gmail.com	Disable Expect header in curl_httpclient.py without clearing all headers.

Fixes previous fix (18f942b).

c5b98477
9	8	tornado/curl_httpclient.py

--18f942b2	2011-03-28T11:11:04-04:00	Neil Rahilly	neilrahilly@gmail.com	Fix Expect header bug in curl_httpclient.py.

setopt, when used with HTTPHEADER, takes a list, not a string.

18f942b2
1	1	tornado/curl_httpclient.py

--8eb6dd24	2011-03-27T20:30:42-07:00	Ben Darnell	ben@bendarnell.com	Add support for username/password in url for simple_httpclient.

I considered making this functionality opt-in, but decided to allow it
for consistency with curl.

Closes #230.

8eb6dd24
13	9	tornado/simple_httpclient.py
8	0	tornado/test/simple_httpclient_test.py

--5970af4e	2011-03-24T19:21:37-07:00	Ben Darnell	ben@bendarnell.com	Document the fact that CSV files should not have spaces after commas

5970af4e
3	0	tornado/locale.py

--425f069e	2011-03-14T23:06:05-07:00	Ben Darnell	ben@bendarnell.com	Move curl Expect: header hack from httpclient.py to curl_httpclient.py.

Fixes: #233.

425f069e
12	0	tornado/curl_httpclient.py
0	10	tornado/httpclient.py

--6f0a8a75	2011-03-14T11:34:19-04:00	Brian Beach	coder@beachfamily.net	Make AsyncTestCase call tearDown in super class.

The setUp method was calling super, but tearDown wasn't.  Now they
both are.

This change includes a new unit test case to verify the fix.

6f0a8a75
29	1	tornado/test/testing_test.py
1	0	tornado/testing.py

--6923539b	2011-03-06T18:31:51-08:00	Ben Darnell	ben@bendarnell.com	Update docstrings for get_user_locale and get_error_html.

6923539b
9	1	tornado/web.py

--f43dd141	2011-03-03T13:45:58-08:00	Ben Darnell	ben@bendarnell.com	Update facebook demo to use the graph api instead of the older api.

f43dd141
21	24	demos/facebook/facebook.py
4	18	demos/facebook/templates/modules/post.html
2	2	demos/facebook/templates/stream.html

--e3397c46	2011-03-03T12:49:58-08:00	Ben Darnell	ben@bendarnell.com	Merge commit 'v1.2.1'

e3397c46
--f36fb66f	2011-03-03T12:41:26-08:00	Ben Darnell	ben@bendarnell.com	Set version number to 1.2.1

f36fb66f
1	1	setup.py
2	2	tornado/__init__.py
3	3	website/templates/documentation.txt
3	3	website/templates/index.html

--7d304034	2011-03-03T12:38:31-08:00	Ben Darnell	ben@bendarnell.com	In FacebookGraphMixin, explicitly request required user fields.

This is necessary due to a recent change in the facebook API.

Closes #227.

7d304034
8	10	tornado/auth.py

--2089a131	2011-02-28T16:19:31-08:00	Ben Darnell	ben@bendarnell.com	Python3 decodes sys.argv for us, so only decode when necessary.

2089a131
3	1	tornado/options.py

--7281ff90	2011-02-24T16:55:35-08:00	Ben Darnell	ben@bendarnell.com	Open static files in binary mode in static_url.

7281ff90
1	1	tornado/web.py

--5b4e02cc	2011-02-24T16:46:42-08:00	Ben Darnell	ben@bendarnell.com	_request_summary should return a string, not bytes

5b4e02cc
2	2	tornado/web.py

--737f80fd	2011-02-24T16:44:54-08:00	Ben Darnell	ben@bendarnell.com	Make escape.json_decode accept either unicode or (utf8) bytes

737f80fd
1	1	tornado/escape.py
2	2	tornado/test/web_test.py

--6f2ea772	2011-02-24T16:44:36-08:00	Ben Darnell	ben@bendarnell.com	Convert cookie value to bytes in get_secure_cookie

6f2ea772
1	1	tornado/web.py

--e38923ee	2011-02-24T16:38:24-08:00	Ben Darnell	ben@bendarnell.com	Convert some byte strings to unicode.

Using latin1 for HTTP headers, and utf8 elsewhere.

This gets all the tests passing under python 3.2 after running 2to3.

e38923ee
4	2	tornado/httpserver.py
3	2	tornado/simple_httpclient.py
2	2	tornado/test/web_test.py
1	1	tornado/web.py

--cb75ec7e	2011-02-24T15:22:05-08:00	Ben Darnell	ben@bendarnell.com	Use our own copy of contextlib.nested (which no longer exists in py3)

cb75ec7e
37	1	tornado/stack_context.py

--a64ca0ef	2011-02-24T15:17:41-08:00	Ben Darnell	ben@bendarnell.com	Use the appropriate version of ''.join() in _merge_prefix

a64ca0ef
7	1	tornado/iostream.py

--a795c937	2011-02-24T15:11:38-08:00	Ben Darnell	ben@bendarnell.com	Make time_independent_equals work with python3 byte strings

a795c937
4	0	tornado/web.py

--a4b5323d	2011-02-24T14:43:58-08:00	Ben Darnell	ben@bendarnell.com	On python3, use BytesIO instead of StringIO

a4b5323d
7	3	tornado/simple_httpclient.py
6	2	tornado/web.py

--344fb21f	2011-02-24T14:36:32-08:00	Ben Darnell	ben@bendarnell.com	Mark many of our internal string literals as byte literals.

Use a function wrapper b() instead of real byte literals so we
can continue to support 2.5.

344fb21f
5	4	tornado/httpserver.py
4	2	tornado/iostream.py
20	17	tornado/simple_httpclient.py
5	4	tornado/test/iostream_test.py
14	13	tornado/test/simple_httpclient_test.py
2	1	tornado/test/stack_context_test.py
12	9	tornado/test/web_test.py
15	0	tornado/util.py
28	25	tornado/web.py

--a3ee8cf6	2011-02-24T11:25:01-08:00	Ben Darnell	ben@bendarnell.com	Get rid of web.py's redundant utf8 function

a3ee8cf6
10	15	tornado/web.py

--6d0f4041	2011-02-23T22:53:59-08:00	Ben Darnell	ben@bendarnell.com	Ignore auto2to3 cache files

6d0f4041
1	0	.gitignore

--8792d74f	2011-02-23T21:00:57-08:00	Ben Darnell	ben@bendarnell.com	Test improvement:  order-independent comparison, better cleanup.

For some reason the results are coming back out of order in python2.5
(select vs kqueue, maybe?)

8792d74f
8	1	tornado/test/simple_httpclient_test.py

--130040a8	2011-02-23T17:15:36-08:00	Ben Darnell	ben@bendarnell.com	Python3 fixes in IOLoop
* __lt__ instead of __cmp__
* Write bytes instead of str to waker pipe
* Reading from the waker pipe returns '' at EOF instead of raising error

130040a8
6	4	tornado/ioloop.py

--6822bb74	2011-02-23T16:59:49-08:00	Ben Darnell	ben@bendarnell.com	Fix references to str() type for python3

6822bb74
6	2	tornado/escape.py

--a72cc17f	2011-02-23T16:53:32-08:00	Ben Darnell	ben@bendarnell.com	Fix encoding issues in options.py for python3.

a72cc17f
15	6	tornado/options.py

--e42c99ff	2011-02-23T14:51:35-08:00	Ben Darnell	ben@bendarnell.com	Make SimpleAsyncHTTPClient the default.

Get rid of the environment variable hack for selecting client
implementations.

e42c99ff
0	12	tornado/httpclient.py

--9fc882a4	2011-02-23T14:50:43-08:00	Ben Darnell	ben@bendarnell.com	Add a new method to configure AsyncHTTPClient.

Deprecate most keyword arguments to AsyncHTTPClient in favor of the new
configure method.

9fc882a4
63	22	tornado/httpclient.py
6	0	tornado/testing.py

--a785a128	2011-02-23T14:22:23-08:00	Ben Darnell	ben@bendarnell.com	Add a utility function to import an object by name.

a785a128
1	0	tornado/test/runtests.py
20	0	tornado/util.py

--bfb171fb	2011-02-23T14:03:49-08:00	Ben Darnell	ben@bendarnell.com	Move AsyncHTTPClient creation logic to httpclient.py.

bfb171fb
19	74	tornado/curl_httpclient.py
63	2	tornado/httpclient.py
9	27	tornado/simple_httpclient.py
2	1	tornado/test/simple_httpclient_test.py

--e7ae6c91	2011-02-23T10:08:00-08:00	Ben Darnell	ben@bendarnell.com	OPTIONS should not require an XSRF token.

Closes #225.

e7ae6c91
1	1	tornado/web.py

--fb8736cd	2011-02-22T13:35:41-08:00	Ben Darnell	ben@bendarnell.com	Check for EOF in the kqueue-based IOLoop to avoid incorrectly calling
the connect callback when the connection was refused.

Closes #223.

fb8736cd
10	0	tornado/ioloop.py
16	1	tornado/test/iostream_test.py

--2f4835a3	2011-02-22T13:01:05-08:00	Ben Darnell	ben@bendarnell.com	Read a fixed number of bytes for wsgi input, since some wsgi containers
do not signal EOF.

2f4835a3
2	1	tornado/wsgi.py

--83d4e933	2011-02-22T12:14:32-08:00	Ben Darnell	ben@bendarnell.com	Move USE_SIMPLE_HTTPCLIENT environment check out of curl_httpclient

83d4e933
0	17	tornado/curl_httpclient.py
9	0	tornado/httpclient.py
7	5	tornado/simple_httpclient.py

--b9ba0258	2011-02-22T11:45:48-08:00	Ben Darnell	ben@bendarnell.com	Implement synchronous HTTPClient in terms of AsyncHTTPClient.

Move curl_httpclient.main to httpclient.py

b9ba0258
1	68	tornado/curl_httpclient.py
64	1	tornado/httpclient.py

--cf915bff	2011-02-22T11:32:01-08:00	Ben Darnell	ben@bendarnell.com	Fix imports

cf915bff
5	1	tornado/httpclient.py

--60c7e911	2011-02-22T11:23:32-08:00	Ben Darnell	ben@bendarnell.com	Move request and response classes to httpclient.py

60c7e911
1	142	tornado/curl_httpclient.py
145	0	tornado/httpclient.py

--c62fd267	2011-02-22T11:21:54-08:00	Ben Darnell	ben@bendarnell.com	Make tornado.escape.utf8 None-safe and use it in curl_httpclient.

c62fd267
9	16	tornado/curl_httpclient.py
2	0	tornado/escape.py

--3facb214	2011-02-22T11:09:22-08:00	Ben Darnell	ben@bendarnell.com	Rename httpclient to curl_httpclient

3facb214
0	0	tornado/{httpclient.py => curl_httpclient.py}
1	702	tornado/httpclient.py

--cc2363a1	2011-02-22T11:00:02-08:00	Ben Darnell	ben@bendarnell.com	Revert "Declare dependencies in setup.py for automatic installation."

This reverts commit 19f850e19b4e432e0faed630b748e58069214300.

This turned out to be more trouble than it's worth, since it doesn't
interact well with external installations of pycurl (e.g. from a .deb).
These dependencies are going away soon anyway.

cc2363a1
2	9	setup.py

--f5436204	2011-02-20T12:56:18-08:00	Ben Darnell	ben@bendarnell.com	Update version number to 1.2

f5436204
1	1	setup.py
2	2	tornado/__init__.py
3	3	website/templates/documentation.txt
3	3	website/templates/index.html

--210c5c82	2011-02-20T12:49:53-08:00	Ben Darnell	ben@bendarnell.com	Document the fact that tornado can be installed with pip/etc.

210c5c82
15	27	website/templates/documentation.txt
6	4	website/templates/index.html

--d8b6d985	2011-02-20T12:33:00-08:00	Ben Darnell	ben@bendarnell.com	Check that the default certificates file exists in a unit test.

d8b6d985
3	2	tornado/simple_httpclient.py
4	1	tornado/test/simple_httpclient_test.py

--19f850e1	2011-02-20T12:16:43-08:00	Ben Darnell	ben@bendarnell.com	Declare dependencies in setup.py for automatic installation.

19f850e1
9	2	setup.py

--c7b118fc	2011-02-19T15:57:12-08:00	Ben Darnell	ben@bendarnell.com	Add ca-certificates.crt as a data file in setup.py

c7b118fc
1	0	setup.py

--d470b359	2011-02-19T15:39:27-08:00	Ben Darnell	ben@bendarnell.com	Track SSL handshake state separately from calling _add_io_state directly.

Calling _add_io_state would set a flag that immediately gets overwritten
in _handle_events when it sees that the application-level read/write
operations are idle.  This happens to work with kqueue but not with epoll.

d470b359
14	4	tornado/iostream.py

--5b8b935e	2011-02-19T15:35:37-08:00	Ben Darnell	ben@bendarnell.com	Clear the Host header when following redirects

5b8b935e
1	0	tornado/simple_httpclient.py

--907a9b46	2011-02-19T15:31:11-08:00	Ben Darnell	ben@bendarnell.com	Add more debugging options to command-line mode of simple_httpclient

907a9b46
7	1	tornado/simple_httpclient.py

--5f73de9f	2011-02-19T14:59:39-08:00	Ben Darnell	ben@bendarnell.com	Call listen() on low-level socket test.

This is apparently required on linux but not on mac.

5f73de9f
1	0	tornado/test/simple_httpclient_test.py

--dc10fcea	2011-02-19T14:29:35-08:00	Ben Darnell	ben@bendarnell.com	Set both VERIFYPEER and VERIFYHOST according to the validate_cert setting.

dc10fcea
6	1	tornado/httpclient.py

--6fa950ce	2011-02-19T13:58:56-08:00	Ben Darnell	ben@bendarnell.com	Fix a case where callbacks could be called more than once in error conditions.

6fa950ce
5	4	tornado/simple_httpclient.py

--3951d599	2011-02-19T13:43:33-08:00	Ben Darnell	ben@bendarnell.com	Don't call curl.unsetopt(pycurl.CAINFO) to reset CA certificates to default.

This doesn't work because it clobbers the default CA certs, causing all
certificates to be rejected.  There doesn't seem to be any way to restore
the defaults, so just leave it untouched in the default case and document
the requirement that all requests use ca_certs if any do.

3951d599
12	1	tornado/httpclient.py

--e7ee4e1f	2011-02-19T13:33:21-08:00	Ben Darnell	ben@bendarnell.com	Add logout link to authdemo for testing purposes.

e7ee4e1f
6	0	demos/auth/authdemo.py

--2ab94651	2011-02-16T13:36:50-08:00	Ben Darnell	ben@bendarnell.com	Document new behavior of XSRF tokens.

2ab94651
10	5	website/templates/documentation.txt

--4e6b96fb	2011-02-16T13:34:35-08:00	Ben Darnell	ben@bendarnell.com	Add linkify to the default template namespace.

4e6b96fb
1	0	tornado/template.py
1	0	website/templates/documentation.txt

--05b62938	2011-02-16T13:21:40-08:00	Ben Darnell	ben@bendarnell.com	Use SO_REUSEADDR in low-level socket tests.

05b62938
1	0	tornado/test/simple_httpclient_test.py

--64d9c630	2011-02-16T13:05:23-08:00	Ben Darnell	ben@bendarnell.com	Update docs for simple_httpclient.

64d9c630
18	11	tornado/simple_httpclient.py

--b8500d3c	2011-02-16T11:52:06-08:00	Ben Darnell	ben@bendarnell.com	Revert "Undo documentation changes from the introduction of Application.listen()."

This reverts commit 2d42c18c36bb9bd6ff67dc71786cd6ce9332dd31.

b8500d3c
1	3	website/templates/documentation.txt
2	4	website/templates/index.html

--f69b24d6	2011-02-15T14:46:16-08:00	Ben Darnell	ben@bendarnell.com	Don't modify the IOStream write buffer if the previous socket.send
returned EWOULDBLOCK.

This satisfies openssl's requirement that the write buffer address
not change between calls to send.

f69b24d6
17	3	tornado/iostream.py

--beee1c28	2011-02-15T14:25:38-08:00	Ben Darnell	ben@bendarnell.com	Change IOStream._read_buffer from cStringIO to a deque.

This change is mainly for consistency with the _write_buffer change.

beee1c28
12	10	tornado/iostream.py

--d91f5dc8	2011-02-15T14:18:34-08:00	Ben Darnell	ben@bendarnell.com	Change IOStream._write_buffer from cStringIO to a deque.

This lays the groundwork for a future change to fix an issue with openssl.

d91f5dc8
10	10	tornado/iostream.py

--02599094	2011-02-15T14:14:37-08:00	Ben Darnell	ben@bendarnell.com	Add utility method for dealing with deques of strings, in preparation
for moving from cStringIO to deques for IOStream buffers.

02599094
34	0	tornado/iostream.py
1	0	tornado/test/runtests.py

--6ac2c58d	2011-02-14T20:51:19-08:00	Ben Darnell	ben@bendarnell.com	Add follow_redirects support to SimpleAsyncHTTPClient.

6ac2c58d
18	2	tornado/simple_httpclient.py
35	7	tornado/test/simple_httpclient_test.py

--ab217b6b	2011-02-14T20:19:58-08:00	Ben Darnell	ben@bendarnell.com	Last part of certificate validation: check that the hostname matches.

ab217b6b
4	0	tornado/simple_httpclient.py

--372e5454	2011-02-14T20:14:43-08:00	Ben Darnell	ben@bendarnell.com	Add ssl.match_hostname function backported from Python 3.2.

https://bitbucket.org/brandon/backports.ssl_match_hostname

372e5454
59	0	tornado/simple_httpclient.py

--4191ed34	2011-02-14T20:10:27-08:00	Ben Darnell	ben@bendarnell.com	Detect the connection being closed by the server in SimpleAsyncHTTPClient.

4191ed34
9	1	tornado/simple_httpclient.py

--5bff06d7	2011-02-14T20:05:47-08:00	Ben Darnell	ben@bendarnell.com	Make certificate validation optional with an HTTPRequest parameter
for consistency between curl and simple HTTPClients.

5bff06d7
13	1	tornado/httpclient.py
8	4	tornado/simple_httpclient.py
1	4	tornado/test/httpserver_test.py

--cfa8857b	2011-02-14T19:48:25-08:00	Ben Darnell	ben@bendarnell.com	Part 1 of certificate validation: Require that the cert be signed by a CA.

cfa8857b
8	2	tornado/iostream.py
7	2	tornado/simple_httpclient.py

--d14cb064	2011-02-14T19:23:56-08:00	Ben Darnell	ben@bendarnell.com	In SSLIOStream, delay the connect_callback until the SSL handshake finishes.

d14cb064
5	1	tornado/iostream.py

--f2f504ca	2011-02-14T18:58:02-08:00	Ben Darnell	ben@bendarnell.com	Add a set of default SSL CA certificates for use with SimpleAsyncHTTPClient.

This data was copied from the Ubuntu package ca-certificates (and is
ultimately derived for the most part from Mozilla).  Its license is
MPL/GPL, unlike the rest of tornado, but for an optional data file it
ought to be fine.

f2f504ca
3607	0	tornado/ca-certificates.crt

--e965299b	2010-12-05T17:07:46-08:00	Ben Darnell	ben@bendarnell.com	Add a simple mechanism to override DNS lookups in SimpleAsyncHTTPClient.

Intended for use in SSL unittests, where we will need to make requests to
localhost using different domain names.

e965299b
13	3	tornado/simple_httpclient.py

--88833c11	2011-02-11T20:25:06-08:00	Ben Darnell	ben@bendarnell.com	Make @removeslash a no-op when applied to a request for '/'.

This prevents a redirect loop as browsers interpret an empty redirect
as a redirect to /.

88833c11
2	0	tornado/web.py

--73d3c82b	2011-02-11T17:52:12-08:00	Jon Parise	jon@booyah.com	Removing the *.png pattern for the 'demos' line.

Because there aren't any .png files in the 'demos' hierarchy, this was causing
a warning when the 'egg_info' setup command was run.

73d3c82b
1	1	MANIFEST.in

--b7e8930b	2011-02-09T17:09:57-08:00	Ben Darnell	ben@bendarnell.com	Check XSRF tokens on all non-idempotent requests instead of just POST.

b7e8930b
1	1	tornado/web.py

--2d42c18c	2011-02-09T17:01:53-08:00	Ben Darnell	ben@bendarnell.com	Undo documentation changes from the introduction of Application.listen().

The examples given do not work in the 1.1.1 release.  This change should be
reverted when 1.2 is released and the new examples work.

2d42c18c
3	1	website/templates/documentation.txt
4	2	website/templates/index.html

--4170d351	2011-02-08T22:53:59-08:00	Ben Darnell	ben@bendarnell.com	Merge commit 'v1.1.1'

Conflicts:
	setup.py

4170d351
--b9124542	2011-02-08T22:43:07-08:00	Ben Darnell	ben@bendarnell.com	Tag release 1.1.1

b9124542
1	1	setup.py
2	2	tornado/__init__.py
3	3	website/templates/documentation.txt
3	3	website/templates/index.html

--90b80787	2011-02-08T22:29:40-08:00	Ben Darnell	ben@bendarnell.com	BACKWARDS-INCOMPATIBLE: Fix XSRF security vulnerability.

This is a backwards-incompatible change.  Applications that previously
relied on a blanket exception for XMLHTTPRequest may need to be modified
to explicitly include the XSRF token when making ajax requests.

The tornado chat demo application demonstrates one way of adding this
token (specifically the function postJSON in demos/chat/static/chat.js).

More information about this change and its justification can be found at
http://www.djangoproject.com/weblog/2011/feb/08/security/
http://weblog.rubyonrails.org/2011/2/8/csrf-protection-bypass-in-ruby-on-rails

Closes #214.

90b80787
18	7	tornado/web.py

--c32ad6b0	2011-02-06T18:58:58-08:00	Ben Darnell	ben@bendarnell.com	Fix error in docstring.

Closes #209.

c32ad6b0
1	1	tornado/template.py

--8ff8535d	2011-02-06T18:42:04-08:00	Ben Darnell	ben@bendarnell.com	Add a test to verify reasonable behavior when HTTPS server is sent non-SSL request.

Prompted by issue #211.

8ff8535d
10	0	tornado/test/httpserver_test.py

--0687800b	2011-01-25T12:15:37-08:00	Ben Darnell	ben@bendarnell.com	Use request.uri instead of request.path in websocket handshake.

Closes #208.

0687800b
2	2	tornado/websocket.py

--b733c91f	2011-01-25T12:02:11-08:00	Ben Darnell	ben@bendarnell.com	Update example in XSRF section.

Login forms don't actually need XSRF protection, so use a message-posting
form instead.

b733c91f
3	4	website/templates/documentation.txt

--5ab27b2f	2011-01-21T13:14:06-08:00	Ben Darnell	ben@bendarnell.com	Move request logging from RequestHandler to Application.

Logging can now be configured with either a subclass or setting of
Application.  This replaces the previous method of overriding a private
method of RequestHandler, which was difficult to do for built-in handlers
(StaticFileHandler and RedirectHandler).

5ab27b2f
33	9	tornado/web.py

--84fea83b	2011-01-20T22:13:12-08:00	Ben Darnell	ben@bendarnell.com	Fix commit 377c160 when connection is None.

84fea83b
2	1	tornado/httpserver.py

--377c160a	2011-01-20T11:59:45-08:00	Ben Darnell	ben@bendarnell.com	Set HTTPRequest.protocol correctly when using the built-in SSL support.

Closes #202.

377c160a
6	1	tornado/httpserver.py
1	0	tornado/test/httpserver_test.py

--498438b1	2011-01-20T11:52:53-08:00	Ben Darnell	ben@bendarnell.com	Use kwargs when constructing RedirectHandlers.

Closes #205.

498438b1
1	1	tornado/web.py

--a2728596	2011-01-19T15:18:30+01:00	rickard.bottcher	rickardb@mashmobile.com	Added missing attribute "stream" in call to getpeercert() in HTTPRequest.get_ssl_certificate().

a2728596
2	2	tornado/httpserver.py

--b7dd49cd	2011-01-13T10:51:35-08:00	Ben Darnell	ben@bendarnell.com	Replace more uses of cStringIO.getvalue() with .tell().

b7dd49cd
3	3	tornado/iostream.py

--f531bae7	2011-01-13T10:50:30-08:00	Ben Darnell	ben@bendarnell.com	Merge remote branch 'didip/master' into merge

f531bae7
--c270662d	2011-01-12T12:14:57-08:00	Ben Darnell	ben@bendarnell.com	Add some comments about thread safety.

c270662d
8	1	tornado/ioloop.py
8	0	tornado/web.py

--bba5a45c	2011-01-10T11:56:28-08:00	Didip Kerabat	didip@didip-osx.local	reset() only set current position back to 0. What we want here is truncate().

But, per http://stackoverflow.com/questions/4330812/how-do-i-clear-a-stringio-object discussion, creating new StringIO() is cheaper.
bba5a45c
2	2	tornado/iostream.py

--2514e88a	2011-01-10T11:45:08-08:00	Didip Kerabat	didip@didip-osx.local	Further optimization by using tell() and reset()
2514e88a
5	5	tornado/iostream.py

--c47fcf99	2011-01-09T19:34:38-08:00	Didip Kerabat	didip@didip-osx.local	use cStringIO on _read_buffer and _write_buffer
c47fcf99
20	17	tornado/iostream.py

--0d7a3f08	2011-01-06T12:36:46-08:00	Ben Darnell	ben@bendarnell.com	Use a list instead of a set for IOLoop callbacks.  This preserves order
and allows the same callback object to be reused.

A set was originally used to support remove_callback(), but that method
was removed in the 1.1 release.

0d7a3f08
4	6	tornado/ioloop.py

--daf9669e	2011-01-03T13:45:52-08:00	Ben Darnell	ben@bendarnell.com	Use absolute paths in RequestHandler._static_hashes to allow for different
static_paths.

daf9669e
8	7	tornado/web.py

--adafcc06	2011-01-03T12:32:44-08:00	Ben Darnell	ben@bendarnell.com	Log exceptions with exc_info=True instead of exc_info=e.

The logging module checks to see if the value passed for exc_info is a
tuple, and if so assumes it contains (type, value, traceback).
A bug in python 2.5 and 2.6 causes context manager's __exit__ methods
to sometimes receive a tuple instead of an exception object, which causes
a nonsensical message to be logged.

adafcc06
1	1	tornado/web.py

--f63525f7	2010-12-27T18:30:21-08:00	Ben Darnell	ben@bendarnell.com	Fix stack trace logging for uncaught RequestHandler exceptions.

_handle_request_exception is a private method, but since I've endorsed
overriding it on the mailing list preserve backwards compatibility by
re-raising the exception so it appears in sys.exc_info().

Closes #199.

f63525f7
7	0	tornado/web.py

--d677b158	2010-12-17T13:42:33-08:00	Ben Darnell	ben@bendarnell.com	Remove logging for EINTR in IOLoop, since this is not really an error.

d677b158
0	1	tornado/ioloop.py

--f73f135d	2010-12-14T12:22:17-08:00	Ben Darnell	ben@bendarnell.com	Construct ErrorHandler with kwargs instead of positional arguments
for consistency with normal handler construction (and compatibility with
the initialize() changes from a couple of commits ago).

Closes #194.

f73f135d
1	1	tornado/web.py

--26751424	2010-12-13T12:33:25-08:00	Ben Darnell	ben@bendarnell.com	Override initialize() instead of __init__() in RequestHandler subclasses.

This is a slight simplification and makes it easier to create further
application-specific subclasses.

Closes #191.

26751424
4	8	tornado/web.py

--cce8218a	2010-12-13T10:28:09-08:00	Jon Parise	jon@indelible.org	tornado.httpserver is unused in this scope

cce8218a
0	1	demos/chat/chatdemo.py

--ade3ce2e	2010-12-10T17:03:21-08:00	Ben Darnell	ben@bendarnell.com	Add a simple HTTP benchmark

ade3ce2e
45	0	demos/benchmark/benchmark.py

--dfac3a67	2010-12-10T10:56:07-08:00	Ben Darnell	ben@bendarnell.com	Avoid unnecessary work in HTTPHeaders._normalize_name.

dfac3a67
5	0	tornado/httputil.py

--dd706f9f	2010-12-10T16:04:39-08:00	Ben Darnell	ben@bendarnell.com	Implement ExceptionStackContext independently of StackContext to improve
performance.

dd706f9f
22	10	tornado/stack_context.py

--6e7c8b99	2010-12-10T15:56:38-08:00	Ben Darnell	ben@bendarnell.com	Avoid use of the @contextlib.contextmanager decorator.

This decorator has over 5x the overhead of a hand-written class
with __enter__ and __exit__ methods.

6e7c8b99
48	15	tornado/stack_context.py
5	7	tornado/web.py

--8e4a7730	2010-12-03T15:33:13-08:00	Ben Darnell	ben@bendarnell.com	Merge remote branch 'slay2k/fb_fix_graph_mixin'

8e4a7730
--a18eead8	2010-11-30T22:28:53-08:00	Ben Darnell	ben@bendarnell.com	Fix duplicated remote_ip field in HTTPRequest.__repr__

Closes #185.

a18eead8
1	1	tornado/httpserver.py

--ffe291f2	2010-11-29T01:44:51-08:00	Romy Maxwell	romy.maxwell@gmail.com	A few fixes for FacebookGraphMixin

- Added error handler for _on_access_token
- Modified to allow for extra returned fields in the auth call
- Removed username, which seems to have been deprecated

ffe291f2
24	18	tornado/auth.py

--96ecb660	2010-11-29T15:01:16-08:00	Ben Darnell	ben@bendarnell.com	Use request.uri instead of request.path as default redirect for auth.py.

This allows the next parameter (added by @authenticated) to be preserved.

Closes #161.

96ecb660
3	3	tornado/auth.py

--6151498d	2010-11-29T14:08:01-08:00	Ben Darnell	ben@bendarnell.com	Log malformed HTTP requests more gracefully.

Malformed requests are now logged as a single INFO line (which
includes the IP address) instead of a verbose but uninformative stack
trace.

6151498d
14	2	tornado/httpserver.py

--ae3cc317	2010-11-29T13:49:06-08:00	Ben Darnell	ben@bendarnell.com	Treat HEAD requests the same as GET for e.g. sending Etag headers.

Closes #180.

ae3cc317
5	4	tornado/web.py

--eededcf5	2010-11-29T13:34:15-08:00	Ben Darnell	ben@bendarnell.com	Preserve the order of css_files from UIModules, like we already do for JS

eededcf5
6	4	tornado/web.py

--00b9ee91	2010-11-29T13:17:03-08:00	Ben Darnell	ben@bendarnell.com	Expose the client's SSL certificate as HTTPRequest.get_ssl_certificate().

00b9ee91
21	0	tornado/httpserver.py

--263994e8	2010-11-22T19:31:08-05:00	Josh Staiger	joshstaiger@gmail.com	Fix bug in multipart/form-data requests.

In Firefox and Safari, I'm seeing k = " boundary"
for multipart/form-data posts.  

" boundary" != "boundary", so the mime fields
aren't parsed.  

This commit gets rid of the leading space.
263994e8
1	1	tornado/httpserver.py

--b0578819	2010-11-20T11:51:39-05:00	Josh Staiger	joshstaiger@gmail.com	Update pydoc to mention response.rethrow instead of reraise.

b0578819
1	1	tornado/httpclient.py

--9e965556	2010-11-19T14:04:53-08:00	Ben Darnell	ben@bendarnell.com	Don't assume 'boundary' is last field in Content-Type header.

http://groups.google.com/group/python-tornado/browse_thread/thread/d0531e331c189c56#

Closes #172.

9e965556
6	3	tornado/httpserver.py

--cb232b22	2010-11-18T11:26:14-08:00	Ben Darnell	ben@bendarnell.com	Merge remote branch 'vijayp/master'

cb232b22
--905a215a	2010-11-18T13:58:44-05:00	vijayp	vijayp@jumo.com	Set proxy to '' if no proxy is explicitly set in the request.
If this is not done, curls with proxies set are re-inserted into the empty list, and are then reused. This causes connections to be randomly proxied, if some requests use a proxy, and others don't.

905a215a
2	0	tornado/httpclient.py

--d0620d67	2010-11-16T16:37:53-08:00	Ben Darnell	ben@bendarnell.com	Add debug logging for queuing in simple_httpclient.

Also remove some old extremely verbose debug logging.

d0620d67
4	4	tornado/simple_httpclient.py

--08e5ba5d	2010-11-16T16:30:51-08:00	Ben Darnell	ben@bendarnell.com	Add address parameter to Application.listen to match HTTPServer.listen

08e5ba5d
7	6	tornado/web.py

--0b607c10	2010-11-15T21:32:51-08:00	Ben Darnell	ben@bendarnell.com	Fixes for python 2.5

0b607c10
3	1	tornado/iostream.py
2	0	tornado/test/simple_httpclient_test.py

--a853850e	2010-11-15T21:15:32-08:00	Ben Darnell	ben@bendarnell.com	Add convenience method Application.listen(port) so most apps don't need
to explicitly touch HTTPServer.

a853850e
2	2	demos/chat/chatdemo.py
21	5	tornado/web.py
1	3	website/templates/documentation.txt
2	4	website/templates/index.html

--5f5e0bb3	2010-11-15T16:53:44-08:00	Ben Darnell	ben@bendarnell.com	Implement max_clients limitation and queueing for SimpleAsyncHTTPClient

5f5e0bb3
25	3	tornado/simple_httpclient.py
42	0	tornado/test/simple_httpclient_test.py

--7750fe77	2010-11-15T16:11:09-08:00	Ben Darnell	ben@bendarnell.com	Port pseudo-singleton magic from AsyncHTTPClient to SimpleAsyncHTTPClient

7750fe77
25	3	tornado/simple_httpclient.py
10	0	tornado/test/simple_httpclient_test.py

--f2aa302b	2010-11-14T14:45:17-08:00	Ben Darnell	ben@bendarnell.com	Add timeout support to simple_httpclient

f2aa302b
27	0	tornado/simple_httpclient.py
30	2	tornado/test/simple_httpclient_test.py

--8a941c42	2010-11-14T12:58:14-08:00	Ben Darnell	ben@bendarnell.com	Improve docs for IOLoop.add/remove_timeout()

8a941c42
8	1	tornado/ioloop.py

--31b0ab0c	2010-11-09T11:52:34-08:00	Ben Darnell	ben@bendarnell.com	Fix typo in docs

31b0ab0c
1	1	website/templates/documentation.txt

--3dc7ebad	2010-11-08T11:53:36-08:00	Ben Darnell	ben@bendarnell.com	Add Amharic to tornado.locale's list of languages.

Closes #168.

3dc7ebad
1	0	tornado/locale.py

--0dcee8d7	2010-11-08T11:27:27-08:00	Ben Darnell	ben@bendarnell.com	Fix mangled language names in tornado.locale for Chinese, Japanese, Korean.

For Chinese, also follow Google's example and reduce number of
variants to two: Simplified (zh_CN) and Traditional (zh_TW) (since I
couldn't find an appropriate copy-paste source for localized versions
of "Chinese (Hong Kong)" and "Chinese (Taiwan)")

Closes #168.

0dcee8d7
4	5	tornado/locale.py

--ee55403c	2010-11-08T10:54:50-08:00	Ben Darnell	ben@bendarnell.com	Support X-Forwarded-Proto in addition to X-Scheme

ee55403c
5	1	tornado/httpserver.py

--7ed8fbe1	2010-11-08T10:51:02-08:00	Ben Darnell	ben@bendarnell.com	Support websockets over https.

Closes #164.

7ed8fbe1
3	1	tornado/websocket.py

--965099ed	2010-11-08T10:49:03-08:00	Ben Darnell	ben@bendarnell.com	Support "from x import y" in templates, not just "import x"

965099ed
3	2	tornado/template.py

--3e44643d	2010-11-06T11:07:59-07:00	Ben Darnell	ben@bendarnell.com	Fix typo from commit 2b44fac

Closes #169.

3e44643d
1	1	tornado/iostream.py

--9ec87c2b	2010-11-05T11:19:18-07:00	Ben Darnell	ben@bendarnell.com	Capture StackContext explicitly in HTTPConnection to prevent leaks from
one request to the next.

9ec87c2b
6	2	tornado/httpserver.py

--2b44fac4	2010-11-04T11:47:34-07:00	Ben Darnell	ben@bendarnell.com	Check for a closed connection in _add_io_state.

Closes #163.

2b44fac4
3	0	tornado/iostream.py

--c467cf02	2010-11-03T17:12:31-07:00	Paul Buchheit	pbuchheit@dev428.snc1.facebook.com	fix linkify regex plus add unit test

c467cf02
6	3	tornado/escape.py
127	0	tornado/test/escape_test.py
1	0	tornado/test/runtests.py

--b914a94a	2010-10-27T21:23:29-07:00	Ben Darnell	ben@bendarnell.com	Don't manually set Content-Length in StaticFileHandler.

Content-Length will be set automatically in RequestHandler.finish.  This
change fixes a bug in which RequestHandler.finish's Etag support strips
the response body without changing any headers.  Transfer headers
(including Content-Length and Transfer-Encoding) are the responsibility
of the framework, not the "application-level" handlers (which includes
StaticFileHandler).

Closes #160.

b914a94a
0	1	tornado/web.py

--5e987aa6	2010-10-27T12:11:59-07:00	Ben Darnell	ben@bendarnell.com	Merge remote branch 'szeim/master'

5e987aa6
--88111779	2010-10-27T11:47:25-07:00	Ben Darnell	ben@bendarnell.com	Merge remote branch 'fiam/master'

88111779
--2dbb05d5	2010-10-27T13:36:12+02:00	Imre SZEBENYI	szeim@elte.hu	SSLIOStream._do_ssl_handshake SSL error check

2dbb05d5
3	0	tornado/iostream.py

--3b486fc4	2010-10-27T13:34:47+02:00	Imre SZEBENYI	szeim@elte.hu	Fixed IOStream._handle_events (try/except block)

Fixed IOStream._handle_events (try/except block) to prevent
infinite loop when an unhandled exception occurs

3b486fc4
6	0	tornado/iostream.py

--bd4ef586	2010-10-02T18:57:35+02:00	Alberto García Hierro	alberto@garciahierro.com	Make exception handling in AsyncHTTPClient more customizable

Call handle_callback_exception() with the callback as argument
instead of hardcoding the call to logging.debug(). This way, users
can add their own exception handling code by subclassing
AsyncHTTPClient.

Default implementation for handle_callback_exception() calls that
same function on the IOLoop associated to this AsyncHTTPClient
instance, so users can handle any exceptions raised from their
callbacks just by overriding handle_callback_exception() in IOLoop.

bd4ef586
5	2	tornado/httpclient.py

--af3d0b3b	2010-10-21T16:00:42-07:00	Ben Darnell	ben@bendarnell.com	Add gzip support to SimpleAsyncHTTPClient

af3d0b3b
16	0	tornado/simple_httpclient.py
18	1	tornado/test/simple_httpclient_test.py

--d06f8f4b	2010-10-21T15:17:06-07:00	Ben Darnell	ben@bendarnell.com	Support minor HTTP request attributes in SimpleAsyncHTTPClient.

Adds allow_nonstandard_methods and user_agent, and gives an explicit
warning for network_interface.

d06f8f4b
10	0	tornado/simple_httpclient.py

--3d19e103	2010-10-21T14:58:30-07:00	Ben Darnell	ben@bendarnell.com	Add basic auth support to SimpleAsyncHTTPClient

3d19e103
5	0	tornado/simple_httpclient.py
10	0	tornado/test/simple_httpclient_test.py

--83d623a1	2010-10-21T14:56:30-07:00	Ben Darnell	ben@bendarnell.com	Use AsyncHTTPTestCase.fetch instead of overriding it with a less useful
version.

83d623a1
6	10	tornado/test/simple_httpclient_test.py

--09c0c9d7	2010-10-21T14:55:29-07:00	Ben Darnell	ben@bendarnell.com	Reindent to 4 spaces

09c0c9d7

--d47c453c	2010-10-19T14:12:33-07:00	Ben Darnell	ben@bendarnell.com	Attempt to fix StaticFileHandler when os.path.sep != '/'.

d47c453c
4	2	tornado/web.py

--fe517276	2010-10-19T14:09:47-07:00	Ben Darnell	ben@bendarnell.com	Merge remote branch 'mdg/default_filename'

fe517276
--e7553f75	2010-10-19T12:28:47-07:00	Ben Darnell	ben@bendarnell.com	Add test case for encoding of request parameters and paths,
in response to a mailing list thread that raised questions about
handling of '%3F' and '?'.

e7553f75
17	0	tornado/test/web_test.py

--11fdd479	2010-10-19T12:26:10-07:00	Ben Darnell	ben@bendarnell.com	Add a convenience method for synchronous fetches in AsyncHTTPTestCase

11fdd479
15	0	tornado/testing.py

--c4102921	2010-10-18T19:13:44-07:00	Ben Darnell	ben@bendarnell.com	Add test suite to tarball releases.

c4102921
4	1	setup.py

--638a151d	2010-10-09T15:27:13-04:00	Matthew Graham	mdg149@gmail.com	make StaticFileHandler support default filename

allows an app to configure a handler so that if a request to '/dir', the
handler will return '/dir/index.html' if it exists.  the default
filename, the 'index.html' part is configurable when creating the
Handler object.  Using the default filename is optional.

638a151d
13	2	tornado/web.py

--86bd681f	2010-10-13T14:58:49-07:00	Ben Darnell	ben@bendarnell.com	Support websockets over HTTP proxies.

Adapted from
http://github.com/cbecker333/tornado/commit/ce02250ed3579706f800cfc5e622da834d79f933

86bd681f
16	13	tornado/websocket.py

--334b1270	2010-10-13T14:05:31-07:00	Ben Darnell	ben@bendarnell.com	Windows compatibility for non-blocking IOStream.connect.

socket.connect returns a different errno, and read methods do not work
before the socket is connected (fixed docs and examples).

334b1270
10	7	tornado/iostream.py

--f10c7176	2010-10-12T17:59:29-07:00	Ben Darnell	ben@bendarnell.com	Refactor async connect logic from SimpleAsyncHTTPClient to IOStream.

Closes #146.

f10c7176
62	9	tornado/iostream.py
9	19	tornado/simple_httpclient.py

--b57bfd35	2010-10-11T17:24:11-07:00	Ben Darnell	ben@bendarnell.com	Reindent example in docstring, which apparently trips up emacs' indentation
detection.

b57bfd35

--7c7b0117	2010-10-11T17:17:13-07:00	Ben Darnell	ben@bendarnell.com	Make Locale.format_date() behave sanely with dates in the future.

Closes #150.

7c7b0117
12	3	tornado/locale.py

--3ce6d3da	2010-10-11T17:02:15-07:00	Ben Darnell	ben@bendarnell.com	Run all IOStream callbacks inside a NullContext so that exception
handlers are run in the right order.

3ce6d3da
3	0	tornado/iostream.py

--925af504	2010-10-11T14:39:38-07:00	Ben Darnell	ben@bendarnell.com	Make USE_SIMPLE_HTTPCLIENT work without pycurl installed.

925af504
7	0	tornado/httpclient.py
4	1	tornado/test/httpserver_test.py

--dd5cad99	2010-10-11T14:16:52-07:00	Ben Darnell	ben@bendarnell.com	Add initial version of non-curl-based AsyncHTTPClient.

dd5cad99
9	0	tornado/httpclient.py
202	0	tornado/simple_httpclient.py
1	0	tornado/test/runtests.py
74	0	tornado/test/simple_httpclient_test.py

--5fffe5a8	2010-10-11T11:20:25-07:00	Ben Darnell	ben@bendarnell.com	Limit the amount of data sent to socket.send at a time (for windows).

Closes #97.

5fffe5a8
5	1	tornado/iostream.py

--160c961f	2010-10-08T11:56:16-07:00	Ben Darnell	ben@bendarnell.com	Move Links section from index.html to the wiki.
Remove links to unmaintained social media accounts.

160c961f
1	13	website/templates/index.html

--b1995344	2010-10-08T11:25:52-07:00	Ben Darnell	ben@bendarnell.com	Fix StackContext in IOStream.  IOStream._handle_events now runs in a
NullContext, and user callbacks are wrapped on entry to IOStream.

Also added logging for uncaught exceptions and made stack_context.wrap
None-safe.

http://groups.google.com/group/python-tornado/browse_thread/thread/9b5044def39c2ed9

b1995344
8	4	tornado/iostream.py
2	0	tornado/stack_context.py

--f732f980	2010-09-30T14:41:13-07:00	Paul Buchheit	pbuchheit@dev428.snc1.facebook.com	add a linkify() function for converting text to html with link detection. Also changed xhtml_escape to not convert return value to utf8, since pages should be assembed in unicode and not utf8 encoded until they are ready to write().

f732f980
2	1	demos/chat/templates/message.html
85	1	tornado/escape.py

--75bfe842	2010-09-28T20:11:42-07:00	Ben Darnell	ben@bendarnell.com	Handle IOStream.read_bytes(0) gracefully.

75bfe842
3	0	tornado/iostream.py
33	0	tornado/test/iostream_test.py
1	0	tornado/test/runtests.py

--e210a644	2010-09-28T20:10:56-07:00	Ben Darnell	ben@bendarnell.com	Make AsyncTestCase.stop() prefer _arg over **kwargs, even when the former
is not truthy.

e210a644
2	1	tornado/testing.py

--8ecaa437	2010-09-28T15:46:21-07:00	Ben Darnell	ben@bendarnell.com	Remove references to async_callback from documentation

8ecaa437
2	2	tornado/web.py
2	9	website/templates/documentation.txt

--12218657	2010-09-27T14:08:56-07:00	Ben Darnell	ben@bendarnell.com	In the select()-based IOLoop, always listen for reads so we can tell
when the other side closed the connection.

Closes #37.

12218657
6	1	tornado/ioloop.py
0	4	tornado/test/web_test.py
0	6	tornado/web.py

--8300c7ff	2010-09-27T12:46:20-07:00	Ben Darnell	ben@bendarnell.com	Close the IOStream when the remote connection is closed.

This was a regression introduced by http://github.com/facebook/tornado/commit/f6f7f83719a48083f3e5ed999e19c0ec67de9b9b

Closes #143.

8300c7ff
6	0	tornado/iostream.py
39	1	tornado/test/web_test.py

--b02a31b6	2010-09-27T12:04:43-07:00	Ben Darnell	ben@bendarnell.com	Factor port-selection logic out of AsyncHTTPTestCase so it can be used
from lower-level tests

b02a31b6
10	6	tornado/testing.py

--7a7e2414	2010-09-24T11:42:33-07:00	Ben Darnell	ben@bendarnell.com	Make StackContext more usable in libraries by reducing the need to
explicitly use IOLoop.add_callback or NullContext.

This change also simplifies and codifies the ordering behavior of
StackContext:  When a wrapped callback is executed, the innermost
StackContexts are those that were active when the callback was
wrapped.  Additional StackContexts (possibly including other copies
of the same contexts) may be present in outer levels of the stack, but
since the role of most StackContexts is to catch exceptions this should
not have any effect.

Backwards compatibility note:  StackContexts that do something other than
catch exceptions may need to be modified to be reentrant.

7a7e2414
15	17	tornado/stack_context.py
11	13	tornado/test/stack_context_test.py

--4973e296	2010-09-23T09:37:32-07:00	Ben Darnell	ben@bendarnell.com	Update installation instructions in README.

Closes #142.

4973e296
9	4	README

--a1d94db4	2010-09-21T12:15:02-07:00	Ben Darnell	ben@bendarnell.com	Fix default_host redirect.

Closes #141.

a1d94db4
1	1	tornado/web.py

--9f529b89	2010-09-18T13:22:30-07:00	Ben Darnell	ben@bendarnell.com	Fix improperly-renamed variable in set_blocking_signal_threshold

9f529b89
3	3	tornado/ioloop.py

--81a3eae5	2010-09-17T14:46:43-07:00	Ben Darnell	ben@bendarnell.com	Make xhtml_escape available in the template namespace under its own name
in addition to "escape".

81a3eae5
1	0	tornado/template.py
1	0	website/templates/documentation.txt

--625a9bef	2010-09-17T14:45:45-07:00	Ben Darnell	ben@bendarnell.com	Move cookie-signing code from set_secure_cookie to a new method for non-cookie use cases

625a9bef
11	1	tornado/web.py

--8c4fb076	2010-09-17T11:02:43-07:00	Ben Darnell	ben@bendarnell.com	Document the entire template namespace

8c4fb076
24	12	website/templates/documentation.txt

--f46cfa42	2010-09-16T17:14:31-07:00	Ben Darnell	ben@bendarnell.com	Generalize IOLoop.set_blocking_log_threshold by allowing user-specified
signal handlers (via a new set_blocking_signal_threshold method).

Also support a handler value of None to kill the process (SIG_DFL)

f46cfa42
31	13	tornado/ioloop.py

--f6f7f837	2010-09-16T13:45:13-07:00	Ben Darnell	ben@bendarnell.com	Refactor IOStream reading logic to fix problems with SSL sockets.

Now reads from the socket until it would block.  This ensures that we
see data in SSLSocket's internal buffers, which are otherwise invisible
to functions like select().

Added a test that makes a large POST request to an SSL server, which was
the scenario that originally exposed this bug.

f6f7f837
87	15	tornado/iostream.py
17	4	tornado/test/httpserver_test.py

--7b17caa0	2010-09-13T00:32:39+02:00	Szabó Antal	szabot@szabot-desktop.(none)	Fixed another two win32_support import

7b17caa0
2	2	tornado/ioloop.py

--0e21608e	2010-09-13T00:24:22+02:00	Szabó Antal	szabot@szabot-desktop.(none)	Fixed win32_support import

0e21608e
1	1	tornado/httpserver.py

--dbd0051a	2010-09-12T23:58:31+02:00	Szabó Antal	szabot@szabot-desktop.(none)	Added binary flag to _waker_reader and _waker_writer

dbd0051a
2	2	tornado/ioloop.py

--a1b5c33b	2010-09-12T23:34:38+02:00	Szabó Antal	szabot@szabot-desktop.(none)	Replaced map() in web.py with for loop

a1b5c33b
2	2	tornado/web.py

--4118b8e7	2010-09-12T23:22:30+02:00	Szabó Antal	szabot@szabot-desktop.(none)	Changed e[0] to e.args[0]

4118b8e7
3	3	tornado/httpclient.py
1	1	tornado/httpserver.py
2	2	tornado/ioloop.py
2	2	tornado/iostream.py

--fb08c11b	2010-09-14T10:42:56-07:00	Ben Darnell	ben@bendarnell.com	Update docs to mention requirement of pycurl 7.18.2.

fb08c11b
1	5	website/templates/documentation.txt
1	4	website/templates/index.html

--8dd551b9	2010-09-13T13:41:14-07:00	Ben Darnell	ben@bendarnell.com	Merge remote branch 'fiam/master'

8dd551b9
--a352f5ed	2010-09-13T20:10:23+02:00	Alberto García Hierro	alberto@garciahierro.com	When forking multiple processes, properly initialize the random seed

Avoid seeding the random module with the same value in all processes.
If available, use the same method used by random.py, otherwise
generate a seed using the current time in milliseconds and the pid.

a352f5ed
11	0	tornado/httpserver.py

--98e4344f	2010-09-13T20:09:40+02:00	Alberto García Hierro	alberto@garciahierro.com	Avoid raising a KeyError when there's no session expiration date

It happens when the token is requested with the 'offline_access'
extended permission.

98e4344f
1	1	tornado/auth.py

--6e1dbe24	2010-09-13T11:18:46-07:00	Ben Darnell	ben@bendarnell.com	Fix calls to getattr (which, unlike dict.get, does not default to None).

Reported in issue #137.

6e1dbe24
2	2	tornado/ioloop.py

--34f04945	2010-09-09T10:06:47-07:00	Ben Darnell	ben@bendarnell.com	Add download url to setup.py for pypi

34f04945
4	1	setup.py

--9163e347	2010-09-08T15:06:21-07:00	Ben Darnell	ben@bendarnell.com	Check self._running before rescheduling a PeriodicCallback, so stop() can
be called from inside the callback.

Closes #135.

9163e347
1	0	tornado/ioloop.py

--2338348e	2010-09-07T17:05:12-07:00	Ben Darnell	ben@bendarnell.com	Bump version number to 1.1

2338348e
1	1	setup.py
2	2	tornado/__init__.py
3	3	website/templates/documentation.txt
3	3	website/templates/index.html

--afb82f68	2010-09-07T17:02:50-07:00	Ben Darnell	ben@bendarnell.com	Disable SSL test on versions of libcurl with blocking SSL handshakes.
(using gnutls instead of openssl and libcurl < 7.21.0).

afb82f68
9	2	tornado/test/httpserver_test.py

--bb8d2fa4	2010-09-07T16:01:22-07:00	Ben Darnell	ben@bendarnell.com	Disable SSL test on python 2.5

bb8d2fa4
9	0	tornado/test/httpserver_test.py

--2e288577	2010-09-07T16:01:04-07:00	Ben Darnell	ben@bendarnell.com	Use the older name for threading.activeCount for compatibility with python 2.5

2e288577
2	2	tornado/httpclient.py

--e6d93d93	2010-09-07T15:19:21-07:00	Ben Darnell	ben@bendarnell.com	Fix error in comment

e6d93d93
1	1	tornado/websocket.py

--6d7e515e	2010-09-06T11:24:09-07:00	Ben Darnell	ben@bendarnell.com	Fix typo in websocket.py

Closes #133.

6d7e515e
1	1	tornado/websocket.py

--8e34c59e	2010-09-06T00:00:52-07:00	Ben Darnell	ben@bendarnell.com	Remove superfluous lambdas in tornado.escape.

Closes #132.

8e34c59e
2	2	tornado/escape.py

--93fc3d09	2010-09-04T20:38:59-07:00	Ben Darnell	ben@bendarnell.com	Document why RequestHandler.write does not convert lists to JSON.

93fc3d09
5	0	tornado/web.py

--890d8291	2010-09-04T12:19:46-07:00	Ben Darnell	ben@bendarnell.com	Add more documentation for request.files.

890d8291
5	0	website/templates/documentation.txt

--5b9e79e7	2010-08-31T11:38:06-04:00	Joe Bowman	bowman.joseph@gmail.com	auth.py updates for OAuth 1.0a and 2.0.

OAuthMixin now supports both 1.0a and 1.0 (defaults to 1.0a).  TwitterMixin
and GoogleMixin now use 1.0a, FriendfeedMixin remains at 1.0.  This adds
support for the callback_uri parameter to TwitterMixin.

New classes OAuth2Mixin and FacebookGraphMixin are introduced for the new
Facebook APIs.

Backwards compatibility notes:

Pending authorizations begun prior to this change will not be able to
be completed after it (tokens issued under prior versions of this code
will still work; this warning applies only to users who have started
but not yet completed their initial authorizations).

If you have used OAuthMixin directly (not one of the subclasses in this
module) to access a service that does not support OAuth 1.0a, set
_OAUTH_VERSION = "1.0" in your subclass.

Pull requests:
http://github.com/facebook/tornado/pull/126
http://github.com/facebook/tornado/pull/128
http://github.com/facebook/tornado/pull/130

Written by Joe Bowman, rebased from http://github.com/joerussbowman/tornado/commit/1572ecc6726f1ab33d2153798af0f13ad9e75ab6 by Ben Darnell.

5b9e79e7
237	8	tornado/auth.py

--d1b58414	2010-09-01T15:27:32-07:00	Ben Darnell	ben@bendarnell.com	Remove the statement that tornado has only been tested with firefox.

d1b58414
4	7	website/templates/documentation.txt

--0aae8f90	2010-09-01T15:16:57-07:00	Ben Darnell	ben@bendarnell.com	Remove __del__ method from HTTPResponse.  Closing cStringIO objects isn't
really necessary, and the presence of a __del__ method prevents python's
GC from breaking cyclical references (which happen on errors as HTTPError
and HTTPResponse refer to each other).

Closes #125.

0aae8f90
0	4	tornado/httpclient.py

--aab1be8b	2010-08-30T12:18:21-07:00	Ben Darnell	ben@bendarnell.com	Update class docstring for HTTPServer.

Closes #123.

aab1be8b
2	2	tornado/httpserver.py

--2ccfb35f	2009-12-22T10:40:59-08:00	Aaron Raddon	araddon@yahoo.com	adding support for http method OPTIONS used by firefox, safari, for cross domain

Closes #46.

2ccfb35f
4	1	tornado/web.py

--b4c5aba7	2010-08-26T11:52:41-07:00	Ben Darnell	ben@bendarnell.com	Fix reference to slice.indices.

Is this used anywhere?

Closes: #13.

b4c5aba7
1	1	tornado/template.py

--86667742	2010-08-26T11:40:49-07:00	Ben Darnell	ben@bendarnell.com	Document the limitations of multi-process mode.

Closes #65.

86667742
5	0	tornado/httpserver.py

--c4413f5b	2010-08-26T11:31:54-07:00	Ben Darnell	ben@bendarnell.com	Document the fact that add_handlers should only be called once for each
host_pattern.

c4413f5b
7	1	tornado/web.py

--318ec31c	2010-08-26T11:09:56-07:00	Ben Darnell	ben@bendarnell.com	Set pycurl.NOSIGNAL when multiple threads are detected.

Closes #121.

318ec31c
11	0	tornado/httpclient.py

--fcab3583	2010-08-25T17:17:44-07:00	Ben Darnell	ben@bendarnell.com	Set PeriodicCallback._running to True in start instead of __init__

Closes #72.

fcab3583
2	1	tornado/ioloop.py

--803f33c1	2010-08-25T16:54:02-07:00	Ben Darnell	ben@bendarnell.com	Add a tornado.version variable, and use it anywhere we use the current
tornado version to produce a Server: header.

Closes #22.

803f33c1
3	0	tornado/__init__.py
2	1	tornado/web.py
9	5	tornado/websocket.py
2	1	tornado/wsgi.py

--3f0740c8	2010-08-25T16:34:41-07:00	Ben Darnell	ben@bendarnell.com	Check in Jacob Kristhammar's updated websocket implementation.

http://groups.google.com/group/python-tornado/browse_thread/thread/065823d0c6593b85

3f0740c8
263	0	tornado/websocket.py

--e571668d	2010-08-25T15:34:21-07:00	Ben Darnell	ben@bendarnell.com	Add more documentation of overridable methods in RequestHandler

e571668d
45	0	website/templates/documentation.txt

--1580728f	2010-08-25T11:36:44-07:00	Ben Darnell	ben@bendarnell.com	Move AuthRedirectTest from httpserver_test to web_test where it belongs

1580728f
1	36	tornado/test/httpserver_test.py
38	2	tornado/test/web_test.py

--b398a816	2010-08-25T11:33:09-07:00	Ben Darnell	ben@bendarnell.com	Add a test for HTTPServer's SSL support

b398a816
28	0	tornado/test/httpserver_test.py
15	0	tornado/test/test.crt
16	0	tornado/test/test.key
8	1	tornado/testing.py

--b3e953ea	2010-08-25T11:32:10-07:00	Ben Darnell	ben@bendarnell.com	Don't swallow SSL errors - always reraise or return

b3e953ea
4	2	tornado/httpserver.py

--9d605f2b	2010-08-19T14:25:15-04:00	Ben Darnell	ben@bendarnell.com	Make the SSL handshake non-blocking.

Based on work by mgenti.  See
http://github.com/mgenti/tornado/commit/197e88e62f1970b65a3807ac37160194fab7d496
and its ancestors.

9d605f2b
16	2	tornado/httpserver.py
46	0	tornado/iostream.py

--252a2bb9	2010-08-19T13:57:47-04:00	Ben Darnell	ben@bendarnell.com	Merge remote branch 'tomhsx/proxy-support'

252a2bb9
--4e10c31f	2010-08-19T13:52:09-04:00	Ben Darnell	ben@bendarnell.com	Add HTTPServer(..., xheaders=True) to the web documentation.

4e10c31f
5	0	website/templates/documentation.txt

--55b4eae8	2010-08-19T13:48:08-04:00	Ben Darnell	ben@bendarnell.com	Add a links section to the website

55b4eae8
8	0	website/templates/index.html

--00f9e48d	2010-08-16T01:37:16-04:00	tomhsx	tomhsx@gmail.com	Added proxy support to httpclient

00f9e48d
15	1	tornado/httpclient.py

--51d6ba42	2010-08-15T18:17:42-07:00	Ben Darnell	ben@bendarnell.com	Suppress tornado's default logging setup if there is any existing logging
config, not just --log_file_prefix.

51d6ba42
13	10	tornado/options.py

--221058e1	2010-08-15T18:11:48-07:00	Ben Darnell	ben@bendarnell.com	In LogTrapTestCase, leave everything alone rather than throwing an exception
if the logging config is not as expected.

221058e1
6	0	tornado/testing.py

--551ea94d	2010-08-15T18:04:34-07:00	Ben Darnell	ben@bendarnell.com	Initialize member variables in AsyncTestCase.__init__ instead of setUp
to avoid masking the real error in _stack_context() if run() throws an
exception.

551ea94d
6	2	tornado/testing.py

--33fe4a4e	2010-08-13T14:49:03-07:00	Ben Darnell	ben@bendarnell.com	Fix another link to 1.0.1

33fe4a4e
1	1	website/templates/index.html

--0ece9ed6	2010-08-13T10:51:50-07:00	Ben Darnell	ben@bendarnell.com	Check in symlink to tornado package in website directory

0ece9ed6
1	0	website/tornado

--d8b265dd	2010-08-13T10:50:37-07:00	Ben Darnell	ben@bendarnell.com	Update links to 1.0.1 release

d8b265dd
3	3	website/templates/documentation.txt
3	3	website/templates/index.html

--bbc1ef12	2010-08-13T10:19:26-07:00	Ben Darnell	ben@bendarnell.com	Test case for secure cookie change

bbc1ef12
1	0	tornado/test/runtests.py
45	0	tornado/test/web_test.py

--a770a7cf	2010-08-13T10:18:28-07:00	Ben Darnell	ben@bendarnell.com	Check for far-future timestamps in secure cookies.

a770a7cf
10	0	tornado/web.py

--8d607129	2010-08-13T00:34:23-07:00	Ben Darnell	ben@bendarnell.com	Add future import to fix tests on 2.5

8d607129
1	0	tornado/test/stack_context_test.py

--db3d0219	2010-08-11T11:34:40-07:00	Ben Darnell	ben@bendarnell.com	Add a mention of on_connection_close to the html docs.  Add a
warning about proxies keeping connections open.

db3d0219
5	0	tornado/web.py
3	0	website/templates/documentation.txt

--41c14b82	2010-08-10T14:00:18-07:00	Ben Darnell	ben@bendarnell.com	Remove the ability to pre-bind parameters in stack_context.wrap.

This functionality was incorrect and unused, and unlike async_callback,
I don't think the implicit binding is a good fit for this API.

41c14b82
2	9	tornado/stack_context.py

--9d4444e3	2010-08-10T13:57:32-07:00	Ben Darnell	ben@bendarnell.com	Reindent everything to 4 spaces.

9d4444e3

--02d07def	2010-08-10T13:51:53-07:00	Ben Darnell	ben@bendarnell.com	StackContext should not re-wrap previously-wrapped callbacks.

This allows for library code to "pop" back up to a previous version of the
stack.

02d07def
5	4	tornado/stack_context.py
42	2	tornado/test/stack_context_test.py

--cd888f2f	2010-08-09T14:33:32-07:00	Ben Darnell	ben@bendarnell.com	Be less picky about line endings in headers in httpclient.

HTTP requires that lines end with \r\n, but some buggy servers (including
news.ycombinator.com) just use \n.  Libcurl tolerates this and sends the
line as-is to the header callback, so we need to be prepared to handle
either form.

cd888f2f
3	1	tornado/httpclient.py

--00ce7d4d	2010-08-09T14:12:33-07:00	Ben Darnell	ben@bendarnell.com	Add a simple main function to httpclient.py for manual testing

00ce7d4d
25	0	tornado/httpclient.py

--fef1129b	2010-08-09T14:01:48-07:00	Ben Darnell	ben@bendarnell.com	The periodic call to multi_socket_all needs to be followed by
 _finish_pending_request or else those requests won't be finished until
after the next one is started.

fef1129b
15	1	tornado/httpclient.py

--91c1bcba	2010-08-06T16:09:04-07:00	Ben Darnell	ben@bendarnell.com	Record more detailed timing information from AsyncHTTPClient, and make
it available as HTTPResponse.time_info.

91c1bcba
35	4	tornado/httpclient.py

--98d41261	2010-08-06T13:12:14-07:00	Ben Darnell	ben@bendarnell.com	When login_url is absolute, use an absolute url for the next redirect.

Closes: GH-119

98d41261
42	0	tornado/test/httpserver_test.py
1	0	tornado/test/runtests.py
6	1	tornado/web.py

--ae3c3545	2010-08-04T18:47:42-07:00	Ben Darnell	ben@bendarnell.com	Use the right IOLoop in AsyncHTTPClient's PeriodicCallback

ae3c3545
1	1	tornado/httpclient.py

--e5bd0c06	2010-08-04T17:42:07-07:00	Ben Darnell	ben@bendarnell.com	Use POST instead of GET for OpenID check_authentication.

Google apparently doesn't check for this, but other OpenID providers do.

e5bd0c06
3	2	tornado/auth.py

--becb5f27	2010-08-04T17:40:24-07:00	Ben Darnell	ben@bendarnell.com	Suppress libcurl's magic "Expect: 100-continue" behavior.

This was motivated by the discovery of bug
https://sourceforge.net/tracker/?func=detail&atid=100976&aid=3039744&group_id=976

becb5f27
10	0	tornado/httpclient.py

--8995f5a0	2010-08-04T17:30:20-07:00	Ben Darnell	ben@bendarnell.com	Add a brute-force workaround for the class of libcurl bugs that cause
file descriptors or timeouts to get silently dropped.  (the old
fdset/perform implementation of AsycnHTTPClient had a similar workaround).

8995f5a0
9	0	tornado/httpclient.py

--0875b784	2010-08-04T14:00:34-07:00	Ben Darnell	ben@bendarnell.com	Fix a typo in docstring

0875b784
1	1	tornado/web.py

--2aa89273	2010-08-04T12:02:05-07:00	Ben Darnell	ben@bendarnell.com	Parse form bodies on PUT as well as POST.

HTML5 adds support for PUT and DELETE in forms, so x-www-form-urlencoded
PUT bodies are now possible.

2aa89273
1	1	tornado/httpserver.py

--805ac65d	2010-08-03T14:35:45-07:00	Ben Darnell	ben@bendarnell.com	Work around the "MySQL server has gone away" issue by closing and reopening
connections that have been idle for too long.

805ac65d
18	3	tornado/database.py

--9a083095	2010-08-03T14:21:24-07:00	Ben Darnell	ben@bendarnell.com	Use the more portable multiprocessing.cpu_count() to detect the number
of cpus where available (python 2.6).

9a083095
21	7	tornado/httpserver.py

--8c17e79b	2010-07-30T17:22:53-07:00	Ben Darnell	ben@bendarnell.com	Add a workaround for missing multi.socket_action on older versions of pycurl.

8c17e79b
15	2	tornado/httpclient.py

--293d15d5	2010-07-30T16:47:13-07:00	Ben Darnell	bdarnell@beaker.local	Only catch pycurl.error, not all Exceptions around a call to multi.socket_action.

This was hiding an AttributeError being thrown on older versions of pycurl
(which did not expose the socket_action method).

293d15d5
2	2	tornado/httpclient.py

--252cb1c0	2010-07-30T14:21:37-07:00	Ben Darnell	bdarnell@beaker.local	Docstring updates

252cb1c0
15	3	tornado/testing.py

--6df410aa	2010-07-29T19:08:30-07:00	Ben Darnell	bdarnell@beaker.local	Fix a StackContext-related bug that was causing exceptions in callbacks
to result in timeouts instead of making wait() re-throw the exception.
Add a test to verify that this works.

6df410aa
2	1	tornado/test/runtests.py
15	0	tornado/test/testing_test.py
5	1	tornado/testing.py

--b260c92d	2010-07-29T19:01:13-07:00	Ben Darnell	bdarnell@beaker.local	Add __future__ import for python2.5 compatibility

b260c92d
2	0	tornado/testing.py

--66f94d2c	2010-07-29T19:00:06-07:00	Ben Darnell	bdarnell@beaker.local	Update test_ioloop to use AsyncTestCase.  Rename it to ioloop_test and
make other stylistic changes for consistency.

66f94d2c
28	0	tornado/test/ioloop_test.py
1	1	tornado/test/runtests.py
0	38	tornado/test/test_ioloop.py

--15e5bf08	2010-07-29T18:53:18-07:00	Ben Darnell	bdarnell@beaker.local	Add a test framework for IOLoop-based async code

15e5bf08
4	0	tornado/httputil.py
0	0	tornado/test/__init__.py
15	0	tornado/test/runtests.py
9	14	tornado/test/stack_context_test.py
296	0	tornado/testing.py

--28adce30	2010-07-29T17:03:40-07:00	Ben Darnell	bdarnell@beaker.local	Make all internal imports of tornado modules absolute

28adce30
3	2	tornado/auth.py
2	1	tornado/autoreload.py
6	5	tornado/httpclient.py
4	3	tornado/httpserver.py
2	1	tornado/ioloop.py
2	1	tornado/iostream.py
4	4	tornado/s3server.py
2	1	tornado/template.py
7	6	tornado/web.py
5	4	tornado/wsgi.py

--83864d60	2010-07-26T12:04:00-07:00	Ben Darnell	bdarnell@beaker.local	Add an initialize() method to RequestHandler for use by subclasses.

This is simpler than overriding __init__ since it doesn't require
knowledge of the application and request arguments that must be
passed through to the superclass's __init__.

83864d60
22	1	tornado/web.py

--dbfdf46c	2010-07-26T11:49:05-07:00	Ben Darnell	bdarnell@beaker.local	Remove unused transforms parameter to RequestHandler.__init__.
Transforms are actually passed in via _execute.

dbfdf46c
2	2	tornado/web.py

--721e25d0	2010-07-23T12:35:08-07:00	Ben Darnell	bdarnell@beaker.local	Introduce StackContext, a way to automatically manage exception
handling and other stack-related state for asynchronous callbacks.
This means that it is no longer necessary to wrap everything
in RequestHandler.async_callback.

721e25d0
6	1	tornado/httpclient.py
4	7	tornado/ioloop.py
141	0	tornado/stack_context.py
57	0	tornado/test/stack_context_test.py
12	3	tornado/web.py

--94f073b7	2010-07-23T11:12:56-07:00	Ben Darnell	bdarnell@beaker.local	Remove the old AsyncHTTPClient (fdset) and make AsyncHTTPClient2
(socket_action) the standard.

94f073b7
5	232	tornado/httpclient.py

--eb5b3d8d	2010-07-22T15:15:37-07:00	Ben Darnell	bdarnell@beaker.local	Set version number to 1.0

eb5b3d8d
1	1	setup.py
1	1	tornado/web.py
3	3	website/templates/documentation.txt
3	3	website/templates/index.html

--d90ba2e0	2010-07-22T16:50:59-07:00	Ben Darnell	bdarnell@beaker.local	Remove old release tarballs and redirect previous urls to github

d90ba2e0
6	0	website/app.yaml
-	-	website/static/tornado-0.1.tar.gz
-	-	website/static/tornado-0.2.tar.gz
5	0	website/website.py

--22f45256	2010-07-22T15:13:25-07:00	Ben Darnell	bdarnell@beaker.local	Move download links to github

22f45256
1	1	website/templates/documentation.txt
1	1	website/templates/index.html

--0bb985a8	2010-07-22T14:29:07-07:00	Ben Darnell	bdarnell@beaker.local	Remove websocket.py.  The websocket protocol has changed in
incompatible ways (and is still not yet final), so the version
implemented in this module is not compatible with current
browsers.  This module may be reintroduced in the future when
we have an implementation of the new protocol.

0bb985a8
0	139	tornado/websocket.py

--7a288245	2010-07-22T13:04:10-07:00	Ben Darnell	bdarnell@beaker.local	Update installation instructions.

7a288245
10	2	website/templates/documentation.txt
9	3	website/templates/index.html

--2c89b895	2010-07-20T10:25:25-07:00	Ben Darnell	bdarnell@beaker.local	Accept None (i.e. unmatched optional groups) when extracting parameters from
the path.

http://github.com/facebook/tornado/issues/issue/115

2c89b895
7	2	tornado/web.py

--ad104ffb	2010-07-19T19:39:42-07:00	Ben Darnell	bdarnell@beaker.local	When no json library is found, don't throw an exception unless
json functionality is used, to make the simplejson dependency optional
for python 2.5 users.

ad104ffb
6	1	tornado/escape.py

--ea032b6c	2010-07-19T13:09:28-07:00	Ben Darnell	bdarnell@beaker.local	Check for EINTR in a more flexible way for compatibility with older pythons
and poll implementations.

Original commit:
http://github.com/eklitzke/tornado/commit/31c33737c5534f21a99371bb21e02cd4791f9010

ea032b6c
8	1	tornado/ioloop.py

--7a30f9f6	2010-07-14T18:12:16-07:00	Ben Darnell	bdarnell@beaker.local	Fix typo in support for multiple ui_method/ui_module containers

7a30f9f6
2	2	tornado/web.py

--c78ab55d	2010-07-14T16:31:22-07:00	Ben Darnell	bdarnell@beaker.local	Better timeout handling in AsyncHTTPClient2.  Tornado and libcurl may
use different clock functions, which can cause timeouts to be delayed
(in some cases until the next fetch is started).  This change
resynchronizes the schedule after each timeout call.

c78ab55d
25	4	tornado/httpclient.py

--64d8d4e5	2010-07-14T21:00:57+10:00	David Novakovic	davidnovakovic@gmail.com	Fix small bug in database set up.

64d8d4e5
1	1	tornado/database.py

--e2181b03	2010-07-13T10:28:52+02:00	Robert Buchholz	rbu@goodpoint.de	Make iteration over sql fields clearer

e2181b03
6	3	tornado/database.py

--a9090a97	2010-07-13T10:26:01+02:00	Robert Buchholz	rbu@goodpoint.de	Remove unused imports and variables

a9090a97
0	1	tornado/auth.py
1	3	tornado/autoreload.py
0	1	tornado/database.py
0	1	tornado/httpclient.py
0	1	tornado/httpserver.py
0	2	tornado/locale.py

--b42c61c8	2010-07-09T18:15:12-07:00	Ben Darnell	bdarnell@beaker.local	In AsyncHTTPClient2, disable IPv6 for versions of libcurl with the
socket-reopening bug (i.e. <= 7.21.0).  (this can be overridden if needed
with a prepare_curl_callback)

b42c61c8
9	4	tornado/httpclient.py

--557da3db	2010-07-09T13:07:43-07:00	Ben Darnell	bdarnell@beaker.local	Unquote percent escapes in captured groups in the path component of the URI,
to be more consistent with our handling of query parameters.

This change is slightly backwards-incompatible:  applications that have
already added an unquote() call on arguments to RequestHandler.get/post
will need to remove them.

This change replaces an earlier (reverted) commit:
http://github.com/facebook/tornado/commit/7b80c2f4db226d6fa3a7f3dfa59277da1d642f91

557da3db
3	2	tornado/web.py

--455eb75b	2010-07-09T12:57:01-07:00	Ben Darnell	bdarnell@beaker.local	Revert "Parse percent escapes in the path component of the uri, to be more"

This reverts commit 7b80c2f4db226d6fa3a7f3dfa59277da1d642f91.

URI spec requires that '/' and '%2F' be distinguishable, so it's incorrect
to escape at this level.  The next commit will instead unquote captured
groups before passing them to get()/post() in web.py

455eb75b
1	3	tornado/httpserver.py

--7b80c2f4	2010-07-08T18:27:43-07:00	Ben Darnell	bdarnell@beaker.local	Parse percent escapes in the path component of the uri, to be more
consistent with our handling of query parameters (especially important
when capturing groups are used in the URLSpec regex).

This change is slightly backwards-incompatible:  applications that have
already added an unquote() call on arguments to RequestHandler.get/post
or use percent escapes in URLSpec patterns will need to remove them.

7b80c2f4
3	1	tornado/httpserver.py

--a7dc5bc4	2010-07-08T17:06:03-07:00	Ben Darnell	bdarnell@beaker.local	Consolidate the various HTTP header dictionary classes into one,
which includes better handling of headers with repeated values
(e.g. Set-Cookie)

a7dc5bc4
13	15	tornado/httpclient.py
4	23	tornado/httpserver.py
140	0	tornado/httputil.py
3	22	tornado/wsgi.py

--e98735bf	2010-07-08T15:52:44-07:00	Ben Darnell	bdarnell@beaker.local	Disable preforking by default in HTTPServer.start().

This makes "server.listen(port)" and "server.bind(port);
server.start()" equivalent.

e98735bf
8	7	tornado/httpserver.py

--2ac74268	2010-06-28T09:52:46-07:00	Ben Darnell	bdarnell@beaker.local	UTF8-encode more user-supplied strings in httpclient (headers and user-agent)

2ac74268
2	2	tornado/httpclient.py

--52c378f7	2010-06-26T16:00:26-07:00	Ben Darnell	bdarnell@beaker.local	Update the set of active file descriptors immediately after calling perform
instead of after running user callbacks, since those callbacks might have
started using file descriptors that were closed by curl in perform().

Thanks to David Novakovic for the fix.  Adapted from
http://github.com/dpnova/tornado/commit/6df99e948e0832c60966f7c34190de87af87ffc5

52c378f7
47	42	tornado/httpclient.py

--33c3f8d2	2010-06-26T15:16:15-07:00	Ben Darnell	bdarnell@beaker.local	Include the HTTPResponse object as an attribute of HTTPError

33c3f8d2
18	5	tornado/httpclient.py

--60ef8d5d	2010-06-23T18:01:30-07:00	Ben Darnell	bdarnell@beaker.local	Remove unused "overwrite" argument to options.parse_config_file

60ef8d5d
1	1	tornado/options.py

--e7654cda	2010-06-21T09:29:27-07:00	Ben Darnell	bdarnell@beaker.local	Fix typo in comment

e7654cda
1	1	tornado/httpserver.py

--1ba0161e	2010-06-19T19:38:02-07:00	Ben Darnell	bdarnell@beaker.local	Add a second implementation of AsyncHTTPClient, using a new libcurl api.

Adapted from Jacob Kristhammar's work:
http://github.com/sris/tornado/blob/master/tornado/httpclient2.py

1ba0161e
198	0	tornado/httpclient.py

--df0d88eb	2010-06-18T15:59:19-07:00	Ben Darnell	bdarnell@beaker.local	Close wsgi responses correctly - the close method, if present, will
be on the result of self.wsgi_application() and not on the list
of output we're building up.

df0d88eb
5	4	tornado/wsgi.py

--39ac6d16	2010-06-10T14:49:57-07:00	Ben Darnell	bdarnell@beaker.local	In the libcurl file descriptor limit hack, log to both stderr and
logging.error since they may got to different places and one may be
more visible than the other.

39ac6d16
1	0	tornado/httpclient.py

--27171cde	2010-06-08T11:48:43-07:00	Ben Darnell	bdarnell@beaker.local	Catch and log exceptions from user callbacks in AsyncHTTPClient.

27171cde
6	0	tornado/httpclient.py

--b8271f94	2010-06-07T00:43:59-07:00	Ben Darnell	bdarnell@beaker.local	Fix missing import

b8271f94
1	0	tornado/httpclient.py

--d1e14503	2010-05-30T23:04:10-07:00	Ben Darnell	bdarnell@beaker.local	Optionally allow nonstandard http methods to be used in httpclient.

By default we check that the method is one of the standard ones (and
is capitalized correctly), but this can be overridden to work with a
server that has implemented nonstandard methods (e.g. CouchDB)

http://github.com/facebook/tornado/issues/issue/90

d1e14503
4	2	tornado/httpclient.py

--d5a3d8a0	2010-05-27T15:38:37-07:00	Mike Lewis	mlewis@scribd.com	Changed it so one can access the StringIO buffer

This allows for people to use the file-like object
that already exists without having to convert the body
back to the StringIO

d5a3d8a0
25	8	tornado/httpclient.py

--6f6c9505	2010-05-30T22:50:11-07:00	Ben Darnell	bdarnell@beaker.local	Clear the close_callback set on the IOStream by RequestHandlers in
finish(), so that the close_callback does not prevent garbage collection
of the handlers.

http://github.com/facebook/tornado/issues/issue/95/

6f6c9505
7	0	tornado/web.py

--5d430b10	2010-05-30T22:42:53-07:00	Ben Darnell	bdarnell@beaker.local	Close the socket on uncaught exceptions from iostream handlers.

This prevents a possible denial of service if erroneous requests are
made faster than garbage collection can reclaim socket file
descriptors.

http://groups.google.com/group/python-tornado/browse_frm/thread/7a5d61e6ba0c71b8/8af41b48ac02cc6c

5d430b10
20	5	tornado/iostream.py

--2b068402	2010-05-30T22:16:11-07:00	Ben Darnell	bdarnell@beaker.local	Improve parsing of multipart/form-data headers.

This change was motivated by google app engine's xmpp support,
which uses different spacing in the header than other common clients
and quotes its boundary string.

Based on changes by jehiah:
http://github.com/jehiah/tornado/commit/18cb45ca73859fa81883bd10c9cd8e051865096a
http://github.com/jehiah/tornado/commit/9d67963466878550368b932746bb4a244a593905

2b068402
11	1	tornado/httpserver.py
6	1	tornado/wsgi.py

--982554e7	2010-05-30T21:56:44-07:00	Ben Darnell	bdarnell@beaker.local	Added RequestHandler.get_arguments(), which does the same normalization
as get_argument() but returns a list for repeated arguments.

Based on changes by jehiah:
http://github.com/jehiah/tornado/commit/cbe2eeb1753de7d1a16a86c6a96b5f8e7c99dd52
http://github.com/jehiah/tornado/commit/af08ab067fb7ad1661fc56039004cbd86356716c

982554e7
21	6	tornado/web.py

--548bd70d	2010-05-28T17:25:59-07:00	Ben Darnell	bdarnell@beaker.local	Update documentation for WebSocketHandler

548bd70d
3	0	tornado/websocket.py

--70a37708	2010-05-28T17:12:34-07:00	Ben Darnell	bdarnell@beaker.local	Revert "websockets: continue listening for messages after parsing completion"

This reverts commit 9ea5f8a277db96557ae7867375c7db4d8c5f633a.

The one-shot behavior of receive_message was intentional, and simply
requeuing the old callback every time will eventually overflow the
stack due to repeated async_callback wrappers.  An alternate interface
that doesn't require receive_message to be called for every message
may be added in a future change.

See discussion at
http://github.com/facebook/tornado/commit/9ea5f8a277db96557ae7867375c7db4d8c5f633a

70a37708
0	1	tornado/websocket.py

--7f8725c7	2010-05-25T14:36:50-07:00	Ben Darnell	bdarnell@beaker.local	Allow StaticFileHandler subclasses to set additional headers on the response

7f8725c7
6	0	tornado/web.py

--57a9ac03	2010-05-25T11:40:42-07:00	Ben Darnell	bdarnell@beaker.local	Don't try to compute max() of an empty sequence (which throws an exception)

57a9ac03
1	1	tornado/httpclient.py

--d6002caf	2010-05-24T19:06:31-07:00	Ben Darnell	bdarnell@beaker.local	Add a hacky workaround for libcurl's FD_SETSIZE bug.  It's ugly,
but better than undefined behavior.

d6002caf
19	0	tornado/httpclient.py

--b9a9ccc3	2010-05-20T13:50:03-07:00	Ben Darnell	bdarnell@beaker.local	Make it possible to override template_path at the handler level

b9a9ccc3
9	1	tornado/web.py

--0c363662	2010-05-16T19:33:59-07:00	Ben Darnell	bdarnell@beaker.local	Use a lambda instead of functools.partial for pycurl.HEADERFUNCTION.
Older versions of pycurl (including 7.16.2.1, which is the recommended
version for Mac OS X 10.5) only work with real functions, not objects
with a __call__ method like functools.partial.

Remove exception-swallowing - curl versions that predate HEADERFUNCTION
are no longer supported.

0c363662
1	5	tornado/httpclient.py

--e8dec4d0	2010-05-09T18:54:34-07:00	Ben Darnell	bdarnell@beaker.local	Merge remote branch 'dlo/master'

e8dec4d0
--f0a3d895	2010-05-09T18:51:49-07:00	Ben Darnell	bdarnell@beaker.local	Translate </ to <\/ in json output to avoid issues with the string
"</script>".

f0a3d895
7	1	tornado/escape.py

--26af9e40	2010-05-09T18:46:06-07:00	Ben Darnell	bdarnell@beaker.local	Support additional keyword arguments on cookies (to be handled by the
underlying stdlib Cookie module)

26af9e40
10	2	tornado/web.py

--9ea5f8a2	2010-05-04T15:59:22-07:00	Dan Loewenherz	dloewenherz@gmail.com	websockets: continue listening for messages after parsing completion

The prior implementation stops listening for messages after the first
message is received.

9ea5f8a2
1	0	tornado/websocket.py

--00ad92f3	2010-04-30T17:28:40-07:00	Ben Darnell	bdarnell@beaker.local	Allow for missing "expires" field in facebook session, which can
happen if offline_access is granted.

00ad92f3
1	1	tornado/auth.py

--339f08bd	2010-04-28T23:27:45-07:00	Jon Parise	jon@indelible.org	Correcting a grammatical error (attribute -> attributes).

339f08bd
1	1	website/templates/documentation.txt

--80847391	2010-04-27T05:41:22+08:00	Evan Klitzke	evan@eklitzke.org	UIModule.css_files returns CSS files, not Javascript files

80847391
1	1	tornado/web.py

--bbdf2076	2010-04-23T22:26:49-04:00	Joseph Bowman	bowman.joseph@gmail.com	Updating base Twitter url

bbdf2076
5	5	tornado/auth.py

--0fcef4e2	2010-04-22T16:12:41-07:00	Ben Darnell	bdarnell@beaker.local	Clear itimer signals in autoreload so the combination of autoreload
and ioloop.set_blocking_log_threshold doesn't cause the new process
to get killed.

0fcef4e2
10	0	tornado/autoreload.py

--9f7c9a38	2010-04-21T14:17:22-07:00	Ben Darnell	bdarnell@beaker.local	Use escape.utf8() instead of .encode('utf-8') so we don't double-encode

9f7c9a38
2	1	tornado/httpclient.py
1	1	tornado/wsgi.py

--c87e84f0	2010-04-21T13:57:05-07:00	Ben Darnell	bdarnell@beaker.local	cStringIO's constructor uses a 16-bit encoding when given a unicode
string.  This is inconsistent with its write method, which encodes all
strings as ascii (and rejects unicode strings iff they have any
non-ascii characters).  This change uses utf-8 as the default encoding
when constructing cStringIO objects in tornado.

c87e84f0
1	1	tornado/httpclient.py
1	1	tornado/wsgi.py

--b686d6d4	2010-04-21T11:57:44-07:00	Ben Darnell	bdarnell@beaker.local	Add an option to log a stack trace any time the ioloop is blocked for
more than a specified amount of time.

b686d6d4
35	0	tornado/ioloop.py

--ca8002fa	2010-04-20T15:40:33-07:00	Ben Darnell	bdarnell@beaker.local	Send all logging to the root logger instead of per-module loggers.
This undoes the effect of
http://github.com/facebook/tornado/commit/e391fd289ed085671344504cc5b1fa84f5a3c774

Per-module loggers are problematic because only the top-level convenience
logging.{error,warning,...} functions configure logging on-demand, so
an app that only uses per-module loggers will produce no output except
"no handlers found for logger X".  Since tornado.ioloop swallows and logs
all exceptions, this makes it too hard to tell what's going on for apps
that do not configure logging explicitly.

Instead of setting log levels on individual module's loggers,
logging.Handler.addFilter can be used with a filter that examines
the module attribute of the log record.

ca8002fa
9	11	tornado/auth.py
1	3	tornado/autoreload.py
2	4	tornado/database.py
7	9	tornado/httpclient.py
7	9	tornado/httpserver.py
7	9	tornado/ioloop.py
4	6	tornado/iostream.py
4	6	tornado/locale.py
2	4	tornado/template.py
12	14	tornado/web.py
1	3	tornado/websocket.py
6	8	tornado/wsgi.py

--40ac8d36	2010-04-19T17:07:20-07:00	Ben Darnell	bdarnell@beaker.local	Fix header parsing in httpclient for headers whose value contains ':'

40ac8d36
1	1	tornado/httpclient.py

--b8a28243	2010-04-19T11:20:03-07:00	Ben Darnell	bdarnell@beaker.local	Better HTTP header parsing: Allow (and strip) any amount of leading
and trailing whitespace around header values instead of just a single
space.  Such whitespace is legal but appears to be uncommon (and nginx
apparently normalizes everything to a single space)
http://tools.ietf.org/html/rfc2616#page-31

b8a28243
1	1	tornado/httpserver.py
1	1	tornado/wsgi.py

--43e02a2d	2010-04-19T11:03:06-07:00	Ben Darnell	bdarnell@beaker.local	Add a closed flag to AsyncHTTPClient so that a scheduled perform callback
won't cause an exception after the client is closed.

43e02a2d
5	0	tornado/httpclient.py

--fc00b617	2010-04-12T16:06:39-07:00	Ben Darnell	bdarnell@beaker.local	Use the original request's protocol as the openid realm instead of hard-coding
http.

fc00b617
1	1	tornado/auth.py

--62bc2e40	2010-04-07T16:54:34-07:00	Ben Darnell	bdarnell@beaker.local	Add support for reading translation from gettext .mo files instead of CSV.

Based on http://github.com/wmark/anzu/commits/gettext

62bc2e40
79	18	tornado/locale.py

--002ba2c1	2010-04-05T14:21:16-07:00	Ben Darnell	bdarnell@beaker.local	Log a warning when multiple handlers have the same name.

002ba2c1
4	0	tornado/web.py

--b5365d8c	2010-04-05T12:23:24-07:00	Ben Darnell	bdarnell@beaker.local	Make options.__getattr__ raise AttributeError instead of Error for consistency
with standard attribute lookups (so getattr(options, 'foo', None) works
if no option 'foo' has been defined).

b5365d8c
1	1	tornado/options.py

--218dd1ed	2010-04-02T11:47:39-07:00	Ben Darnell	bdarnell@beaker.local	Escape double quotes in addition to angle brackets and ampersands.

218dd1ed
1	1	tornado/escape.py

--e520b21e	2010-02-15T00:10:11-05:00	Elias Torres	elias@torrez.us	Adding for the ability of ui-modules to add something at the end of the body of a document.

e520b21e
10	1	tornado/web.py

--794685b8	2010-04-02T11:32:18-07:00	Ben Darnell	bdarnell@beaker.local	Merge remote branch 'mgenti/master'

794685b8
--5f4413be	2010-03-31T15:37:29-07:00	Ben Darnell	bdarnell@beaker.local	Return a write method from start_response, as required by the wsgi spec.

5f4413be
4	2	tornado/wsgi.py

--c33709a0	2010-03-30T08:40:17-05:00	unknown	mgenti@.(none)	When using the select based IOLoop, select can throw an error if based to many socket.  This does not have an errno

c33709a0
1	1	tornado/ioloop.py

--32a31f4e	2010-03-27T10:30:46-07:00	Ben Darnell	bdarnell@beaker.local	Don't try to colorize log output on terminals that don't support it

32a31f4e
1	0	tornado/options.py

--a4ba9181	2010-03-26T15:55:04-07:00	Ben Darnell	bdarnell@beaker.local	Make add_handlers (for multiple hostnames) usable with static_path (which
forces the creation of a wildcard handler) by maintaining a sensible order
for handler groups.

a4ba9181
8	0	tornado/web.py

--6326f827	2010-03-25T16:09:37-07:00	Ben Darnell	bdarnell@beaker.local	Add a warning about the experimental status of our win32 support

6326f827
3	0	tornado/win32_support.py

--7b458119	2010-03-25T16:00:09-07:00	Ben Darnell	bdarnell@beaker.local	Be consistent in platform checks:  use os.name == 'nt' everywhere, replacing
uses of os.name == 'posix' and sys.platform.startswith('win')

7b458119
8	8	tornado/httpserver.py
6	6	tornado/ioloop.py

--064cc469	2010-03-25T15:59:18-07:00	Ben Darnell	bdarnell@beaker.local	Make ioloop test runnable on unix (chmod +x and add #! line), and remove
hard-coded PYTHONPATH manipulations.  Add a small readme for tests.

064cc469
4	0	tornado/test/README
2	4	tornado/test/test_ioloop.py

--3e1d57b2	2010-03-24T10:14:03-05:00	unknown	mgenti@.(none)	Fix for raising an exception;
Fix for waking loop;
Added test

3e1d57b2
2	2	tornado/ioloop.py
40	0	tornado/test/test_ioloop.py
2	1	tornado/win32_support.py

--73fbe284	2010-03-24T08:25:23-05:00	unknown	mgenti@.(none)	Merge branch 'master' of git://github.com/facebook/tornado

73fbe284
--e391fd28	2010-03-15T14:48:17-07:00	Brandon Bickford	bickfordb@gmail.com	Use per-module loggers instead of the root logger.

e391fd28
10	9	tornado/auth.py
2	1	tornado/autoreload.py
3	2	tornado/database.py
8	7	tornado/httpclient.py
8	7	tornado/httpserver.py
9	7	tornado/ioloop.py
5	4	tornado/iostream.py
4	3	tornado/locale.py
1	0	tornado/options.py
3	2	tornado/template.py
12	11	tornado/web.py
3	1	tornado/websocket.py
7	6	tornado/wsgi.py

--e3404914	2010-03-23T17:31:14-07:00	Ben Darnell	bdarnell@beaker.local	Add __slots__ to ioloop._Timeout to reduce memory overhead when there are
many pending timeouts.

e3404914
4	0	tornado/ioloop.py

--9f4c6af8	2010-03-23T09:29:46-05:00	unknown	mgenti@.(none)	Implementing suggested changes

9f4c6af8
0	52	tornado/fcntl_win32.py
1	1	tornado/httpserver.py
17	86	tornado/ioloop.py
119	0	tornado/win32_support.py

--ae7f90bf	2010-03-23T09:24:34-05:00	unknown	mgenti@.(none)	Merge remote branch 'upstream/master'

ae7f90bf
--33a587b0	2010-03-22T16:35:05-07:00	Ben Darnell	bdarnell@beaker.local	Don't put wsgi response headers in a dictionary to support repeated
headers with the same value (mainly important for Set-Cookie)

33a587b0
9	5	tornado/wsgi.py

--7fda8c5d	2010-03-20T12:20:42-07:00	Ben Darnell	bdarnell@beaker.local	Don't set the etag header if the handler already did it.

7fda8c5d
2	1	tornado/web.py

--bce36a7c	2010-03-19T11:20:56-07:00	Ben Darnell	bdarnell@beaker.local	Add a callback to handle headers in httpclient as they come in, so
they will be available for data handled by streaming_callback.

bce36a7c
5	1	tornado/httpclient.py

--70fb42d6	2010-03-18T13:27:49-07:00	Ben Darnell	bdarnell@beaker.local	Add a close method to AsyncHTTPClient.

70fb42d6
11	0	tornado/httpclient.py

--03308b1a	2010-03-17T18:44:16-07:00	Dolapo Falola	dolapo@xenopus.local	add a template_loader application setting for using custom template loaders. a slight refactoring of TemplateLoader's load method to expose some internals. also, add a reset method to the loader that's called in debug mode to flush the template cache.

03308b1a
8	1	tornado/template.py
6	3	tornado/web.py

--8359c05c	2010-03-17T18:51:37-07:00	Ben Darnell	bdarnell@beaker.local	Support named groups in url pattern regexes.  Note that either all or none
of the groups to be passed to the handler must be named.

8359c05c
9	1	tornado/web.py

--fca7c831	2010-03-17T18:48:32-07:00	Ben Darnell	bdarnell@beaker.local	Allow more than two consecutive curlies to appear in templates (and use
the innermost).  This was previously a syntax error in the generated python.

fca7c831
7	0	tornado/template.py

--8c096b23	2010-03-17T18:29:03-07:00	Ben Darnell	bdarnell@beaker.local	Combine repeated headers with the same name into a single comma-separated string
http://www.w3.org/Protocols/HTTP/1.0/spec.html#Message-Headers

8c096b23
6	1	tornado/httpclient.py

--40ce72c1	2010-03-17T14:59:17-07:00	Ben Darnell	bdarnell@beaker.local	Replace all tabs with spaces.

40ce72c1

--6d070f77	2010-03-14T00:08:26-03:00	Fabricio Zuardi	fabricio@Fabricio-Zuardis-MacBook-Pro.local	updated the gitignore to include files generated on installation

6d070f77
2	0	.gitignore

--6704dc99	2010-03-10T15:40:36-06:00	unknown	mgenti@.(none)	win32 needs to open the files as binary

6704dc99
1	1	tornado/web.py

--bec0552e	2010-03-10T15:39:50-06:00	unknown	mgenti@.(none)	Trying to better re-use code

bec0552e
9	9	tornado/ioloop.py

--248c5780	2010-03-10T15:37:58-06:00	unknown	mgenti@.(none)	Merge remote branch 'upstream/master'

248c5780
--d2ca9ad6	2010-03-09T09:17:23-08:00	Ben Darnell	bdarnell@beaker.local	Fix bug with IOLoop's 'waker' pipe which rendered it ineffective on linux
and mac (where pipes are unidirectional) and caused high cpu usage
on solaris (where pipes are bidirectional).  Thanks to Jari Ahonen for
finding the bug.

d2ca9ad6
1	1	tornado/ioloop.py

--45f76c51	2010-03-07T12:47:52-08:00	Ben Darnell	bdarnell@beaker.local	In finish(), test if chunk is None rather than using truthiness to decide
whether to call write().

This fixes a discrepancy between finish() and write() when outputting json.
Now both write({}) and finish({}) will output an empty json object.

45f76c51
1	1	tornado/web.py

--8637a738	2010-03-04T12:30:26-08:00	Ben Darnell	bdarnell@beaker.local	Set the close-on-exec flag on file descriptors used by IOLoop (epoll/kqueue
and pipe) so that long-lived autoreloading processes don't leak file
descriptors.

8637a738
14	0	tornado/ioloop.py

--f4359bc1	2010-03-04T11:52:18-08:00	Ben Darnell	bdarnell@beaker.local	Use a WeakKeyDictionary instead of a regular dictionary to associate
IOLoop and AsyncHTTPClients.  This prevents leaks of memory and file
descriptors when one process (in my case a unit test runner) create
many IOLoop/AsyncHTTPClient pairs.

f4359bc1
5	4	tornado/httpclient.py

--d42334e3	2010-03-03T19:14:45-08:00	Ben Darnell	bdarnell@beaker.local	Allow subclasses of IOLoop to override the default logging of
uncaught exceptions in callbacks.

d42334e3
12	0	tornado/ioloop.py

--a0af68cc	2010-03-03T17:22:48-08:00	Ben Darnell	bdarnell@beaker.local	Ensure that self.io_loop is set in HTTPServer.start(), so that HTTPServer.stop
can clean up correctly.

a0af68cc
6	3	tornado/httpserver.py

--62cdb36b	2010-03-01T18:55:38-08:00	Ben Darnell	bdarnell@beaker.local	Revamp logging configuration.

* If --logging=none, tornado will not touch the python logging config.
* Colored output is optional.  If curses is not available or stderr is not
  a tty, non-colorized output will be used.
* Log output to stderr can be suppressed with --log_to_stderr=false
* Logs can be written to a file (non-colorized) with --log_file_prefix.
  Logs will be rotated, which can be controlled with --log_file_max_size
  and --log_file_num_backups.
* By default, logs go to a file if --log_file_prefix is set and to stderr
  if it is not.  To log to both stderr and a file, --log_to_stderr must
  be set to true explicitly.

62cdb36b
43	12	tornado/options.py

--61f0fafe	2010-02-26T16:36:21-08:00	Ben Darnell	bdarnell@beaker.local	Call the close() method on the wsgi response object if it exists.
This is required by the WSGI spec, and cherrypy leaks memory without it.

61f0fafe
5	2	tornado/wsgi.py

--f6266ba8	2010-02-26T14:08:09-08:00	Ben Darnell	bdarnell@beaker.local	Add SERVER_PROTOCOL variable to wsgi environment.  This turns out to be
necessary for using cherrypy in a tornado WSGIContainer.

f6266ba8
1	0	tornado/wsgi.py

--1ae186a5	2010-02-26T13:11:27-05:00	Ben Weaver	weaver@coptix.com	Add exc_info parameter to start_response() in WSGIContainer.

1ae186a5
1	1	tornado/wsgi.py

--c5627d2f	2010-02-25T15:49:08-08:00	Ben Darnell	bdarnell@beaker.local	Work around an odd error I occasionally see in autoreload (which causes
autoreload to loop endlessly without restarting the process)

c5627d2f
6	0	tornado/autoreload.py

--f9cda863	2010-02-24T16:37:11-08:00	Ben Darnell	bdarnell@beaker.local	Add a workaround for a bug in os.execv when used on Mac OS X versions
prior to 10.6 when there are multiple threads in the process.

f9cda863
24	0	tornado/autoreload.py

--010271d7	2010-02-24T15:18:39-08:00	Ben Darnell	bdarnell@beaker.local	Always reraise KeyboardInterrupt and SystemExit whenever IOLoop tries to
swallow exceptions.

010271d7
3	1	tornado/ioloop.py

--15ceda22	2010-02-16T12:47:32-08:00	Ben Darnell	bdarnell@beaker.local	Fix ioloop._KQueue to work correctly when listening for both read and write.

kqueue.control must be called separately for each type of filter, not just
once with the filters or'd together.

Fixes http://github.com/facebook/tornado/issues/issue/59/
Change adapted from
http://github.com/weaver/tornado/commit/97e528cf6b92bbb590579864962e2d51c22202e0

15ceda22
25	19	tornado/ioloop.py

--ef83f4b6	2010-02-05T10:24:57-08:00	Bret Taylor	btaylor@gmail.com	Support passing in cookie value directly in cases where you have to parse the value from other sources (e.g., from the URL for Flash requests). Also fix documentation error for Facebook Connect.

ef83f4b6
1	1	tornado/auth.py
2	2	tornado/web.py

--7ffb4423	2010-02-04T13:18:43-08:00	Ben Darnell	bdarnell@beaker.local	Don't set content-length in StaticFileHandler unless we're actually
sending the content.  Some browsers get confused by this (e.g. the
version of webkit embedded in fluid, but not the version used in chrome).

7ffb4423
1	1	tornado/web.py

--c1be85fc	2010-02-04T00:02:09-08:00	Bret Taylor	btaylor@gmail.com	Add backwards compatability for secure cookie reading

c1be85fc
15	4	tornado/web.py

--4daeb8d8	2010-02-03T23:51:20-08:00	Bret Taylor	btaylor@gmail.com	Simplify JavaScript path ordering patch

4daeb8d8
8	15	tornado/web.py

--a34dc422	2010-02-03T15:49:05-08:00	Ben Darnell	bdarnell@beaker.local	Import setuptools if it's available.

a34dc422
6	0	setup.py

--ae1ed234	2010-02-03T18:02:11-05:00	Elias Torres	elias@manta.local	Making sure StaticFileHandlers get first, if not, a catch all handler would break the static handlers.

ae1ed234
2	2	tornado/web.py

--3e9a285a	2010-02-03T12:18:44-08:00	Ben Darnell	bdarnell@beaker.local	Include cookie name in signature so that a value signed for use in one
cookie can't be used in another.  Note that this invalidates all existing
signed cookies.

3e9a285a
2	2	tornado/web.py

--efbc2e09	2010-02-03T14:17:28-06:00	unknown	mgenti@.(none)	using os specific path seperator

efbc2e09
1	1	tornado/web.py

--8aae3263	2009-11-12T17:27:11-05:00	Elias Torres	elias@torrez.us	Fix for maintaining script inclusion order

8aae3263
14	4	tornado/web.py

--0984e008	2009-11-26T00:30:58-05:00	Elias Torres	elias@manta.local	Added the ability to stop an HTTPServer. Mostly for unittesting.

0984e008
4	0	tornado/httpserver.py

--74f75616	2010-02-03T12:06:43-08:00	Ben Darnell	bdarnell@beaker.local	Stop parsing arguments after --

74f75616
2	1	tornado/options.py

--20361993	2010-02-03T12:05:03-08:00	Ben Darnell	bdarnell@beaker.local	Fix EINTR exception handling for non-english locales.

20361993
1	1	tornado/ioloop.py

--8186101e	2010-02-03T11:56:57-08:00	Ben Darnell	bdarnell@beaker.local	Set headers earlier in StaticFileHandler, so we return the correct
content-type with 304 results (instead of always returning text/html)

8186101e
10	9	tornado/web.py

--77eb5867	2010-02-03T11:49:32-08:00	Ben Darnell	bdarnell@beaker.local	Add static_url_prefix setting to allow serving of static files somewhere
other than /static/

77eb5867
9	4	tornado/web.py

--123771a0	2010-02-03T10:03:01-06:00	unknown	mgenti@.(none)	Added support for running Tornado on win32

123771a0
52	0	tornado/fcntl_win32.py
7	0	tornado/httpserver.py
89	7	tornado/ioloop.py

--e30e28bc	2010-01-28T16:44:20-08:00	Ben Darnell	bdarnell@beaker.local	Add a hook to allow applications to modify the curl objects directly.

e30e28bc
5	1	tornado/httpclient.py

--b6ad0f63	2010-01-28T00:28:22-08:00	Casey Muller	github@nullterminated.com	Merge branch 'master' of git://github.com/bdarnell/tornado

b6ad0f63
--a2adfa1f	2010-01-27T23:46:12-08:00	Casey Muller	github@nullterminated.com	allow connect and request timeouts of zero

a2adfa1f
3	3	tornado/httpclient.py

--47db0277	2010-01-27T23:35:17-08:00	Casey Muller	caseymrm@caseymrm-mac.local	use self.headers for cases where no headers were passed in

47db0277
4	4	tornado/httpserver.py

--a1991136	2010-01-22T13:09:51-08:00	Ben Darnell	bdarnell@beaker.local	Make parse_command_line initialize logging even when there are non-option
arguments.

a1991136
4	2	tornado/options.py

--adcc1039	2010-01-22T13:08:33-08:00	Ben Darnell	bdarnell@beaker.local	Merge branch 'master' of git://github.com/facebook/tornado

adcc1039
--1e291eb5	2010-01-18T11:39:39-08:00	Bret Taylor	btaylor@gmail.com	Add HTML 5 WebSocket support (see http://bret.appspot.com/entry/web-sockets-in-tornado)

1e291eb5
136	0	tornado/websocket.py

--fb66140d	2010-01-17T21:12:24-08:00	Bret Taylor	btaylor@gmail.com	Fix httpclient / epoll interaction errors, per http://groups.google.com/group/python-tornado/browse_thread/thread/276059a076593266. Thanks everyone for the patch and discussion.

fb66140d
5	1	tornado/httpclient.py
2	2	tornado/ioloop.py

--57ec818a	2010-01-15T20:27:42-08:00	Ben Darnell	bdarnell@beaker.local	Catch both IOError and OSError in another place.

57ec818a
1	1	tornado/httpclient.py

--8c2429db	2010-01-15T18:42:00-08:00	Ben Darnell	bdarnell@beaker.local	Catch IOError in addition to OSError in IOLoop.remove_handler
(friendfeed's epoll module throws OSError, while the one in the standard
library throws IOError)

8c2429db
1	1	tornado/ioloop.py

--7e3ace86	2010-01-14T06:07:58-05:00	Benjamin Golub	bgolub@benjamingolub.com	fb demo fix

7e3ace86
1	1	demos/facebook/templates/modules/post.html

--c436d7aa	2010-01-11T14:17:27-08:00	Bret Taylor	btaylor@gmail.com	Fix new connection close handler for WSGI handlers

c436d7aa
2	0	tornado/web.py

--9107b6be	2010-01-11T11:53:21-08:00	Bret Taylor	btaylor@gmail.com	Add reverse_url to RequestHandler class as well

9107b6be
3	0	tornado/web.py

--70144176	2010-01-11T11:02:23-08:00	Bret Taylor	btaylor@gmail.com	Merge remote branch 'bdarnell/master'

70144176
--e4c6eec2	2010-01-11T10:31:41-08:00	Gary Burd	gary@hello9.local	Use time indepdent compare for secure cookie.

e4c6eec2
11	1	tornado/web.py

--1ea5df5e	2010-01-07T19:06:11-08:00	Ben Darnell	bdarnell@beaker.local	Add a method to RequestHandler that can be used to detect when the connection
has been closed by the client.

This has always been supported via
self.request.connection.stream.set_close_callback, but putting it in
RequestHandler directly is more discoverable and less fragile.

1ea5df5e
16	0	tornado/web.py

--d877a65d	2010-01-07T18:53:47-08:00	Ben Darnell	bdarnell@beaker.local	Add a kqueue-based implementation of IOLoop for BSD/Mac systems.

The main reason for this is to be able to detect when a connection has
been closed on the other side.
(http://github.com/facebook/tornado/issues/#issue/37)

This has been supported with epoll but not select, and it turned out to be
easier to add kqueue support than to figure out how to detect and handle
this case with select.

This change has not been tested in a production environment, but I have tested
it on my mac (10.6) and everything appears to work, and
IOStream.set_close_callback now works as expected.

d877a65d
44	0	tornado/ioloop.py

--52d20a0d	2009-12-28T17:55:00-08:00	Ben Darnell	bdarnell@beaker.local	Don't try to write to a stream that was closed out from under us.
This should get rid of all the "exception after headers written" spam
in our logs.

52d20a0d
1	0	tornado/httpserver.py

--6ee22230	2009-12-28T17:27:05-08:00	Ben Darnell	bdarnell@beaker.local	Add httpclient support for the delete method.

6ee22230
8	1	tornado/httpclient.py

--3ab63905	2009-12-16T17:01:37-08:00	Ben Darnell	bdarnell@beaker.local	If IOLoop.stop is called before the loop is running, make the next
call to IOLoop.start return immediately, so that one call each to start
and stop will result in the loop not running rather than running
infinitely, even if the call to stop happens first.

3ab63905
19	1	tornado/ioloop.py

--22d840ed	2009-12-14T15:21:26-08:00	Chris Wetherell	chrisw@gmail.com	Added kwargs to get_error_html in the RequestHandler so that downstream actors can render or otherwise use the exception object thrown. This is a backwards-incompatible change for anyone who has overridden get_error_html(). 
22d840ed
11	7	tornado/web.py

--4381df04	2009-12-09T17:07:18-08:00	Ben Darnell	bdarnell@beaker.local	Use empty dictionary instead of None as default for kwargs

4381df04
1	1	tornado/web.py

--1823a772	2009-12-09T16:59:04-08:00	Ben Darnell	bdarnell@beaker.local	Fix missed variable rename

1823a772
1	1	tornado/web.py

--df5c994a	2009-12-09T16:44:19-08:00	Ben Darnell	bdarnell@beaker.local	Add Application.reverse_url, which can generate a url to a handler by name.
This minimizes repetition of url patterns for links and redirects.

Internally, handler mappings are now maintained as a list of URLSpec objects
instead of tuples.  The Application constructor and add_handlers method
will accept either URLSpecs or (pattern, handler, [kwargs]) tuples.

Inspired by similar functionality in django, and based on
http://github.com/apgwoz/tornado/commit/0b57fbcf992647b6674ad9e433bffffac900f83a
by apgwoz.

df5c994a
89	16	tornado/web.py

--9ade7050	2009-12-09T15:23:08-08:00	Ben Darnell	bdarnell@beaker.local	Merge branch 'master' of git://github.com/facebook/tornado

9ade7050
--b3d98c4a	2009-12-09T01:48:50-08:00	Bret Taylor	btaylor@btaylor-mac.local	Add basic error checking so you can't add a server to the IOLoop twice

b3d98c4a
3	0	tornado/httpserver.py

--8d4dde80	2009-12-09T01:45:05-08:00	Bret Taylor	btaylor@btaylor-mac.local	Typo in error message

8d4dde80
1	1	tornado/httpserver.py

--6fb90ae6	2009-12-09T00:24:03-08:00	Bret Taylor	btaylor@btaylor-mac.local	Pre-forking implementation so a single Tornado server can utilize all CPU cores

6fb90ae6
81	3	tornado/httpserver.py
4	0	tornado/ioloop.py

--1da2b3c5	2009-12-08T08:56:02-08:00	Bret Taylor	btaylor@btaylor-mac.local	Add gzip Content-Encoding support with 'gzip' application option

1da2b3c5
76	50	tornado/web.py

--41a94730	2009-12-07T16:17:19-08:00	Ben Darnell	bdarnell@beaker.local	Add REMOTE_ADDR to WSGIContainer

41a94730
1	0	tornado/wsgi.py

--ce20498a	2009-12-07T15:53:28-08:00	Ben Darnell	bdarnell@beaker.local	Merge branch 'master' of http://github.com/facebook/tornado

ce20498a
--400d2c9f	2009-12-07T15:47:16-08:00	Ben Darnell	bdarnell@beaker.local	Make WSGIContainer._environ public and static, so it can be used to adapt
tornado requests to WSGI environments without a full WSGIContainer.

400d2c9f
3	2	tornado/wsgi.py

--41e46d97	2009-12-07T01:28:06-08:00	Bret Taylor	btaylor@btaylor-mac.local	Fix transform headers bug

41e46d97
3	2	tornado/web.py

--c50d9b8c	2009-12-05T19:36:50-08:00	Bret Taylor	btaylor@btaylor-mac.local	Ignore XSRF cookie check when X-Requested-With XMLHttpRequest header is present

c50d9b8c
2	0	tornado/web.py

--5fc06caf	2009-12-03T11:57:52-08:00	Ben Darnell	bdarnell@beaker.local	Add a FallbackHandler class to allow use of other applications (e.g.
tornado.wsgi.WSGIContainer) from within a tornado.web.Application to facilitate
migration from other web frameworks.

5fc06caf
23	0	tornado/web.py

--595ffa19	2009-11-24T10:27:38-08:00	Bret Taylor	btaylor@btaylor-ubuntu.(none)	Add support for Squid proxy headers

595ffa19
3	1	tornado/httpserver.py

--7546f8d3	2009-10-28T02:00:23-07:00	Bret Taylor	btaylor@btaylor-linux.(none)	Ask for more Facebook Connect fields by default

7546f8d3
5	1	tornado/auth.py
1	1	tornado/database.py

--b5c6ccb3	2009-10-06T00:13:50-07:00	Bret Taylor	btaylor@gmail.com	Initial support for SSL (thanks to Dan McDougall for suggesting this and code samples)

b5c6ccb3
22	1	tornado/httpserver.py

--718c1816	2009-10-01T20:41:49-07:00	Bret Taylor	btaylor@gmail.com	Missing website images

718c1816
-	-	website/static/facebook.png
-	-	website/static/friendfeed.png
-	-	website/static/twitter.png

--4e0a8433	2009-10-01T20:41:29-07:00	Bret Taylor	btaylor@gmail.com	Fix embedded CSS bug

4e0a8433
8	8	tornado/web.py

--681d4d2f	2009-09-30T14:56:36-07:00	Bret Taylor	btaylor@gmail.com	Add links to FB, Twitter, FF on web site

681d4d2f
4	1	website/templates/index.html

--b32b6b4b	2009-09-30T01:01:00-07:00	Bret Taylor	btaylor@gmail.com	Bug fix

b32b6b4b
1	1	tornado/ioloop.py

--aa836cdf	2009-09-30T00:32:40-07:00	Bret Taylor	btaylor@gmail.com	CSS/JS embeds after files

aa836cdf
10	10	tornado/web.py

--571dd056	2009-09-23T11:46:17-07:00	caseymrm	github@nullterminated.com	add address param to listen

571dd056
2	2	tornado/httpserver.py

--50528c01	2009-09-21T09:38:33-07:00	Bret Taylor	btaylor@gmail.com	Typo in PeriodicCallback

50528c01
1	1	tornado/ioloop.py

--d6e9cd5a	2009-09-17T19:53:10-07:00	Bret Taylor	btaylor@gmail.com	New 0.2 distribution from the past week's bug fixes

d6e9cd5a
1	1	setup.py
-	-	website/static/tornado-0.2.tar.gz
3	3	website/templates/documentation.txt
3	3	website/templates/index.html

--11503326	2009-09-17T19:47:32-07:00	Bret Taylor	btaylor@gmail.com	Turn on auto-reloading when 'debug' setting is given

11503326
0	2	demos/auth/authdemo.py
5	1	tornado/autoreload.py
3	3	tornado/web.py
1	2	tornado/wsgi.py

--c4f682d4	2009-09-17T17:46:46-07:00	Bret Taylor	btaylor@gmail.com	Bug in locale.py and increase poll time for autoreloader

c4f682d4
1	1	tornado/autoreload.py
1	1	tornado/locale.py

--6e1cb0dd	2009-09-16T22:59:42-07:00	paul	paul@viper1.(none)	add streaming_callback option to httpclient

6e1cb0dd
5	1	tornado/httpclient.py

--237944d5	2009-09-16T01:49:58-07:00	Bret Taylor	btaylor@gmail.com	Rename auto-reload module

237944d5
2	0	tornado/{reloader.py => autoreload.py}
2	2	tornado/web.py

--be71a24f	2009-09-16T01:29:12-07:00	Bret Taylor	btaylor@gmail.com	Experimental module auto-reloading on modification

be71a24f
27	0	tornado/ioloop.py
58	0	tornado/reloader.py
5	0	tornado/web.py

--dd6cadf2	2009-09-14T18:10:06-07:00	btaylor	btaylor@wumpus.(none)	Auto-reconnect on MySQL connection failur

dd6cadf2
33	9	tornado/database.py

--f524cc6a	2009-09-14T17:40:45-07:00	btaylor	btaylor@wumpus.(none)	Add gitignore file

f524cc6a
4	0	.gitignore

--016dee1e	2009-09-14T15:43:07-04:00	Benjamin Golub	bgolub@benjamingolub.com	use correct module

016dee1e
2	2	demos/appengine/blog.py

--c59cf2ab	2009-09-14T11:08:27-07:00	Casey	casey@rainier.(none)	make logout link work

c59cf2ab
1	1	demos/chat/chatdemo.py

--2be82a07	2009-09-14T09:45:24-07:00	Bret Taylor	btaylor@gmail.com	Fix multipart/form-data for WSGIApplication

2be82a07
10	1	tornado/wsgi.py

--91d90b2f	2009-09-14T09:37:36-07:00	Bret Taylor	btaylor@gmail.com	Get rid of unnecessary/inconsistent mixin

91d90b2f
1	1	demos/chat/chatdemo.py

--82a2de53	2009-09-13T14:13:55-07:00	Bret Taylor	btaylor@gmail.com	Add addslash and removeslash decorators for, e.g., redirecting '/dir' to '/dir/'

82a2de53
40	0	tornado/web.py

--37e67120	2009-09-13T12:26:16-07:00	Bret Taylor	btaylor@gmail.com	Two minor typos

37e67120
0	1	demos/helloworld/helloworld.py
1	1	tornado/iostream.py

--8ca61608	2009-09-13T11:19:57-07:00	Bret Taylor	btaylor@gmail.com	Add initial WSGI container support for running other frameworks on Tornado's HTTP server

8ca61608
100	0	tornado/wsgi.py

--9c51d01b	2009-09-12T09:25:03-07:00	Bret Taylor	btaylor@gmail.com	Don't reference Exception.message due to deprecation in Python 2.6

9c51d01b
2	15	tornado/httpclient.py

--6b07e695	2009-09-11T11:43:08-07:00	Casey	casey@rainier.(none)	documentation typos

6b07e695
3	3	website/templates/documentation.txt

--9e24ae16	2009-09-11T07:47:33-04:00	Benjamin Golub	bgolub@benjamingolub.com	s/Google Code/GitHub

9e24ae16
1	1	tornado/web.py

--f6798502	2009-09-10T14:39:28-07:00	Casey	casey@rainier.(none)	Merge branch 'master' of git@github.com:facebook/tornado

f6798502
--cdcfb263	2009-09-10T14:39:23-07:00	Casey	casey@rainier.(none)	make sign out clickable, ignoring automatic redirect for now

cdcfb263
5	0	demos/chat/static/chat.css
1	1	demos/chat/templates/index.html

--72707599	2009-09-10T14:24:33-07:00	Bret Taylor	btaylor@gmail.com	Merge branch 'master' of git://github.com/jaybaird/tornado

72707599
--e0526867	2009-09-10T14:10:23-07:00	Casey	casey@rainier.(none)	typo

e0526867
1	1	website/templates/index.html

--41ea6da5	2009-09-10T13:41:13-07:00	Casey	casey@rainier.(none)	both links work, but this one seems canonical

41ea6da5
1	1	website/templates/base.html

--2fd2ad6d	2009-09-10T13:24:39-07:00	Jay Baird	jbaird@Finklestein.local	remove cases where intern is used. This will prevent a DoS via memory starvation if a lot of requests are sent using random headers

2fd2ad6d
1	1	tornado/httpserver.py
1	1	tornado/wsgi.py

--19c8610e	2009-09-10T12:01:36-07:00	Casey	casey@rainier.(none)	typo

19c8610e
1	1	website/templates/documentation.txt

--2e1e2a79	2009-09-10T11:49:27-07:00	Bret Taylor	btaylor@gmail.com	Add python-dev to apt-get command per http://groups.google.com/group/python-tornado/browse_thread/thread/d88de85aa33193a7

2e1e2a79
1	1	website/templates/documentation.txt
1	1	website/templates/index.html

--e48e2b11	2009-09-10T11:35:29-07:00	Casey	casey@rainier.(none)	typo

e48e2b11
2	2	website/templates/documentation.txt

--e997ac0a	2009-09-10T14:11:56-04:00	Benjamin Golub	bgolub@benjamingolub.com	Merge branch 'master' of github.com:facebook/tornado

e997ac0a
--01405d0b	2009-09-10T14:11:39-04:00	Benjamin Golub	bgolub@benjamingolub.com	typos

01405d0b
2	2	website/templates/documentation.txt
2	2	website/templates/index.html

--6794fced	2009-09-10T11:09:28-07:00	Casey	casey@rainier.(none)	Merge branch 'master' of git@github.com:facebook/tornado

6794fced
--f431c9e5	2009-09-10T11:09:21-07:00	Casey	casey@rainier.(none)	updated tarball

f431c9e5
-	-	website/static/tornado-0.1.tar.gz

--d9d3e9ca	2009-09-10T13:52:26-04:00	Benjamin Golub	bgolub@benjamingolub.com	fix README

d9d3e9ca
1	1	demos/facebook/README

--e197a479	2009-09-10T10:47:19-07:00	Casey	casey@rainier.(none)	escape more

e197a479
1	1	demos/chat/templates/message.html

--e4d56d91	2009-09-10T10:38:08-07:00	Casey	casey@rainier.(none)	typo

e4d56d91
5	5	website/templates/documentation.txt

--71a44bc0	2009-09-10T10:24:52-07:00	Bret Taylor	btaylor@gmail.com	Another typo (thanks, Ben)

71a44bc0
1	1	website/templates/index.html

--9a8bd2fb	2009-09-10T09:29:49-07:00	Bret Taylor	btaylor@gmail.com	Add prerequisites to Tornado docs

9a8bd2fb
13	3	website/templates/documentation.txt

--98a6bd9a	2009-09-10T01:16:44-07:00	Bret Taylor	btaylor@gmail.com	Fixed typo (thanks Casey)

98a6bd9a
1	1	website/templates/base.html

--efd4666d	2009-09-10T00:53:07-07:00	Bret Taylor	btaylor@gmail.com	No favicon for Tornado web site

efd4666d
0	4	website/app.yaml

--2afa9734	2009-09-10T00:50:51-07:00	Bret Taylor	btaylor@gmail.com	Move Tornado project to Github

2afa9734
2	0	MANIFEST.in
2	6	README
48	0	demos/appengine/README
11	0	demos/appengine/app.yaml
169	0	demos/appengine/blog.py
1877	0	demos/appengine/markdown.py
153	0	demos/appengine/static/blog.css
31	0	demos/appengine/templates/archive.html
29	0	demos/appengine/templates/base.html
42	0	demos/appengine/templates/compose.html
5	0	demos/appengine/templates/entry.html
26	0	demos/appengine/templates/feed.xml
8	0	demos/appengine/templates/home.html
8	0	demos/appengine/templates/modules/entry.html
81	0	demos/auth/authdemo.py
57	0	demos/blog/README
195	0	demos/blog/blog.py
1877	0	demos/blog/markdown.py
44	0	demos/blog/schema.sql
153	0	demos/blog/static/blog.css
31	0	demos/blog/templates/archive.html
27	0	demos/blog/templates/base.html
42	0	demos/blog/templates/compose.html
5	0	demos/blog/templates/entry.html
26	0	demos/blog/templates/feed.xml
8	0	demos/blog/templates/home.html
8	0	demos/blog/templates/modules/entry.html
156	0	demos/chat/chatdemo.py
51	0	demos/chat/static/chat.css
135	0	demos/chat/static/chat.js
37	0	demos/chat/templates/index.html
1	0	demos/chat/templates/message.html
8	0	demos/facebook/README
127	0	demos/facebook/facebook.py
97	0	demos/facebook/static/facebook.css
0	0	demos/facebook/static/facebook.js
29	0	demos/facebook/templates/modules/post.html
22	0	demos/facebook/templates/stream.html
22	0	demos/facebook/uimodules.py
44	0	demos/helloworld/helloworld.py
38	0	setup.py
17	0	tornado/__init__.py
878	0	tornado/auth.py
155	0	tornado/database.py
112	0	tornado/epoll.c
112	0	tornado/escape.py
437	0	tornado/httpclient.py
330	0	tornado/httpserver.py
339	0	tornado/ioloop.py
228	0	tornado/iostream.py
395	0	tornado/locale.py
350	0	tornado/options.py
255	0	tornado/s3server.py
561	0	tornado/template.py
1185	0	tornado/web.py
190	0	tornado/wsgi.py
19	0	website/app.yaml
0	0	website/index.yaml
603	0	website/markdown/__init__.py
95	0	website/markdown/blockparser.py
460	0	website/markdown/blockprocessors.py
96	0	website/markdown/commandline.py
33	0	website/markdown/etree_loader.py
0	0	website/markdown/extensions/__init__.py
140	0	website/markdown/extensions/toc.py
274	0	website/markdown/html4.py
371	0	website/markdown/inlinepatterns.py
162	0	website/markdown/odict.py
77	0	website/markdown/postprocessors.py
214	0	website/markdown/preprocessors.py
329	0	website/markdown/treeprocessors.py
120	0	website/static/base.css
2	0	website/static/robots.txt
-	-	website/static/tornado-0.1.tar.gz
-	-	website/static/tornado.png
27	0	website/templates/base.html
9	0	website/templates/documentation.html
856	0	website/templates/documentation.txt
48	0	website/templates/index.html
63	0	website/website.py

--07e5e8c4	2009-09-08T22:15:18-07:00	Bret Taylor	btaylor@gmail.com	Wrote initial README file

07e5e8c4
33	0	README

--11de50a8	2009-09-08T22:01:24-07:00	Facebook	github@lists.facebook.com	Created project

11de50a8
0	0	README
